var pu=Object.defineProperty;var du=(t,e,l)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(du(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ge(){}function Sl(t,e){for(const l in e)t[l]=e[l];return t}function df(t){return t()}function Fs(){return Object.create(null)}function jt(t){t.forEach(df)}function Xi(t){return typeof t=="function"}function Ct(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ei;function un(t,e){return t===e?!0:(ei||(ei=document.createElement("a")),ei.href=e,t===ei.href)}function hu(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return Ge}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function en(t){let e;return Ji(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=hf(t,e,l,n);return t[0](i)}}function hf(t,e,l,n){return t[1]&&n?Sl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=hf(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ui(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ci(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const bu=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function Ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function h(){return k(" ")}function $t(){return k("")}function de(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function mn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const vu=["width","height"];function wn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&vu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function mi(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function _t(t){return t===""?null:+t}function gu(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.data!==e&&(t.data=e)}function ku(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function wu(t,e,l){~bu.indexOf(l)?ku(t,e):N(t,e)}function J(t,e){t.value=e??""}function tn(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function nt(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ll(t){const e=t.querySelector(":checked");return e&&e.__value}let ti;function Su(){if(ti===void 0){ti=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ti=!0}}return ti}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Su();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=de(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=de(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),M(n)}}function yu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Rs(t,e){return new t(e)}let Kn;function Bn(t){Kn=t}function Qn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function ts(t){Qn().$$.on_mount.push(t)}function ls(t){Qn().$$.on_destroy.push(t)}function Mu(){const t=Qn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=yu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Qn().$$.context.set(t,e),e}function nn(t){return Qn().$$.context.get(t)}const hn=[],_i=[];let kn=[];const Us=[],bf=Promise.resolve();let Ai=!1;function vf(){Ai||(Ai=!0,bf.then(gf))}function Cu(){return vf(),bf}function Bt(t){kn.push(t)}const Si=new Set;let pn=0;function gf(){if(pn!==0)return;const t=Kn;do{try{for(;pn<hn.length;){const e=hn[pn];pn++,Bn(e),Nu(e.$$)}}catch(e){throw hn.length=0,pn=0,e}for(Bn(null),hn.length=0,pn=0;_i.length;)_i.pop()();for(let e=0;e<kn.length;e+=1){const l=kn[e];Si.has(l)||(Si.add(l),l())}kn.length=0}while(hn.length);for(;Us.length;)Us.pop()();Ai=!1,Si.clear(),Bn(t)}function Nu(t){if(t.fragment!==null){t.update(),jt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Bt)}}function Pu(t){const e=[],l=[];kn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),kn=e}const ai=new Set;let on;function yt(){on={r:0,c:[],p:on}}function Mt(){on.r||jt(on.c),on=on.p}function te(t,e){t&&t.i&&(ai.delete(t),t.i(e))}function se(t,e,l,n){if(t&&t.o){if(ai.has(t))return;ai.add(t),on.c.push(()=>{ai.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function et(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function kf(t,e){t.d(1),e.delete(t.key)}function wf(t,e,l,n,i,s,o,f,r,c,m,_){let d=t.length,v=s.length,w=d;const b={};for(;w--;)b[t[w].key]=w;const S=[],g=new Map,A=new Map,L=[];for(w=v;w--;){const q=_(i,s,w),H=l(q);let X=o.get(H);X?n&&L.push(()=>X.p(q,e)):(X=c(H,q),X.c()),g.set(H,S[w]=X),H in b&&A.set(H,Math.abs(w-b[H]))}const B=new Set,P=new Set;function U(q){te(q,1),q.m(f,m),o.set(q.key,q),m=q.first,v--}for(;d&&v;){const q=S[v-1],H=t[d-1],X=q.key,W=H.key;q===H?(m=q.first,d--,v--):g.has(W)?!o.has(X)||B.has(X)?U(q):P.has(W)?d--:A.get(X)>A.get(W)?(P.add(X),U(q)):(B.add(W),d--):(r(H,o),d--)}for(;d--;){const q=t[d];g.has(q.key)||r(q,o)}for(;v;)U(S[v-1]);return jt(L),S}function qi(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function li(t){return typeof t=="object"&&t!==null?t:{}}function Ce(t){t&&t.c()}function ye(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Bt(()=>{const s=t.$$.on_mount.map(df).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):jt(s),t.$$.on_mount=[]}),i.forEach(Bt)}function Me(t,e){const l=t.$$;l.fragment!==null&&(Pu(l.after_update),jt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Tu(t,e){t.$$.dirty[0]===-1&&(hn.push(t),vf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pt(t,e,l,n,i,s,o=null,f=[-1]){const r=Kn;Bn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ge,not_equal:i,bound:Fs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Fs(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(_,d,...v)=>{const w=v.length?v[0]:d;return c.ctx&&i(c.ctx[_],c.ctx[_]=w)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](w),m&&Tu(t,_)),d}):[],c.update(),m=!0,jt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=gu(e.target);c.fragment&&c.fragment.l(_),_.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&te(t.$$.fragment),ye(t,e.target,e.anchor),gf()}Bn(r)}class Tt{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Me(this,1),this.$destroy=Ge}$on(e,l){if(!Xi(l))return Ge;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!hu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Eu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Eu);const Bs=t=>typeof t>"u",Sf=t=>typeof t=="function",yf=t=>typeof t=="number";function Au(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mf(){let t=0;return()=>t++}function qu(){return Math.random().toString(36).substring(2)}const Ol=typeof window>"u";function Cf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Nf=(t,e)=>t?{}:{style:e},Li=t=>({"aria-hidden":"true",...Nf(t,"display:none;")}),dn=[];function Pf(t,e){return{subscribe:al(t,e).subscribe}}function al(t,e=Ge){let l;const n=new Set;function i(f){if(Ct(t,f)&&(t=f,l)){const r=!dn.length;for(const c of n)c[1](),dn.push(c,t);if(r){for(let c=0;c<dn.length;c+=2)dn[c][0](dn[c+1]);dn.length=0}}}function s(f){i(f(t))}function o(f,r=Ge){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||Ge),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Lu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Pf(l,(o,f)=>{let r=!1;const c=[];let m=0,_=Ge;const d=()=>{if(m)return;_();const w=e(n?c[0]:c,o,f);s?o(w):_=Xi(w)?w:Ge},v=i.map((w,b)=>Ji(w,S=>{c[b]=S,m&=~(1<<b),r&&d()},()=>{m|=1<<b}));return r=!0,d(),function(){jt(v),_(),r=!1}})}const Zn=t=>`@@svnav-ctx__${t}`,Di=Zn("LOCATION"),Sn=Zn("ROUTER"),Tf=Zn("ROUTE"),Du=Zn("ROUTE_PARAMS"),Iu=Zn("FOCUS_ELEM"),Ef=/^:(.+)/,Rn=(t,e,l)=>t.substr(e,l),Ii=(t,e)=>Rn(t,0,e.length)===e,Ou=t=>t==="",Fu=t=>Ef.test(t),Af=t=>t[0]==="*",Ru=t=>t.replace(/\*.*$/,""),qf=t=>t.replace(/(^\/+|\/+$)/g,"");function El(t,e=!1){const l=qf(t).split("/");return e?l.filter(Boolean):l}const yi=(t,e)=>t+(e?`?${e}`:""),ns=t=>`/${qf(t)}`;function $n(...t){const e=n=>El(n,!0).join("/"),l=t.map(e).join("/");return ns(l)}const is=1,gi=2,cn=3,Uu=4,Lf=5,Bu=6,Df=7,ju=8,Hu=9,If=10,Of=11,Wu={[is]:"Link",[gi]:"Route",[cn]:"Router",[Uu]:"useFocus",[Lf]:"useLocation",[Bu]:"useMatch",[Df]:"useNavigate",[ju]:"useParams",[Hu]:"useResolvable",[If]:"useResolve",[Of]:"navigate"},ss=t=>Wu[t];function Ku(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===is?l=`to="${e.to}"`:t===cn&&(l=`basepath="${e.basepath||""}"`),`<${ss(t)} ${l||""} />`}function zu(t,e,l,n){const i=l&&Ku(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ss(t),f=Sf(e)?e(o):e;return`<${o}> ${f}${s}`}const Ff=t=>(...e)=>t(zu(...e)),Rf=Ff(t=>{throw new Error(t)}),pi=Ff(console.warn),js=4,Vu=3,Gu=2,Yu=1,Xu=1;function Ju(t,e){const l=t.default?0:El(t.fullPath).reduce((n,i)=>{let s=n;return s+=js,Ou(i)?s+=Xu:Fu(i)?s+=Gu:Af(i)?s-=js+Yu:s+=Vu,s},0);return{route:t,score:l,index:e}}function Qu(t){return t.map(Ju).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Uf(t,e){let l,n;const[i]=e.split("?"),s=El(i),o=s[0]==="",f=Qu(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let _=!1;const d={},v=g=>({...m,params:d,uri:g});if(m.default){n=v(e);continue}const w=El(m.fullPath),b=Math.max(s.length,w.length);let S=0;for(;S<b;S++){const g=w[S],A=s[S];if(!Bs(g)&&Af(g)){const B=g==="*"?"*":g.slice(1);d[B]=s.slice(S).map(decodeURIComponent).join("/");break}if(Bs(A)){_=!0;break}const L=Ef.exec(g);if(L&&!o){const B=decodeURIComponent(A);d[L[1]]=B}else if(g!==A){_=!0;break}}if(!_){l=v($n(...s.slice(0,S)));break}}return l||n||null}function Bf(t,e){return Uf([t],e)}function Zu(t,e){if(Ii(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=El(l),o=El(i);if(s[0]==="")return yi(i,n);if(!Ii(s[0],".")){const c=o.concat(s).join("/");return yi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),yi(`/${r.join("/")}`,n)}function Hs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=El(e,!0),f=El(l,!0);for(;o.length;)o[0]!==f[0]&&Rf(cn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:$n(...f),hash:n,search:i,state:s}}const Ws=t=>t.length===1?"":t,os=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Ws(Rn(t,l)):"",o=i?Rn(t,0,l):t,f=n?Ws(Rn(o,e)):"";return{pathname:(n?Rn(o,0,e):o)||"/",search:f,hash:s}},$u=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function xu(t,e,l){return $n(l,Zu(t,e))}function e0(t,e){const l=ns(Ru(t)),n=El(l,!0),i=El(e,!0).slice(0,n.length),s=Bf({fullPath:l},$n(...i));return s&&s.uri}const Mi="POP",t0="PUSH",l0="REPLACE";function Ci(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function n0(t){let e=[],l=Ci(t),n=Mi;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ci(t),n=Mi,i([s])};i([s]);const f=Cf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?l0:t0,yf(s))o&&pi(Of,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Mi,t.history.go(s);else{const c={...f,_key:qu()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ci(t),i()}}}function Ni(t,e){return{...os(e),state:t}}function i0(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const s0=!!(!Ol&&window.document&&window.document.createElement),o0=!Ol&&window.location.origin==="null",jf=n0(s0&&!o0?window:i0()),{navigate:Il}=jf;let ql=null,Hf=!0;function a0(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function r0(t){(!ql||t.level>ql.level||t.level===ql.level&&a0(t.routerId,ql.routerId))&&(ql=t)}function f0(){ql=null}function u0(){Hf=!1}function Ks(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Cf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function c0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function m0(t){return/^H[1-6]$/i.test(t.tagName)}function zs(t,e=document){return e.querySelector(t)}function _0(t){let l=zs(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!c0(l,t);){if(m0(l))return l;const n=zs("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function p0(t){Promise.resolve(en(t.focusElement)).then(e=>{const l=e||_0(t.id);l||pi(cn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!Ks(l)&&Ks(document.documentElement)})}const d0=(t,e,l)=>(n,i)=>Cu().then(()=>{if(!ql||Hf){u0();return}if(n&&p0(ql.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=ql.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},en(l));Promise.resolve(m).then(_=>{e.set(_)})}f0()}),h0="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function b0(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Nf(t[6],h0)],i={};for(let s=0;s<n.length;s+=1)i=Sl(i,n[s]);return{c(){e=p("div"),l=k(t[0]),wn(e,i)},m(s,o){C(s,e,o),a(e,l)},p(s,o){o[0]&1&&wu(l,s[0],i.contenteditable)},d(s){s&&M(e)}}}function v0(t){let e,l,n,i,s,o=[Li(t[6]),{"data-svnav-router":t[3]}],f={};for(let _=0;_<o.length;_+=1)f=Sl(f,o[_]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&b0(t);return{c(){e=p("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=$t(),wn(e,f)},m(_,d){C(_,e,d),C(_,l,d),c&&c.m(_,d),C(_,n,d),m&&m.m(_,d),C(_,i,d),s=!0},p(_,d){c&&c.p&&(!s||d[0]&2097152)&&$i(c,r,_,_[21],s?Zi(r,_[21],d,null):xi(_[21]),null),_[2]&&_[4]&&_[1].announcements&&m.p(_,d)},i(_){s||(te(c,_),s=!0)},o(_){se(c,_),s=!1},d(_){_&&(M(e),M(l),M(n),M(i)),c&&c.d(_),m&&m.d(_)}}}const g0=Mf(),Vs="/";function k0(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Vs}=e,{url:_=null}=e,{history:d=jf}=e,{primary:v=!0}=e,{a11y:w={}}=e,{disableInlineStyles:b=!1}=e;const S={createAnnouncement:V=>`Navigated to ${V.uri}`,announcements:!0,...w},g=m,A=ns(m),L=nn(Di),B=nn(Sn),P=!L,U=g0(),q=v&&!(B&&!B.manageFocus),H=al("");Pl(t,H,V=>l(0,f=V));const X=B?B.disableInlineStyles:b,W=al([]);Pl(t,W,V=>l(20,o=V));const R=al(null);Pl(t,R,V=>l(18,i=V));let Y=!1;const O=P?0:B.level+1,G=P?al((()=>Hs(Ol?os(_):d.location,A))()):L;Pl(t,G,V=>l(17,n=V));const j=al(n);Pl(t,j,V=>l(19,s=V));const F=d0(S,H,G),K=V=>ne=>ne.filter(me=>me.id!==V);function Q(V){if(Ol){if(Y)return;const ne=Bf(V,n.pathname);if(ne)return Y=!0,ne}else W.update(ne=>{const me=K(V.id)(ne);return me.push(V),me})}function $(V){W.update(K(V))}return!P&&m!==Vs&&pi(cn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),P&&(ts(()=>d.listen(ne=>{const me=Hs(ne.location,A);j.set(n),G.set(me)})),jn(Di,G)),jn(Sn,{activeRoute:R,registerRoute:Q,unregisterRoute:$,manageFocus:q,level:O,id:U,history:P?d:B.history,basepath:P?A:B.basepath,disableInlineStyles:X}),t.$$set=V=>{"basepath"in V&&l(11,m=V.basepath),"url"in V&&l(12,_=V.url),"history"in V&&l(13,d=V.history),"primary"in V&&l(14,v=V.primary),"a11y"in V&&l(15,w=V.a11y),"disableInlineStyles"in V&&l(16,b=V.disableInlineStyles),"$$scope"in V&&l(21,c=V.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==g&&pi(cn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const V=Uf(o,n.pathname);R.set(V)}if(t.$$.dirty[0]&655360&&P){const V=!!n.hash,ne=!V&&q,me=!V||n.pathname!==s.pathname;F(ne,me)}t.$$.dirty[0]&262144&&q&&i&&i.primary&&r0({level:O,routerId:U,route:i})},[f,S,P,U,q,H,X,W,R,G,j,m,_,d,v,w,b,n,i,s,o,c,r]}class w0 extends Tt{constructor(e){super(),Pt(this,e,k0,v0,Ct,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Wf=w0;function xn(t,e,l=Sn,n=cn){nn(l)||Rf(t,s=>`You cannot use ${s} outside of a ${ss(n)}.`,e)}const S0=t=>{const{subscribe:e}=nn(t);return{subscribe:e}};function Kf(){return xn(Lf),S0(Di)}function zf(){const{history:t}=nn(Sn);return t}function Vf(){const t=nn(Tf);return t?Lu(t,e=>e.base):al("/")}function Gf(){xn(If);const t=Vf(),{basepath:e}=nn(Sn);return n=>xu(n,en(t),e)}function y0(){xn(Df);const t=Gf(),{navigate:e}=zf();return(n,i)=>{const s=yf(n)?n:t(n);return e(s,i)}}const M0=t=>({params:t&16,location:t&8}),Gs=t=>({params:Ol?en(t[10]):t[4],location:t[3],navigate:t[11]});function Ys(t){let e,l;return e=new Wf({props:{primary:t[1],$$slots:{default:[P0]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function C0(t){let e;const l=t[18].default,n=Qi(l,t,t[19],Gs);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,M0):xi(i[19]),Gs)},i(i){e||(te(n,i),e=!0)},o(i){se(n,i),e=!1},d(i){n&&n.d(i)}}}function N0(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Ol?en(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=Sl(c,i[m]);return r!==void 0&&r&7192&&(c=Sl(c,qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&li(Ol?en(f[10]):f[4]),r&4096&&li(f[12])]))),{props:c}}return s&&(e=Rs(s,o(t))),{c(){e&&Ce(e.$$.fragment),l=$t()},m(f,r){e&&ye(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){yt();const c=e;se(c.$$.fragment,1,0,()=>{Me(c,1)}),Mt()}s?(e=Rs(s,o(f,r)),Ce(e.$$.fragment),te(e.$$.fragment,1),ye(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&li(Ol?en(f[10]):f[4]),r&4096&&li(f[12])]):{};e.$set(c)}},i(f){n||(e&&te(e.$$.fragment,f),n=!0)},o(f){e&&se(e.$$.fragment,f),n=!1},d(f){f&&M(l),e&&Me(e,f)}}}function P0(t){let e,l,n,i;const s=[N0,C0],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=$t()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(yt(),se(o[m],1,1,()=>{o[m]=null}),Mt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),te(l,1),l.m(n.parentNode,n))},i(r){i||(te(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function T0(t){let e,l,n,i,s,o=[Li(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let _=0;_<o.length;_+=1)f=Sl(f,o[_]);let r=t[2]&&Ys(t),c=[Li(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let _=0;_<c.length;_+=1)m=Sl(m,c[_]);return{c(){e=p("div"),l=h(),r&&r.c(),n=h(),i=p("div"),wn(e,f),wn(i,m)},m(_,d){C(_,e,d),C(_,l,d),r&&r.m(_,d),C(_,n,d),C(_,i,d),s=!0},p(_,[d]){_[2]?r?(r.p(_,d),d&4&&te(r,1)):(r=Ys(_),r.c(),te(r,1),r.m(n.parentNode,n)):r&&(yt(),se(r,1,1,()=>{r=null}),Mt())},i(_){s||(te(r),s=!0)},o(_){se(r),s=!1},d(_){_&&(M(e),M(l),M(n),M(i)),r&&r.d(_)}}}const E0=Mf();function A0(t,e,l){let n;const i=["path","component","meta","primary"];let s=ci(e,i),o,f,r,c,{$$slots:m={},$$scope:_}=e,{path:d=""}=e,{component:v=null}=e,{meta:w={}}=e,{primary:b=!0}=e;xn(gi,e);const S=E0(),{registerRoute:g,unregisterRoute:A,activeRoute:L,disableInlineStyles:B}=nn(Sn);Pl(t,L,Y=>l(16,o=Y));const P=Vf();Pl(t,P,Y=>l(17,r=Y));const U=Kf();Pl(t,U,Y=>l(3,f=Y));const q=al(null);let H;const X=al(),W=al({});Pl(t,W,Y=>l(4,c=Y)),jn(Tf,X),jn(Du,W),jn(Iu,q);const R=y0();return Ol||ls(()=>A(S)),t.$$set=Y=>{l(24,e=Sl(Sl({},e),ui(Y))),l(12,s=ci(e,i)),"path"in Y&&l(13,d=Y.path),"component"in Y&&l(0,v=Y.component),"meta"in Y&&l(14,w=Y.meta),"primary"in Y&&l(1,b=Y.primary),"$$scope"in Y&&l(19,_=Y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const Y=d==="",O=$n(r,d),T={id:S,path:d,meta:w,default:Y,fullPath:Y?"":O,base:Y?r:e0(O,f.pathname),primary:b,focusElement:q};X.set(T),l(15,H=g(T))}if(t.$$.dirty&98304&&l(2,n=!!(H||o&&o.id===S)),t.$$.dirty&98308&&n){const{params:Y}=H||o;W.set(Y)}},e=ui(e),[v,b,n,f,c,S,L,B,P,U,W,R,s,d,w,H,o,r,m,_]}class q0 extends Tt{constructor(e){super(),Pt(this,e,A0,T0,Ct,{path:13,component:0,meta:14,primary:1})}}const gl=q0;function L0(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=Sl(r,f[c]);return{c(){e=p("a"),o&&o.c(),wn(e,r)},m(c,m){C(c,e,m),o&&o.m(e,null),l=!0,n||(i=de(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),wn(e,r=qi(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(te(o,c),l=!0)},o(c){se(o,c),l=!1},d(c){c&&M(e),o&&o.d(c),n=!1,i()}}}function D0(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=ci(e,c),_,{$$slots:d={},$$scope:v}=e,{to:w}=e,{replace:b=!1}=e,{state:S={}}=e,{getProps:g=null}=e;xn(is,e);const A=Kf();Pl(t,A,q=>l(11,_=q));const L=Mu(),B=Gf(),{navigate:P}=zf();function U(q){L("click",q),Au(q)&&(q.preventDefault(),P(n,{state:S,replace:o||b}))}return t.$$set=q=>{l(19,e=Sl(Sl({},e),ui(q))),l(18,m=ci(e,c)),"to"in q&&l(5,w=q.to),"replace"in q&&l(6,b=q.replace),"state"in q&&l(7,S=q.state),"getProps"in q&&l(8,g=q.getProps),"$$scope"in q&&l(12,v=q.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=B(w,_)),t.$$.dirty&2049&&l(10,i=Ii(_.pathname,n)),t.$$.dirty&2049&&l(9,s=n===_.pathname),t.$$.dirty&2049&&(o=os(n)===$u(_)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(Sf(g)){const q=g({location:_,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...q}}return m})())},e=ui(e),[n,r,f,A,U,w,b,S,g,s,i,_,v,d]}class I0 extends Tt{constructor(e){super(),Pt(this,e,D0,L0,Ct,{to:5,replace:6,state:7,getProps:8})}}const kl=I0;function ni(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function O0(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function as(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function zn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function di(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function ht(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Vn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function Ve(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Hn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Qt(t,e){return t==1||t==2&&e}function Al(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Xt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Fl(t,e){return t.setTime(t.getTime()+e*36e5),t}function F0(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function R0(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Xs=0;function fn(t,e){Xs++;const l=U0(t);if(!l.length){e&&e(""),setTimeout(fn,1500,t,e);return}const n=l[(Xs-1)%l.length];if(!n){setTimeout(fn,1e3,t,e);return}const i=B0(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(fn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function U0(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function B0(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function il(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Js(t){return t.startsWith("esp32")?"esp32":t}function _l(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Gn(t,e){let l=[Xt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Xt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let ln="[\\x20-\\x7E]+",hi="[\\x20-\\xFF]+",Yn="[A-Za-z0-9_\\-]+",Yf="[0-9A-Fa-f]+",Fn="[0-9]+",ri={},Oi=[];async function j0(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function Xf(){if(Oi.length){let t=Oi.shift();delete ri[t.resource];try{let e=await j0(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(Xf,100)}Xf();async function yl(t,e={}){let l;return ri[t]?l=ri[t]:(l={resource:t,options:e,callbacks:[]},ri[t]=l,Oi.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Nl=await(await yl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ml.set(Nl)}const ml=al(Nl,t=>(ki(),function(){}));function H0(t){ml.update(e=>(e.trying=t,e))}let Wn={c:-1,n:[]},an=null,bi=!1,bn=null,fi=null;async function W0(){try{const e=await(await yl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;const o=l.get(s.s);(!o||Number(s.r)>Number(o.r))&&l.set(s.s,s)}const n=Array.from(l.values()).sort((i,s)=>Number(s.r)-Number(i.r));Wn={c:n.length,n},bn&&bn(Wn)}catch{Wn.c<0&&bn&&bn({c:-1,n:[]})}finally{fi=null}}function K0(){return fi||(fi=W0()),fi}function Jf(t=0){bi&&(an&&clearTimeout(an),an=setTimeout(()=>{an=null,K0()},Math.max(0,t)))}let ii=0,Qs=-127,Zs=null,z0={};const V0=Pf(z0,t=>{let e,l,n=!1;async function i(){yl("data.json").then(s=>s.json()).then(s=>{t(s),Qs!=s.t&&(Qs=s.t,setTimeout(G0,2e3)),Zs==null&&s.pe&&s.p!=null&&(Zs=s.p,Zf()),(!Nl||!Nl.chip||Nl.booting||ii>1&&!Hn(Nl.board))&&(ki(),Ll&&clearTimeout(Ll),Ll=setTimeout(Ui,2e3),Dl&&clearTimeout(Dl),Dl=setTimeout(ji,3e3)),s.u,Ll||(Ll=Ui()),Dl||(Dl=ji());let o=5e3;if(Hn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ii=0,bi&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Jf(0)}))}).catch(s=>{ii++,ii>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(fn,5e3,Nl,H0))):e=setTimeout(i,Hn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Fi={},Un;const rs=al(Fi);async function Qf(){let t=!1;rs.update(e=>{for(var l=0;l<36;l++){if(e[ht(l)]==null){t=l<12;break}e[ht(l)]=e[ht(l+1)]}return e}),t?Zf():Un=setTimeout(Qf,(60-new Date().getMinutes())*6e4)}async function Zf(){Un&&(clearTimeout(Un),Un=0),Fi=await(await yl("energyprice.json")).json(),rs.set(Fi),Un=setTimeout(Qf,(60-new Date().getMinutes())*6e4)}let Ri={},Ll;async function Ui(){Ll&&(clearTimeout(Ll),Ll=0),Ri=await(await yl("dayplot.json")).json(),$f.set(Ri),Ll=setTimeout(Ui,(60-new Date().getMinutes())*6e4+20)}const $f=al(Ri,t=>function(){});let Bi={},Dl;async function ji(){Dl&&(clearTimeout(Dl),Dl=0),Bi=await(await yl("monthplot.json")).json(),xf.set(Bi),Dl=setTimeout(ji,(24-new Date().getHours())*36e5+40)}const xf=al(Bi,t=>function(){});let Hi={};async function G0(){Hi=await(await yl("temperature.json")).json(),eu.set(Hi)}const eu=al(Hi,t=>function(){});let Wi={},si;async function tu(){si&&(clearTimeout(si),si=0),Wi=await(await yl("tariff.json")).json(),lu.set(Wi),si=setTimeout(tu,(60-new Date().getMinutes())*6e4+30)}const lu=al(Wi,t=>function(){}),nu=al(Wn,t=>(bn=t,bi=!0,t(Wn),Jf(0),function(){bi=!1,bn=null,an&&(clearTimeout(an),an=null)}));let Ki=!1;const Ml=al(Ki);async function Xn(t){Ki=await(await yl("translations.json"+(t?"?lang="+t:""))).json(),Ml.set(Ki)}Xn();const Y0="/neas_logotype_white.svg",fs="/wifi-low-light.svg",us="/wifi-medium-light.svg",cs="/wifi-high-light.svg",ms="/wifi-off-light.svg";function $s(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function iu(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function xs(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?ec:c[2]>0?x0:c[3]>1?$0:c[3]>0?Z0:c[4]>1?Q0:c[4]>0?J0:X0}let o=s(t),f=o(t);return{c(){l=k(e),n=h(),f.c(),i=$t()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var _;m&2&&e!==(e=(((_=c[1].header)==null?void 0:_.uptime)??"Up")+"")&&N(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(M(l),M(n),M(i)),f.d(c)}}}function X0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=k(t[0]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&1&&N(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function J0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&N(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function Q0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&N(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function Z0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&N(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function $0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&N(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function x0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&N(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function ec(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&N(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&N(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function tc(t){let e,l=t[0]&&xs(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=xs(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ge,o:Ge,d(n){n&&M(e),l&&l.d(n)}}}function lc(t,e,l){let{epoch:n}=e,i={};Ml.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class nc extends Tt{constructor(e){super(),Pt(this,e,lc,tc,Ct,{epoch:0})}}function ic(t){let e,l,n;return{c(){e=p("span"),l=k(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),a(e,l)},p(i,[s]){s&4&&N(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:Ge,o:Ge,d(i){i&&M(e)}}}function sc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Jn extends Tt{constructor(e){super(),Pt(this,e,sc,ic,Ct,{color:0,title:1,text:2})}}function oc(t){let e,l=`${ht(t[0].getDate())}.${ht(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ht(t[0].getHours())}:${ht(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=k(l),u(e,"class",t[1])},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${ht(i[0].getDate())}.${ht(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ht(i[0].getHours())}:${ht(i[0].getMinutes())}`)&&N(n,l),s&2&&u(e,"class",i[1])},d(i){i&&M(e)}}}function ac(t){var n;let e=`${ht(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:ht(t[0].getMonth()+1)} ${ht(t[0].getHours())}:${ht(t[0].getMinutes())}`,l;return{c(){l=k(e)},m(i,s){C(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${ht(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:ht(i[0].getMonth()+1)} ${ht(i[0].getHours())}:${ht(i[0].getMinutes())}`)&&N(l,e)},d(i){i&&M(l)}}}function rc(t){let e;function l(s,o){return s[3]?ac:oc}let n=l(t),i=n(t);return{c(){i.c(),e=$t()},m(s,o){i.m(s,o),C(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ge,o:Ge,d(s){s&&M(e),i.d(s)}}}function fc(t,e,l){let n={};Ml.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Fl(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class su extends Tt{constructor(e){super(),Pt(this,e,fc,rc,Ct,{timestamp:0,fullTimeColor:1,offset:4})}}function uc(t){let e,l,n;return{c(){e=Ft("svg"),l=Ft("path"),n=Ft("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p:Ge,i:Ge,o:Ge,d(i){i&&M(e)}}}class cc extends Tt{constructor(e){super(),Pt(this,e,null,uc,Ct,{})}}function mc(t){let e,l;return{c(){e=Ft("svg"),l=Ft("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),a(e,l)},p:Ge,i:Ge,o:Ge,d(n){n&&M(e)}}}class _c extends Tt{constructor(e){super(),Pt(this,e,null,mc,Ct,{})}}function pc(t){let e,l;return{c(){e=p("img"),u(e,"class","p-1"),u(e,"alt","Neas logo"),un(e.src,l=Y0)||u(e,"src",l)},m(n,i){C(n,e,i)},p:Ge,d(n){n&&M(e)}}}function eo(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=k(l),i=k("°C"),u(e,"class","flex-none my-auto")},m(s,o){C(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&N(n,l)},d(s){s&&M(e)}}}function to(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((_=(m=f[5].errors)==null?void 0:m.han)==null?void 0:_[f[0].he])??f[0].he))&&N(n,l)},d(f){f&&M(e)}}}function lo(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((_=(m=f[5].errors)==null?void 0:m.mqtt)==null?void 0:_[f[0].me])??f[0].me))&&N(n,l)},d(f){f&&M(e)}}}function no(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((_=(m=f[5].errors)==null?void 0:m.price)==null?void 0:_[f[0].ee])??f[0].ee))&&N(n,l)},d(f){f&&M(e)}}}function io(t){let e,l,n,i,s,o,f,r;return l=new kl({props:{to:"/configuration",$$slots:{default:[dc]},$$scope:{ctx:t}}}),o=new kl({props:{to:"/status",$$slots:{default:[hc]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Ce(l.$$.fragment),i=h(),s=p("div"),Ce(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),ye(l,e,null),C(c,i,m),C(c,s,m),ye(o,s,null),r=!0},p(c,m){var v,w;const _={};m&512&&(_.$$scope={dirty:m,ctx:c}),l.$set(_),(!r||m&32&&n!==(n=((v=c[5].header)==null?void 0:v.config)??""))&&u(e,"title",n);const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),o.$set(d),(!r||m&32&&f!==(f=((w=c[5].header)==null?void 0:w.status)??""))&&u(s,"title",f)},i(c){r||(te(l.$$.fragment,c),te(o.$$.fragment,c),r=!0)},o(c){se(l.$$.fragment,c),se(o.$$.fragment,c),r=!1},d(c){c&&(M(e),M(i),M(s)),Me(l),Me(o)}}}function dc(t){let e,l;return e=new cc({}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function hc(t){let e,l;return e=new _c({}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function bc(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?kc:gc}let i=n(t),s=i(t);return{c(){var o;e=p("div"),s.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",l=(((o=t[5].header)==null?void 0:o.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(o,f){C(o,e,f),s.m(e,null)},p(o,f){var r;i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&34&&l!==(l=(((r=o[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&M(e),s.d()}}}function vc(t){let e,l,n=t[1].upgrade.t+"",i,s,o=t[4].toFixed(1)+"",f,r;return{c(){e=p("div"),l=k("Oppdaterer til "),i=k(n),s=k(", "),f=k(o),r=k("%"),u(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){C(c,e,m),a(e,l),a(e,i),a(e,s),a(e,f),a(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&N(i,n),m&16&&o!==(o=c[4].toFixed(1)+"")&&N(f,o)},d(c){c&&M(e)}}}function gc(t){var f;let e,l=(((f=t[5].header)==null?void 0:f.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",o;return{c(){e=p("span"),n=k(l),i=k(": "),o=k(s)},m(r,c){C(r,e,c),a(e,n),a(e,i),a(e,o)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&N(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&N(o,s)},d(r){r&&M(e)}}}function kc(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,o=t[1].upgrade.n+"",f,r,c;return{c(){e=p("button"),l=p("span"),i=k(n),s=k(": "),f=k(o),u(l,"class","mt-1"),u(e,"class","flex")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(l,s),a(l,f),r||(c=de(e,"click",t[6]),r=!0)},p(_,d){var v;d&32&&n!==(n=(((v=_[5].header)==null?void 0:v.new_version)??"Ny oppdatering")+"")&&N(i,n),d&2&&o!==(o=_[1].upgrade.n+"")&&N(f,o)},d(_){_&&M(e),r=!1,c()}}}function wc(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y;i=new kl({props:{to:"/",class:"flex space-x-2",$$slots:{default:[pc]},$$scope:{ctx:t}}}),r=new nc({props:{epoch:t[0].u}});let O=t[0].t>-50&&eo(t);d=new Jn({props:{title:"Han-port",text:"Han-port",color:ni(t[1].booting?9:t[0].hm)}}),w=new Jn({props:{title:"Minside",text:"Minside",color:ni(t[1].booting?9:t[0].mm)}});let T=(t[0].he<0||t[0].he>0)&&to(t),G=t[0].me<0&&lo(t),j=(t[0].ee>0||t[0].ee<0)&&no(t);X=new su({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let F=t[1].vndcfg&&t[1].usrcfg&&io(t);function K(V,ne){if(V[1].upgrading)return vc;if(V[1].fwconsent===1&&V[1].upgrade.n)return bc}let Q=K(t),$=Q&&Q(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),f=p("div"),Ce(r.$$.fragment),c=h(),O&&O.c(),m=h(),_=p("div"),Ce(d.$$.fragment),v=h(),Ce(w.$$.fragment),b=h(),T&&T.c(),S=h(),G&&G.c(),g=h(),j&&j.c(),A=h(),L=p("div"),B=p("div"),P=p("img"),q=h(),H=p("div"),Ce(X.$$.fragment),W=h(),F&&F.c(),R=h(),$&&$.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(_,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(P,"class","h-10 w-10"),un(P.src,U=t[2])||u(P,"src",U),u(P,"alt",t[3]),u(B,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(H,"class","flex-none my-auto px-2"),u(L,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(V,ne){C(V,e,ne),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,f),ye(r,f,null),a(o,c),O&&O.m(o,null),a(l,m),a(l,_),ye(d,_,null),a(_,v),ye(w,_,null),a(l,b),T&&T.m(l,null),a(l,S),G&&G.m(l,null),a(l,g),j&&j.m(l,null),a(l,A),a(l,L),a(L,B),a(B,P),a(L,q),a(L,H),ye(X,H,null),a(L,W),F&&F.m(L,null),a(L,R),$&&$.m(L,null),Y=!0},p(V,[ne]){const me={};ne&512&&(me.$$scope={dirty:ne,ctx:V}),i.$set(me);const oe={};ne&1&&(oe.epoch=V[0].u),r.$set(oe),V[0].t>-50?O?O.p(V,ne):(O=eo(V),O.c(),O.m(o,null)):O&&(O.d(1),O=null);const ie={};ne&3&&(ie.color=ni(V[1].booting?9:V[0].hm)),d.$set(ie);const fe={};ne&3&&(fe.color=ni(V[1].booting?9:V[0].mm)),w.$set(fe),V[0].he<0||V[0].he>0?T?T.p(V,ne):(T=to(V),T.c(),T.m(l,S)):T&&(T.d(1),T=null),V[0].me<0?G?G.p(V,ne):(G=lo(V),G.c(),G.m(l,g)):G&&(G.d(1),G=null),V[0].ee>0||V[0].ee<0?j?j.p(V,ne):(j=no(V),j.c(),j.m(l,A)):j&&(j.d(1),j=null),(!Y||ne&4&&!un(P.src,U=V[2]))&&u(P,"src",U),(!Y||ne&8)&&u(P,"alt",V[3]);const Z={};ne&1&&(Z.timestamp=V[0].c?new Date(V[0].c*1e3):new Date(0)),ne&2&&(Z.offset=V[1].clock_offset),X.$set(Z),V[1].vndcfg&&V[1].usrcfg?F?(F.p(V,ne),ne&2&&te(F,1)):(F=io(V),F.c(),te(F,1),F.m(L,R)):F&&(yt(),se(F,1,1,()=>{F=null}),Mt()),Q===(Q=K(V))&&$?$.p(V,ne):($&&$.d(1),$=Q&&Q(V),$&&($.c(),$.m(L,null)))},i(V){Y||(te(i.$$.fragment,V),te(r.$$.fragment,V),te(d.$$.fragment,V),te(w.$$.fragment,V),te(X.$$.fragment,V),te(F),Y=!0)},o(V){se(i.$$.fragment,V),se(r.$$.fragment,V),se(d.$$.fragment,V),se(w.$$.fragment,V),se(X.$$.fragment,V),se(F),Y=!1},d(V){V&&M(e),Me(i),Me(r),O&&O.d(),Me(d),Me(w),T&&T.d(),G&&G.d(),j&&j.d(),Me(X),F&&F.d(),$&&$.d()}}}function Sc(t,e,l){const n={high:cs,medium:us,low:fs,off:ms};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:f={}}=e,r={};function c(){var d;confirm((((d=_.header)==null?void 0:d.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(iu(r.upgrade.n),ml.update(v=>(v.upgrade.t=r.upgrade.n,v.upgrade.p=0,v.upgrading=!0,v)))}let m;ml.subscribe(d=>{l(1,r=d)});let _={};return Ml.subscribe(d=>{l(5,_=d)}),t.$$set=d=>{"basepath"in d&&l(7,o=d.basepath),"data"in d&&l(0,f=d.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:d,label:v}=Vn(f==null?void 0:f.r);l(2,i=n[d]??n.off),l(3,s=v)}},[f,r,i,s,m,_,c,o]}class yc extends Tt{constructor(e){super(),Pt(this,e,Sc,wc,Ct,{basepath:7,data:0})}}function Mc(t){let e,l,n,i;return{c(){e=Ft("svg"),l=Ft("path"),n=Ft("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){C(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:Ge,o:Ge,d(s){s&&M(e)}}}function so(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=so(t,e,l,i),o=so(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function Cc(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Nc extends Tt{constructor(e){super(),Pt(this,e,Cc,Mc,Ct,{pct:0,color:1})}}function oo(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=h(),n=p("span"),s=k(i),o=h(),f=p("span"),c=k(r),m=k("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(_,d){C(_,e,d),C(_,l,d),C(_,n,d),a(n,s),C(_,o,d),C(_,f,d),a(f,c),a(f,m)},p(_,d){d&2&&i!==(i=_[1][0]+"")&&N(s,i),d&2&&r!==(r=_[1][1]+"")&&N(c,r)},d(_){_&&(M(e),M(l),M(n),M(o),M(f))}}}function Pc(t){let e,l,n,i,s,o,f,r,c,m,_=t[3][0]+"",d,v,w,b=t[3][1]+"",S,g,A;l=new Nc({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let L=t[1]&&oo(t);return{c(){e=p("div"),Ce(l.$$.fragment),n=h(),i=p("span"),s=p("span"),o=k(t[0]),f=h(),r=p("br"),c=h(),m=p("span"),d=k(_),v=h(),w=p("span"),S=k(b),g=h(),L&&L.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(w,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(B,P){C(B,e,P),ye(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,d),a(i,v),a(i,w),a(w,S),a(i,g),L&&L.m(i,null),A=!0},p(B,[P]){const U={};P&16&&(U.pct=B[4]),P&20&&(U.color=B[2](B[4],document.documentElement.classList.contains("dark"))),l.$set(U),(!A||P&1)&&N(o,B[0]),(!A||P&8)&&_!==(_=B[3][0]+"")&&N(d,_),(!A||P&8)&&b!==(b=B[3][1]+"")&&N(S,b),B[1]?L?L.p(B,P):(L=oo(B),L.c(),L.m(i,null)):L&&(L.d(1),L=null)},i(B){A||(te(l.$$.fragment,B),A=!0)},o(B){se(l.$$.fragment,B),A=!1},d(B){B&&M(e),Me(l),L&&L.d()}}}function Tc(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=_=>{"val"in _&&l(5,n=_.val),"max"in _&&l(6,i=_.max),"unit"in _&&l(7,s=_.unit),"label"in _&&l(0,o=_.label),"sub"in _&&l(1,f=_.sub),"colorFn"in _&&l(2,r=_.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=_l(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class ou extends Tt{constructor(e){super(),Pt(this,e,Tc,Pc,Ct,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function ao(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function ro(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function fo(t,e,l){const n=t.slice();return n[15]=e[l],n}function uo(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&co(t),c=et(t[0].y.ticks),m=[];for(let b=0;b<c.length;b+=1)m[b]=ho(fo(t,c,b));let _=et(t[0].x.ticks),d=[];for(let b=0;b<_.length;b+=1)d[b]=go(ro(t,_,b));let v=et(t[0].points),w=[];for(let b=0;b<v.length;b+=1)w[b]=Po(ao(t,v,b));return{c(){r&&r.c(),e=h(),l=Ft("svg"),n=Ft("g");for(let b=0;b<m.length;b+=1)m[b].c();i=Ft("g");for(let b=0;b<d.length;b+=1)d[b].c();s=Ft("g");for(let b=0;b<w.length;b+=1)w[b].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(b,S){r&&r.m(b,S),C(b,e,S),C(b,l,S),a(l,n);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(n,null);a(l,i);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(i,null);a(l,s);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(s,null);f=!0},p(b,S){if(b[0].title||b[0].link?r?(r.p(b,S),S&1&&te(r,1)):(r=co(b),r.c(),te(r,1),r.m(e.parentNode,e)):r&&(yt(),se(r,1,1,()=>{r=null}),Mt()),S&129){c=et(b[0].y.ticks);let g;for(g=0;g<c.length;g+=1){const A=fo(b,c,g);m[g]?m[g].p(A,S):(m[g]=ho(A),m[g].c(),m[g].m(n,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}if(S&89){_=et(b[0].x.ticks);let g;for(g=0;g<_.length;g+=1){const A=ro(b,_,g);d[g]?d[g].p(A,S):(d[g]=go(A),d[g].c(),d[g].m(i,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=_.length}if(S&457){v=et(b[0].points);let g;for(g=0;g<v.length;g+=1){const A=ao(b,v,g);w[g]?w[g].p(A,S):(w[g]=Po(A),w[g].c(),w[g].m(s,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=v.length}(!f||S&18&&o!==(o="0 0 "+b[1]+" "+b[4]))&&u(l,"viewBox",o)},i(b){f||(te(r),f=!0)},o(b){se(r),f=!1},d(b){b&&(M(e),M(l)),r&&r.d(b),Zt(m,b),Zt(d,b),Zt(w,b)}}}function co(t){let e,l,n,i=t[0].title&&mo(t),s=t[0].link&&_o(t);return{c(){e=p("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){C(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=mo(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&te(s,1)):(s=_o(o),s.c(),te(s,1),s.m(e,null)):s&&(yt(),se(s,1,1,()=>{s=null}),Mt())},i(o){n||(te(s),n=!0)},o(o){se(s),n=!1},d(o){o&&M(e),i&&i.d(),s&&s.d()}}}function mo(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm font-bold"),Bt(()=>t[9].call(e))},m(s,o){C(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&N(n,l)},d(s){s&&M(e),i()}}}function _o(t){let e,l,n,i;const s=[Ac,Ec],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(yt(),se(o[m],1,1,()=>{o[m]=null}),Mt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),te(n,1),n.m(e,null))},i(r){i||(te(n),i=!0)},o(r){se(n),i=!1},d(r){r&&M(e),o[l].d()}}}function Ec(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=k(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){C(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&N(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:Ge,o:Ge,d(o){o&&M(e)}}}function Ac(t){let e,l;return e=new kl({props:{to:t[0].link.url,$$slots:{default:[qc]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function qc(t){let e=t[0].link.text+"",l;return{c(){l=k(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&N(l,e)},d(n){n&&M(l)}}}function po(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=Ft("g"),l=Ft("line"),n=Ft("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&N(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&M(e)}}}function ho(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&po(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=po(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function bo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&vo(t);return{c(){e=Ft("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=vo(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&M(e),n&&n.d()}}}function vo(t){let e,l=t[11].label+"",n,i;return{c(){e=Ft("text"),n=k(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&N(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&M(e)}}}function go(t){let e=!isNaN(t[6](t[13])),l,n=e&&bo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=bo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function ko(t){let e,l,n=t[11].value!==void 0&&wo(t),i=t[11].value2>1e-4&&Mo(t);return{c(){e=Ft("g"),n&&n.c(),l=Ft("g"),i&&i.c()},m(s,o){C(s,e,o),n&&n.m(e,null),C(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=wo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=Mo(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(M(e),M(l)),n&&n.d(),i&&i.d()}}}function wo(t){let e,l,n,i,s,o,f,r=t[3]>15&&So(t);return{c(){e=Ft("rect"),r&&r.c(),f=$t(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=So(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function So(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&yo(t);return{c(){e=Ft("text"),n=k(l),c&&c.c(),r=$t(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<rn||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<rn?90:0)+")")},m(m,_){C(m,e,_),a(e,n),c&&c.m(m,_),C(m,r,_)},p(m,_){_&1&&l!==(l=m[11].label+"")&&N(n,l),_&8&&i!==(i=m[3]-4)&&u(e,"width",i),_&9&&s!==(s=m[3]<rn||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),_&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),_&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<rn?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,_):(c=yo(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(r)),c&&c.d(m)}}}function yo(t){let e,l=t[11].title+"",n;return{c(){e=Ft("title"),n=k(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&N(n,l)},d(i){i&&M(e)}}}function Mo(t){let e,l,n,i,s,o,f,r=t[3]>15&&Co(t);return{c(){e=Ft("rect"),r&&r.c(),f=$t(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=Co(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function Co(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&No(t);return{c(){e=Ft("text"),n=k(l),r&&r.c(),f=$t(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<rn?90:0)+")")},m(c,m){C(c,e,m),a(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&N(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<rn?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=No(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function No(t){let e,l=t[11].title2+"",n;return{c(){e=Ft("title"),n=k(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&N(n,l)},d(i){i&&M(e)}}}function Po(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&ko(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=ko(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Lc(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&uo(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Bt(()=>t[10].call(e))},m(s,o){C(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&te(i,1)):(i=uo(s),i.c(),te(i,1),i.m(e,null)):i&&(yt(),se(i,1,1,()=>{i=null}),Mt())},i(s){n||(te(i),n=!0)},o(s){se(i),n=!1},d(s){s&&M(e),i&&i.d(),l()}}}let rn=30;function Dc(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,_=0;function d(){_=this.clientHeight,l(5,_)}function v(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=w=>{"config"in w&&l(0,n=w.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-_);let w=i-(n.padding.left+n.padding.right);l(3,o=w/n.points.length),l(8,m=o<rn?30:15);let b=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(S){return S*o+n.padding.left}),l(7,r=function(S){let g=0;return S>n.y.max?g=n.padding.bottom:S<n.y.min?g=c-n.padding.bottom:g=c-n.padding.bottom-(S-n.y.min)*b,g>c||g<0?0:g})}},[n,i,s,o,c,_,f,r,m,d,v]}class _n extends Tt{constructor(e){super(),Pt(this,e,Dc,Lc,Ct,{config:0})}}function Ic(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function Oc(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Xt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:O0(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],_=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),_.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),_.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),_.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:_})}},[r,n,i,s,o,f]}class Fc extends Tt{constructor(e){super(),Pt(this,e,Oc,Ic,Ct,{title:1,u1:2,u2:3,u3:4,ds:5})}}function Rc(t){var D,z,le,ae,re;let e,l,n=(((D=t[0].reactive)==null?void 0:D.title)??"Reactive")+"",i,s,o,f,r=(((z=t[0].reactive)==null?void 0:z.instant_in)??"Instant in")+"",c,m,_,d=t[1][0]+"",v,w,b=t[1][1]+"",S,g,A,L=(((le=t[0].reactive)==null?void 0:le.instant_out)??"Instant out")+"",B,P,U,q=t[2][0]+"",H,X,W=t[2][1]+"",R,Y,O,T,G=(((ae=t[0].reactive)==null?void 0:ae.total_in)??"Total in")+"",j,F,K,Q=t[3][0]+"",$,V,ne=t[3][1]+"",me,oe,ie,fe=(((re=t[0].reactive)==null?void 0:re.total_out)??"Total out")+"",Z,x,ee,he=t[4][0]+"",ge,E,y=t[4][1]+"",I;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),f=p("div"),c=k(r),m=h(),_=p("div"),v=k(d),w=h(),S=k(b),g=h(),A=p("div"),B=k(L),P=h(),U=p("div"),H=k(q),X=h(),R=k(W),Y=h(),O=p("div"),T=p("div"),j=k(G),F=h(),K=p("div"),$=k(Q),V=h(),me=k(ne),oe=h(),ie=p("div"),Z=k(fe),x=h(),ee=p("div"),ge=k(he),E=h(),I=k(y),u(_,"class","text-right"),u(U,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(K,"class","text-right"),u(ee,"class","text-right"),u(O,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(ce,_e){C(ce,e,_e),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,_),a(_,v),a(_,w),a(_,S),a(o,g),a(o,A),a(A,B),a(o,P),a(o,U),a(U,H),a(U,X),a(U,R),a(e,Y),a(e,O),a(O,T),a(T,j),a(O,F),a(O,K),a(K,$),a(K,V),a(K,me),a(O,oe),a(O,ie),a(ie,Z),a(O,x),a(O,ee),a(ee,ge),a(ee,E),a(ee,I)},p(ce,[_e]){var we,ke,qe,De,We;_e&1&&n!==(n=(((we=ce[0].reactive)==null?void 0:we.title)??"Reactive")+"")&&N(i,n),_e&1&&r!==(r=(((ke=ce[0].reactive)==null?void 0:ke.instant_in)??"Instant in")+"")&&N(c,r),_e&2&&d!==(d=ce[1][0]+"")&&N(v,d),_e&2&&b!==(b=ce[1][1]+"")&&N(S,b),_e&1&&L!==(L=(((qe=ce[0].reactive)==null?void 0:qe.instant_out)??"Instant out")+"")&&N(B,L),_e&4&&q!==(q=ce[2][0]+"")&&N(H,q),_e&4&&W!==(W=ce[2][1]+"")&&N(R,W),_e&1&&G!==(G=(((De=ce[0].reactive)==null?void 0:De.total_in)??"Total in")+"")&&N(j,G),_e&8&&Q!==(Q=ce[3][0]+"")&&N($,Q),_e&8&&ne!==(ne=ce[3][1]+"")&&N(me,ne),_e&1&&fe!==(fe=(((We=ce[0].reactive)==null?void 0:We.total_out)??"Total out")+"")&&N(Z,fe),_e&16&&he!==(he=ce[4][0]+"")&&N(ge,he),_e&16&&y!==(y=ce[4][1]+"")&&N(I,y)},i:Ge,o:Ge,d(ce){ce&&M(e)}}}function Uc(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,_;return t.$$set=d=>{"importInstant"in d&&l(5,n=d.importInstant),"exportInstant"in d&&l(6,i=d.exportInstant),"importTotal"in d&&l(7,s=d.importTotal),"exportTotal"in d&&l(8,o=d.exportTotal),"translations"in d&&l(0,f=d.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=_l(n,"VAr")),l(2,c=_l(i,"VAr")),l(3,m=_l(s*1e3,"VArh")),l(4,_=_l(o*1e3,"VArh")))},[f,r,c,m,_,n,i,s,o]}class Bc extends Tt{constructor(e){super(),Pt(this,e,Uc,Rc,Ct,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function To(t){let e;function l(s,o){return s[3]?Hc:jc}let n=l(t),i=n(t);return{c(){i.c(),e=$t()},m(s,o){i.m(s,o),C(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&M(e),i.d(s)}}}function jc(t){var z,le,ae,re,ce;let e,l=(((z=t[4].realtime)==null?void 0:z.consumption)??"Consumption")+"",n,i,s,o,f=il(((le=t[4].common)==null?void 0:le.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,v,w=t[6][1]+"",b,S,g,A=il(((ae=t[4].common)==null?void 0:ae.day)??"Day")+"",L,B,P,U=t[7][0]+"",q,H,X=t[7][1]+"",W,R,Y,O=il(((re=t[4].common)==null?void 0:re.month)??"Month")+"",T,G,j,F=t[8][0]+"",K,Q,$=t[8][1]+"",V,ne,me,oe=(((ce=t[4].realtime)==null?void 0:ce.last_month)??"Last month")+"",ie,fe,Z,x=t[9][0]+"",ee,he,ge=t[9][1]+"",E,y,I,D=t[5]&&Eo(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),b=k(w),S=h(),g=p("div"),L=k(A),B=h(),P=p("div"),q=k(U),H=h(),W=k(X),R=h(),Y=p("div"),T=k(O),G=h(),j=p("div"),K=k(F),Q=h(),V=k($),ne=h(),me=p("div"),ie=k(oe),fe=h(),Z=p("div"),ee=k(x),he=h(),E=k(ge),y=h(),D&&D.c(),I=$t(),u(m,"class","text-right"),u(P,"class","text-right"),u(j,"class","text-right"),u(Z,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(_e,we){C(_e,e,we),a(e,n),C(_e,i,we),C(_e,s,we),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,b),a(s,S),a(s,g),a(g,L),a(s,B),a(s,P),a(P,q),a(P,H),a(P,W),a(s,R),a(s,Y),a(Y,T),a(s,G),a(s,j),a(j,K),a(j,Q),a(j,V),a(s,ne),a(s,me),a(me,ie),a(s,fe),a(s,Z),a(Z,ee),a(Z,he),a(Z,E),C(_e,y,we),D&&D.m(_e,we),C(_e,I,we)},p(_e,we){var ke,qe,De,We,Ye;we&16&&l!==(l=(((ke=_e[4].realtime)==null?void 0:ke.consumption)??"Consumption")+"")&&N(n,l),we&16&&f!==(f=il(((qe=_e[4].common)==null?void 0:qe.hour)??"Hour")+"")&&N(r,f),we&64&&_!==(_=_e[6][0]+"")&&N(d,_),we&64&&w!==(w=_e[6][1]+"")&&N(b,w),we&16&&A!==(A=il(((De=_e[4].common)==null?void 0:De.day)??"Day")+"")&&N(L,A),we&128&&U!==(U=_e[7][0]+"")&&N(q,U),we&128&&X!==(X=_e[7][1]+"")&&N(W,X),we&16&&O!==(O=il(((We=_e[4].common)==null?void 0:We.month)??"Month")+"")&&N(T,O),we&256&&F!==(F=_e[8][0]+"")&&N(K,F),we&256&&$!==($=_e[8][1]+"")&&N(V,$),we&16&&oe!==(oe=(((Ye=_e[4].realtime)==null?void 0:Ye.last_month)??"Last month")+"")&&N(ie,oe),we&512&&x!==(x=_e[9][0]+"")&&N(ee,x),we&512&&ge!==(ge=_e[9][1]+"")&&N(E,ge),_e[5]?D?D.p(_e,we):(D=Eo(_e),D.c(),D.m(I.parentNode,I)):D&&(D.d(1),D=null)},d(_e){_e&&(M(e),M(i),M(s),M(y),M(I)),D&&D.d(_e)}}}function Hc(t){var ze,Je,ol,zt,Jt,cl,rl,Gt,Yt,ul;let e,l=(((ze=t[4].common)==null?void 0:ze.import)??"Import")+"",n,i,s,o,f=il(((Je=t[4].common)==null?void 0:Je.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,v,w=t[6][1]+"",b,S,g,A,L=il(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",B,P,U,q=t[7][0]+"",H,X,W=t[7][1]+"",R,Y,O,T,G=il(((zt=t[4].common)==null?void 0:zt.month)??"Month")+"",j,F,K,Q=t[8][0]+"",$,V,ne=t[8][1]+"",me,oe,ie,fe,Z=(((Jt=t[4].realtime)==null?void 0:Jt.last_mo)??"Last mo.")+"",x,ee,he,ge=t[9][0]+"",E,y,I=t[9][1]+"",D,z,le,ae,re,ce=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",_e,we,ke,qe,De=il(((rl=t[4].common)==null?void 0:rl.hour)??"Hour")+"",We,Ye,xe,ve=t[10][0]+"",Se,lt,ot=t[10][1]+"",Nt,bt,Dt,at,tt=il(((Gt=t[4].common)==null?void 0:Gt.day)??"Day")+"",ct,Vt,vt,At=t[11][0]+"",pt,It,it=t[11][1]+"",ft,Pe,je,Fe,Qe=il(((Yt=t[4].common)==null?void 0:Yt.month)??"Month")+"",be,Re,wt,qt=t[12][0]+"",rt,Ie,Ze=t[12][1]+"",He,Te,Ee,Le,Oe=(((ul=t[4].realtime)==null?void 0:ul.last_mo)??"Last mo.")+"",Xe,st,Et,Ht=t[13][0]+"",tl,xt,Wt=t[13][1]+"",Ot,sl,Lt,$e=t[5]&&Ao(t),Rt=t[5]&&qo(t),Kt=t[5]&&Lo(t),dt=t[5]&&Do(t),ut=t[5]&&Io(t),gt=t[5]&&Oo(t),Ne=t[5]&&Fo(t),ue=t[5]&&Ro(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),b=k(w),S=h(),$e&&$e.c(),g=h(),A=p("div"),B=k(L),P=h(),U=p("div"),H=k(q),X=h(),R=k(W),Y=h(),Rt&&Rt.c(),O=h(),T=p("div"),j=k(G),F=h(),K=p("div"),$=k(Q),V=h(),me=k(ne),oe=h(),Kt&&Kt.c(),ie=h(),fe=p("div"),x=k(Z),ee=h(),he=p("div"),E=k(ge),y=h(),D=k(I),z=h(),dt&&dt.c(),ae=h(),re=p("strong"),_e=k(ce),we=h(),ke=p("div"),qe=p("div"),We=k(De),Ye=h(),xe=p("div"),Se=k(ve),lt=h(),Nt=k(ot),bt=h(),ut&&ut.c(),Dt=h(),at=p("div"),ct=k(tt),Vt=h(),vt=p("div"),pt=k(At),It=h(),ft=k(it),Pe=h(),gt&&gt.c(),je=h(),Fe=p("div"),be=k(Qe),Re=h(),wt=p("div"),rt=k(qt),Ie=h(),He=k(Ze),Te=h(),Ne&&Ne.c(),Ee=h(),Le=p("div"),Xe=k(Oe),st=h(),Et=p("div"),tl=k(Ht),xt=h(),Ot=k(Wt),sl=h(),ue&&ue.c(),u(m,"class","text-right"),u(U,"class","text-right"),u(K,"class","text-right"),u(he,"class","text-right"),u(s,"class",le="grid grid-cols-"+t[14]+" mb-3"),u(xe,"class","text-right"),u(vt,"class","text-right"),u(wt,"class","text-right"),u(Et,"class","text-right"),u(ke,"class",Lt="grid grid-cols-"+t[14])},m(Ae,pe){C(Ae,e,pe),a(e,n),C(Ae,i,pe),C(Ae,s,pe),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,b),a(s,S),$e&&$e.m(s,null),a(s,g),a(s,A),a(A,B),a(s,P),a(s,U),a(U,H),a(U,X),a(U,R),a(s,Y),Rt&&Rt.m(s,null),a(s,O),a(s,T),a(T,j),a(s,F),a(s,K),a(K,$),a(K,V),a(K,me),a(s,oe),Kt&&Kt.m(s,null),a(s,ie),a(s,fe),a(fe,x),a(s,ee),a(s,he),a(he,E),a(he,y),a(he,D),a(s,z),dt&&dt.m(s,null),C(Ae,ae,pe),C(Ae,re,pe),a(re,_e),C(Ae,we,pe),C(Ae,ke,pe),a(ke,qe),a(qe,We),a(ke,Ye),a(ke,xe),a(xe,Se),a(xe,lt),a(xe,Nt),a(ke,bt),ut&&ut.m(ke,null),a(ke,Dt),a(ke,at),a(at,ct),a(ke,Vt),a(ke,vt),a(vt,pt),a(vt,It),a(vt,ft),a(ke,Pe),gt&&gt.m(ke,null),a(ke,je),a(ke,Fe),a(Fe,be),a(ke,Re),a(ke,wt),a(wt,rt),a(wt,Ie),a(wt,He),a(ke,Te),Ne&&Ne.m(ke,null),a(ke,Ee),a(ke,Le),a(Le,Xe),a(ke,st),a(ke,Et),a(Et,tl),a(Et,xt),a(Et,Ot),a(ke,sl),ue&&ue.m(ke,null)},p(Ae,pe){var Ut,Ue,kt,fl,dl,hl,bl,nl,vl,Cl;pe&16&&l!==(l=(((Ut=Ae[4].common)==null?void 0:Ut.import)??"Import")+"")&&N(n,l),pe&16&&f!==(f=il(((Ue=Ae[4].common)==null?void 0:Ue.hour)??"Hour")+"")&&N(r,f),pe&64&&_!==(_=Ae[6][0]+"")&&N(d,_),pe&64&&w!==(w=Ae[6][1]+"")&&N(b,w),Ae[5]?$e?$e.p(Ae,pe):($e=Ao(Ae),$e.c(),$e.m(s,g)):$e&&($e.d(1),$e=null),pe&16&&L!==(L=il(((kt=Ae[4].common)==null?void 0:kt.day)??"Day")+"")&&N(B,L),pe&128&&q!==(q=Ae[7][0]+"")&&N(H,q),pe&128&&W!==(W=Ae[7][1]+"")&&N(R,W),Ae[5]?Rt?Rt.p(Ae,pe):(Rt=qo(Ae),Rt.c(),Rt.m(s,O)):Rt&&(Rt.d(1),Rt=null),pe&16&&G!==(G=il(((fl=Ae[4].common)==null?void 0:fl.month)??"Month")+"")&&N(j,G),pe&256&&Q!==(Q=Ae[8][0]+"")&&N($,Q),pe&256&&ne!==(ne=Ae[8][1]+"")&&N(me,ne),Ae[5]?Kt?Kt.p(Ae,pe):(Kt=Lo(Ae),Kt.c(),Kt.m(s,ie)):Kt&&(Kt.d(1),Kt=null),pe&16&&Z!==(Z=(((dl=Ae[4].realtime)==null?void 0:dl.last_mo)??"Last mo.")+"")&&N(x,Z),pe&512&&ge!==(ge=Ae[9][0]+"")&&N(E,ge),pe&512&&I!==(I=Ae[9][1]+"")&&N(D,I),Ae[5]?dt?dt.p(Ae,pe):(dt=Do(Ae),dt.c(),dt.m(s,null)):dt&&(dt.d(1),dt=null),pe&16384&&le!==(le="grid grid-cols-"+Ae[14]+" mb-3")&&u(s,"class",le),pe&16&&ce!==(ce=(((hl=Ae[4].common)==null?void 0:hl.export)??"Export")+"")&&N(_e,ce),pe&16&&De!==(De=il(((bl=Ae[4].common)==null?void 0:bl.hour)??"Hour")+"")&&N(We,De),pe&1024&&ve!==(ve=Ae[10][0]+"")&&N(Se,ve),pe&1024&&ot!==(ot=Ae[10][1]+"")&&N(Nt,ot),Ae[5]?ut?ut.p(Ae,pe):(ut=Io(Ae),ut.c(),ut.m(ke,Dt)):ut&&(ut.d(1),ut=null),pe&16&&tt!==(tt=il(((nl=Ae[4].common)==null?void 0:nl.day)??"Day")+"")&&N(ct,tt),pe&2048&&At!==(At=Ae[11][0]+"")&&N(pt,At),pe&2048&&it!==(it=Ae[11][1]+"")&&N(ft,it),Ae[5]?gt?gt.p(Ae,pe):(gt=Oo(Ae),gt.c(),gt.m(ke,je)):gt&&(gt.d(1),gt=null),pe&16&&Qe!==(Qe=il(((vl=Ae[4].common)==null?void 0:vl.month)??"Month")+"")&&N(be,Qe),pe&4096&&qt!==(qt=Ae[12][0]+"")&&N(rt,qt),pe&4096&&Ze!==(Ze=Ae[12][1]+"")&&N(He,Ze),Ae[5]?Ne?Ne.p(Ae,pe):(Ne=Fo(Ae),Ne.c(),Ne.m(ke,Ee)):Ne&&(Ne.d(1),Ne=null),pe&16&&Oe!==(Oe=(((Cl=Ae[4].realtime)==null?void 0:Cl.last_mo)??"Last mo.")+"")&&N(Xe,Oe),pe&8192&&Ht!==(Ht=Ae[13][0]+"")&&N(tl,Ht),pe&8192&&Wt!==(Wt=Ae[13][1]+"")&&N(Ot,Wt),Ae[5]?ue?ue.p(Ae,pe):(ue=Ro(Ae),ue.c(),ue.m(ke,null)):ue&&(ue.d(1),ue=null),pe&16384&&Lt!==(Lt="grid grid-cols-"+Ae[14])&&u(ke,"class",Lt)},d(Ae){Ae&&(M(e),M(i),M(s),M(ae),M(re),M(we),M(ke)),$e&&$e.d(),Rt&&Rt.d(),Kt&&Kt.d(),dt&&dt.d(),ut&&ut.d(),gt&&gt.d(),Ne&&Ne.d(),ue&&ue.d()}}}function Eo(t){var ee,he,ge,E,y,I;let e,l=(((ee=t[4].realtime)==null?void 0:ee.cost)??"Cost")+"",n,i,s,o,f=il(((he=t[4].common)==null?void 0:he.hour)??"Hour")+"",r,c,m,_=Xt(t[1].h.c,2)+"",d,v,w,b,S,g=il(((ge=t[4].common)==null?void 0:ge.day)??"Day")+"",A,L,B,P=Xt(t[1].d.c,1)+"",U,q,H,X,W,R=il(((E=t[4].common)==null?void 0:E.month)??"Month")+"",Y,O,T,G=Xt(t[1].m.c)+"",j,F,K,Q,$,V=(((y=t[4].realtime)==null?void 0:y.last_month)??"Last month")+"",ne,me,oe,ie=Xt((I=t[0].last_month)==null?void 0:I.c)+"",fe,Z,x;return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),w=k(t[2]),b=h(),S=p("div"),A=k(g),L=h(),B=p("div"),U=k(P),q=h(),H=k(t[2]),X=h(),W=p("div"),Y=k(R),O=h(),T=p("div"),j=k(G),F=h(),K=k(t[2]),Q=h(),$=p("div"),ne=k(V),me=h(),oe=p("div"),fe=k(ie),Z=h(),x=k(t[2]),u(m,"class","text-right"),u(B,"class","text-right"),u(T,"class","text-right"),u(oe,"class","text-right"),u(s,"class","grid grid-cols-2")},m(D,z){C(D,e,z),a(e,n),C(D,i,z),C(D,s,z),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,v),a(m,w),a(s,b),a(s,S),a(S,A),a(s,L),a(s,B),a(B,U),a(B,q),a(B,H),a(s,X),a(s,W),a(W,Y),a(s,O),a(s,T),a(T,j),a(T,F),a(T,K),a(s,Q),a(s,$),a($,ne),a(s,me),a(s,oe),a(oe,fe),a(oe,Z),a(oe,x)},p(D,z){var le,ae,re,ce,_e,we;z&16&&l!==(l=(((le=D[4].realtime)==null?void 0:le.cost)??"Cost")+"")&&N(n,l),z&16&&f!==(f=il(((ae=D[4].common)==null?void 0:ae.hour)??"Hour")+"")&&N(r,f),z&2&&_!==(_=Xt(D[1].h.c,2)+"")&&N(d,_),z&4&&N(w,D[2]),z&16&&g!==(g=il(((re=D[4].common)==null?void 0:re.day)??"Day")+"")&&N(A,g),z&2&&P!==(P=Xt(D[1].d.c,1)+"")&&N(U,P),z&4&&N(H,D[2]),z&16&&R!==(R=il(((ce=D[4].common)==null?void 0:ce.month)??"Month")+"")&&N(Y,R),z&2&&G!==(G=Xt(D[1].m.c)+"")&&N(j,G),z&4&&N(K,D[2]),z&16&&V!==(V=(((_e=D[4].realtime)==null?void 0:_e.last_month)??"Last month")+"")&&N(ne,V),z&1&&ie!==(ie=Xt((we=D[0].last_month)==null?void 0:we.c)+"")&&N(fe,ie),z&4&&N(x,D[2])},d(D){D&&(M(e),M(i),M(s))}}}function Ao(t){let e,l=Xt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].h.c,2)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function qo(t){let e,l=Xt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].d.c,1)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function Lo(t){let e,l=Xt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].m.c)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function Do(t){var o;let e,l=Xt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Xt((c=f[0].last_month)==null?void 0:c.c)+"")&&N(n,l),r&4&&N(s,f[2])},d(f){f&&M(e)}}}function Io(t){let e,l=Xt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].h.i,2)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function Oo(t){let e,l=Xt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].d.i,1)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function Fo(t){let e,l=Xt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Xt(o[1].m.i)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&M(e)}}}function Ro(t){var o;let e,l=Xt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Xt((c=f[0].last_month)==null?void 0:c.i)+"")&&N(n,l),r&4&&N(s,f[2])},d(f){f&&M(e)}}}function Wc(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&To(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("br"),f=p("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(_,[d]){var v;d&16&&n!==(n=(((v=_[4].realtime)==null?void 0:v.title)??"Real time calculations")+"")&&N(i,n),_[1]?c?c.p(_,d):(c=To(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ge,o:Ge,d(_){_&&M(e),c&&c.d()}}}function Kc(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,_,d,v,w,b,S=!1,g=3;return t.$$set=A=>{"sysinfo"in A&&l(0,n=A.sysinfo),"data"in A&&l(1,i=A.data),"currency"in A&&l(2,s=A.currency),"hasExport"in A&&l(3,o=A.hasExport),"translations"in A&&l(4,f=A.translations)},t.$$.update=()=>{var A,L,B,P,U,q,H,X;t.$$.dirty&35&&(l(5,S=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,g=S?3:2),l(6,r=_l(((A=i==null?void 0:i.h)==null?void 0:A.u)*1e3,"Wh")),l(7,c=_l(((L=i==null?void 0:i.d)==null?void 0:L.u)*1e3,"Wh")),l(8,m=_l(((B=i==null?void 0:i.m)==null?void 0:B.u)*1e3,"Wh")),l(9,_=_l(((P=n==null?void 0:n.last_month)==null?void 0:P.u)*1e3,"Wh")),l(10,d=_l(((U=i==null?void 0:i.h)==null?void 0:U.p)*1e3,"Wh")),l(11,v=_l(((q=i==null?void 0:i.d)==null?void 0:q.p)*1e3,"Wh")),l(12,w=_l(((H=i==null?void 0:i.m)==null?void 0:H.p)*1e3,"Wh")),l(13,b=_l(((X=n==null?void 0:n.last_month)==null?void 0:X.p)*1e3,"Wh")))},[n,i,s,o,f,S,r,c,m,_,d,v,w,b,g]}class zc extends Tt{constructor(e){super(),Pt(this,e,Kc,Wc,Ct,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function Vc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function Gc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,_=new Date().getUTCHours(),d=0,v=0,w=0,b=[],S=[],g=[];l(5,r=l(4,f=0));let A=new Date;for(Fl(A,s.clock_offset-(24+A.getHours()-A.getUTCHours())%24),d=_;d<24&&(v=i[ht(w++)],v!=null);d++)S.push({label:ht(A.getHours())}),g.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Fl(A,1);for(d=0;d<24&&(v=i[ht(w++)],v!=null);d++)S.push({label:ht(A.getHours())}),g.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Fl(A,1);let L=Gn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(L&&L[1]&&L[1]!=m)for(m=L[1],l(5,r*=100),l(4,f*=100),d=0;d<g.length;d++)g[d]*=100;let B=[];for(d=0;d<g.length;d++){v=g[d];let H=v*.01,X=Math.abs(v)<1e3?2:0;B.push({label:H>=0?H.toFixed(X):"",title:H>=0?H.toFixed(2)+" "+m:"",value:v>=0?Math.abs(v):0,label2:H<0?H.toFixed(X):"",title2:H<0?H.toFixed(2)+" "+m:"",value2:v<0?Math.abs(v):0,color:c?"#5c2da5":"#7c3aed"})}let P=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(P/4*-1,r));let H=Math.ceil(Math.abs(r)/P*4),X=r/H;for(d=1;d<H+1;d++){let W=X*d;b.push({value:W,label:(W/100).toFixed(2)})}}l(4,f=Math.max(P/4,f));let U=Math.ceil(f/P*4),q=f/U;for(d=0;d<U+1;d++){let H=q*d;b.push({value:H,label:(H/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:b},x:{ticks:S},points:B,link:{text:"Provided by: "+F0(i.source),url:R0(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class Yc extends Tt{constructor(e){super(),Pt(this,e,Gc,Vc,Ct,{title:1,json:2,sysinfo:3})}}function Xc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function Jc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],v=[];l(5,r=l(4,f=0));let w=new Date,b=new Date;b.setDate(0),b.setHours(12);let S=(b.getHours()-b.getUTCHours())%24-s.clock_offset,g=w.getUTCHours();for(Fl(w,-S-24),m=g;m<24;m++){let P=i["i"+ht(m)],U=i["e"+ht(m)];P===void 0&&(P=0),U===void 0&&(U=0),d.push({label:ht(w.getHours())}),v.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,f=Math.max(f,P*10)),Fl(w,1)}for(m=0;m<g;m++){let P=i["i"+ht(m)],U=i["e"+ht(m)];P===void 0&&(P=0),U===void 0&&(U=0),d.push({label:ht(w.getHours())}),v.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,f=Math.max(f,P*10)),Fl(w,1)}l(5,r*=-1);let A=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(A/4*-1,r));let P=Math.ceil(Math.abs(r)/A*4),U=r/P;for(m=1;m<P+1;m++){let q=U*m;_.push({value:q,label:(q/10).toFixed(1)})}}l(4,f=Math.max(A/4,f));let L=Math.ceil(f/A*4),B=f/L;for(m=0;m<L+1;m++){let P=B*m;_.push({value:P,label:(P/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class Qc extends Tt{constructor(e){super(),Pt(this,e,Jc,Xc,Ct,{title:1,json:2,sysinfo:3})}}function Zc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function $c(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],v=[];l(5,r=l(4,f=0));let w=new Date,b=new Date;b.setDate(0),b.setHours(12);let S=(b.getHours()-b.getUTCHours())%24-s.clock_offset;for(Fl(w,-S),Fl(b,-S),m=w.getDate();m<=b.getDate();m++){let B=i["i"+ht(m)],P=i["e"+ht(m)];B===void 0&&(B=0),P===void 0&&(P=0),d.push({label:ht(m)}),v.push({label:B.toFixed(B<10?1:0),title:B.toFixed(2)+" kWh",value:B,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,B))}for(m=1;m<w.getDate();m++){let B=i["i"+ht(m)],P=i["e"+ht(m)];B===void 0&&(B=0),P===void 0&&(P=0),d.push({label:ht(m)}),v.push({label:B.toFixed(B<10?1:0),title:B.toFixed(2)+" kWh",value:B,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,B))}l(5,r*=-1);let g=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(g/4*-1,r));let B=Math.ceil(Math.abs(r)/g*4),P=r/B;for(m=1;m<B+1;m++){let U=P*m;_.push({value:U,label:U.toFixed(0)})}}l(4,f=Math.max(g/4,f));let A=Math.ceil(f/g*4),L=f/A;for(m=0;m<A+1;m++){let B=L*m;_.push({value:B,label:B.toFixed(0)})}l(0,o={title:n.replace("{0}",b.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class xc extends Tt{constructor(e){super(),Pt(this,e,$c,Zc,Ct,{title:1,json:2,sysinfo:3})}}function e1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function t1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,_=[],d=[],v=[];i.s&&i.s.forEach((S,g)=>{var A=S.n?S.n:S.a;m=S.v,m==-127&&(m=0),d.push({label:A.slice(-4)}),v.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let w=f;r<0&&(w+=Math.abs(r));let b=w/4;for(c=0;c<5;c++)m=r+b*c,_.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:v})}},[o,n,i,f,r]}class l1 extends Tt{constructor(e){super(),Pt(this,e,t1,e1,Ct,{title:1,json:2})}}function n1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}let i1=0;function s1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,_=[],d=[],v=[];if(_.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let w=r.p[m];v.push({label:w.v.toFixed(2),value:w.v,color:s?"#5c2da5":"#7c3aed"}),d.push({label:w.d>0?ht(w.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:ht(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,w.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let w=r.t[m];if(w>=f)break;_.push({value:w,label:w})}_.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(_.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:i1,max:f,ticks:_},x:{ticks:d},points:v})}},[o,n,i,r,f]}class o1 extends Tt{constructor(e){super(),Pt(this,e,s1,n1,Ct,{title:1,translations:2,tariffData:3})}}let sn=0,a1={data:[]};async function _s(){let e=await(await yl(sn<0?"realtime.json":"realtime.json?offset="+sn)).json();ps.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),sn>=0&&(sn+=e.size,sn<e.total?setTimeout(_s,2e3):sn=-1)}function r1(){return sn==-1}const ps=al(a1);let vn=0,au=0,zi=0,Ei=0,Uo=!1;function f1(){Ei==60||zi>vn||zi-vn>300?(_s(),Ei=0):ps.update(t=>{if(t.lastUpdate)for(;vn>t.lastUpdate;)t.data.unshift(au),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ei++;else t.lastUpdate=vn;return t})}function u1(t){if(au=t.i-t.e,vn=t.u,!Uo){_s(),Uo=!0,zi=vn;return}r1()&&f1()}function Bo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function jo(t,e,l){const n=t.slice();return n[21]=e[l],n}function c1(t){let e,l,n;return{c(){e=p("strong"),l=k(t[0]),n=k(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&N(l,i[0])},d(i){i&&M(e)}}}function m1(t){let e,l,n,i,s,o,f,r=t[8]&&Ho(t);return{c(){e=p("strong"),l=k(t[0]),n=k(" ("),i=k(t[12]),s=k(")"),o=h(),r&&r.c(),f=$t(),u(e,"class","text-sm")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),C(c,o,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&N(l,c[0]),m&4096&&N(i,c[12]),c[8]?r?r.p(c,m):(r=Ho(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(o),M(f)),r&&r.d(c)}}}function Ho(t){let e,l,n,i,s,o=et(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Ko(jo(t,o,m));let r=et(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Vo(Bo(t,r,m));return{c(){e=Ft("svg"),l=Ft("g");for(let m=0;m<f.length;m+=1)f[m].c();n=Ft("g");for(let m=0;m<c.length;m+=1)c[m].c();i=Ft("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,_){C(m,e,_),a(e,l);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(l,null);a(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);a(e,i)},p(m,_){if(_&16646){o=et(m[8]);let d;for(d=0;d<o.length;d+=1){const v=jo(m,o,d);f[d]?f[d].p(v,_):(f[d]=Ko(v),f[d].c(),f[d].m(l,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=o.length}if(_&34336){r=et(m[9]);let d;for(d=0;d<r.length;d+=1){const v=Bo(m,r,d);c[d]?c[d].p(v,_):(c[d]=Vo(v),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}_&128&&u(i,"points",m[7]),_&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&M(e),Zt(f,m),Zt(c,m)}}}function Wo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=Ft("g"),l=Ft("line"),n=Ft("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&N(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&M(e)}}}function Ko(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Wo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Wo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function zo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=Ft("g"),l=Ft("text"),i=k(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&N(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&M(e)}}}function Vo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&zo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=zo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function _1(t){let e,l;function n(o,f){return o[11]?m1:c1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Bt(()=>t[17].call(e))},m(o,f){C(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:Ge,o:Ge,d(o){o&&M(e),s.d(),l()}}}function p1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;ps.subscribe(P=>{l(16,s=P)});let o=!1,f,r,c,m,_,d,v,w=function(P,U,q){return Math.ceil(_-(P-U)/(q-U)*_)-25},b=function(P){return 30+Math.ceil(P/s.size*(d-35))},S,g,A,L;function B(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=P=>{"title"in P&&l(0,n=P.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,_=parseInt(m)-50),l(6,d=c-35),l(10,A=d/s.size),l(2,r=0),l(1,f=0),s.data&&_>10&&d>100&&A>.1){l(11,o=!0);for(let q in s.data){let H=s.data[q];isNaN(H)&&(H=0),l(1,f=Math.max(Math.ceil(H/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(H/1e3)*1e3,r))}let P=f-r;l(12,L=f>2500?"kW":"W"),l(8,S=[]);for(let q=r;q<f&&(S.push({value:q,label:f>2500?(q/1e3).toFixed(1):q}),!(S.length>6));q+=P/5);l(9,g=[]);for(let q=0;q<s.size&&(g.push({value:q,label:"-"+Math.round((s.size-q)/6)+" min"}),!(g.length>12));q+=Math.round(s.size/Math.round(d/120)));let U=s.size;l(7,v=b(s.size)+","+w(0,r,f)+" "+b(1)+","+w(0,r,f));for(let q in s.data){if(U<0)break;let H=s.data[q];isNaN(H)&&(H=0),l(7,v=b(U--)+","+w(H,r,f)+" "+v)}}else l(11,o=!1)},[n,f,r,c,m,_,d,v,S,g,A,o,L,i,w,b,s,B]}class d1 extends Tt{constructor(e){super(),Pt(this,e,p1,_1,Ct,{title:0})}}function h1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function b1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:_=0}=e,{l1e:d=0}=e,{l2e:v=0}=e,{l3e:w=0}=e,{maxImport:b=0}=e,{maxExport:S=0}=e,{importColorFn:g}=e,{exportColorFn:A}=e,L={};function B(P,U){return{label:Xt(P>900?P/1e3:P)+(P>900?"k":"")+i,title:P.toFixed(2)+" "+i,value:isNaN(P)?0:P,color:g(P?P/b*100:0,document.documentElement.classList.contains("dark")),label2:Xt(U>900?U/1e3:U)+(U>900?"k":"")+i,title2:U.toFixed(2)+" "+i,value2:isNaN(U)?0:U,color2:A(U?U/S*100:0)}}return t.$$set=P=>{"title"in P&&l(1,n=P.title),"unit"in P&&l(2,i=P.unit),"l1"in P&&l(3,s=P.l1),"l2"in P&&l(4,o=P.l2),"l2x"in P&&l(5,f=P.l2x),"l3"in P&&l(6,r=P.l3),"l1i"in P&&l(7,c=P.l1i),"l2i"in P&&l(8,m=P.l2i),"l3i"in P&&l(9,_=P.l3i),"l1e"in P&&l(10,d=P.l1e),"l2e"in P&&l(11,v=P.l2e),"l3e"in P&&l(12,w=P.l3e),"maxImport"in P&&l(13,b=P.maxImport),"maxExport"in P&&l(14,S=P.maxExport),"importColorFn"in P&&l(15,g=P.importColorFn),"exportColorFn"in P&&l(16,A=P.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let P=[],U=[];s&&(P.push({label:"L1"}),U.push(B(c,d))),o&&(f?(P.push({label:"L2"}),U.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(P.push({label:"L2"}),U.push(B(m,v)))),r&&(P.push({label:"L3"}),U.push(B(_,w)));let q=[];if(S){let H=S>b?4:S*4/b;q.push({value:-S,label:"-100%"}),H>=4&&q.push({value:-S/4*3,label:"-75%"}),H>=2&&q.push({value:-S/2,label:"-50%"}),H>=4&&q.push({value:-S/4,label:"-25%"})}if(q.push({value:0,label:"0%"}),b){let H=b>S?4:b*4/S;q.push({value:b/4,label:"25%"}),H>=4&&q.push({value:b/2,label:"50%"}),H>=2&&q.push({value:b/4*3,label:"75%"}),H>=4&&q.push({value:b,label:"100%"})}l(0,L={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-S,max:b,ticks:q},x:{ticks:P},points:U})}},[L,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A]}class ds extends Tt{constructor(e){super(),Pt(this,e,b1,h1,Ct,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Go(t){var g;let e,l,n,i,s,o,f=(t[0].mt?di(t[0].mt):"-")+"",r,c,m,_=t[11][0]+"",d,v,w=t[11][1]+"",b,S;return i=new ou({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((g=t[6].common)==null?void 0:g.import)??"Import",sub:Gn(t[0].p,t[0].pc),colorFn:as}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),v=h(),b=k(w),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(A,L){C(A,e,L),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,d),a(m,v),a(m,b),S=!0},p(A,L){var P;const B={};L&1&&(B.val=A[0].i?A[0].i:0),L&1&&(B.max=A[0].im?A[0].im:15e3),L&64&&(B.label=((P=A[6].common)==null?void 0:P.import)??"Import"),L&1&&(B.sub=Gn(A[0].p,A[0].pc)),i.$set(B),(!S||L&1)&&f!==(f=(A[0].mt?di(A[0].mt):"-")+"")&&N(r,f),(!S||L&2048)&&_!==(_=A[11][0]+"")&&N(d,_),(!S||L&2048)&&w!==(w=A[11][1]+"")&&N(b,w)},i(A){S||(te(i.$$.fragment,A),S=!0)},o(A){se(i.$$.fragment,A),S=!1},d(A){A&&M(e),Me(i)}}}function Yo(t){var b;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,_,d=t[12][1]+"",v,w;return i=new ou({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((b=t[6].common)==null?void 0:b.export)??"Export",sub:Gn(t[0].px,t[0].pc),colorFn:zn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ce(i.$$.fragment),s=h(),o=p("div"),f=h(),r=p("div"),m=k(c),_=h(),v=k(d),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(S,g){C(S,e,g),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,_),a(r,v),w=!0},p(S,g){var L;const A={};g&1&&(A.val=S[0].e?S[0].e:0),g&1&&(A.max=S[0].om?S[0].om*1e3:1e4),g&64&&(A.label=((L=S[6].common)==null?void 0:L.export)??"Export"),g&1&&(A.sub=Gn(S[0].px,S[0].pc)),i.$set(A),(!w||g&4096)&&c!==(c=S[12][0]+"")&&N(m,c),(!w||g&4096)&&d!==(d=S[12][1]+"")&&N(v,d)},i(S){w||(te(i.$$.fragment,S),w=!0)},o(S){se(i.$$.fragment,S),w=!1},d(S){S&&M(e),Me(i)}}}function Xo(t){let e,l,n=t[0].l1&&Jo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=Jo(i),n.c(),te(n,1),n.m(e,null)):n&&(yt(),se(n,1,1,()=>{n=null}),Mt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function Jo(t){var n;let e,l;return e=new Fc({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ce(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Me(e,i)}}}function Qo(t){let e,l,n=t[0].l1&&Zo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=Zo(i),n.c(),te(n,1),n.m(e,null)):n&&(yt(),se(n,1,1,()=>{n=null}),Mt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function Zo(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:as,exportColorFn:zn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ce(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Me(e,i)}}}function $o(t){let e,l,n=t[0].l1&&xo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=xo(i),n.c(),te(n,1),n.m(e,null)):n&&(yt(),se(n,1,1,()=>{n=null}),Mt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function xo(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:as,exportColorFn:zn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ce(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Me(e,i)}}}function ea(t){let e,l,n=t[0].l1&&ta(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=ta(i),n.c(),te(n,1),n.m(e,null)):n&&(yt(),se(n,1,1,()=>{n=null}),Mt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function ta(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:zn,exportColorFn:zn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ce(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Me(e,i)}}}function la(t){let e,l,n;return l=new Bc({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(te(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Me(l)}}}function na(t){let e,l,n;return l=new zc({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(te(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Me(l)}}}function ia(t){var i;let e,l,n;return l=new o1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function sa(t){var i;let e,l,n;return l=new d1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function oa(t){var i;let e,l,n;return l=new Yc({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function aa(t){var i;let e,l,n;return l=new Qc({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function ra(t){var i;let e,l,n;return l=new xc({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function fa(t){var i;let e,l,n;return l=new l1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Ce(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Me(l)}}}function v1(t){let e,l=Qt(t[1].ui.i,t[0].i),n,i=Qt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Qt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Qt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Qt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),_,d=Qt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),v,w=Qt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),b,S=Qt(t[1].ui.c,t[0].ea),g,A=Qt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),L,B=Qt(t[1].ui.l,t[0].hm==1),P,U=Qt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),q,H=Qt(t[1].ui.d,t[3]),X,W=Qt(t[1].ui.m,t[4]),R,Y=Qt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),O,T=l&&Go(t),G=i&&Yo(t),j=o&&Xo(t),F=r&&Qo(t),K=m&&$o(t),Q=d&&ea(t),$=w&&la(t),V=S&&na(t),ne=A&&ia(t),me=B&&sa(t),oe=U&&oa(t),ie=H&&aa(t),fe=W&&ra(t),Z=Y&&fa(t);return{c(){e=p("div"),T&&T.c(),n=h(),G&&G.c(),s=h(),j&&j.c(),f=h(),F&&F.c(),c=h(),K&&K.c(),_=h(),Q&&Q.c(),v=h(),$&&$.c(),b=h(),V&&V.c(),g=h(),ne&&ne.c(),L=h(),me&&me.c(),P=h(),oe&&oe.c(),q=h(),ie&&ie.c(),X=h(),fe&&fe.c(),R=h(),Z&&Z.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(x,ee){C(x,e,ee),T&&T.m(e,null),a(e,n),G&&G.m(e,null),a(e,s),j&&j.m(e,null),a(e,f),F&&F.m(e,null),a(e,c),K&&K.m(e,null),a(e,_),Q&&Q.m(e,null),a(e,v),$&&$.m(e,null),a(e,b),V&&V.m(e,null),a(e,g),ne&&ne.m(e,null),a(e,L),me&&me.m(e,null),a(e,P),oe&&oe.m(e,null),a(e,q),ie&&ie.m(e,null),a(e,X),fe&&fe.m(e,null),a(e,R),Z&&Z.m(e,null),O=!0},p(x,[ee]){ee&3&&(l=Qt(x[1].ui.i,x[0].i)),l?T?(T.p(x,ee),ee&3&&te(T,1)):(T=Go(x),T.c(),te(T,1),T.m(e,n)):T&&(yt(),se(T,1,1,()=>{T=null}),Mt()),ee&3&&(i=Qt(x[1].ui.e,x[0].om||x[0].e>0)),i?G?(G.p(x,ee),ee&3&&te(G,1)):(G=Yo(x),G.c(),te(G,1),G.m(e,s)):G&&(yt(),se(G,1,1,()=>{G=null}),Mt()),ee&3&&(o=Qt(x[1].ui.v,x[0].l1&&(x[0].l1.u>100||x[0].l2.u>100||x[0].l3.u>100))),o?j?(j.p(x,ee),ee&3&&te(j,1)):(j=Xo(x),j.c(),te(j,1),j.m(e,f)):j&&(yt(),se(j,1,1,()=>{j=null}),Mt()),ee&3&&(r=Qt(x[1].ui.a,x[0].l1&&(x[0].l1.i>.01||x[0].l2.i>.01||x[0].l3.i>.01))),r?F?(F.p(x,ee),ee&3&&te(F,1)):(F=Qo(x),F.c(),te(F,1),F.m(e,c)):F&&(yt(),se(F,1,1,()=>{F=null}),Mt()),ee&3&&(m=Qt(x[1].ui.h,x[0].l1&&(x[0].l1.p>.01||x[0].l2.p>.01||x[0].l3.p>.01||x[0].l1.q>.01||x[0].l2.q>.01||x[0].l3.q>.01))),m?K?(K.p(x,ee),ee&3&&te(K,1)):(K=$o(x),K.c(),te(K,1),K.m(e,_)):K&&(yt(),se(K,1,1,()=>{K=null}),Mt()),ee&3&&(d=Qt(x[1].ui.f,x[0].l1&&(x[0].l1.f>.01||x[0].l2.f>.01||x[0].l3.f>.01))),d?Q?(Q.p(x,ee),ee&3&&te(Q,1)):(Q=ea(x),Q.c(),te(Q,1),Q.m(e,v)):Q&&(yt(),se(Q,1,1,()=>{Q=null}),Mt()),ee&3&&(w=Qt(x[1].ui.r,x[0].ri>0||x[0].re>0||x[0].ric>0||x[0].rec>0)),w?$?($.p(x,ee),ee&3&&te($,1)):($=la(x),$.c(),te($,1),$.m(e,b)):$&&(yt(),se($,1,1,()=>{$=null}),Mt()),ee&3&&(S=Qt(x[1].ui.c,x[0].ea)),S?V?(V.p(x,ee),ee&3&&te(V,1)):(V=na(x),V.c(),te(V,1),V.m(e,g)):V&&(yt(),se(V,1,1,()=>{V=null}),Mt()),ee&3&&(A=Qt(x[1].ui.t,x[0].pr&&(x[0].pr.startsWith("NO")||x[0].pr.startsWith("10YNO")||x[0].pr.startsWith("10Y1001A1001A4")))),A?ne?(ne.p(x,ee),ee&3&&te(ne,1)):(ne=ia(x),ne.c(),te(ne,1),ne.m(e,L)):ne&&(yt(),se(ne,1,1,()=>{ne=null}),Mt()),ee&3&&(B=Qt(x[1].ui.l,x[0].hm==1)),B?me?(me.p(x,ee),ee&3&&te(me,1)):(me=sa(x),me.c(),te(me,1),me.m(e,P)):me&&(yt(),se(me,1,1,()=>{me=null}),Mt()),ee&3&&(U=Qt(x[1].ui.p,x[0].pe&&!Number.isNaN(x[0].p))),U?oe?(oe.p(x,ee),ee&3&&te(oe,1)):(oe=oa(x),oe.c(),te(oe,1),oe.m(e,q)):oe&&(yt(),se(oe,1,1,()=>{oe=null}),Mt()),ee&10&&(H=Qt(x[1].ui.d,x[3])),H?ie?(ie.p(x,ee),ee&10&&te(ie,1)):(ie=aa(x),ie.c(),te(ie,1),ie.m(e,X)):ie&&(yt(),se(ie,1,1,()=>{ie=null}),Mt()),ee&18&&(W=Qt(x[1].ui.m,x[4])),W?fe?(fe.p(x,ee),ee&18&&te(fe,1)):(fe=ra(x),fe.c(),te(fe,1),fe.m(e,R)):fe&&(yt(),se(fe,1,1,()=>{fe=null}),Mt()),ee&35&&(Y=Qt(x[1].ui.s,x[0].t&&x[0].t!=-127&&x[5].c>1)),Y?Z?(Z.p(x,ee),ee&35&&te(Z,1)):(Z=fa(x),Z.c(),te(Z,1),Z.m(e,null)):Z&&(yt(),se(Z,1,1,()=>{Z=null}),Mt())},i(x){O||(te(T),te(G),te(j),te(F),te(K),te(Q),te($),te(V),te(ne),te(me),te(oe),te(ie),te(fe),te(Z),O=!0)},o(x){se(T),se(G),se(j),se(F),se(K),se(Q),se($),se(V),se(ne),se(me),se(oe),se(ie),se(fe),se(Z),O=!1},d(x){x&&M(e),T&&T.d(),G&&G.d(),j&&j.d(),F&&F.d(),K&&K.d(),Q&&Q.d(),$&&$.d(),V&&V.d(),ne&&ne.d(),me&&me.d(),oe&&oe.d(),ie&&ie.d(),fe&&fe.d(),Z&&Z.d()}}}function g1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,_,d,v,w,b,S;return t.$$set=g=>{"data"in g&&l(0,n=g.data),"sysinfo"in g&&l(1,i=g.sysinfo),"prices"in g&&l(2,s=g.prices),"dayPlot"in g&&l(3,o=g.dayPlot),"monthPlot"in g&&l(4,f=g.monthPlot),"temperatures"in g&&l(5,r=g.temperatures),"translations"in g&&l(6,c=g.translations),"tariffData"in g&&l(7,m=g.tariffData)},t.$$.update=()=>{var g,A,L,B,P,U,q,H,X,W,R,Y,O,T,G;t.$$.dirty&1793&&(l(11,_=_l((n==null?void 0:n.ic)*1e3,"Wh")),l(12,d=_l((n==null?void 0:n.ec)*1e3,"Wh")),((g=n==null?void 0:n.l1)==null?void 0:g.u)==0&&((A=n==null?void 0:n.l2)==null?void 0:A.u)==0&&((L=n==null?void 0:n.l3)==null?void 0:L.u)==0?l(8,w=l(9,b=l(10,S=l(13,v=!0)))):(l(8,w=((B=n==null?void 0:n.l1)==null?void 0:B.u)>0||((P=n==null?void 0:n.l1)==null?void 0:P.i)>0||((U=n==null?void 0:n.l1)==null?void 0:U.p)>0||((q=n==null?void 0:n.l1)==null?void 0:q.q)>0),l(9,b=((H=n==null?void 0:n.l2)==null?void 0:H.u)>0||((X=n==null?void 0:n.l2)==null?void 0:X.i)>0||((W=n==null?void 0:n.l2)==null?void 0:W.p)>0||((R=n==null?void 0:n.l2)==null?void 0:R.q)>0),l(10,S=((Y=n==null?void 0:n.l3)==null?void 0:Y.u)>0||((O=n==null?void 0:n.l3)==null?void 0:O.i)>0||((T=n==null?void 0:n.l3)==null?void 0:T.p)>0||((G=n==null?void 0:n.l3)==null?void 0:G.q)>0),l(13,v=w&&b&&S)))},[n,i,s,o,f,r,c,m,w,b,S,_,d,v]}class k1 extends Tt{constructor(e){super(),Pt(this,e,g1,v1,Ct,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const gn=al(Vi);async function ru(){Vi=await(await fetch("configuration.json")).json(),gn.set(Vi)}let Gi={};const fu=al(Gi);async function w1(){Gi=await(await fetch("priceconfig.json")).json(),fu.set(Gi)}function ua(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function ca(t){let e,l,n;return{c(){e=p("option"),e.textContent="UART0",l=h(),n=p("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){C(i,e,s),C(i,l,s),C(i,n,s)},d(i){i&&(M(e),M(l),M(n))}}}function ma(t){let e;return{c(){e=p("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function _a(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&ma(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=ma(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&M(e),l&&l.d(n)}}}function S1(t){let e,l,n,i,s=t[0]=="esp8266"&&ca(),o=et({length:t[1]+1}),f=[];for(let r=0;r<o.length;r+=1)f[r]=_a(ua(t,o,r));return{c(){e=p("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<f.length;r+=1)f[r].c();i=$t(),e.__value=-1,J(e,e.__value)},m(r,c){C(r,e,c),C(r,l,c),s&&s.m(r,c),C(r,n,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);C(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=ca(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=et({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const _=ua(r,o,m);f[m]?f[m].p(_,c):(f[m]=_a(_),f[m].c(),f[m].m(i.parentNode,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=o.length}},i:Ge,o:Ge,d(r){r&&(M(e),M(l),M(n),M(i)),s&&s.d(r),Zt(f,r)}}}function y1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class M1 extends Tt{constructor(e){super(),Pt(this,e,y1,S1,Ct,{chip:0})}}function pa(t){let e,l,n=t[1]&&da(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=da(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&M(e),n&&n.d()}}}function da(t){let e,l;return{c(){e=p("div"),l=k(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),a(e,l)},p(n,i){i&2&&N(l,n[1])},d(n){n&&M(e)}}}function C1(t){let e,l=t[0]&&pa(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=pa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ge,o:Ge,d(n){n&&M(e),l&&l.d(n)}}}function N1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class pl extends Tt{constructor(e){super(),Pt(this,e,N1,C1,Ct,{active:0,message:1})}}function ha(t,e,l){const n=t.slice();return n[1]=e[l],n}function ba(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=k("Europe/"),i=k(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p:Ge,d(s){s&&M(e)}}}function P1(t){let e,l,n,i=et(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ba(ha(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=$t(),e.__value="GMT",J(e,e.__value)},m(o,f){C(o,e,f),C(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);C(o,n,f)},p(o,[f]){if(f&1){i=et(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ha(o,i,r);s[r]?s[r].p(c,f):(s[r]=ba(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ge,o:Ge,d(o){o&&(M(e),M(l),M(n)),Zt(s,o)}}}function T1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class E1 extends Tt{constructor(e){super(),Pt(this,e,T1,P1,Ct,{})}}var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(A1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(E,y){var I;return typeof Object.create=="function"?I=Object.create(E):(l.prototype=E,I=new l,l.prototype=null),y&&f(!0,I,y),I}function o(E,y,I,D){var z=this;return typeof E!="string"&&(D=I,I=y,y=E,E=null),typeof y!="function"&&(D=I,I=y,y=function(){return z.apply(this,arguments)}),f(!1,y,z,D),y.prototype=s(z.prototype,I),y.prototype.constructor=y,y.class_=E||z.class_,y.super_=z,y}function f(E,y,I){I=i.call(arguments,2);for(var D,z,le=0,ae=I.length;le<ae;le++){z=I[le];for(D in z)(!E||n.call(z,D))&&(y[D]=z[D])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,_=m,d=_.extend(function(E,y,I){this.qrious=E,this.element=y,this.element.qrious=E,this.enabled=!!I},{draw:function(E){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(E){var y=this.qrious,I=y.padding||0,D=Math.floor((y.size-I*2)/E.width);return Math.max(1,D)},getOffset:function(E){var y=this.qrious,I=y.padding;if(I!=null)return I;var D=this.getModuleSize(E),z=Math.floor((y.size-D*E.width)/2);return Math.max(0,z)},render:function(E){this.enabled&&(this.resize(),this.reset(),this.draw(E))},reset:function(){},resize:function(){}}),v=d,w=v.extend({draw:function(E){var y,I,D=this.qrious,z=this.getModuleSize(E),le=this.getOffset(E),ae=this.element.getContext("2d");for(ae.fillStyle=D.foreground,ae.globalAlpha=D.foregroundAlpha,y=0;y<E.width;y++)for(I=0;I<E.width;I++)E.buffer[I*E.width+y]&&ae.fillRect(z*y+le,z*I+le,z,z)},reset:function(){var E=this.qrious,y=this.element.getContext("2d"),I=E.size;y.lineWidth=1,y.clearRect(0,0,I,I),y.fillStyle=E.background,y.globalAlpha=E.backgroundAlpha,y.fillRect(0,0,I,I)},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),b=w,S=_.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),g=S,A=_.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),L=A,B=_.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),P=B,U=_.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),q=U,H=_.extend(function(E){var y,I,D,z,le,ae=E.value.length;for(this._badness=[],this._level=L.LEVELS[E.level],this._polynomial=[],this._value=E.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,D=(this._level-1)*4+(this._version-1)*16,z=L.BLOCKS[D++],le=L.BLOCKS[D++],y=L.BLOCKS[D++],I=L.BLOCKS[D],D=y*(z+le)+le-3+(this._version<=9),!(ae<=D)););this._dataBlock=y,this._eccBlock=I,this._neccBlock1=z,this._neccBlock2=le;var re=this.width=17+4*this._version;this.buffer=H._createArray(re*re),this._ecc=H._createArray(y+(y+I)*(z+le)+le),this._mask=H._createArray((re*(re+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+re*(re-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ae),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(E,y){var I,D=this.buffer,z=this.width;for(D[E+z*y]=1,I=-2;I<2;I++)D[E+I+z*(y-2)]=1,D[E-2+z*(y+I+1)]=1,D[E+2+z*(y+I)]=1,D[E+I+1+z*(y+2)]=1;for(I=0;I<2;I++)this._setMask(E-1,y+I),this._setMask(E+1,y-I),this._setMask(E-I,y-1),this._setMask(E+I,y+1)},_appendData:function(E,y,I,D){var z,le,ae,re=this._polynomial,ce=this._stringBuffer;for(le=0;le<D;le++)ce[I+le]=0;for(le=0;le<y;le++){if(z=P.LOG[ce[E+le]^ce[I]],z!==255)for(ae=1;ae<D;ae++)ce[I+ae-1]=ce[I+ae]^P.EXPONENT[H._modN(z+re[D-ae])];else for(ae=I;ae<I+D;ae++)ce[ae]=ce[ae+1];ce[I+D-1]=z===255?0:P.EXPONENT[H._modN(z+re[0])]}},_appendEccToData:function(){var E,y=0,I=this._dataBlock,D=this._calculateMaxLength(),z=this._eccBlock;for(E=0;E<this._neccBlock1;E++)this._appendData(y,I,D,z),y+=I,D+=z;for(E=0;E<this._neccBlock2;E++)this._appendData(y,I+1,D,z),y+=I+1,D+=z},_applyMask:function(E){var y,I,D,z,le=this.buffer,ae=this.width;switch(E){case 0:for(z=0;z<ae;z++)for(D=0;D<ae;D++)!(D+z&1)&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 1:for(z=0;z<ae;z++)for(D=0;D<ae;D++)!(z&1)&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 2:for(z=0;z<ae;z++)for(y=0,D=0;D<ae;D++,y++)y===3&&(y=0),!y&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 3:for(I=0,z=0;z<ae;z++,I++)for(I===3&&(I=0),y=I,D=0;D<ae;D++,y++)y===3&&(y=0),!y&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 4:for(z=0;z<ae;z++)for(y=0,I=z>>1&1,D=0;D<ae;D++,y++)y===3&&(y=0,I=!I),!I&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 5:for(I=0,z=0;z<ae;z++,I++)for(I===3&&(I=0),y=0,D=0;D<ae;D++,y++)y===3&&(y=0),!((D&z&1)+!(!y|!I))&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 6:for(I=0,z=0;z<ae;z++,I++)for(I===3&&(I=0),y=0,D=0;D<ae;D++,y++)y===3&&(y=0),!((D&z&1)+(y&&y===I)&1)&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break;case 7:for(I=0,z=0;z<ae;z++,I++)for(I===3&&(I=0),y=0,D=0;D<ae;D++,y++)y===3&&(y=0),!((y&&y===I)+(D+z&1)&1)&&!this._isMasked(D,z)&&(le[D+z*ae]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var E,y,I=this._eccBlock,D=this._polynomial;for(D[0]=1,E=0;E<I;E++){for(D[E+1]=1,y=E;y>0;y--)D[y]=D[y]?D[y-1]^P.EXPONENT[H._modN(P.LOG[D[y]]+E)]:D[y-1];D[0]=P.EXPONENT[H._modN(P.LOG[D[0]]+E)]}for(E=0;E<=I;E++)D[E]=P.LOG[D[E]]},_checkBadness:function(){var E,y,I,D,z,le=0,ae=this._badness,re=this.buffer,ce=this.width;for(z=0;z<ce-1;z++)for(D=0;D<ce-1;D++)(re[D+ce*z]&&re[D+1+ce*z]&&re[D+ce*(z+1)]&&re[D+1+ce*(z+1)]||!(re[D+ce*z]||re[D+1+ce*z]||re[D+ce*(z+1)]||re[D+1+ce*(z+1)]))&&(le+=H.N2);var _e=0;for(z=0;z<ce;z++){for(I=0,ae[0]=0,E=0,D=0;D<ce;D++)y=re[D+ce*z],E===y?ae[I]++:ae[++I]=1,E=y,_e+=E?1:-1;le+=this._getBadness(I)}_e<0&&(_e=-_e);var we=0,ke=_e;for(ke+=ke<<2,ke<<=1;ke>ce*ce;)ke-=ce*ce,we++;for(le+=we*H.N4,D=0;D<ce;D++){for(I=0,ae[0]=0,E=0,z=0;z<ce;z++)y=re[D+ce*z],E===y?ae[I]++:ae[++I]=1,E=y;le+=this._getBadness(I)}return le},_convertBitStream:function(E){var y,I,D=this._ecc,z=this._version;for(I=0;I<E;I++)D[I]=this._value.charCodeAt(I);var le=this._stringBuffer=D.slice(),ae=this._calculateMaxLength();E>=ae-2&&(E=ae-2,z>9&&E--);var re=E;if(z>9){for(le[re+2]=0,le[re+3]=0;re--;)y=le[re],le[re+3]|=255&y<<4,le[re+2]=y>>4;le[2]|=255&E<<4,le[1]=E>>4,le[0]=64|E>>12}else{for(le[re+1]=0,le[re+2]=0;re--;)y=le[re],le[re+2]|=255&y<<4,le[re+1]=y>>4;le[1]|=255&E<<4,le[0]=64|E>>4}for(re=E+3-(z<10);re<ae;)le[re++]=236,le[re++]=17},_getBadness:function(E){var y,I=0,D=this._badness;for(y=0;y<=E;y++)D[y]>=5&&(I+=H.N1+D[y]-5);for(y=3;y<E-1;y+=2)D[y-2]===D[y+2]&&D[y+2]===D[y-1]&&D[y-1]===D[y+1]&&D[y-1]*3===D[y]&&(D[y-3]===0||y+3>E||D[y-3]*3>=D[y]*4||D[y+3]*3>=D[y]*4)&&(I+=H.N3);return I},_finish:function(){this._stringBuffer=this.buffer.slice();var E,y,I=0,D=3e4;for(y=0;y<8&&(this._applyMask(y),E=this._checkBadness(),E<D&&(D=E,I=y),I!==7);y++)this.buffer=this._stringBuffer.slice();I!==y&&this._applyMask(I),D=L.FINAL_FORMAT[I+(this._level-1<<3)];var z=this.buffer,le=this.width;for(y=0;y<8;y++,D>>=1)D&1&&(z[le-1-y+le*8]=1,y<6?z[8+le*y]=1:z[8+le*(y+1)]=1);for(y=0;y<7;y++,D>>=1)D&1&&(z[8+le*(le-7+y)]=1,y?z[6-y+le*8]=1:z[7+le*8]=1)},_interleaveBlocks:function(){var E,y,I=this._dataBlock,D=this._ecc,z=this._eccBlock,le=0,ae=this._calculateMaxLength(),re=this._neccBlock1,ce=this._neccBlock2,_e=this._stringBuffer;for(E=0;E<I;E++){for(y=0;y<re;y++)D[le++]=_e[E+y*I];for(y=0;y<ce;y++)D[le++]=_e[re*I+E+y*(I+1)]}for(y=0;y<ce;y++)D[le++]=_e[re*I+E+y*(I+1)];for(E=0;E<z;E++)for(y=0;y<re+ce;y++)D[le++]=_e[ae+E+y*z];this._stringBuffer=D},_insertAlignments:function(){var E,y,I,D=this._version,z=this.width;if(D>1)for(E=g.BLOCK[D],I=z-7;;){for(y=z-7;y>E-3&&(this._addAlignment(y,I),!(y<E));)y-=E;if(I<=E+9)break;I-=E,this._addAlignment(6,I),this._addAlignment(I,6)}},_insertFinders:function(){var E,y,I,D,z=this.buffer,le=this.width;for(E=0;E<3;E++){for(y=0,D=0,E===1&&(y=le-7),E===2&&(D=le-7),z[D+3+le*(y+3)]=1,I=0;I<6;I++)z[D+I+le*y]=1,z[D+le*(y+I+1)]=1,z[D+6+le*(y+I)]=1,z[D+I+1+le*(y+6)]=1;for(I=1;I<5;I++)this._setMask(D+I,y+1),this._setMask(D+1,y+I+1),this._setMask(D+5,y+I),this._setMask(D+I+1,y+5);for(I=2;I<4;I++)z[D+I+le*(y+2)]=1,z[D+2+le*(y+I+1)]=1,z[D+4+le*(y+I)]=1,z[D+I+1+le*(y+4)]=1}},_insertTimingGap:function(){var E,y,I=this.width;for(y=0;y<7;y++)this._setMask(7,y),this._setMask(I-8,y),this._setMask(7,y+I-7);for(E=0;E<8;E++)this._setMask(E,7),this._setMask(E+I-8,7),this._setMask(E,I-8)},_insertTimingRowAndColumn:function(){var E,y=this.buffer,I=this.width;for(E=0;E<I-14;E++)E&1?(this._setMask(8+E,6),this._setMask(6,8+E)):(y[8+E+I*6]=1,y[6+I*(8+E)]=1)},_insertVersion:function(){var E,y,I,D,z=this.buffer,le=this._version,ae=this.width;if(le>6)for(E=q.BLOCK[le-7],y=17,I=0;I<6;I++)for(D=0;D<3;D++,y--)1&(y>11?le>>y-12:E>>y)?(z[5-I+ae*(2-D+ae-11)]=1,z[2-D+ae-11+ae*(5-I)]=1):(this._setMask(5-I,2-D+ae-11),this._setMask(2-D+ae-11,5-I))},_isMasked:function(E,y){var I=H._getMaskBit(E,y);return this._mask[I]===1},_pack:function(){var E,y,I,D=1,z=1,le=this.width,ae=le-1,re=le-1,ce=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(y=0;y<ce;y++)for(E=this._stringBuffer[y],I=0;I<8;I++,E<<=1){128&E&&(this.buffer[ae+le*re]=1);do z?ae--:(ae++,D?re!==0?re--:(ae-=2,D=!D,ae===6&&(ae--,re=9)):re!==le-1?re++:(ae-=2,D=!D,ae===6&&(ae--,re-=8))),z=!z;while(this._isMasked(ae,re))}},_reverseMask:function(){var E,y,I=this.width;for(E=0;E<9;E++)this._setMask(E,8);for(E=0;E<8;E++)this._setMask(E+I-8,8),this._setMask(8,E);for(y=0;y<7;y++)this._setMask(8,y+I-7)},_setMask:function(E,y){var I=H._getMaskBit(E,y);this._mask[I]=1},_syncMask:function(){var E,y,I=this.width;for(y=0;y<I;y++)for(E=0;E<=y;E++)this.buffer[E+I*y]&&this._setMask(E,y)}},{_createArray:function(E){var y,I=[];for(y=0;y<E;y++)I[y]=0;return I},_getMaskBit:function(E,y){var I;return E>y&&(I=E,E=y,y=I),I=y,I+=y*y,I>>=1,I+=E,I},_modN:function(E){for(;E>=255;)E-=255,E=(E>>8)+(E&255);return E},N1:3,N2:3,N3:40,N4:10}),X=H,W=v.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),R=W,Y=_.extend(function(E,y,I,D){this.name=E,this.modifiable=!!y,this.defaultValue=I,this._valueTransformer=D},{transform:function(E){var y=this._valueTransformer;return typeof y=="function"?y(E,this):E}}),O=Y,T=_.extend(null,{abs:function(E){return E!=null?Math.abs(E):null},hasOwn:function(E,y){return Object.prototype.hasOwnProperty.call(E,y)},noop:function(){},toUpperCase:function(E){return E!=null?E.toUpperCase():null}}),G=T,j=_.extend(function(E){this.options={},E.forEach(function(y){this.options[y.name]=y},this)},{exists:function(E){return this.options[E]!=null},get:function(E,y){return j._get(this.options[E],y)},getAll:function(E){var y,I=this.options,D={};for(y in I)G.hasOwn(I,y)&&(D[y]=j._get(I[y],E));return D},init:function(E,y,I){typeof I!="function"&&(I=G.noop);var D,z;for(D in this.options)G.hasOwn(this.options,D)&&(z=this.options[D],j._set(z,z.defaultValue,y),j._createAccessor(z,y,I));this._setAll(E,y,!0)},set:function(E,y,I){return this._set(E,y,I)},setAll:function(E,y){return this._setAll(E,y)},_set:function(E,y,I,D){var z=this.options[E];if(!z)throw new Error("Invalid option: "+E);if(!z.modifiable&&!D)throw new Error("Option cannot be modified: "+E);return j._set(z,y,I)},_setAll:function(E,y,I){if(!E)return!1;var D,z=!1;for(D in E)G.hasOwn(E,D)&&this._set(D,E[D],y,I)&&(z=!0);return z}},{_createAccessor:function(E,y,I){var D={get:function(){return j._get(E,y)}};E.modifiable&&(D.set=function(z){j._set(E,z,y)&&I(z,E)}),Object.defineProperty(y,E.name,D)},_get:function(E,y){return y["_"+E.name]},_set:function(E,y,I){var D="_"+E.name,z=I[D],le=E.transform(y??E.defaultValue);return I[D]=le,le!==z}}),F=j,K=_.extend(function(){this._services={}},{getService:function(E){var y=this._services[E];if(!y)throw new Error("Service is not being managed with name: "+E);return y},setService:function(E,y){if(this._services[E])throw new Error("Service is already managed with name: "+E);y&&(this._services[E]=y)}}),Q=K,$=new F([new O("background",!0,"white"),new O("backgroundAlpha",!0,1,G.abs),new O("element"),new O("foreground",!0,"black"),new O("foregroundAlpha",!0,1,G.abs),new O("level",!0,"L",G.toUpperCase),new O("mime",!0,"image/png"),new O("padding",!0,null,G.abs),new O("size",!0,100,G.abs),new O("value",!0,"")]),V=new Q,ne=_.extend(function(E){$.init(E,this,this.update.bind(this));var y=$.get("element",this),I=V.getService("element"),D=y&&I.isCanvas(y)?y:I.createCanvas(),z=y&&I.isImage(y)?y:I.createImage();this._canvasRenderer=new b(this,D,!0),this._imageRenderer=new R(this,z,z===y),this.update()},{get:function(){return $.getAll(this)},set:function(E){$.setAll(E,this)&&this.update()},toDataURL:function(E){return this.canvas.toDataURL(E||this.mime)},update:function(){var E=new X({level:this.level,value:this.value});this._canvasRenderer.render(E),this._imageRenderer.render(E)}},{use:function(E){V.setService(E.getName(),E)}});Object.defineProperties(ne.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var me=ne,oe=me,ie=_.extend({getName:function(){}}),fe=ie,Z=fe.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(E){},isImage:function(E){}}),x=Z,ee=x.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(E){return E instanceof HTMLCanvasElement},isImage:function(E){return E instanceof HTMLImageElement}}),he=ee;oe.use(new he);var ge=oe;return ge})})(q1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function L1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const hs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function uu(t){return hs.find(e=>e.id===t)}function cu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=L1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function Tl(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function mu(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function vi(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function va(t,e,l){const n=t.slice();return n[97]=e[l],n[98]=e,n[99]=l,n}function ga(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function ka(t,e,l){const n=t.slice();return n[103]=e[l],n[105]=l,n}function D1(t,e,l){const n=t.slice();return n[106]=e[l],n}function I1(t,e,l){const n=t.slice();return n[109]=e[l],n}function O1(t,e,l){const n=t.slice();return n[112]=e[l],n}function wa(t,e,l){const n=t.slice();return n[115]=e[l],n}function Sa(t){var ul,Ae,pe,Ut,Ue,kt,fl,dl,hl,bl,nl,vl,Cl,Rl,Ul,Bl,Ke,mt,jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl;let e,l,n=(((Ae=(ul=t[2].conf)==null?void 0:ul.general)==null?void 0:Ae.title)??"General")+"",i,s,o,f,r,c,m,_,d,v=(((Ut=(pe=t[2].conf)==null?void 0:pe.general)==null?void 0:Ut.hostname)??"Hostname")+"",w,b,S,g,A,L,B=(((kt=(Ue=t[2].conf)==null?void 0:Ue.general)==null?void 0:kt.timezone)??"Time zone")+"",P,U,q,H,X,W,R,Y=(((dl=(fl=t[2].conf)==null?void 0:fl.general)==null?void 0:dl.language)??((bl=(hl=t[2].conf)==null?void 0:hl.ui)==null?void 0:bl.lang)??"Language")+"",O,T,G,j,F,K,Q,$,V,ne,me=(((vl=(nl=t[2].conf)==null?void 0:nl.price)==null?void 0:vl.region)??"Price region")+"",oe,ie,fe,Z,x,ee,he,ge,E,y,I,D,z,le,ae,re,ce,_e,we,ke,qe,De,We,Ye,xe,ve,Se,lt,ot,Nt,bt,Dt,at,tt,ct=(((Rl=(Cl=t[2].conf)==null?void 0:Cl.price)==null?void 0:Rl.currency)??"Currency")+"",Vt,vt,At,pt,It,it,ft,Pe,je,Fe,Qe,be,Re=(((Bl=(Ul=t[2].conf)==null?void 0:Ul.price)==null?void 0:Bl.enabled)??"Enabled")+"",wt,qt,rt,Ie,Ze=(((jl=(mt=(Ke=t[2].conf)==null?void 0:Ke.general)==null?void 0:mt.security)==null?void 0:jl.title)??"Security")+"",He,Te,Ee,Le,Oe,Xe=(((Kl=(Wl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:Wl.security)==null?void 0:Kl.none)??"None")+"",st,Et,Ht=(((Gl=(Vl=(zl=t[2].conf)==null?void 0:zl.general)==null?void 0:Vl.security)==null?void 0:Gl.conf)??"Conf")+"",tl,xt,Wt=(((Jl=(Xl=(Yl=t[2].conf)==null?void 0:Yl.general)==null?void 0:Xl.security)==null?void 0:Jl.all)??"All")+"",Ot,sl,Lt,$e,Rt=(((Zl=(Ql=t[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.context)??"Context")+"",Kt,dt,ut,gt,Ne,ue,ze,Je;X=new E1({});let ol=et(t[3]),zt=[];for(let Be=0;Be<ol.length;Be+=1)zt[Be]=ya(wa(t,ol,Be));let Jt=!t[7].p.t&&Ma(),cl=et(["NOK","SEK","DKK","EUR","CHF"]),rl=[];for(let Be=0;Be<5;Be+=1)rl[Be]=F1(O1(t,cl,Be));ft=new kl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[R1]},$$scope:{ctx:t}}});let Gt=t[7].p.e&&t[0].chip!="esp8266"&&Ca(t),Yt=t[7].g.s>0&&Na(t);return{c(){var Be,St;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),d=p("div"),w=k(v),b=p("br"),S=h(),g=p("input"),A=h(),L=p("div"),P=k(B),U=p("br"),q=h(),H=p("select"),Ce(X.$$.fragment),W=h(),R=p("div"),O=k(Y),T=p("br"),G=h(),j=p("select");for(let el=0;el<zt.length;el+=1)zt[el].c();F=h(),K=p("input"),Q=h(),$=p("div"),V=p("div"),ne=p("div"),oe=k(me),ie=p("br"),fe=h(),Z=p("select"),x=p("optgroup"),Jt&&Jt.c(),ee=p("option"),ee.textContent="NO1",he=p("option"),he.textContent="NO2",ge=p("option"),ge.textContent="NO3",E=p("option"),E.textContent="NO4",y=p("option"),y.textContent="NO5",I=p("optgroup"),D=p("option"),D.textContent="SE1",z=p("option"),z.textContent="SE2",le=p("option"),le.textContent="SE3",ae=p("option"),ae.textContent="SE4",re=p("optgroup"),ce=p("option"),ce.textContent="DK1",_e=p("option"),_e.textContent="DK2",we=p("option"),we.textContent="Austria",ke=p("option"),ke.textContent="Belgium",qe=p("option"),qe.textContent="Czech Republic",De=p("option"),De.textContent="Estonia",We=p("option"),We.textContent="Finland",Ye=p("option"),Ye.textContent="France",xe=p("option"),xe.textContent="Germany",ve=p("option"),ve.textContent="Great Britain",Se=p("option"),Se.textContent="Latvia",lt=p("option"),lt.textContent="Lithuania",ot=p("option"),ot.textContent="Netherland",Nt=p("option"),Nt.textContent="Poland",bt=p("option"),bt.textContent="Slovenia",Dt=p("option"),Dt.textContent="Switzerland",at=h(),tt=p("div"),Vt=k(ct),vt=p("br"),At=h(),pt=p("select");for(let el=0;el<5;el+=1)rl[el].c();It=h(),it=p("div"),Ce(ft.$$.fragment),Pe=h(),je=p("div"),Fe=p("label"),Qe=p("input"),be=h(),wt=k(Re),qt=h(),Gt&&Gt.c(),rt=h(),Ie=p("div"),He=k(Ze),Te=p("br"),Ee=h(),Le=p("select"),Oe=p("option"),st=k(Xe),Et=p("option"),tl=k(Ht),xt=p("option"),Ot=k(Wt),sl=h(),Yt&&Yt.c(),Lt=h(),$e=p("div"),Kt=k(Rt),dt=p("br"),ut=h(),gt=p("input"),u(l,"class","text-sm"),u(o,"href",Al("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(g,"name","gh"),u(g,"type","text"),u(g,"class","in-f w-full"),u(g,"pattern",Yn),u(H,"name","gt"),u(H,"class","in-l w-full"),t[7].g.t===void 0&&Bt(()=>t[28].call(H)),u(_,"class","flex"),u(m,"class","my-1"),u(j,"name","ulang"),u(j,"class","in-s"),t[7].u.lang===void 0&&Bt(()=>t[29].call(j)),u(R,"class","my-1"),u(K,"type","hidden"),u(K,"name","p"),K.value="true",ee.__value="10YNO-1--------2",J(ee,ee.__value),he.__value="10YNO-2--------T",J(he,he.__value),ge.__value="10YNO-3--------J",J(ge,ge.__value),E.__value="10YNO-4--------9",J(E,E.__value),y.__value="10Y1001A1001A48H",J(y,y.__value),u(x,"label","Norway"),D.__value="10Y1001A1001A44P",J(D,D.__value),z.__value="10Y1001A1001A45N",J(z,z.__value),le.__value="10Y1001A1001A46L",J(le,le.__value),ae.__value="10Y1001A1001A47J",J(ae,ae.__value),u(I,"label","Sweden"),ce.__value="10YDK-1--------W",J(ce,ce.__value),_e.__value="10YDK-2--------M",J(_e,_e.__value),u(re,"label","Denmark"),we.__value="10YAT-APG------L",J(we,we.__value),ke.__value="10YBE----------2",J(ke,ke.__value),qe.__value="10YCZ-CEPS-----N",J(qe,qe.__value),De.__value="10Y1001A1001A39I",J(De,De.__value),We.__value="10YFI-1--------U",J(We,We.__value),Ye.__value="10YFR-RTE------C",J(Ye,Ye.__value),xe.__value="10Y1001A1001A83F",J(xe,xe.__value),ve.__value="10YGB----------A",J(ve,ve.__value),Se.__value="10YLV-1001A00074",J(Se,Se.__value),lt.__value="10YLT-1001A0008Q",J(lt,lt.__value),ot.__value="10YNL----------L",J(ot,ot.__value),Nt.__value="10YPL-AREA-----S",J(Nt,Nt.__value),bt.__value="10YSI-ELES-----O",J(bt,bt.__value),Dt.__value="10YCH-SWISSGRIDZ",J(Dt,Dt.__value),u(Z,"name","pr"),u(Z,"class","in-f w-full"),t[7].p.r===void 0&&Bt(()=>t[30].call(Z)),u(ne,"class","w-full"),u(pt,"name","pc"),u(pt,"class","in-l"),t[7].p.c===void 0&&Bt(()=>t[31].call(pt)),u(V,"class","flex"),u($,"class","my-1"),u(it,"class","my-1"),u(Qe,"type","checkbox"),u(Qe,"name","pe"),Qe.__value="true",J(Qe,Qe.__value),u(Qe,"class","rounded mb-1"),u(je,"class","my-1"),Oe.__value=0,J(Oe,Oe.__value),Et.__value=1,J(Et,Et.__value),xt.__value=2,J(xt,xt.__value),u(Le,"name","gs"),u(Le,"class","in-s"),t[7].g.s===void 0&&Bt(()=>t[34].call(Le)),u(Ie,"class","my-1"),u(gt,"name","gc"),u(gt,"type","text"),u(gt,"pattern",Yn),u(gt,"placeholder",Ne=((St=(Be=t[2].conf)==null?void 0:Be.general)==null?void 0:St.context_placeholder)??"/"),u(gt,"class","in-s"),u(gt,"maxlength","36"),u($e,"class","my-1"),u(e,"class","cnt")},m(Be,St){C(Be,e,St),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,d),a(d,w),a(d,b),a(d,S),a(d,g),J(g,t[7].g.h),a(_,A),a(_,L),a(L,P),a(L,U),a(L,q),a(L,H),ye(X,H,null),nt(H,t[7].g.t,!0),a(e,W),a(e,R),a(R,O),a(R,T),a(R,G),a(R,j);for(let el=0;el<zt.length;el+=1)zt[el]&&zt[el].m(j,null);nt(j,t[7].u.lang,!0),a(e,F),a(e,K),a(e,Q),a(e,$),a($,V),a(V,ne),a(ne,oe),a(ne,ie),a(ne,fe),a(ne,Z),a(Z,x),Jt&&Jt.m(x,null),a(x,ee),a(x,he),a(x,ge),a(x,E),a(x,y),a(Z,I),a(I,D),a(I,z),a(I,le),a(I,ae),a(Z,re),a(re,ce),a(re,_e),a(Z,we),a(Z,ke),a(Z,qe),a(Z,De),a(Z,We),a(Z,Ye),a(Z,xe),a(Z,ve),a(Z,Se),a(Z,lt),a(Z,ot),a(Z,Nt),a(Z,bt),a(Z,Dt),nt(Z,t[7].p.r,!0),a(V,at),a(V,tt),a(tt,Vt),a(tt,vt),a(tt,At),a(tt,pt);for(let el=0;el<5;el+=1)rl[el]&&rl[el].m(pt,null);nt(pt,t[7].p.c,!0),a(e,It),a(e,it),ye(ft,it,null),a(e,Pe),a(e,je),a(je,Fe),a(Fe,Qe),Qe.checked=t[7].p.e,a(Fe,be),a(Fe,wt),a(je,qt),Gt&&Gt.m(je,null),a(e,rt),a(e,Ie),a(Ie,He),a(Ie,Te),a(Ie,Ee),a(Ie,Le),a(Le,Oe),a(Oe,st),a(Le,Et),a(Et,tl),a(Le,xt),a(xt,Ot),nt(Le,t[7].g.s,!0),a(e,sl),Yt&&Yt.m(e,null),a(e,Lt),a(e,$e),a($e,Kt),a($e,dt),a($e,ut),a($e,gt),J(gt,t[7].g.c),ue=!0,ze||(Je=[de(g,"input",t[27]),de(H,"change",t[28]),de(j,"change",t[29]),de(j,"change",t[22]),de(Z,"change",t[30]),de(Z,"change",t[25]),de(pt,"change",t[31]),de(Qe,"change",t[32]),de(Le,"change",t[34]),de(gt,"input",t[37])],ze=!0)},p(Be,St){var $l,xl,yn,Mn,Cn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On,vs,gs,ks,ws,Ss,ys,Ms,Cs,Ns,Ps,Ts,Es,As,qs,Ls,Ds,Is;if((!ue||St[0]&4)&&n!==(n=(((xl=($l=Be[2].conf)==null?void 0:$l.general)==null?void 0:xl.title)??"General")+"")&&N(i,n),(!ue||St[0]&4)&&v!==(v=(((Mn=(yn=Be[2].conf)==null?void 0:yn.general)==null?void 0:Mn.hostname)??"Hostname")+"")&&N(w,v),St[0]&128&&g.value!==Be[7].g.h&&J(g,Be[7].g.h),(!ue||St[0]&4)&&B!==(B=(((Nn=(Cn=Be[2].conf)==null?void 0:Cn.general)==null?void 0:Nn.timezone)??"Time zone")+"")&&N(P,B),St[0]&128&&nt(H,Be[7].g.t),(!ue||St[0]&4)&&Y!==(Y=(((Tn=(Pn=Be[2].conf)==null?void 0:Pn.general)==null?void 0:Tn.language)??((An=(En=Be[2].conf)==null?void 0:En.ui)==null?void 0:An.lang)??"Language")+"")&&N(O,Y),St[0]&8){ol=et(Be[3]);let wl;for(wl=0;wl<ol.length;wl+=1){const Os=wa(Be,ol,wl);zt[wl]?zt[wl].p(Os,St):(zt[wl]=ya(Os),zt[wl].c(),zt[wl].m(j,null))}for(;wl<zt.length;wl+=1)zt[wl].d(1);zt.length=ol.length}St[0]&128&&nt(j,Be[7].u.lang),(!ue||St[0]&4)&&me!==(me=(((Ln=(qn=Be[2].conf)==null?void 0:qn.price)==null?void 0:Ln.region)??"Price region")+"")&&N(oe,me),Be[7].p.t?Jt&&(Jt.d(1),Jt=null):Jt||(Jt=Ma(),Jt.c(),Jt.m(x,ee)),St[0]&128&&nt(Z,Be[7].p.r),(!ue||St[0]&4)&&ct!==(ct=(((In=(Dn=Be[2].conf)==null?void 0:Dn.price)==null?void 0:In.currency)??"Currency")+"")&&N(Vt,ct),St[0]&128&&nt(pt,Be[7].p.c);const el={};St[0]&4|St[3]&33554432&&(el.$$scope={dirty:St,ctx:Be}),ft.$set(el),St[0]&128&&(Qe.checked=Be[7].p.e),(!ue||St[0]&4)&&Re!==(Re=(((vs=(On=Be[2].conf)==null?void 0:On.price)==null?void 0:vs.enabled)??"Enabled")+"")&&N(wt,Re),Be[7].p.e&&Be[0].chip!="esp8266"?Gt?Gt.p(Be,St):(Gt=Ca(Be),Gt.c(),Gt.m(je,null)):Gt&&(Gt.d(1),Gt=null),(!ue||St[0]&4)&&Ze!==(Ze=(((ws=(ks=(gs=Be[2].conf)==null?void 0:gs.general)==null?void 0:ks.security)==null?void 0:ws.title)??"Security")+"")&&N(He,Ze),(!ue||St[0]&4)&&Xe!==(Xe=(((Ms=(ys=(Ss=Be[2].conf)==null?void 0:Ss.general)==null?void 0:ys.security)==null?void 0:Ms.none)??"None")+"")&&N(st,Xe),(!ue||St[0]&4)&&Ht!==(Ht=(((Ps=(Ns=(Cs=Be[2].conf)==null?void 0:Cs.general)==null?void 0:Ns.security)==null?void 0:Ps.conf)??"Conf")+"")&&N(tl,Ht),(!ue||St[0]&4)&&Wt!==(Wt=(((As=(Es=(Ts=Be[2].conf)==null?void 0:Ts.general)==null?void 0:Es.security)==null?void 0:As.all)??"All")+"")&&N(Ot,Wt),St[0]&128&&nt(Le,Be[7].g.s),Be[7].g.s>0?Yt?Yt.p(Be,St):(Yt=Na(Be),Yt.c(),Yt.m(e,Lt)):Yt&&(Yt.d(1),Yt=null),(!ue||St[0]&4)&&Rt!==(Rt=(((Ls=(qs=Be[2].conf)==null?void 0:qs.general)==null?void 0:Ls.context)??"Context")+"")&&N(Kt,Rt),(!ue||St[0]&4&&Ne!==(Ne=((Is=(Ds=Be[2].conf)==null?void 0:Ds.general)==null?void 0:Is.context_placeholder)??"/"))&&u(gt,"placeholder",Ne),St[0]&128&&gt.value!==Be[7].g.c&&J(gt,Be[7].g.c)},i(Be){ue||(te(X.$$.fragment,Be),te(ft.$$.fragment,Be),ue=!0)},o(Be){se(X.$$.fragment,Be),se(ft.$$.fragment,Be),ue=!1},d(Be){Be&&M(e),Me(X),Zt(zt,Be),Jt&&Jt.d(),Zt(rl,Be),Me(ft),Gt&&Gt.d(),Yt&&Yt.d(),ze=!1,jt(Je)}}}function ya(t){let e,l=t[115].name+"",n,i;return{c(){e=p("option"),n=k(l),e.__value=i=t[115].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&8&&l!==(l=s[115].name+"")&&N(n,l),o[0]&8&&i!==(i=s[115].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function Ma(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f),C(o,i,f),C(o,s,f)},d(o){o&&(M(e),M(l),M(n),M(i),M(s))}}}function F1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112]}`,e.__value=t[112],J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function R1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&N(l,e)},d(s){s&&M(l)}}}function Ca(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",Yn)},m(o,f){C(o,e,f),C(o,l,f),J(l,t[7].p.t),i||(s=de(l,"input",t[33]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&128&&l.value!==o[7].p.t&&J(l,o[7].p.t)},d(o){o&&(M(e),M(l)),i=!1,s()}}}function Na(t){var S,g,A,L,B,P;let e,l=(((A=(g=(S=t[2].conf)==null?void 0:S.general)==null?void 0:g.security)==null?void 0:A.username)??"Username")+"",n,i,s,o,f,r,c=(((P=(B=(L=t[2].conf)==null?void 0:L.general)==null?void 0:B.security)==null?void 0:P.password)??"Password")+"",m,_,d,v,w,b;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),f=h(),r=p("div"),m=k(c),_=p("br"),d=h(),v=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",ln),u(e,"class","my-1"),u(v,"name","gp"),u(v,"type","password"),u(v,"class","in-s"),u(v,"maxlength","36"),u(v,"pattern",ln),u(r,"class","my-1")},m(U,q){C(U,e,q),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].g.u),C(U,f,q),C(U,r,q),a(r,m),a(r,_),a(r,d),a(r,v),J(v,t[7].g.p),w||(b=[de(o,"input",t[35]),de(v,"input",t[36])],w=!0)},p(U,q){var H,X,W,R,Y,O;q[0]&4&&l!==(l=(((W=(X=(H=U[2].conf)==null?void 0:H.general)==null?void 0:X.security)==null?void 0:W.username)??"Username")+"")&&N(n,l),q[0]&128&&o.value!==U[7].g.u&&J(o,U[7].g.u),q[0]&4&&c!==(c=(((O=(Y=(R=U[2].conf)==null?void 0:R.general)==null?void 0:Y.security)==null?void 0:O.password)??"Password")+"")&&N(m,c),q[0]&128&&v.value!==U[7].g.p&&J(v,U[7].g.p)},d(U){U&&(M(e),M(f),M(r)),w=!1,jt(b)}}}function Pa(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y=oi(t[7].fw.s)+"",O,T,G=oi(t[7].fw.e)+"",j,F,K,Q,$,V;function ne(ie,fe){var Z,x,ee,he;return((x=(Z=ie[0])==null?void 0:Z.upgrade)==null?void 0:x.m)===!0?j1:(he=(ee=ie[0])==null?void 0:ee.upgrade)!=null&&he.n?B1:U1}let me=ne(t),oe=me(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=k(`
                    Enable nightly auto-updates`),m=h(),_=p("div"),d=p("div"),v=k("Start hour"),w=p("br"),b=h(),S=p("input"),A=h(),L=p("div"),B=k("End hour"),P=p("br"),U=h(),q=p("input"),X=h(),W=p("div"),R=k("When enabled, the device will install available updates once per night between "),O=k(Y),T=k(" and "),j=k(G),F=k(" using its local time zone."),K=h(),Q=p("div"),oe.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(S,"name","fws"),u(S,"type","number"),u(S,"min","0"),u(S,"max","23"),u(S,"class","in-s w-full"),S.disabled=g=!t[7].fw.a,u(q,"name","fwe"),u(q,"type","number"),u(q,"min","0"),u(q,"max","23"),u(q,"class","in-s w-full"),q.disabled=H=!t[7].fw.a,u(_,"class","my-1 grid grid-cols-2 gap-2"),u(W,"class","my-1 text-xs text-gray-500"),u(Q,"class","my-1 text-xs"),u(e,"class","cnt")},m(ie,fe){C(ie,e,fe),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[7].fw.a,a(f,c),a(e,m),a(e,_),a(_,d),a(d,v),a(d,w),a(d,b),a(d,S),J(S,t[7].fw.s),a(_,A),a(_,L),a(L,B),a(L,P),a(L,U),a(L,q),J(q,t[7].fw.e),a(e,X),a(e,W),a(W,R),a(W,O),a(W,T),a(W,j),a(W,F),a(e,K),a(e,Q),oe.m(Q,null),$||(V=[de(r,"change",t[38]),de(S,"input",t[39]),de(q,"input",t[40])],$=!0)},p(ie,fe){fe[0]&128&&(r.checked=ie[7].fw.a),fe[0]&128&&g!==(g=!ie[7].fw.a)&&(S.disabled=g),fe[0]&128&&_t(S.value)!==ie[7].fw.s&&J(S,ie[7].fw.s),fe[0]&128&&H!==(H=!ie[7].fw.a)&&(q.disabled=H),fe[0]&128&&_t(q.value)!==ie[7].fw.e&&J(q,ie[7].fw.e),fe[0]&128&&Y!==(Y=oi(ie[7].fw.s)+"")&&N(O,Y),fe[0]&128&&G!==(G=oi(ie[7].fw.e)+"")&&N(j,G),me===(me=ne(ie))&&oe?oe.p(ie,fe):(oe.d(1),oe=me(ie),oe&&(oe.c(),oe.m(Q,null)))},d(ie){ie&&M(e),oe.d(),$=!1,jt(V)}}}function U1(t){let e;return{c(){e=k("Checking for updates…")},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function B1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=k("Latest available: "),n=k(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&N(n,l)},d(i){i&&(M(e),M(n))}}}function j1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function Ta(t){var Et,Ht,tl,xt,Wt,Ot,sl,Lt,$e,Rt,Kt,dt,ut,gt,Ne,ue,ze,Je,ol,zt,Jt,cl,rl,Gt,Yt,ul,Ae,pe,Ut;let e,l,n=(((Ht=(Et=t[2].conf)==null?void 0:Et.meter)==null?void 0:Ht.title)??"Meter")+"",i,s,o,f,r,c,m,_,d,v,w=(((Wt=(xt=(tl=t[2].conf)==null?void 0:tl.meter)==null?void 0:xt.preset)==null?void 0:Wt.title)??"Meter preset")+"",b,S,g,A,L,B=(((Lt=(sl=(Ot=t[2].conf)==null?void 0:Ot.meter)==null?void 0:sl.preset)==null?void 0:Lt.manual)??"Manual configuration")+"",P,U,q,H,X,W=(((Kt=(Rt=($e=t[2].conf)==null?void 0:$e.meter)==null?void 0:Rt.comm)==null?void 0:Kt.title)??"Communication")+"",R,Y,O,T,G,j=(((gt=(ut=(dt=t[2].conf)==null?void 0:dt.meter)==null?void 0:ut.comm)==null?void 0:gt.passive)??"Passive")+"",F,K,Q=(((ze=(ue=(Ne=t[2].conf)==null?void 0:Ne.meter)==null?void 0:ue.comm)==null?void 0:ze.pulse)??"Pulse")+"",$,V=(ol=(Je=t[0])==null?void 0:Je.features)==null?void 0:ol.includes("kmp"),ne,me,oe,ie=(((zt=t[2].common)==null?void 0:zt.voltage)??"Voltage")+"",fe,Z,x,ee,he,ge,E,y,I,D=(((cl=(Jt=t[2].conf)==null?void 0:Jt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",z,le,ae,re,ce,_e,we,ke,qe,De=(((Gt=(rl=t[2].conf)==null?void 0:rl.meter)==null?void 0:Gt.prod)??"Production")+"",We,Ye,xe,ve,Se,lt,ot,Nt,bt,Dt,at,tt,ct,Vt,vt=(((ul=(Yt=t[2].conf)==null?void 0:Yt.meter)==null?void 0:ul.encrypted)??"Encrypted")+"",At,pt,It,it,ft,Pe,je,Fe=(((Ut=(pe=(Ae=t[2].conf)==null?void 0:Ae.meter)==null?void 0:pe.multipliers)==null?void 0:Ut.title)??"Multipliers")+"",Qe,be,Re,wt,qt=et(hs),rt=[];for(let Ue=0;Ue<qt.length;Ue+=1)rt[Ue]=H1(I1(t,qt,Ue));let Ie=t[8]&&Ea(t),Ze=t[9]&&Aa(t),He=V&&La();function Te(Ue,kt){return Ue[7].m.a===2?K1:W1}let Ee=Te(t),Le=Ee(t),Oe=t[7].m.e.e&&Da(t),Xe=t[7].m.e.e&&Ia(t),st=t[7].m.m.e&&Oa(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("input"),_=h(),d=p("div"),v=p("label"),b=k(w),S=h(),g=p("div"),A=p("select"),L=p("option"),P=k(B);for(let Ue=0;Ue<rt.length;Ue+=1)rt[Ue].c();U=h(),Ie&&Ie.c(),q=h(),Ze&&Ze.c(),H=h(),X=p("div"),R=k(W),Y=p("br"),O=h(),T=p("select"),G=p("option"),F=k(j),K=p("option"),$=k(Q),He&&He.c(),ne=h(),Le.c(),me=h(),oe=p("div"),fe=k(ie),Z=p("br"),x=h(),ee=p("select"),he=p("option"),he.textContent="400V (TN)",ge=p("option"),ge.textContent="230V (IT/TT)",E=h(),y=p("div"),I=p("div"),z=k(D),le=p("br"),ae=h(),re=p("label"),ce=p("input"),_e=h(),we=p("span"),we.textContent="A",ke=h(),qe=p("div"),We=k(De),Ye=p("br"),xe=h(),ve=p("label"),Se=p("input"),lt=h(),ot=p("span"),ot.textContent="kWp",Nt=h(),bt=p("div"),bt.innerHTML="",Dt=h(),at=p("div"),tt=p("label"),ct=p("input"),Vt=h(),At=k(vt),pt=h(),Oe&&Oe.c(),It=h(),Xe&&Xe.c(),it=h(),ft=p("label"),Pe=p("input"),je=h(),Qe=k(Fe),be=h(),st&&st.c(),u(l,"class","text-sm"),u(o,"href",Al("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(v,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(v,"for","meter-preset-select"),L.__value="",J(L,L.__value),u(A,"id","meter-preset-select"),u(A,"class","in-s w-full"),t[8]===void 0&&Bt(()=>t[41].call(A)),u(g,"class","mt-1 flex gap-2"),u(d,"class","my-1"),G.__value=0,J(G,G.__value),K.__value=2,J(K,K.__value),u(T,"name","ma"),u(T,"class","in-s"),t[7].m.a===void 0&&Bt(()=>t[43].call(T)),u(X,"class","my-1"),he.__value=2,J(he,he.__value),ge.__value=1,J(ge,ge.__value),u(ee,"name","md"),u(ee,"class","in-s"),t[7].m.d===void 0&&Bt(()=>t[49].call(ee)),u(oe,"class","my-1"),u(ce,"name","mf"),u(ce,"type","number"),u(ce,"min","5"),u(ce,"max","65535"),u(ce,"class","in-f tr w-full"),u(we,"class","in-post"),u(re,"class","flex"),u(I,"class","mx-1"),u(Se,"name","mr"),u(Se,"type","number"),u(Se,"min","0"),u(Se,"max","65535"),u(Se,"class","in-f tr w-full"),u(ot,"class","in-post"),u(ve,"class","flex"),u(qe,"class","mx-1"),u(y,"class","my-1 flex"),u(bt,"class","my-1"),u(ct,"type","checkbox"),u(ct,"name","me"),ct.__value="true",J(ct,ct.__value),u(ct,"class","rounded mb-1"),u(at,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",J(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(Ue,kt){C(Ue,e,kt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,_),a(e,d),a(d,v),a(v,b),a(d,S),a(d,g),a(g,A),a(A,L),a(L,P);for(let fl=0;fl<rt.length;fl+=1)rt[fl]&&rt[fl].m(A,null);nt(A,t[8],!0),a(g,U),Ie&&Ie.m(g,null),a(d,q),Ze&&Ze.m(d,null),a(e,H),a(e,X),a(X,R),a(X,Y),a(X,O),a(X,T),a(T,G),a(G,F),a(T,K),a(K,$),He&&He.m(T,null),nt(T,t[7].m.a,!0),a(e,ne),Le.m(e,null),a(e,me),a(e,oe),a(oe,fe),a(oe,Z),a(oe,x),a(oe,ee),a(ee,he),a(ee,ge),nt(ee,t[7].m.d,!0),a(e,E),a(e,y),a(y,I),a(I,z),a(I,le),a(I,ae),a(I,re),a(re,ce),J(ce,t[7].m.f),a(re,_e),a(re,we),a(y,ke),a(y,qe),a(qe,We),a(qe,Ye),a(qe,xe),a(qe,ve),a(ve,Se),J(Se,t[7].m.r),a(ve,lt),a(ve,ot),a(e,Nt),a(e,bt),a(e,Dt),a(e,at),a(at,tt),a(tt,ct),ct.checked=t[7].m.e.e,a(tt,Vt),a(tt,At),a(at,pt),Oe&&Oe.m(at,null),a(e,It),Xe&&Xe.m(e,null),a(e,it),a(e,ft),a(ft,Pe),Pe.checked=t[7].m.m.e,a(ft,je),a(ft,Qe),a(e,be),st&&st.m(e,null),Re||(wt=[de(A,"change",t[41]),de(A,"change",t[42]),de(T,"change",t[43]),de(ee,"change",t[49]),de(ce,"input",t[50]),de(Se,"input",t[51]),de(ct,"change",t[52]),de(Pe,"change",t[55])],Re=!0)},p(Ue,kt){var fl,dl,hl,bl,nl,vl,Cl,Rl,Ul,Bl,Ke,mt,jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,Be,St,el,$l,xl;kt[0]&4&&n!==(n=(((dl=(fl=Ue[2].conf)==null?void 0:fl.meter)==null?void 0:dl.title)??"Meter")+"")&&N(i,n),kt[0]&4&&w!==(w=(((nl=(bl=(hl=Ue[2].conf)==null?void 0:hl.meter)==null?void 0:bl.preset)==null?void 0:nl.title)??"Meter preset")+"")&&N(b,w),kt[0]&4&&B!==(B=(((Rl=(Cl=(vl=Ue[2].conf)==null?void 0:vl.meter)==null?void 0:Cl.preset)==null?void 0:Rl.manual)??"Manual configuration")+"")&&N(P,B),kt[0]&256&&nt(A,Ue[8]),Ue[8]?Ie?Ie.p(Ue,kt):(Ie=Ea(Ue),Ie.c(),Ie.m(g,null)):Ie&&(Ie.d(1),Ie=null),Ue[9]?Ze?Ze.p(Ue,kt):(Ze=Aa(Ue),Ze.c(),Ze.m(d,null)):Ze&&(Ze.d(1),Ze=null),kt[0]&4&&W!==(W=(((Ke=(Bl=(Ul=Ue[2].conf)==null?void 0:Ul.meter)==null?void 0:Bl.comm)==null?void 0:Ke.title)??"Communication")+"")&&N(R,W),kt[0]&4&&j!==(j=(((Hl=(jl=(mt=Ue[2].conf)==null?void 0:mt.meter)==null?void 0:jl.comm)==null?void 0:Hl.passive)??"Passive")+"")&&N(F,j),kt[0]&4&&Q!==(Q=(((zl=(Kl=(Wl=Ue[2].conf)==null?void 0:Wl.meter)==null?void 0:Kl.comm)==null?void 0:zl.pulse)??"Pulse")+"")&&N($,Q),kt[0]&1&&(V=(Gl=(Vl=Ue[0])==null?void 0:Vl.features)==null?void 0:Gl.includes("kmp")),V?He||(He=La(),He.c(),He.m(T,null)):He&&(He.d(1),He=null),kt[0]&128&&nt(T,Ue[7].m.a),Ee===(Ee=Te(Ue))&&Le?Le.p(Ue,kt):(Le.d(1),Le=Ee(Ue),Le&&(Le.c(),Le.m(e,me))),kt[0]&4&&ie!==(ie=(((Yl=Ue[2].common)==null?void 0:Yl.voltage)??"Voltage")+"")&&N(fe,ie),kt[0]&128&&nt(ee,Ue[7].m.d),kt[0]&4&&D!==(D=(((Jl=(Xl=Ue[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.fuse)??"Main fuse")+"")&&N(z,D),kt[0]&128&&_t(ce.value)!==Ue[7].m.f&&J(ce,Ue[7].m.f),kt[0]&4&&De!==(De=(((Zl=(Ql=Ue[2].conf)==null?void 0:Ql.meter)==null?void 0:Zl.prod)??"Production")+"")&&N(We,De),kt[0]&128&&_t(Se.value)!==Ue[7].m.r&&J(Se,Ue[7].m.r),kt[0]&128&&(ct.checked=Ue[7].m.e.e),kt[0]&4&&vt!==(vt=(((St=(Be=Ue[2].conf)==null?void 0:Be.meter)==null?void 0:St.encrypted)??"Encrypted")+"")&&N(At,vt),Ue[7].m.e.e?Oe?Oe.p(Ue,kt):(Oe=Da(Ue),Oe.c(),Oe.m(at,null)):Oe&&(Oe.d(1),Oe=null),Ue[7].m.e.e?Xe?Xe.p(Ue,kt):(Xe=Ia(Ue),Xe.c(),Xe.m(e,it)):Xe&&(Xe.d(1),Xe=null),kt[0]&128&&(Pe.checked=Ue[7].m.m.e),kt[0]&4&&Fe!==(Fe=(((xl=($l=(el=Ue[2].conf)==null?void 0:el.meter)==null?void 0:$l.multipliers)==null?void 0:xl.title)??"Multipliers")+"")&&N(Qe,Fe),Ue[7].m.m.e?st?st.p(Ue,kt):(st=Oa(Ue),st.c(),st.m(e,null)):st&&(st.d(1),st=null)},d(Ue){Ue&&M(e),Zt(rt,Ue),Ie&&Ie.d(),Ze&&Ze.d(),He&&He.d(),Le.d(),Oe&&Oe.d(),Xe&&Xe.d(),st&&st.d(),Re=!1,jt(wt)}}}function H1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109].label}`,e.__value=t[109].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function Ea(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=de(e,"click",t[24]),i=!0)},p(c,m){var _,d,v;m[0]&4&&l!==(l=(((v=(d=(_=c[2].conf)==null?void 0:_.meter)==null?void 0:d.preset)==null?void 0:v.clear)??"Clear")+"")&&N(n,l)},d(c){c&&M(e),i=!1,s()}}}function Aa(t){let e,l=vi(t[9])+"",n,i,s=t[9].notes&&qa(t);return{c(){e=p("div"),n=k(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=vi(o[9])+"")&&N(n,l),o[9].notes?s?s.p(o,f):(s=qa(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&M(e),s&&s.d()}}}function qa(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&N(n,l)},d(i){i&&M(e)}}}function La(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function W1(t){var me,oe,ie,fe,Z,x;let e,l,n=(((oe=(me=t[2].conf)==null?void 0:me.meter)==null?void 0:oe.buffer)??"Buffer size")+"",i,s,o,f=(((fe=(ie=t[2].conf)==null?void 0:ie.meter)==null?void 0:fe.serial)??"Serial conf.")+"",r,c,m,_,d,v=(((x=(Z=t[2].conf)==null?void 0:Z.meter)==null?void 0:x.inverted)??"inverted")+"",w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y,O,T,G,j,F,K,Q,$,V=et([3,12,24,48,96,192,384,576,1152]),ne=[];for(let ee=0;ee<9;ee+=1)ne[ee]=z1(D1(t,V,ee));return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("span"),r=k(f),c=h(),m=p("label"),_=p("input"),d=h(),w=k(v),b=h(),S=p("div"),g=p("select"),A=p("option"),L=k("Autodetect");for(let ee=0;ee<9;ee+=1)ne[ee].c();P=h(),U=p("select"),q=p("option"),H=k("-"),W=p("option"),W.textContent="7N1",R=p("option"),R.textContent="8N1",Y=p("option"),Y.textContent="8N2",O=p("option"),O.textContent="7E1",T=p("option"),T.textContent="8E1",j=h(),F=p("input"),u(l,"class","float-right"),u(_,"name","mi"),_.__value="true",J(_,_.__value),u(_,"type","checkbox"),u(_,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),A.__value=0,J(A,A.__value),A.disabled=B=t[7].m.b!=0,u(g,"name","mb"),u(g,"class","in-f tr w-1/2"),t[7].m.b===void 0&&Bt(()=>t[46].call(g)),q.__value=0,J(q,q.__value),q.disabled=X=t[7].m.b!=0,W.__value=2,J(W,W.__value),R.__value=3,J(R,R.__value),Y.__value=7,J(Y,Y.__value),O.__value=10,J(O,O.__value),T.__value=11,J(T,T.__value),u(U,"name","mp"),u(U,"class","in-m"),U.disabled=G=t[7].m.b==0,t[7].m.p===void 0&&Bt(()=>t[47].call(U)),u(F,"name","ms"),u(F,"type","number"),u(F,"min",64),u(F,"max",K=t[0].chip=="esp8266"?t[7].i.h.p==3||t[7].i.h.p==113?512:256:4096),u(F,"step",64),u(F,"class","in-l tr w-1/2"),u(S,"class","flex w-full"),u(e,"class","my-1")},m(ee,he){C(ee,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,_),_.checked=t[7].m.i,a(m,d),a(m,w),a(e,b),a(e,S),a(S,g),a(g,A),a(A,L);for(let ge=0;ge<9;ge+=1)ne[ge]&&ne[ge].m(g,null);nt(g,t[7].m.b,!0),a(S,P),a(S,U),a(U,q),a(q,H),a(U,W),a(U,R),a(U,Y),a(U,O),a(U,T),nt(U,t[7].m.p,!0),a(S,j),a(S,F),J(F,t[7].m.s),Q||($=[de(_,"change",t[45]),de(g,"change",t[46]),de(U,"change",t[47]),de(F,"input",t[48])],Q=!0)},p(ee,he){var ge,E,y,I,D,z;he[0]&4&&n!==(n=(((E=(ge=ee[2].conf)==null?void 0:ge.meter)==null?void 0:E.buffer)??"Buffer size")+"")&&N(i,n),he[0]&4&&f!==(f=(((I=(y=ee[2].conf)==null?void 0:y.meter)==null?void 0:I.serial)??"Serial conf.")+"")&&N(r,f),he[0]&128&&(_.checked=ee[7].m.i),he[0]&4&&v!==(v=(((z=(D=ee[2].conf)==null?void 0:D.meter)==null?void 0:z.inverted)??"inverted")+"")&&N(w,v),he[0]&128&&B!==(B=ee[7].m.b!=0)&&(A.disabled=B),he[0]&128&&nt(g,ee[7].m.b),he[0]&128&&X!==(X=ee[7].m.b!=0)&&(q.disabled=X),he[0]&128&&G!==(G=ee[7].m.b==0)&&(U.disabled=G),he[0]&128&&nt(U,ee[7].m.p),he[0]&129&&K!==(K=ee[0].chip=="esp8266"?ee[7].i.h.p==3||ee[7].i.h.p==113?512:256:4096)&&u(F,"max",K),he[0]&128&&_t(F.value)!==ee[7].m.s&&J(F,ee[7].m.s)},d(ee){ee&&M(e),Zt(ne,ee),Q=!1,jt($)}}}function K1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[7].m.b),f||(r=de(o,"input",t[44]),f=!0)},p(_,d){var v,w;d[0]&4&&n!==(n=(((w=(v=_[2].conf)==null?void 0:v.meter)==null?void 0:w.pulses)??"Pulses per kWh")+"")&&N(i,n),d[0]&128&&_t(o.value)!==_[7].m.b&&J(o,_[7].m.b)},d(_){_&&M(e),f=!1,r()}}}function z1(t){let e;return{c(){e=p("option"),e.textContent=`${t[106]*100}`,e.__value=t[106]*100,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function Da(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Yf)},m(s,o){C(s,e,o),C(s,l,o),J(l,t[7].m.e.k),n||(i=de(l,"input",t[53]),n=!0)},p(s,o){o[0]&128&&l.value!==s[7].m.e.k&&J(l,s[7].m.e.k)},d(s){s&&(M(e),M(l)),n=!1,i()}}}function Ia(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Yf),u(e,"class","my-1")},m(_,d){C(_,e,d),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].m.e.a),f||(r=de(o,"input",t[54]),f=!0)},p(_,d){var v,w;d[0]&4&&l!==(l=(((w=(v=_[2].conf)==null?void 0:v.meter)==null?void 0:w.authkey)??"Authentication key")+"")&&N(n,l),d[0]&128&&o.value!==_[7].m.e.a&&J(o,_[7].m.e.a)},d(_){_&&M(e),f=!1,r()}}}function Oa(t){var G,j,F,K,Q,$,V,ne,me,oe,ie,fe;let e,l,n=(((F=(j=(G=t[2].conf)==null?void 0:G.meter)==null?void 0:j.multipliers)==null?void 0:F.watt)??"Watt")+"",i,s,o,f,r,c,m=((($=(Q=(K=t[2].conf)==null?void 0:K.meter)==null?void 0:Q.multipliers)==null?void 0:$.volt)??"Volt")+"",_,d,v,w,b,S,g=(((me=(ne=(V=t[2].conf)==null?void 0:V.meter)==null?void 0:ne.multipliers)==null?void 0:me.amp)??"Amp")+"",A,L,B,P,U,q,H=(((fe=(ie=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:ie.multipliers)==null?void 0:fe.kwh)??"kWh")+"",X,W,R,Y,O,T;return{c(){e=p("div"),l=p("div"),i=k(n),s=p("br"),o=h(),f=p("input"),r=h(),c=p("div"),_=k(m),d=p("br"),v=h(),w=p("input"),b=h(),S=p("div"),A=k(g),L=p("br"),B=h(),P=p("input"),U=h(),q=p("div"),X=k(H),W=p("br"),R=h(),Y=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(w,"name","mmv"),u(w,"type","number"),u(w,"min","0.00"),u(w,"max","1000"),u(w,"step","0.001"),u(w,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(P,"name","mma"),u(P,"type","number"),u(P,"min","0.00"),u(P,"max","1000"),u(P,"step","0.001"),u(P,"class","in-m tr w-full"),u(S,"class","w-1/4"),u(Y,"name","mmc"),u(Y,"type","number"),u(Y,"min","0.00"),u(Y,"max","1000"),u(Y,"step","0.001"),u(Y,"class","in-l tr w-full"),u(q,"class","w-1/4"),u(e,"class","flex my-1")},m(Z,x){C(Z,e,x),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),J(f,t[7].m.m.w),a(e,r),a(e,c),a(c,_),a(c,d),a(c,v),a(c,w),J(w,t[7].m.m.v),a(e,b),a(e,S),a(S,A),a(S,L),a(S,B),a(S,P),J(P,t[7].m.m.a),a(e,U),a(e,q),a(q,X),a(q,W),a(q,R),a(q,Y),J(Y,t[7].m.m.c),O||(T=[de(f,"input",t[56]),de(w,"input",t[57]),de(P,"input",t[58]),de(Y,"input",t[59])],O=!0)},p(Z,x){var ee,he,ge,E,y,I,D,z,le,ae,re,ce;x[0]&4&&n!==(n=(((ge=(he=(ee=Z[2].conf)==null?void 0:ee.meter)==null?void 0:he.multipliers)==null?void 0:ge.watt)??"Watt")+"")&&N(i,n),x[0]&128&&_t(f.value)!==Z[7].m.m.w&&J(f,Z[7].m.m.w),x[0]&4&&m!==(m=(((I=(y=(E=Z[2].conf)==null?void 0:E.meter)==null?void 0:y.multipliers)==null?void 0:I.volt)??"Volt")+"")&&N(_,m),x[0]&128&&_t(w.value)!==Z[7].m.m.v&&J(w,Z[7].m.m.v),x[0]&4&&g!==(g=(((le=(z=(D=Z[2].conf)==null?void 0:D.meter)==null?void 0:z.multipliers)==null?void 0:le.amp)??"Amp")+"")&&N(A,g),x[0]&128&&_t(P.value)!==Z[7].m.m.a&&J(P,Z[7].m.m.a),x[0]&4&&H!==(H=(((ce=(re=(ae=Z[2].conf)==null?void 0:ae.meter)==null?void 0:re.multipliers)==null?void 0:ce.kwh)??"kWh")+"")&&N(X,H),x[0]&128&&_t(Y.value)!==Z[7].m.m.c&&J(Y,Z[7].m.m.c)},d(Z){Z&&M(e),O=!1,jt(T)}}}function Fa(t){var _,d;let e,l,n=(((d=(_=t[2].conf)==null?void 0:_.connection)==null?void 0:d.title)??"Connection")+"",i,s,o,f,r,c,m=(t[7].n.c==1||t[7].n.c==2)&&Ra(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Al("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(v,w){C(v,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(v,w){var b,S;w[0]&4&&n!==(n=(((S=(b=v[2].conf)==null?void 0:b.connection)==null?void 0:S.title)??"Connection")+"")&&N(i,n),v[7].n.c==1||v[7].n.c==2?m?m.p(v,w):(m=Ra(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&M(e),m&&m.d()}}}function Ra(t){var we,ke,qe,De,We,Ye,xe,ve,Se,lt,ot,Nt,bt,Dt,at,tt,ct,Vt,vt,At,pt,It,it,ft;let e,l=(((ke=(we=t[2].conf)==null?void 0:we.connection)==null?void 0:ke.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((De=(qe=t[2].conf)==null?void 0:qe.connection)==null?void 0:De.psk)??"Password")+"",_,d,v,w,b,S,g,A=(((xe=(Ye=(We=t[2].conf)==null?void 0:We.connection)==null?void 0:Ye.ps)==null?void 0:xe.title)??"Power saving")+"",L,B,P,U,q,H=(((lt=(Se=(ve=t[2].conf)==null?void 0:ve.connection)==null?void 0:Se.ps)==null?void 0:lt.default)??"Default")+"",X,W,R=(((bt=(Nt=(ot=t[2].conf)==null?void 0:ot.connection)==null?void 0:Nt.ps)==null?void 0:bt.off)??"Off")+"",Y,O,T=(((tt=(at=(Dt=t[2].conf)==null?void 0:Dt.connection)==null?void 0:at.ps)==null?void 0:tt.min)??"Min")+"",G,j,F=(((vt=(Vt=(ct=t[2].conf)==null?void 0:ct.connection)==null?void 0:Vt.ps)==null?void 0:vt.max)??"Max")+"",K,Q,$,V=(((pt=(At=t[2].conf)==null?void 0:At.connection)==null?void 0:pt.pwr)??"Power")+"",ne,me,oe,ie,fe,Z,x,ee,he,ge,E,y,I=(((it=(It=t[2].conf)==null?void 0:It.connection)==null?void 0:it.tick_11b)??"802.11b")+"",D,z,le,ae=((ft=t[4])==null?void 0:ft.c)==-1&&Ua(t);function re(Pe,je){var Fe,Qe,be;if((Qe=(Fe=Pe[4])==null?void 0:Fe.n)!=null&&Qe.length)return G1;if(((be=Pe[4])==null?void 0:be.c)!=-1)return V1}let ce=re(t),_e=ce&&ce(t);return{c(){e=p("div"),n=k(l),i=h(),s=p("br"),o=h(),ae&&ae.c(),f=h(),_e&&_e.c(),r=h(),c=p("div"),_=k(m),d=p("br"),v=h(),w=p("input"),b=h(),S=p("div"),g=p("div"),L=k(A),B=p("br"),P=h(),U=p("select"),q=p("option"),X=k(H),W=p("option"),Y=k(R),O=p("option"),G=k(T),j=p("option"),K=k(F),Q=h(),$=p("div"),ne=k(V),me=p("br"),oe=h(),ie=p("div"),fe=p("input"),Z=h(),x=p("span"),x.textContent="dBm",ee=h(),he=p("div"),ge=p("label"),E=p("input"),y=h(),D=k(I),u(e,"class","my-1"),u(w,"name","wp"),u(w,"type","password"),u(w,"class","in-s"),u(w,"pattern",hi),u(c,"class","my-1"),q.__value=255,J(q,q.__value),W.__value=0,J(W,W.__value),O.__value=1,J(O,O.__value),j.__value=2,J(j,j.__value),u(U,"name","wz"),u(U,"class","in-s"),t[7].w.z===void 0&&Bt(()=>t[63].call(U)),u(g,"class","w-1/2"),u(fe,"name","ww"),u(fe,"type","number"),u(fe,"min","0"),u(fe,"max","20.5"),u(fe,"step","0.5"),u(fe,"class","in-f tr w-full"),u(x,"class","in-post"),u(ie,"class","flex"),u($,"class","ml-2 w-1/2"),u(S,"class","my-1 flex"),u(E,"type","checkbox"),u(E,"name","wb"),E.__value="true",J(E,E.__value),u(E,"class","rounded mb-1"),u(he,"class","my-3")},m(Pe,je){C(Pe,e,je),a(e,n),a(e,i),a(e,s),a(e,o),ae&&ae.m(e,null),a(e,f),_e&&_e.m(e,null),C(Pe,r,je),C(Pe,c,je),a(c,_),a(c,d),a(c,v),a(c,w),J(w,t[7].w.p),C(Pe,b,je),C(Pe,S,je),a(S,g),a(g,L),a(g,B),a(g,P),a(g,U),a(U,q),a(q,X),a(U,W),a(W,Y),a(U,O),a(O,G),a(U,j),a(j,K),nt(U,t[7].w.z,!0),a(S,Q),a(S,$),a($,ne),a($,me),a($,oe),a($,ie),a(ie,fe),J(fe,t[7].w.w),a(ie,Z),a(ie,x),C(Pe,ee,je),C(Pe,he,je),a(he,ge),a(ge,E),E.checked=t[7].w.b,a(ge,y),a(ge,D),z||(le=[de(w,"input",t[62]),de(U,"change",t[63]),de(fe,"input",t[64]),de(E,"change",t[65])],z=!0)},p(Pe,je){var Fe,Qe,be,Re,wt,qt,rt,Ie,Ze,He,Te,Ee,Le,Oe,Xe,st,Et,Ht,tl,xt,Wt,Ot,sl,Lt;je[0]&4&&l!==(l=(((Qe=(Fe=Pe[2].conf)==null?void 0:Fe.connection)==null?void 0:Qe.ssid)??"Network name (SSID)")+"")&&N(n,l),((be=Pe[4])==null?void 0:be.c)==-1?ae?ae.p(Pe,je):(ae=Ua(Pe),ae.c(),ae.m(e,f)):ae&&(ae.d(1),ae=null),ce===(ce=re(Pe))&&_e?_e.p(Pe,je):(_e&&_e.d(1),_e=ce&&ce(Pe),_e&&(_e.c(),_e.m(e,null))),je[0]&4&&m!==(m=(((wt=(Re=Pe[2].conf)==null?void 0:Re.connection)==null?void 0:wt.psk)??"Password")+"")&&N(_,m),je[0]&128&&w.value!==Pe[7].w.p&&J(w,Pe[7].w.p),je[0]&4&&A!==(A=(((Ie=(rt=(qt=Pe[2].conf)==null?void 0:qt.connection)==null?void 0:rt.ps)==null?void 0:Ie.title)??"Power saving")+"")&&N(L,A),je[0]&4&&H!==(H=(((Te=(He=(Ze=Pe[2].conf)==null?void 0:Ze.connection)==null?void 0:He.ps)==null?void 0:Te.default)??"Default")+"")&&N(X,H),je[0]&4&&R!==(R=(((Oe=(Le=(Ee=Pe[2].conf)==null?void 0:Ee.connection)==null?void 0:Le.ps)==null?void 0:Oe.off)??"Off")+"")&&N(Y,R),je[0]&4&&T!==(T=(((Et=(st=(Xe=Pe[2].conf)==null?void 0:Xe.connection)==null?void 0:st.ps)==null?void 0:Et.min)??"Min")+"")&&N(G,T),je[0]&4&&F!==(F=(((xt=(tl=(Ht=Pe[2].conf)==null?void 0:Ht.connection)==null?void 0:tl.ps)==null?void 0:xt.max)??"Max")+"")&&N(K,F),je[0]&128&&nt(U,Pe[7].w.z),je[0]&4&&V!==(V=(((Ot=(Wt=Pe[2].conf)==null?void 0:Wt.connection)==null?void 0:Ot.pwr)??"Power")+"")&&N(ne,V),je[0]&128&&_t(fe.value)!==Pe[7].w.w&&J(fe,Pe[7].w.w),je[0]&128&&(E.checked=Pe[7].w.b),je[0]&4&&I!==(I=(((Lt=(sl=Pe[2].conf)==null?void 0:sl.connection)==null?void 0:Lt.tick_11b)??"802.11b")+"")&&N(D,I)},d(Pe){Pe&&(M(e),M(r),M(c),M(b),M(S),M(ee),M(he)),ae&&ae.d(),_e&&_e.d(),z=!1,jt(le)}}}function Ua(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&N(n,l)},d(o){o&&M(e)}}}function V1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&N(n,l)},d(o){o&&M(e)}}}function G1(t){let e,l=[],n=new Map,i=et(t[4].n);const s=o=>o[103].s??o[105];for(let o=0;o<i.length;o+=1){let f=ka(t,i,o),r=s(f);n.set(r,l[o]=ja(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9364&&(i=et(o[4].n),l=wf(l,f,s,1,o,i,n,e,kf,ja,null,ka))},d(o){o&&M(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ba(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&N(n,l)},d(o){o&&M(e)}}}function ja(t,e){var Y,O,T,G,j;let l,n,i,s,o=!1,f,r,c,m=(e[103].s||(((O=(Y=e[2].conf)==null?void 0:Y.connection)==null?void 0:O.hidden_ssid)??"Hidden network"))+"",_,d,v,w=(((T=e[10][e[105]])==null?void 0:T.title)??((j=(G=e[2].conf)==null?void 0:G.connection)==null?void 0:j.wifi_offline)??"Signal unavailable")+"",b,S,g,A,L,B,P,U,q,H,X,W,R=e[7].w.s===e[103].s&&Ba(e);return H=mi(e[61][0]),{key:t,first:null,c(){var F,K,Q;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),_=k(m),d=h(),v=p("span"),b=k(w),S=h(),g=p("div"),A=p("img"),U=h(),R&&R.c(),q=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[103].s,J(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(v,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(A,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),un(A.src,L=((F=e[10][e[105]])==null?void 0:F.icon)??e[13].off)||u(A,"src",L),u(A,"alt",B=((K=e[10][e[105]])==null?void 0:K.title)??"Wi-Fi offline"),u(A,"title",P=((Q=e[10][e[105]])==null?void 0:Q.title)??"Wi-Fi offline"),u(g,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),H.p(i),this.first=l},m(F,K){C(F,l,K),a(l,n),a(n,i),i.checked=i.__value===e[7].w.s,a(n,f),a(n,r),a(r,c),a(c,_),a(r,d),a(r,v),a(v,b),a(l,S),a(l,g),a(g,A),a(g,U),R&&R.m(g,null),a(l,q),X||(W=de(i,"change",e[60]),X=!0)},p(F,K){var Q,$,V,ne,me,oe,ie,fe;e=F,K[0]&16&&s!==(s=e[103].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||K[0]&144)&&(i.checked=i.__value===e[7].w.s),K[0]&20&&m!==(m=(e[103].s||((($=(Q=e[2].conf)==null?void 0:Q.connection)==null?void 0:$.hidden_ssid)??"Hidden network"))+"")&&N(_,m),K[0]&1044&&w!==(w=(((V=e[10][e[105]])==null?void 0:V.title)??((me=(ne=e[2].conf)==null?void 0:ne.connection)==null?void 0:me.wifi_offline)??"Signal unavailable")+"")&&N(b,w),K[0]&1040&&!un(A.src,L=((oe=e[10][e[105]])==null?void 0:oe.icon)??e[13].off)&&u(A,"src",L),K[0]&1040&&B!==(B=((ie=e[10][e[105]])==null?void 0:ie.title)??"Wi-Fi offline")&&u(A,"alt",B),K[0]&1040&&P!==(P=((fe=e[10][e[105]])==null?void 0:fe.title)??"Wi-Fi offline")&&u(A,"title",P),e[7].w.s===e[103].s?R?R.p(e,K):(R=Ba(e),R.c(),R.m(g,null)):R&&(R.d(1),R=null)},d(F){F&&M(l),R&&R.d(),H.r(),X=!1,W()}}}function Ha(t){var gt,Ne,ue,ze,Je,ol,zt,Jt,cl,rl,Gt,Yt,ul,Ae,pe,Ut,Ue,kt,fl,dl,hl,bl,nl,vl,Cl,Rl,Ul,Bl;let e,l,n=(((Ne=(gt=t[2].conf)==null?void 0:gt.mqtt)==null?void 0:Ne.title)??"MQTT")+"",i,s,o,f,r,c,m,_=(((ze=(ue=t[2].conf)==null?void 0:ue.mqtt)==null?void 0:ze.server)??"Server")+"",d,v,w,b,S,g,A,L,B,P,U,q,H=(((ol=(Je=t[2].conf)==null?void 0:Je.mqtt)==null?void 0:ol.user)??"Username")+"",X,W,R,Y,O,T,G=(((Jt=(zt=t[2].conf)==null?void 0:zt.mqtt)==null?void 0:Jt.pass)??"Password")+"",j,F,K,Q,$,V,ne,me=(((rl=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:rl.id)??"Client ID")+"",oe,ie,fe,Z,x,ee,he,ge=(((Yt=(Gt=t[2].conf)==null?void 0:Gt.mqtt)==null?void 0:Yt.payload)??"Payload")+"",E,y,I,D,z,le,ae,re,ce,_e,we,ke,qe,De,We=(((Ae=(ul=t[2].conf)==null?void 0:ul.mqtt)==null?void 0:Ae.publish)??"Publish topic")+"",Ye,xe,ve,Se,lt,ot,Nt=(((Ut=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:Ut.subscribe)??"Subscribe topic")+"",bt,Dt,at,tt,ct,Vt,vt,At=(((kt=(Ue=t[2].conf)==null?void 0:Ue.mqtt)==null?void 0:kt.update)??"Update method")+"",pt,It,it,ft=(((dl=(fl=t[2].conf)==null?void 0:fl.mqtt)==null?void 0:dl.interval)??"Interval")+"",Pe,je,Fe,Qe,be,Re=(((bl=(hl=t[2].conf)==null?void 0:hl.mqtt)==null?void 0:bl.realtime)??"Real time")+"",wt,qt,rt=(((vl=(nl=t[2].conf)==null?void 0:nl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Ie,Ze,He,Te,Ee,Le,Oe=(((Rl=(Cl=t[2].conf)==null?void 0:Cl.mqtt)==null?void 0:Rl.timeout)??"Timeout")+"",Xe,st,Et,Ht=(((Bl=(Ul=t[2].conf)==null?void 0:Ul.mqtt)==null?void 0:Bl.keepalive)??"Keep-alive")+"",tl,xt,Wt,Ot,sl,Lt,$e,Rt,Kt,dt=t[0].chip!="esp8266"&&Wa(t),ut=t[7].q.s.e&&Ka(t);return{c(){var Ke,mt;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),v=h(),dt&&dt.c(),w=h(),b=p("br"),S=h(),g=p("div"),A=p("input"),L=h(),B=p("input"),P=h(),ut&&ut.c(),U=h(),q=p("div"),X=k(H),W=p("br"),R=h(),Y=p("input"),O=h(),T=p("div"),j=k(G),F=p("br"),K=h(),Q=p("input"),$=h(),V=p("div"),ne=p("div"),oe=k(me),ie=p("br"),fe=h(),Z=p("input"),ee=h(),he=p("div"),E=k(ge),y=p("br"),I=h(),D=p("select"),z=p("option"),z.textContent="Raw (minimal)",le=p("option"),le.textContent="Raw (full)",ae=p("option"),ae.textContent="Domoticz",re=p("option"),re.textContent="Home-Assistant",ce=p("option"),ce.textContent="JSON (classic)",_e=p("option"),_e.textContent="JSON (multi topic)",we=p("option"),we.textContent="JSON (flat)",ke=p("option"),ke.textContent="HEX dump",qe=h(),De=p("div"),Ye=k(We),xe=p("br"),ve=h(),Se=p("input"),lt=h(),ot=p("div"),bt=k(Nt),Dt=p("br"),at=h(),tt=p("input"),Vt=h(),vt=p("div"),pt=k(At),It=h(),it=p("span"),Pe=k(ft),je=h(),Fe=p("div"),Qe=p("select"),be=p("option"),wt=k(Re),qt=p("option"),Ie=k(rt),Ze=h(),He=p("input"),Ee=h(),Le=p("div"),Xe=k(Oe),st=h(),Et=p("span"),tl=k(Ht),xt=h(),Wt=p("div"),Ot=p("input"),sl=h(),Lt=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(A,"name","qh"),u(A,"type","text"),u(A,"class","in-f w-2/3"),u(A,"pattern",ln),u(B,"name","qp"),u(B,"type","number"),u(B,"min","1024"),u(B,"max","65535"),u(B,"class","in-l tr w-1/3"),u(g,"class","flex"),u(m,"class","my-1"),u(Y,"name","qu"),u(Y,"type","text"),u(Y,"class","in-s"),u(Y,"pattern",hi),u(q,"class","my-1"),u(Q,"name","qa"),u(Q,"type","password"),u(Q,"class","in-s"),u(Q,"pattern",hi),u(T,"class","my-1"),u(Z,"name","qc"),u(Z,"type","text"),u(Z,"class","in-f w-full"),Z.required=x=t[7].q.h,u(Z,"pattern",Yn),z.__value=1,J(z,z.__value),le.__value=2,J(le,le.__value),ae.__value=3,J(ae,ae.__value),re.__value=4,J(re,re.__value),ce.__value=0,J(ce,ce.__value),_e.__value=5,J(_e,_e.__value),we.__value=6,J(we,we.__value),ke.__value=255,J(ke,ke.__value),u(D,"name","qm"),u(D,"class","in-l"),t[7].q.m===void 0&&Bt(()=>t[72].call(D)),u(V,"class","my-1 flex"),u(Se,"name","qb"),u(Se,"type","text"),u(Se,"class","in-s"),u(Se,"pattern",ln),u(De,"class","my-1"),u(tt,"name","qr"),u(tt,"type","text"),u(tt,"class","in-s"),u(tt,"pattern",ln),u(tt,"placeholder",ct=t[7].q.b+"/command"),u(ot,"class","my-1"),u(it,"class","float-right"),be.__value=0,J(be,be.__value),qt.__value=1,J(qt,qt.__value),u(Qe,"name","qt"),u(Qe,"class","in-f w-1/2"),t[7].q.t===void 0&&Bt(()=>t[75].call(Qe)),u(He,"name","qd"),u(He,"type","number"),u(He,"min","1"),u(He,"max","3600"),u(He,"class","in-l tr w-1/2"),He.disabled=Te=((mt=(Ke=t[7])==null?void 0:Ke.q)==null?void 0:mt.t)!=1,u(Fe,"class","flex"),u(vt,"class","my-1"),u(Et,"class","float-right"),u(Ot,"name","qi"),u(Ot,"type","number"),u(Ot,"min","500"),u(Ot,"max","10000"),u(Ot,"class","in-f tr w-1/2"),u(Lt,"name","qk"),u(Lt,"type","number"),u(Lt,"min","5"),u(Lt,"max","180"),u(Lt,"class","in-l tr w-1/2"),u(Wt,"class","flex"),u(Le,"class","my-1"),u(e,"class","cnt")},m(Ke,mt){C(Ke,e,mt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,v),dt&&dt.m(m,null),a(m,w),a(m,b),a(m,S),a(m,g),a(g,A),J(A,t[7].q.h),a(g,L),a(g,B),J(B,t[7].q.p),a(e,P),ut&&ut.m(e,null),a(e,U),a(e,q),a(q,X),a(q,W),a(q,R),a(q,Y),J(Y,t[7].q.u),a(e,O),a(e,T),a(T,j),a(T,F),a(T,K),a(T,Q),J(Q,t[7].q.a),a(e,$),a(e,V),a(V,ne),a(ne,oe),a(ne,ie),a(ne,fe),a(ne,Z),J(Z,t[7].q.c),a(V,ee),a(V,he),a(he,E),a(he,y),a(he,I),a(he,D),a(D,z),a(D,le),a(D,ae),a(D,re),a(D,ce),a(D,_e),a(D,we),a(D,ke),nt(D,t[7].q.m,!0),a(e,qe),a(e,De),a(De,Ye),a(De,xe),a(De,ve),a(De,Se),J(Se,t[7].q.b),a(e,lt),a(e,ot),a(ot,bt),a(ot,Dt),a(ot,at),a(ot,tt),J(tt,t[7].q.r),a(e,Vt),a(e,vt),a(vt,pt),a(vt,It),a(vt,it),a(it,Pe),a(vt,je),a(vt,Fe),a(Fe,Qe),a(Qe,be),a(be,wt),a(Qe,qt),a(qt,Ie),nt(Qe,t[7].q.t,!0),a(Fe,Ze),a(Fe,He),J(He,t[7].q.d),a(e,Ee),a(e,Le),a(Le,Xe),a(Le,st),a(Le,Et),a(Et,tl),a(Le,xt),a(Le,Wt),a(Wt,Ot),J(Ot,t[7].q.i),a(Wt,sl),a(Wt,Lt),J(Lt,t[7].q.k),$e=!0,Rt||(Kt=[de(A,"input",t[67]),de(B,"input",t[68]),de(Y,"input",t[69]),de(Q,"input",t[70]),de(Z,"input",t[71]),de(D,"change",t[72]),de(Se,"input",t[73]),de(tt,"input",t[74]),de(Qe,"change",t[75]),de(He,"input",t[76]),de(Ot,"input",t[77]),de(Lt,"input",t[78])],Rt=!0)},p(Ke,mt){var jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,Be,St,el,$l,xl,yn,Mn,Cn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On;(!$e||mt[0]&4)&&n!==(n=(((Hl=(jl=Ke[2].conf)==null?void 0:jl.mqtt)==null?void 0:Hl.title)??"MQTT")+"")&&N(i,n),(!$e||mt[0]&4)&&_!==(_=(((Kl=(Wl=Ke[2].conf)==null?void 0:Wl.mqtt)==null?void 0:Kl.server)??"Server")+"")&&N(d,_),Ke[0].chip!="esp8266"?dt?dt.p(Ke,mt):(dt=Wa(Ke),dt.c(),dt.m(m,w)):dt&&(dt.d(1),dt=null),mt[0]&128&&A.value!==Ke[7].q.h&&J(A,Ke[7].q.h),mt[0]&128&&_t(B.value)!==Ke[7].q.p&&J(B,Ke[7].q.p),Ke[7].q.s.e?ut?(ut.p(Ke,mt),mt[0]&128&&te(ut,1)):(ut=Ka(Ke),ut.c(),te(ut,1),ut.m(e,U)):ut&&(yt(),se(ut,1,1,()=>{ut=null}),Mt()),(!$e||mt[0]&4)&&H!==(H=(((Vl=(zl=Ke[2].conf)==null?void 0:zl.mqtt)==null?void 0:Vl.user)??"Username")+"")&&N(X,H),mt[0]&128&&Y.value!==Ke[7].q.u&&J(Y,Ke[7].q.u),(!$e||mt[0]&4)&&G!==(G=(((Yl=(Gl=Ke[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.pass)??"Password")+"")&&N(j,G),mt[0]&128&&Q.value!==Ke[7].q.a&&J(Q,Ke[7].q.a),(!$e||mt[0]&4)&&me!==(me=(((Jl=(Xl=Ke[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.id)??"Client ID")+"")&&N(oe,me),(!$e||mt[0]&128&&x!==(x=Ke[7].q.h))&&(Z.required=x),mt[0]&128&&Z.value!==Ke[7].q.c&&J(Z,Ke[7].q.c),(!$e||mt[0]&4)&&ge!==(ge=(((Zl=(Ql=Ke[2].conf)==null?void 0:Ql.mqtt)==null?void 0:Zl.payload)??"Payload")+"")&&N(E,ge),mt[0]&128&&nt(D,Ke[7].q.m),(!$e||mt[0]&4)&&We!==(We=(((St=(Be=Ke[2].conf)==null?void 0:Be.mqtt)==null?void 0:St.publish)??"Publish topic")+"")&&N(Ye,We),mt[0]&128&&Se.value!==Ke[7].q.b&&J(Se,Ke[7].q.b),(!$e||mt[0]&4)&&Nt!==(Nt=((($l=(el=Ke[2].conf)==null?void 0:el.mqtt)==null?void 0:$l.subscribe)??"Subscribe topic")+"")&&N(bt,Nt),(!$e||mt[0]&128&&ct!==(ct=Ke[7].q.b+"/command"))&&u(tt,"placeholder",ct),mt[0]&128&&tt.value!==Ke[7].q.r&&J(tt,Ke[7].q.r),(!$e||mt[0]&4)&&At!==(At=(((yn=(xl=Ke[2].conf)==null?void 0:xl.mqtt)==null?void 0:yn.update)??"Update method")+"")&&N(pt,At),(!$e||mt[0]&4)&&ft!==(ft=(((Cn=(Mn=Ke[2].conf)==null?void 0:Mn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&N(Pe,ft),(!$e||mt[0]&4)&&Re!==(Re=(((Pn=(Nn=Ke[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Pn.realtime)??"Real time")+"")&&N(wt,Re),(!$e||mt[0]&4)&&rt!==(rt=(((En=(Tn=Ke[2].conf)==null?void 0:Tn.mqtt)==null?void 0:En.interval)??"Interval")+"")&&N(Ie,rt),mt[0]&128&&nt(Qe,Ke[7].q.t),(!$e||mt[0]&128&&Te!==(Te=((qn=(An=Ke[7])==null?void 0:An.q)==null?void 0:qn.t)!=1))&&(He.disabled=Te),mt[0]&128&&_t(He.value)!==Ke[7].q.d&&J(He,Ke[7].q.d),(!$e||mt[0]&4)&&Oe!==(Oe=(((Dn=(Ln=Ke[2].conf)==null?void 0:Ln.mqtt)==null?void 0:Dn.timeout)??"Timeout")+"")&&N(Xe,Oe),(!$e||mt[0]&4)&&Ht!==(Ht=(((On=(In=Ke[2].conf)==null?void 0:In.mqtt)==null?void 0:On.keepalive)??"Keep-alive")+"")&&N(tl,Ht),mt[0]&128&&_t(Ot.value)!==Ke[7].q.i&&J(Ot,Ke[7].q.i),mt[0]&128&&_t(Lt.value)!==Ke[7].q.k&&J(Lt,Ke[7].q.k)},i(Ke){$e||(te(ut),$e=!0)},o(Ke){se(ut),$e=!1},d(Ke){Ke&&M(e),dt&&dt.d(),ut&&ut.d(),Rt=!1,jt(Kt)}}}function Wa(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=k(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",J(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){C(o,e,f),a(e,l),l.checked=t[7].q.s.e,a(e,n),i||(s=[de(l,"change",t[66]),de(l,"change",t[21])],i=!0)},p(o,f){f[0]&128&&(l.checked=o[7].q.s.e)},d(o){o&&M(e),i=!1,jt(s)}}}function Ka(t){let e,l,n,i,s,o,f,r,c,m,_,d,v;const w=[X1,Y1],b=[];function S(q,H){return q[7].q.s.c?0:1}n=S(t),i=b[n]=w[n](t);const g=[$1,Z1],A=[];function L(q,H){return q[7].q.s.r?0:1}f=L(t),r=A[f]=g[f](t);const B=[lm,tm],P=[];function U(q,H){return q[7].q.s.k?0:1}return _=U(t),d=P[_]=B[_](t),{c(){e=p("div"),l=p("span"),i.c(),s=h(),o=p("span"),r.c(),c=h(),m=p("span"),d.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(q,H){C(q,e,H),a(e,l),b[n].m(l,null),a(e,s),a(e,o),A[f].m(o,null),a(e,c),a(e,m),P[_].m(m,null),v=!0},p(q,H){let X=n;n=S(q),n===X?b[n].p(q,H):(yt(),se(b[X],1,1,()=>{b[X]=null}),Mt(),i=b[n],i?i.p(q,H):(i=b[n]=w[n](q),i.c()),te(i,1),i.m(l,null));let W=f;f=L(q),f===W?A[f].p(q,H):(yt(),se(A[W],1,1,()=>{A[W]=null}),Mt(),r=A[f],r?r.p(q,H):(r=A[f]=g[f](q),r.c()),te(r,1),r.m(o,null));let R=_;_=U(q),_===R?P[_].p(q,H):(yt(),se(P[R],1,1,()=>{P[R]=null}),Mt(),d=P[_],d?d.p(q,H):(d=P[_]=B[_](q),d.c()),te(d,1),d.m(m,null))},i(q){v||(te(i),te(r),te(d),v=!0)},o(q){se(i),se(r),se(d),v=!1},d(q){q&&M(e),b[n].d(),A[f].d(),P[_].d()}}}function Y1(t){let e,l;return e=new kl({props:{to:"/mqtt-ca",$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function X1(t){let e,l,n,i,s,o,f;return l=new kl({props:{to:"/mqtt-ca",$$slots:{default:[Q1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[de(i,"click",t[18]),de(i,"keypress",t[18])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Me(l),o=!1,jt(f)}}}function J1(t){var n,i,s,o;let e,l;return e=new Jn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_ca)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Me(e,f)}}}function Q1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&N(l,e)},d(s){s&&M(l)}}}function Z1(t){let e,l;return e=new kl({props:{to:"/mqtt-cert",$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function $1(t){let e,l,n,i,s,o,f;return l=new kl({props:{to:"/mqtt-cert",$$slots:{default:[em]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[de(i,"click",t[19]),de(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Me(l),o=!1,jt(f)}}}function x1(t){var n,i,s,o;let e,l;return e=new Jn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_crt)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Me(e,f)}}}function em(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&N(l,e)},d(s){s&&M(l)}}}function tm(t){let e,l;return e=new kl({props:{to:"/mqtt-key",$$slots:{default:[nm]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function lm(t){let e,l,n,i,s,o,f;return l=new kl({props:{to:"/mqtt-key",$$slots:{default:[im]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ce(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[de(i,"click",t[20]),de(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Me(l),o=!1,jt(f)}}}function nm(t){var n,i,s,o;let e,l;return e=new Jn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ce(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,v;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((v=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:v.title_key)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Me(e,f)}}}function im(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&N(l,e)},d(s){s&&M(l)}}}function za(t){var V,ne,me,oe,ie,fe,Z,x,ee,he,ge,E;let e,l,n=(((me=(ne=(V=t[2].conf)==null?void 0:V.mqtt)==null?void 0:ne.domoticz)==null?void 0:me.title)??"Domoticz")+"",i,s,o,f,r,c,m,_,d=(((fe=(ie=(oe=t[2].conf)==null?void 0:oe.mqtt)==null?void 0:ie.domoticz)==null?void 0:fe.eidx)??"Electricity IDX")+"",v,w,b,S,g,A,L=(((ee=(x=(Z=t[2].conf)==null?void 0:Z.mqtt)==null?void 0:x.domoticz)==null?void 0:ee.cidx)??"Current IDX")+"",B,P,U,q,H,X,W=(((E=(ge=(he=t[2].conf)==null?void 0:he.mqtt)==null?void 0:ge.domoticz)==null?void 0:E.vidx)??"Voltage IDX")+"",R,Y,O,T,G,j,F,K,Q,$;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),v=k(d),w=p("br"),b=h(),S=p("input"),g=h(),A=p("div"),B=k(L),P=p("br"),U=h(),q=p("input"),H=h(),X=p("div"),R=k(W),Y=k(`: L1, L2 & L3
                    `),O=p("div"),T=p("input"),G=h(),j=p("input"),F=h(),K=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(S,"name","oe"),u(S,"type","text"),u(S,"class","in-f tr w-full"),u(S,"pattern",Fn),u(_,"class","w-1/2"),u(q,"name","oc"),u(q,"type","text"),u(q,"class","in-l tr w-full"),u(q,"pattern",Fn),u(A,"class","w-1/2"),u(m,"class","my-1 flex"),u(T,"name","ou1"),u(T,"type","text"),u(T,"class","in-f tr w-1/3"),u(T,"pattern",Fn),u(j,"name","ou2"),u(j,"type","text"),u(j,"class","in-m tr w-1/3"),u(j,"pattern",Fn),u(K,"name","ou3"),u(K,"type","text"),u(K,"class","in-l tr w-1/3"),u(K,"pattern",Fn),u(O,"class","flex"),u(X,"class","my-1"),u(e,"class","cnt")},m(y,I){C(y,e,I),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,v),a(_,w),a(_,b),a(_,S),J(S,t[7].o.e),a(m,g),a(m,A),a(A,B),a(A,P),a(A,U),a(A,q),J(q,t[7].o.c),a(e,H),a(e,X),a(X,R),a(X,Y),a(X,O),a(O,T),J(T,t[7].o.u1),a(O,G),a(O,j),J(j,t[7].o.u2),a(O,F),a(O,K),J(K,t[7].o.u3),Q||($=[de(S,"input",t[79]),de(q,"input",t[80]),de(T,"input",t[81]),de(j,"input",t[82]),de(K,"input",t[83])],Q=!0)},p(y,I){var D,z,le,ae,re,ce,_e,we,ke,qe,De,We;I[0]&4&&n!==(n=(((le=(z=(D=y[2].conf)==null?void 0:D.mqtt)==null?void 0:z.domoticz)==null?void 0:le.title)??"Domoticz")+"")&&N(i,n),I[0]&4&&d!==(d=(((ce=(re=(ae=y[2].conf)==null?void 0:ae.mqtt)==null?void 0:re.domoticz)==null?void 0:ce.eidx)??"Electricity IDX")+"")&&N(v,d),I[0]&128&&S.value!==y[7].o.e&&J(S,y[7].o.e),I[0]&4&&L!==(L=(((ke=(we=(_e=y[2].conf)==null?void 0:_e.mqtt)==null?void 0:we.domoticz)==null?void 0:ke.cidx)??"Current IDX")+"")&&N(B,L),I[0]&128&&q.value!==y[7].o.c&&J(q,y[7].o.c),I[0]&4&&W!==(W=(((We=(De=(qe=y[2].conf)==null?void 0:qe.mqtt)==null?void 0:De.domoticz)==null?void 0:We.vidx)??"Voltage IDX")+"")&&N(R,W),I[0]&128&&T.value!==y[7].o.u1&&J(T,y[7].o.u1),I[0]&128&&j.value!==y[7].o.u2&&J(j,y[7].o.u2),I[0]&128&&K.value!==y[7].o.u3&&J(K,y[7].o.u3)},d(y){y&&M(e),Q=!1,jt($)}}}function Va(t){var F,K,Q,$,V,ne,me,oe,ie,fe,Z,x;let e,l,n=(((Q=(K=(F=t[2].conf)==null?void 0:F.mqtt)==null?void 0:K.ha)==null?void 0:Q.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,_=(((ne=(V=($=t[2].conf)==null?void 0:$.mqtt)==null?void 0:V.ha)==null?void 0:ne.discovery)??"Discovery topic prefix")+"",d,v,w,b,S,g,A=(((ie=(oe=(me=t[2].conf)==null?void 0:me.mqtt)==null?void 0:oe.ha)==null?void 0:ie.hostname)??"Hostname for URL")+"",L,B,P,U,q,H,X,W=(((x=(Z=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:Z.ha)==null?void 0:x.tag)??"Name tag")+"",R,Y,O,T,G,j;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),v=p("br"),w=h(),b=p("input"),S=h(),g=p("div"),L=k(A),B=p("br"),P=h(),U=p("input"),H=h(),X=p("div"),R=k(W),Y=p("br"),O=h(),T=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(b,"name","ht"),u(b,"type","text"),u(b,"class","in-s"),u(b,"placeholder","homeassistant"),u(b,"pattern",ln),u(m,"class","my-1"),u(U,"name","hh"),u(U,"type","text"),u(U,"class","in-s"),u(U,"placeholder",q=t[7].g.h+".local"),u(U,"pattern",ln),u(g,"class","my-1"),u(T,"name","hn"),u(T,"type","text"),u(T,"class","in-s"),u(T,"pattern",ln),u(X,"class","my-1"),u(e,"class","cnt")},m(ee,he){C(ee,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,v),a(m,w),a(m,b),J(b,t[7].h.t),a(e,S),a(e,g),a(g,L),a(g,B),a(g,P),a(g,U),J(U,t[7].h.h),a(e,H),a(e,X),a(X,R),a(X,Y),a(X,O),a(X,T),J(T,t[7].h.n),G||(j=[de(b,"input",t[84]),de(U,"input",t[85]),de(T,"input",t[86])],G=!0)},p(ee,he){var ge,E,y,I,D,z,le,ae,re,ce,_e,we;he[0]&4&&n!==(n=(((y=(E=(ge=ee[2].conf)==null?void 0:ge.mqtt)==null?void 0:E.ha)==null?void 0:y.title)??"Home-Assistant")+"")&&N(i,n),he[0]&4&&_!==(_=(((z=(D=(I=ee[2].conf)==null?void 0:I.mqtt)==null?void 0:D.ha)==null?void 0:z.discovery)??"Discovery topic prefix")+"")&&N(d,_),he[0]&128&&b.value!==ee[7].h.t&&J(b,ee[7].h.t),he[0]&4&&A!==(A=(((re=(ae=(le=ee[2].conf)==null?void 0:le.mqtt)==null?void 0:ae.ha)==null?void 0:re.hostname)??"Hostname for URL")+"")&&N(L,A),he[0]&128&&q!==(q=ee[7].g.h+".local")&&u(U,"placeholder",q),he[0]&128&&U.value!==ee[7].h.h&&J(U,ee[7].h.h),he[0]&4&&W!==(W=(((we=(_e=(ce=ee[2].conf)==null?void 0:ce.mqtt)==null?void 0:_e.ha)==null?void 0:we.tag)??"Name tag")+"")&&N(R,W),he[0]&128&&T.value!==ee[7].h.n&&J(T,ee[7].h.n)},d(ee){ee&&M(e),G=!1,jt(j)}}}function Ga(t){var W,R,Y,O,T;let e,l,n=(((R=(W=t[2].conf)==null?void 0:W.thresholds)==null?void 0:R.title)??"Thresholds")+"",i,s,o,f,r,c,m,_,d,v,w=(((O=(Y=t[2].conf)==null?void 0:Y.thresholds)==null?void 0:O.avg)??"Average of")+"",b,S,g,A,L,B=(((T=t[2].common)==null?void 0:T.hours)??"hours")+"",P,U,q,H=et({length:9}),X=[];for(let G=0;G<H.length;G+=1)X[G]=Ya(ga(t,H,G));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let G=0;G<X.length;G+=1)X[G].c();_=h(),d=p("label"),v=p("span"),b=k(w),S=h(),g=p("input"),A=h(),L=p("span"),P=k(B),u(l,"class","text-sm"),u(o,"href",Al("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(v,"class","in-pre"),u(g,"name","th"),u(g,"type","number"),u(g,"min","0"),u(g,"max","255"),u(g,"class","in-txt tr w-full"),u(L,"class","in-post"),u(d,"class","flex m-1"),u(e,"class","cnt")},m(G,j){C(G,e,j),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let F=0;F<X.length;F+=1)X[F]&&X[F].m(m,null);a(e,_),a(e,d),a(d,v),a(v,b),a(d,S),a(d,g),J(g,t[7].t.h),a(d,A),a(d,L),a(L,P),U||(q=de(g,"input",t[88]),U=!0)},p(G,j){var F,K,Q,$,V;if(j[0]&4&&n!==(n=(((K=(F=G[2].conf)==null?void 0:F.thresholds)==null?void 0:K.title)??"Thresholds")+"")&&N(i,n),j[0]&128){H=et({length:9});let ne;for(ne=0;ne<H.length;ne+=1){const me=ga(G,H,ne);X[ne]?X[ne].p(me,j):(X[ne]=Ya(me),X[ne].c(),X[ne].m(m,null))}for(;ne<X.length;ne+=1)X[ne].d(1);X.length=H.length}j[0]&4&&w!==(w=((($=(Q=G[2].conf)==null?void 0:Q.thresholds)==null?void 0:$.avg)??"Average of")+"")&&N(b,w),j[0]&128&&_t(g.value)!==G[7].t.h&&J(g,G[7].t.h),j[0]&4&&B!==(B=(((V=G[2].common)==null?void 0:V.hours)??"hours")+"")&&N(P,B)},d(G){G&&M(e),Zt(X,G),U=!1,q()}}}function Ya(t){let e,l,n,i,s,o,f,r,c;function m(){t[87].call(i,t[102])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[102]+1}`,n=h(),i=p("input"),s=h(),o=p("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[102]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(_,d){C(_,e,d),a(e,l),a(e,n),a(e,i),J(i,t[7].t.t[t[102]]),a(e,s),a(e,o),a(e,f),r||(c=de(i,"input",m),r=!0)},p(_,d){t=_,d[0]&128&&_t(i.value)!==t[7].t.t[t[102]]&&J(i,t[7].t.t[t[102]])},d(_){_&&M(e),r=!1,c()}}}function Xa(t){var v,w;let e,l,n=(((w=(v=t[2].conf)==null?void 0:v.ui)==null?void 0:w.title)??"User interface")+"",i,s,o,f,r,c,m,_=et(t[14]),d=[];for(let b=0;b<_.length;b+=1)d[b]=Ja(va(t,_,b));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let b=0;b<d.length;b+=1)d[b].c();u(l,"class","text-sm"),u(o,"href",Al("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(b,S){C(b,e,S),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(m,null)},p(b,S){var g,A;if(S[0]&4&&n!==(n=(((A=(g=b[2].conf)==null?void 0:g.ui)==null?void 0:A.title)??"User interface")+"")&&N(i,n),S[0]&16516){_=et(b[14]);let L;for(L=0;L<_.length;L+=1){const B=va(b,_,L);d[L]?d[L].p(B,S):(d[L]=Ja(B),d[L].c(),d[L].m(m,null))}for(;L<d.length;L+=1)d[L].d(1);d.length=_.length}},d(b){b&&M(e),Zt(d,b)}}}function Ja(t){var B,P,U,q,H,X,W,R;let e,l=(((P=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:P[t[97].key])??t[97].name)+"",n,i,s,o,f,r=(((q=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:q.disabled)??"Disabled")+"",c,m,_=(((X=(H=t[2].conf)==null?void 0:H.ui)==null?void 0:X.enabled)??"Enabled")+"",d,v,w=(((R=(W=t[2].conf)==null?void 0:W.ui)==null?void 0:R.auto)??"Auto")+"",b,S,g,A;function L(){t[89].call(o,t[97])}return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),v=p("option"),b=k(w),S=h(),f.__value=0,J(f,f.__value),m.__value=1,J(m,m.__value),v.__value=2,J(v,v.__value),u(o,"name","u"+t[97].key),u(o,"class","in-s"),t[7].u[t[97].key]===void 0&&Bt(L),u(e,"class","w-1/2")},m(Y,O){C(Y,e,O),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,v),a(v,b),nt(o,t[7].u[t[97].key],!0),a(e,S),g||(A=de(o,"change",L),g=!0)},p(Y,O){var T,G,j,F,K,Q,$,V;t=Y,O[0]&4&&l!==(l=(((G=(T=t[2].conf)==null?void 0:T.ui)==null?void 0:G[t[97].key])??t[97].name)+"")&&N(n,l),O[0]&4&&r!==(r=(((F=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:F.disabled)??"Disabled")+"")&&N(c,r),O[0]&4&&_!==(_=(((Q=(K=t[2].conf)==null?void 0:K.ui)==null?void 0:Q.enabled)??"Enabled")+"")&&N(d,_),O[0]&4&&w!==(w=(((V=($=t[2].conf)==null?void 0:$.ui)==null?void 0:V.auto)??"Auto")+"")&&N(b,w),O[0]&16512&&nt(o,t[7].u[t[97].key])},d(Y){Y&&M(e),g=!1,A()}}}function Qa(t){var d,v;let e,l,n=(((d=t[2].conf)==null?void 0:d.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((v=t[2].btn)==null?void 0:v.reboot)??"Reboot")+"",c,m,_;return{c(){e=p("div"),l=p("button"),i=k(n),s=h(),o=p("div"),f=p("button"),c=k(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(w,b){C(w,e,b),a(e,l),a(l,i),C(w,s,b),C(w,o,b),a(o,f),a(f,c),m||(_=[de(l,"click",t[15]),de(f,"click",t[17])],m=!0)},p(w,b){var S,g;b[0]&4&&n!==(n=(((S=w[2].conf)==null?void 0:S.btn_reset)??"Factory reset")+"")&&N(i,n),b[0]&4&&r!==(r=(((g=w[2].btn)==null?void 0:g.reboot)??"Reboot")+"")&&N(c,r)},d(w){w&&(M(e),M(s),M(o)),m=!1,jt(_)}}}function Za(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=k(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&N(i,n)},d(o){o&&M(e)}}}function sm(t){var V,ne,me,oe,ie,fe,Z,x,ee,he,ge,E,y,I,D,z,le,ae,re,ce,_e,we,ke,qe,De,We,Ye,xe;let e,l,n,i,s,o,f,r,c,m=((me=(ne=(V=t[7])==null?void 0:V.p)==null?void 0:ne.r)==null?void 0:me.startsWith("NO"))||((fe=(ie=(oe=t[7])==null?void 0:oe.p)==null?void 0:ie.r)==null?void 0:fe.startsWith("10YNO"))||((ee=(x=(Z=t[7])==null?void 0:Z.p)==null?void 0:x.r)==null?void 0:ee.startsWith("10Y1001A1001A4")),_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W=((he=t[7])==null?void 0:he.g)&&Sa(t),R=((ge=t[7])==null?void 0:ge.fw)&&Pa(t),Y=((E=t[7])==null?void 0:E.m)&&Ta(t),O=((y=t[7])==null?void 0:y.w)&&Fa(t),T=((I=t[7])==null?void 0:I.q)&&Ha(t),G=((z=(D=t[7])==null?void 0:D.q)==null?void 0:z.m)==3&&za(t),j=((ae=(le=t[7])==null?void 0:le.q)==null?void 0:ae.m)==4&&Va(t),F=m&&Ga(t),K=((re=t[7])==null?void 0:re.u)&&Xa(t),Q=((ce=t[1])==null?void 0:ce.a)&&Qa(t),$=t[7]&&Za(t);return S=new pl({props:{active:t[5],message:((we=(_e=t[2].conf)==null?void 0:_e.mask)==null?void 0:we.loading)??"Loading"}}),A=new pl({props:{active:t[6],message:((qe=(ke=t[2].conf)==null?void 0:ke.mask)==null?void 0:qe.saving)??"Saving"}}),B=new pl({props:{active:t[11],message:((We=(De=t[2].conf)==null?void 0:De.mask)==null?void 0:We.reset)??"Factory reset"}}),U=new pl({props:{active:t[12],message:((xe=(Ye=t[2].conf)==null?void 0:Ye.mask)==null?void 0:xe.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),W&&W.c(),n=h(),R&&R.c(),i=h(),Y&&Y.c(),s=h(),O&&O.c(),o=h(),T&&T.c(),f=h(),G&&G.c(),r=h(),j&&j.c(),c=h(),F&&F.c(),_=h(),K&&K.c(),d=h(),v=p("div"),Q&&Q.c(),w=h(),$&&$.c(),b=h(),Ce(S.$$.fragment),g=h(),Ce(A.$$.fragment),L=h(),Ce(B.$$.fragment),P=h(),Ce(U.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(v,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(ve,Se){C(ve,e,Se),a(e,l),W&&W.m(l,null),a(l,n),R&&R.m(l,null),a(l,i),Y&&Y.m(l,null),a(l,s),O&&O.m(l,null),a(l,o),T&&T.m(l,null),a(l,f),G&&G.m(l,null),a(l,r),j&&j.m(l,null),a(l,c),F&&F.m(l,null),a(l,_),K&&K.m(l,null),a(e,d),a(e,v),Q&&Q.m(v,null),a(v,w),$&&$.m(v,null),C(ve,b,Se),ye(S,ve,Se),C(ve,g,Se),ye(A,ve,Se),C(ve,L,Se),ye(B,ve,Se),C(ve,P,Se),ye(U,ve,Se),q=!0,H||(X=de(e,"submit",mn(t[16])),H=!0)},p(ve,Se){var Dt,at,tt,ct,Vt,vt,At,pt,It,it,ft,Pe,je,Fe,Qe,be,Re,wt,qt,rt,Ie,Ze,He,Te,Ee,Le,Oe,Xe;(Dt=ve[7])!=null&&Dt.g?W?(W.p(ve,Se),Se[0]&128&&te(W,1)):(W=Sa(ve),W.c(),te(W,1),W.m(l,n)):W&&(yt(),se(W,1,1,()=>{W=null}),Mt()),(at=ve[7])!=null&&at.fw?R?R.p(ve,Se):(R=Pa(ve),R.c(),R.m(l,i)):R&&(R.d(1),R=null),(tt=ve[7])!=null&&tt.m?Y?Y.p(ve,Se):(Y=Ta(ve),Y.c(),Y.m(l,s)):Y&&(Y.d(1),Y=null),(ct=ve[7])!=null&&ct.w?O?O.p(ve,Se):(O=Fa(ve),O.c(),O.m(l,o)):O&&(O.d(1),O=null),(Vt=ve[7])!=null&&Vt.q?T?(T.p(ve,Se),Se[0]&128&&te(T,1)):(T=Ha(ve),T.c(),te(T,1),T.m(l,f)):T&&(yt(),se(T,1,1,()=>{T=null}),Mt()),((At=(vt=ve[7])==null?void 0:vt.q)==null?void 0:At.m)==3?G?G.p(ve,Se):(G=za(ve),G.c(),G.m(l,r)):G&&(G.d(1),G=null),((It=(pt=ve[7])==null?void 0:pt.q)==null?void 0:It.m)==4?j?j.p(ve,Se):(j=Va(ve),j.c(),j.m(l,c)):j&&(j.d(1),j=null),Se[0]&128&&(m=((Pe=(ft=(it=ve[7])==null?void 0:it.p)==null?void 0:ft.r)==null?void 0:Pe.startsWith("NO"))||((Qe=(Fe=(je=ve[7])==null?void 0:je.p)==null?void 0:Fe.r)==null?void 0:Qe.startsWith("10YNO"))||((wt=(Re=(be=ve[7])==null?void 0:be.p)==null?void 0:Re.r)==null?void 0:wt.startsWith("10Y1001A1001A4"))),m?F?F.p(ve,Se):(F=Ga(ve),F.c(),F.m(l,_)):F&&(F.d(1),F=null),(qt=ve[7])!=null&&qt.u?K?K.p(ve,Se):(K=Xa(ve),K.c(),K.m(l,null)):K&&(K.d(1),K=null),(rt=ve[1])!=null&&rt.a?Q?Q.p(ve,Se):(Q=Qa(ve),Q.c(),Q.m(v,w)):Q&&(Q.d(1),Q=null),ve[7]?$?$.p(ve,Se):($=Za(ve),$.c(),$.m(v,null)):$&&($.d(1),$=null);const lt={};Se[0]&32&&(lt.active=ve[5]),Se[0]&4&&(lt.message=((Ze=(Ie=ve[2].conf)==null?void 0:Ie.mask)==null?void 0:Ze.loading)??"Loading"),S.$set(lt);const ot={};Se[0]&64&&(ot.active=ve[6]),Se[0]&4&&(ot.message=((Te=(He=ve[2].conf)==null?void 0:He.mask)==null?void 0:Te.saving)??"Saving"),A.$set(ot);const Nt={};Se[0]&2048&&(Nt.active=ve[11]),Se[0]&4&&(Nt.message=((Le=(Ee=ve[2].conf)==null?void 0:Ee.mask)==null?void 0:Le.reset)??"Factory reset"),B.$set(Nt);const bt={};Se[0]&4096&&(bt.active=ve[12]),Se[0]&4&&(bt.message=((Xe=(Oe=ve[2].conf)==null?void 0:Oe.mask)==null?void 0:Xe.reset_done)??"Done"),U.$set(bt)},i(ve){q||(te(W),te(T),te(S.$$.fragment,ve),te(A.$$.fragment,ve),te(B.$$.fragment,ve),te(U.$$.fragment,ve),q=!0)},o(ve){se(W),se(T),se(S.$$.fragment,ve),se(A.$$.fragment,ve),se(B.$$.fragment,ve),se(U.$$.fragment,ve),q=!1},d(ve){ve&&(M(e),M(b),M(g),M(L),M(P)),W&&W.d(),R&&R.d(),Y&&Y.d(),O&&O.d(),T&&T.d(),G&&G.d(),j&&j.d(),F&&F.d(),K&&K.d(),Q&&Q.d(),$&&$.d(),Me(S,ve),Me(A,ve),Me(B,ve),Me(U,ve),H=!1,X()}}}async function om(){await(await fetch("reboot",{method:"POST"})).json()}function oi(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function am(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:cs,medium:us,low:fs,off:ms};o.off;let f={};Ml.subscribe(Te=>{l(2,f=Te)});let r=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],c=!0,m=!1,_,d=[],v="",w=null;gn.subscribe(Te=>{var Ee,Le,Oe,Xe;if(Te.version){(Ee=Te==null?void 0:Te.c)==null||Ee.e,l(7,_=Te),l(5,c=!1);const st=((Le=f.consent)==null?void 0:Le.load_from_server)??"Load from server";l(3,d=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),_!=null&&_.fw?l(7,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(7,_={..._,fw:{a:!1,s:2,e:3}}),(Oe=_==null?void 0:_.u)!=null&&Oe.lang&&!d.find(Et=>Et.code===_.u.lang)&&d.push({code:_.u.lang,name:((Xe=f.language)==null?void 0:Xe.name)??"Unknown"}),d.push({code:"hub",name:st})}}),ru();let b={},S=[];nu.subscribe(Te=>{var Ee;for(let Le=0;Le<Te.n.length&&Te.n[Le].s!=((Ee=_==null?void 0:_.w)==null?void 0:Ee.s);Le++);l(4,b=Te)});let g=!1,A=!1;async function L(){if(confirm("Factory reset?")){l(11,g=!0);const Te=new URLSearchParams;Te.append("perform","true");let Le=await(await fetch("reset",{method:"POST",body:Te})).json();l(11,g=!1),l(12,A=Le.success)}}async function B(Te){l(6,m=!0);const Ee=new FormData(Te.target),Le=new URLSearchParams;for(let st of Ee){const[Et,Ht]=st;Le.append(Et,Ht)}let Xe=await(await fetch("save",{method:"POST",body:Le})).json();ml.update(st=>(st.hostname=Ee.get("gh"),st.usrcfg=Xe.success,st.booting=Xe.reboot,Ee.get("nm")=="static"&&(st.net.ip=Ee.get("ni"),st.net.mask=Ee.get("nu"),st.net.gw=Ee.get("ng"),st.net.dns1=Ee.get("nd")),st.ui=_.u,st)),l(6,m=!1),Il(n)}const P=function(){confirm("Reboot?")&&(ml.update(Te=>(Te.booting=!0,Te)),om())};async function U(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),gn.update(Ee=>(Ee.q.s.c=!1,Ee)))}async function q(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),gn.update(Ee=>(Ee.q.s.r=!1,Ee)))}async function H(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),gn.update(Ee=>(Ee.q.s.k=!1,Ee)))}const X=function(){_.q.s.e?_.q.p==1883&&l(7,_.q.p=8883,_):_.q.p==8883&&l(7,_.q.p=1883,_)};async function W(){if(_.u.lang=="hub"){const Te=await yl("http://hub.amsleser.no/hub/language/list.json");l(3,d=await Te.json()),l(7,_.u.lang=f.language.code,_);return}_.u.lang&&await Xn(_.u.lang)}function R(Te){l(8,v=Te);const Ee=uu(Te);if(l(9,w=Ee??null),!Ee||!(_!=null&&_.m))return;const Le=Tl(_.m),Oe=cu(Le,Ee),Xe=mu(_.m,Oe);l(7,_={..._,m:Xe})}function Y(){l(8,v=""),l(9,w=null)}async function O(){l(7,_.p.e=!0,_)}const T=window||global;T.bindToCloud=function(){console.log("BIND CALLED")};const G=[[]];function j(){_.g.h=this.value,l(7,_)}function F(){_.g.t=ll(this),l(7,_)}function K(){_.u.lang=ll(this),l(7,_)}function Q(){_.p.r=ll(this),l(7,_)}function $(){_.p.c=ll(this),l(7,_)}function V(){_.p.e=this.checked,l(7,_)}function ne(){_.p.t=this.value,l(7,_)}function me(){_.g.s=ll(this),l(7,_)}function oe(){_.g.u=this.value,l(7,_)}function ie(){_.g.p=this.value,l(7,_)}function fe(){_.g.c=this.value,l(7,_)}function Z(){_.fw.a=this.checked,l(7,_)}function x(){_.fw.s=_t(this.value),l(7,_)}function ee(){_.fw.e=_t(this.value),l(7,_)}function he(){v=ll(this),l(8,v)}const ge=Te=>R(Te.target.value);function E(){_.m.a=ll(this),l(7,_)}function y(){_.m.b=_t(this.value),l(7,_)}function I(){_.m.i=this.checked,l(7,_)}function D(){_.m.b=ll(this),l(7,_)}function z(){_.m.p=ll(this),l(7,_)}function le(){_.m.s=_t(this.value),l(7,_)}function ae(){_.m.d=ll(this),l(7,_)}function re(){_.m.f=_t(this.value),l(7,_)}function ce(){_.m.r=_t(this.value),l(7,_)}function _e(){_.m.e.e=this.checked,l(7,_)}function we(){_.m.e.k=this.value,l(7,_)}function ke(){_.m.e.a=this.value,l(7,_)}function qe(){_.m.m.e=this.checked,l(7,_)}function De(){_.m.m.w=_t(this.value),l(7,_)}function We(){_.m.m.v=_t(this.value),l(7,_)}function Ye(){_.m.m.a=_t(this.value),l(7,_)}function xe(){_.m.m.c=_t(this.value),l(7,_)}function ve(){_.w.s=this.__value,l(7,_)}function Se(){_.w.p=this.value,l(7,_)}function lt(){_.w.z=ll(this),l(7,_)}function ot(){_.w.w=_t(this.value),l(7,_)}function Nt(){_.w.b=this.checked,l(7,_)}function bt(){_.q.s.e=this.checked,l(7,_)}function Dt(){_.q.h=this.value,l(7,_)}function at(){_.q.p=_t(this.value),l(7,_)}function tt(){_.q.u=this.value,l(7,_)}function ct(){_.q.a=this.value,l(7,_)}function Vt(){_.q.c=this.value,l(7,_)}function vt(){_.q.m=ll(this),l(7,_)}function At(){_.q.b=this.value,l(7,_)}function pt(){_.q.r=this.value,l(7,_)}function It(){_.q.t=ll(this),l(7,_)}function it(){_.q.d=_t(this.value),l(7,_)}function ft(){_.q.i=_t(this.value),l(7,_)}function Pe(){_.q.k=_t(this.value),l(7,_)}function je(){_.o.e=this.value,l(7,_)}function Fe(){_.o.c=this.value,l(7,_)}function Qe(){_.o.u1=this.value,l(7,_)}function be(){_.o.u2=this.value,l(7,_)}function Re(){_.o.u3=this.value,l(7,_)}function wt(){_.h.t=this.value,l(7,_)}function qt(){_.h.h=this.value,l(7,_)}function rt(){_.h.n=this.value,l(7,_)}function Ie(Te){_.t.t[Te]=_t(this.value),l(7,_)}function Ze(){_.t.h=_t(this.value),l(7,_)}function He(Te){_.u[Te.key]=ll(this),l(7,_)}return t.$$set=Te=>{"basepath"in Te&&l(26,n=Te.basepath),"sysinfo"in Te&&l(0,i=Te.sysinfo),"data"in Te&&l(1,s=Te.data)},t.$$.update=()=>{var Te;if(t.$$.dirty[0]&12&&d.length){const Ee=((Te=f.consent)==null?void 0:Te.load_from_server)??"Load from server";d.some(Oe=>Oe.code==="hub")?d.find(Xe=>Xe.code==="hub"&&Xe.name!==Ee)&&l(3,d=d.map(Xe=>Xe.code==="hub"?{...Xe,name:Ee}:Xe)):l(3,d=[...d,{code:"hub",name:Ee}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Ee,label:Le}=Vn(s==null?void 0:s.r);o[Ee]??o.off}t.$$.dirty[0]&16&&l(10,S=Array.isArray(b==null?void 0:b.n)?b.n.map(Ee=>{const{level:Le,label:Oe}=Vn(Ee==null?void 0:Ee.r);return{icon:o[Le]??o.off,title:Oe}}):[])},[i,s,f,d,b,c,m,_,v,w,S,g,A,o,r,L,B,P,U,q,H,X,W,R,Y,O,n,j,F,K,Q,$,V,ne,me,oe,ie,fe,Z,x,ee,he,ge,E,y,I,D,z,le,ae,re,ce,_e,we,ke,qe,De,We,Ye,xe,ve,G,Se,lt,ot,Nt,bt,Dt,at,tt,ct,Vt,vt,At,pt,It,it,ft,Pe,je,Fe,Qe,be,Re,wt,qt,rt,Ie,Ze,He]}class rm extends Tt{constructor(e){super(),Pt(this,e,am,sm,Ct,{basepath:26,sysinfo:0,data:1},null,[-1,-1,-1,-1])}}function $a(t,e,l){const n=t.slice();return n[21]=e[l],n}function xa(t){let e,l=t[1].cpu+"",n,i;return{c(){e=k("("),n=k(l),i=k("MHz)")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&N(n,l)},d(s){s&&(M(e),M(n),M(i))}}}function fm(t){let e=Ve(t[1].chip,t[1].board)+"",l;return{c(){l=k(e)},m(n,i){C(n,l,i)},p(n,i){i&2&&e!==(e=Ve(n[1].chip,n[1].board)+"")&&N(l,e)},d(n){n&&M(l)}}}function er(t){var j,F,K,Q,$,V,ne,me;let e,l=(((F=(j=t[3].status)==null?void 0:j.device)==null?void 0:F.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=(((Q=(K=t[3].status)==null?void 0:K.device)==null?void 0:Q.last_boot)??"Last boot")+"",m,_,d,v,w,b,S=(((V=($=t[3].status)==null?void 0:$.device)==null?void 0:V.reason)??"Reason")+"",g,A,L=(((me=(ne=t[3][Js(t[1].chip)])==null?void 0:ne.reason)==null?void 0:me[t[1].boot_reason])??t[1].boot_reason)+"",B,P,U=t[1].boot_reason+"",q,H,X=t[1].ex_cause+"",W,R,Y;const O=[cm,um],T=[];function G(oe,ie){return oe[0].u>0?0:1}return d=G(t),v=T[d]=O[d](t),{c(){e=p("div"),n=k(l),i=k(": "),o=k(s),f=h(),r=p("div"),m=k(c),_=k(`:
            `),v.c(),w=h(),b=p("div"),g=k(S),A=k(": "),B=k(L),P=k(" ("),q=k(U),H=k("/"),W=k(X),R=k(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(b,"class","my-2")},m(oe,ie){C(oe,e,ie),a(e,n),a(e,i),a(e,o),C(oe,f,ie),C(oe,r,ie),a(r,m),a(r,_),T[d].m(r,null),C(oe,w,ie),C(oe,b,ie),a(b,g),a(b,A),a(b,B),a(b,P),a(b,q),a(b,H),a(b,W),a(b,R),Y=!0},p(oe,ie){var Z,x,ee,he,ge,E,y,I;(!Y||ie&8)&&l!==(l=(((x=(Z=oe[3].status)==null?void 0:Z.device)==null?void 0:x.apmac)??"AP MAC")+"")&&N(n,l),(!Y||ie&2)&&s!==(s=oe[1].apmac+"")&&N(o,s),(!Y||ie&8)&&c!==(c=(((he=(ee=oe[3].status)==null?void 0:ee.device)==null?void 0:he.last_boot)??"Last boot")+"")&&N(m,c);let fe=d;d=G(oe),d===fe?T[d].p(oe,ie):(yt(),se(T[fe],1,1,()=>{T[fe]=null}),Mt(),v=T[d],v?v.p(oe,ie):(v=T[d]=O[d](oe),v.c()),te(v,1),v.m(r,null)),(!Y||ie&8)&&S!==(S=(((E=(ge=oe[3].status)==null?void 0:ge.device)==null?void 0:E.reason)??"Reason")+"")&&N(g,S),(!Y||ie&10)&&L!==(L=(((I=(y=oe[3][Js(oe[1].chip)])==null?void 0:y.reason)==null?void 0:I[oe[1].boot_reason])??oe[1].boot_reason)+"")&&N(B,L),(!Y||ie&2)&&U!==(U=oe[1].boot_reason+"")&&N(q,U),(!Y||ie&2)&&X!==(X=oe[1].ex_cause+"")&&N(W,X)},i(oe){Y||(te(v),Y=!0)},o(oe){se(v),Y=!1},d(oe){oe&&(M(e),M(f),M(r),M(w),M(b)),T[d].d()}}}function um(t){let e;return{c(){e=k("-")},m(l,n){C(l,e,n)},p:Ge,i:Ge,o:Ge,d(l){l&&M(e)}}}function cm(t){let e,l;return e=new su({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function tr(t){var m;let e,l,n,i,s=(((m=t[3].btn)==null?void 0:m.reboot)??"Reboot")+"",o,f,r,c;return l=new kl({props:{to:"/consent",$$slots:{default:[mm]},$$scope:{ctx:t}}}),{c(){e=p("div"),Ce(l.$$.fragment),n=h(),i=p("button"),o=k(s),u(i,"class","btn-yellow-sm float-right"),u(e,"class","my-2")},m(_,d){C(_,e,d),ye(l,e,null),a(e,n),a(e,i),a(i,o),f=!0,r||(c=de(i,"click",t[11]),r=!0)},p(_,d){var w;const v={};d&16777224&&(v.$$scope={dirty:d,ctx:_}),l.$set(v),(!f||d&8)&&s!==(s=(((w=_[3].btn)==null?void 0:w.reboot)??"Reboot")+"")&&N(o,s)},i(_){f||(te(l.$$.fragment,_),f=!0)},o(_){se(l.$$.fragment,_),f=!1},d(_){_&&M(e),Me(l),r=!1,c()}}}function mm(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.device)==null?void 0:s.btn_consents)??"Consents")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","btn-pri-sm")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.device)==null?void 0:c.btn_consents)??"Consents")+"")&&N(n,l)},d(o){o&&M(e)}}}function lr(t){var W,R,Y,O,T,G,j,F;let e,l,n=(((R=(W=t[3].status)==null?void 0:W.meter)==null?void 0:R.title)??"Meter")+"",i,s,o,f=(((O=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:O.manufacturer)??"Manufacturer")+"",r,c,m=di(t[1].meter.mfg)+"",_,d,v,w=(((G=(T=t[3].status)==null?void 0:T.meter)==null?void 0:G.model)??"Model")+"",b,S,g=(t[1].meter.model?t[1].meter.model:"unknown")+"",A,L,B,P=(((F=(j=t[3].status)==null?void 0:j.meter)==null?void 0:F.id)??"ID")+"",U,q,H=(t[1].meter.id?t[1].meter.id:"unknown")+"",X;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),v=p("div"),b=k(w),S=k(": "),A=k(g),L=h(),B=p("div"),U=k(P),q=k(": "),X=k(H),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(B,"class","my-2"),u(e,"class","cnt")},m(K,Q){C(K,e,Q),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,v),a(v,b),a(v,S),a(v,A),a(e,L),a(e,B),a(B,U),a(B,q),a(B,X)},p(K,Q){var $,V,ne,me,oe,ie,fe,Z;Q&8&&n!==(n=(((V=($=K[3].status)==null?void 0:$.meter)==null?void 0:V.title)??"Meter")+"")&&N(i,n),Q&8&&f!==(f=(((me=(ne=K[3].status)==null?void 0:ne.meter)==null?void 0:me.manufacturer)??"Manufacturer")+"")&&N(r,f),Q&2&&m!==(m=di(K[1].meter.mfg)+"")&&N(_,m),Q&8&&w!==(w=(((ie=(oe=K[3].status)==null?void 0:oe.meter)==null?void 0:ie.model)??"Model")+"")&&N(b,w),Q&2&&g!==(g=(K[1].meter.model?K[1].meter.model:"unknown")+"")&&N(A,g),Q&8&&P!==(P=(((Z=(fe=K[3].status)==null?void 0:fe.meter)==null?void 0:Z.id)??"ID")+"")&&N(U,P),Q&2&&H!==(H=(K[1].meter.id?K[1].meter.id:"unknown")+"")&&N(X,H)},d(K){K&&M(e)}}}function nr(t){var F,K,Q,$,V,ne,me,oe;let e,l,n=(((K=(F=t[3].status)==null?void 0:F.network)==null?void 0:K.title)??"Network")+"",i,s,o,f=((($=(Q=t[3].conf)==null?void 0:Q.network)==null?void 0:$.ip)??"IP")+"",r,c,m=t[1].net.ip+"",_,d,v,w=(((ne=(V=t[3].conf)==null?void 0:V.network)==null?void 0:ne.mask)??"Mask")+"",b,S,g=t[1].net.mask+"",A,L,B,P=(((oe=(me=t[3].conf)==null?void 0:me.network)==null?void 0:oe.gw)??"Gateway")+"",U,q,H=t[1].net.gw+"",X,W,R,Y,O,T=t[1].net.dns1&&ir(t),G=t[1].net.dns2&&sr(t),j=t[1].net.ipv6&&or(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),v=p("div"),b=k(w),S=k(": "),A=k(g),L=h(),B=p("div"),U=k(P),q=k(": "),X=k(H),W=h(),R=p("div"),T&&T.c(),Y=h(),G&&G.c(),O=h(),j&&j.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(B,"class","my-2"),u(R,"class","my-2"),u(e,"class","cnt")},m(ie,fe){C(ie,e,fe),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,v),a(v,b),a(v,S),a(v,A),a(e,L),a(e,B),a(B,U),a(B,q),a(B,X),a(e,W),a(e,R),T&&T.m(R,null),a(R,Y),G&&G.m(R,null),a(e,O),j&&j.m(e,null)},p(ie,fe){var Z,x,ee,he,ge,E,y,I;fe&8&&n!==(n=(((x=(Z=ie[3].status)==null?void 0:Z.network)==null?void 0:x.title)??"Network")+"")&&N(i,n),fe&8&&f!==(f=(((he=(ee=ie[3].conf)==null?void 0:ee.network)==null?void 0:he.ip)??"IP")+"")&&N(r,f),fe&2&&m!==(m=ie[1].net.ip+"")&&N(_,m),fe&8&&w!==(w=(((E=(ge=ie[3].conf)==null?void 0:ge.network)==null?void 0:E.mask)??"Mask")+"")&&N(b,w),fe&2&&g!==(g=ie[1].net.mask+"")&&N(A,g),fe&8&&P!==(P=(((I=(y=ie[3].conf)==null?void 0:y.network)==null?void 0:I.gw)??"Gateway")+"")&&N(U,P),fe&2&&H!==(H=ie[1].net.gw+"")&&N(X,H),ie[1].net.dns1?T?T.p(ie,fe):(T=ir(ie),T.c(),T.m(R,Y)):T&&(T.d(1),T=null),ie[1].net.dns2?G?G.p(ie,fe):(G=sr(ie),G.c(),G.m(R,null)):G&&(G.d(1),G=null),ie[1].net.ipv6?j?j.p(ie,fe):(j=or(ie),j.c(),j.m(e,null)):j&&(j.d(1),j=null)},d(ie){ie&&M(e),T&&T.d(),G&&G.d(),j&&j.d()}}}function ir(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&N(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&N(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function sr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&N(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&N(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function or(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&ar(t),m=t[1].net.dns2v6&&rr(t);return{c(){e=p("div"),l=k("IPv6: "),n=p("span"),s=k(i),o=h(),f=p("div"),c&&c.c(),r=h(),m&&m.c(),tn(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(_,d){C(_,e,d),a(e,l),a(e,n),a(n,s),C(_,o,d),C(_,f,d),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(_,d){d&2&&i!==(i=_[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(s,i),_[1].net.dns1v6?c?c.p(_,d):(c=ar(_),c.c(),c.m(f,r)):c&&(c.d(1),c=null),_[1].net.dns2v6?m?m.p(_,d):(m=rr(_),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(_){_&&(M(e),M(o),M(f)),c&&c.d(),m&&m.d()}}}function ar(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),tn(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(i,n)},d(s){s&&(M(e),M(l))}}}function rr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),tn(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(i,n)},d(s){s&&(M(e),M(l))}}}function fr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","my-2 text-green-600")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&N(n,l)},d(o){o&&M(e)}}}function ur(t){var r,c,m,_;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((_=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:_[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=k(n),s=h(),f=k(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(d,v){C(d,e,v),a(e,l),a(l,i),a(l,s),a(l,f)},p(d,v){var w,b,S,g;v&10&&n!==(n=(((b=(w=d[3].status)==null?void 0:w.firmware)==null?void 0:b.failed)??"Upgrade from {0} to {1} failed").replace("{0}",d[1].upgrade.f).replace("{1}",d[1].upgrade.t)+"")&&N(i,n),v&10&&o!==(o=(((g=(S=d[3].errors)==null?void 0:S.upgrade)==null?void 0:g[d[1].upgrade.e])??d[1].upgrade.e)+"")&&N(f,o)},d(d){d&&M(e)}}}function cr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=k("Last HTTP status: "),s=k(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){C(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&N(s,i)},d(o){o&&M(e)}}}function mr(t){var w,b;let e,l=(((b=(w=t[3].status)==null?void 0:w.firmware)==null?void 0:b.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,_,d=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&_r(t),v=t[1].fwconsent===2&&pr(t);return{c(){e=p("div"),n=k(l),i=k(`: 
                `),s=p("a"),f=k(o),c=h(),d&&d.c(),m=h(),v&&v.c(),_=$t(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(S,g){C(S,e,g),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),d&&d.m(e,null),C(S,m,g),v&&v.m(S,g),C(S,_,g)},p(S,g){var A,L;g&8&&l!==(l=(((L=(A=S[3].status)==null?void 0:A.firmware)==null?void 0:L.latest)??"Latest")+"")&&N(n,l),g&2&&o!==(o=S[1].upgrade.n+"")&&N(f,o),g&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+S[1].upgrade.n)&&u(s,"href",r),(S[1].security==0||S[0].a)&&S[1].fwconsent===1&&S[1].upgrade.n&&S[1].upgrade.n!=S[1].version?d?d.p(S,g):(d=_r(S),d.c(),d.m(e,null)):d&&(d.d(1),d=null),S[1].fwconsent===2?v?v.p(S,g):(v=pr(S),v.c(),v.m(_.parentNode,_)):v&&(v.d(1),v=null)},d(S){S&&(M(e),M(m),M(_)),d&&d.d(),v&&v.d(S)}}}function _r(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){C(o,e,f),a(e,l),i||(s=de(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&M(e),i=!1,s()}}}function pr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=k(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&N(i,n)},d(f){f&&M(e)}}}function dr(t){let e,l=$s(Ve(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=$s(Ve(i[1].chip,i[1].board))+"")&&N(n,l)},d(i){i&&M(e)}}}function hr(t){let e,l,n,i,s,o;function f(m,_){return m[5].length==0?pm:_m}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=h(),c.c(),tn(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,_){C(m,e,_),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[de(n,"change",t[14]),de(l,"submit",t[16])],s=!0)},p(m,_){r===(r=f(m))&&c?c.p(m,_):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&M(e),t[13](null),c.d(),s=!1,jt(o)}}}function _m(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&N(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&N(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function pm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),a(e,n),i||(s=de(e,"click",t[15]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:_.btn_select_file)??"Select file")+"")&&N(n,l)},d(r){r&&M(e),i=!1,s()}}}function br(t){var G,j,F,K,Q,$;let e,l,n=(((j=(G=t[3].status)==null?void 0:G.backup)==null?void 0:j.title)??"Backup")+"",i,s,o,f,r,c,m,_,d=(((K=(F=t[3].status)==null?void 0:F.backup)==null?void 0:K.secrets)??"Include secrets")+"",v,w,b,S=((($=(Q=t[3].status)==null?void 0:Q.backup)==null?void 0:$.secrets_desc)??"")+"",g,A,L,B,P,U,q,H,X=et(t[9]),W=[];for(let V=0;V<X.length;V+=1)W[V]=vr($a(t,X,V));let R=t[2].length==0&&gr(t);function Y(V,ne){return V[2].length==0?hm:dm}let O=Y(t),T=O(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("form"),f=p("div");for(let V=0;V<W.length;V+=1)W[V].c();r=h(),c=p("label"),m=p("input"),_=h(),v=k(d),w=p("br"),b=p("small"),g=k(S),A=h(),R&&R.c(),L=h(),B=p("form"),P=p("input"),U=h(),T.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),tn(P,"display","none"),u(P,"name","file"),u(P,"type","file"),u(P,"accept",".cfg"),u(B,"autocomplete","off"),u(e,"class","cnt")},m(V,ne){C(V,e,ne),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let me=0;me<W.length;me+=1)W[me]&&W[me].m(f,null);a(f,r),a(f,c),a(c,m),a(c,_),a(c,v),a(c,w),a(c,b),a(b,g),a(o,A),R&&R.m(o,null),a(e,L),a(e,B),a(B,P),t[17](P),a(B,U),T.m(B,null),q||(H=[de(P,"change",t[18]),de(B,"submit",mn(t[12]))],q=!0)},p(V,ne){var me,oe,ie,fe,Z,x;if(ne&8&&n!==(n=(((oe=(me=V[3].status)==null?void 0:me.backup)==null?void 0:oe.title)??"Backup")+"")&&N(i,n),ne&520){X=et(V[9]);let ee;for(ee=0;ee<X.length;ee+=1){const he=$a(V,X,ee);W[ee]?W[ee].p(he,ne):(W[ee]=vr(he),W[ee].c(),W[ee].m(f,r))}for(;ee<W.length;ee+=1)W[ee].d(1);W.length=X.length}ne&8&&d!==(d=(((fe=(ie=V[3].status)==null?void 0:ie.backup)==null?void 0:fe.secrets)??"Include secrets")+"")&&N(v,d),ne&8&&S!==(S=(((x=(Z=V[3].status)==null?void 0:Z.backup)==null?void 0:x.secrets_desc)??"")+"")&&N(g,S),V[2].length==0?R?R.p(V,ne):(R=gr(V),R.c(),R.m(o,null)):R&&(R.d(1),R=null),O===(O=Y(V))&&T?T.p(V,ne):(T.d(1),T=O(V),T&&(T.c(),T.m(B,null)))},d(V){V&&M(e),Zt(W,V),R&&R.d(),t[17](null),T.d(),q=!1,jt(H)}}}function vr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=h(),s=k(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,_;c&8&&i!==(i=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_[r[21].key])??r[21].name)+"")&&N(s,i)},d(r){r&&M(e)}}}function gr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=k(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&N(n,l)},d(o){o&&M(e)}}}function dm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&N(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&N(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function hm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),a(e,n),i||(s=de(e,"click",t[19]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_.btn_select_file)??"Select file")+"")&&N(n,l)},d(r){r&&M(e),i=!1,s()}}}function bm(t){var ot,Nt,bt,Dt,at,tt,ct,Vt,vt,At,pt,It,it,ft,Pe,je,Fe,Qe;let e,l,n,i=(((ot=t[3].status)==null?void 0:ot.device.title)??"Device")+"",s,o,f,r=(((bt=(Nt=t[3].status)==null?void 0:Nt.device)==null?void 0:bt.chip)??"Chip")+"",c,m,_=t[1].chip+"",d,v,w,b,S=(((at=(Dt=t[3].status)==null?void 0:Dt.device)==null?void 0:at.device)??"Device")+"",g,A,L,B,P,U=(((ct=(tt=t[3].status)==null?void 0:tt.device)==null?void 0:ct.mac)??"MAC")+"",q,H,X=t[1].mac+"",W,R,Y,O,T,G,j,F,K=(((vt=(Vt=t[3].status)==null?void 0:Vt.firmware)==null?void 0:vt.title)??"Firmware")+"",Q,$,V,ne=(((pt=(At=t[3].status)==null?void 0:At.firmware)==null?void 0:pt.installed)??"Installed")+"",me,oe,ie=t[1].version+"",fe,Z,x,ee,he,ge,E=(t[1].security==0||t[0].a)&&Hn(t[1].board),y,I,D,z,le,ae,re,ce=t[1].cpu&&xa(t);L=new kl({props:{to:"/vendor",$$slots:{default:[fm]},$$scope:{ctx:t}}});let _e=t[1].apmac&&t[1].apmac!=t[1].mac&&er(t),we=((It=t[0])==null?void 0:It.a)&&tr(t),ke=t[1].meter&&lr(t),qe=t[1].net&&nr(t),De=((it=t[1].upgrade)==null?void 0:it.m)===!0&&fr(t),We=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&ur(t),Ye=((ft=t[1].upgrade)==null?void 0:ft.x)!==void 0&&t[1].upgrade.x!==-1&&cr(t),xe=t[1].upgrade.n&&mr(t),ve=E&&dr(t),Se=(t[1].security==0||t[0].a)&&hr(t),lt=(t[1].security==0||t[0].a)&&br(t);return z=new pl({props:{active:t[6],message:((je=(Pe=t[3].status)==null?void 0:Pe.mask)==null?void 0:je.firmware)??"Uploading"}}),ae=new pl({props:{active:t[8],message:((Qe=(Fe=t[3].status)==null?void 0:Fe.mask)==null?void 0:Qe.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=p("div"),c=k(r),m=k(": "),d=k(_),v=h(),ce&&ce.c(),w=h(),b=p("div"),g=k(S),A=k(": "),Ce(L.$$.fragment),B=h(),P=p("div"),q=k(U),H=k(": "),W=k(X),R=h(),_e&&_e.c(),Y=h(),we&&we.c(),O=h(),ke&&ke.c(),T=h(),qe&&qe.c(),G=h(),j=p("div"),F=p("strong"),Q=k(K),$=h(),V=p("div"),me=k(ne),oe=k(": "),fe=k(ie),Z=h(),De&&De.c(),x=h(),We&&We.c(),ee=h(),Ye&&Ye.c(),he=h(),xe&&xe.c(),ge=h(),ve&&ve.c(),y=h(),Se&&Se.c(),I=h(),lt&&lt.c(),D=h(),Ce(z.$$.fragment),le=h(),Ce(ae.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(b,"class","my-2"),u(P,"class","my-2"),u(l,"class","cnt"),u(F,"class","text-sm"),u(V,"class","my-2"),u(j,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(be,Re){C(be,e,Re),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,d),a(f,v),ce&&ce.m(f,null),a(l,w),a(l,b),a(b,g),a(b,A),ye(L,b,null),a(l,B),a(l,P),a(P,q),a(P,H),a(P,W),a(l,R),_e&&_e.m(l,null),a(l,Y),we&&we.m(l,null),a(e,O),ke&&ke.m(e,null),a(e,T),qe&&qe.m(e,null),a(e,G),a(e,j),a(j,F),a(F,Q),a(j,$),a(j,V),a(V,me),a(V,oe),a(V,fe),a(j,Z),De&&De.m(j,null),a(j,x),We&&We.m(j,null),a(j,ee),Ye&&Ye.m(j,null),a(j,he),xe&&xe.m(j,null),a(j,ge),ve&&ve.m(j,null),a(j,y),Se&&Se.m(j,null),a(e,I),lt&&lt.m(e,null),C(be,D,Re),ye(z,be,Re),C(be,le,Re),ye(ae,be,Re),re=!0},p(be,[Re]){var Ie,Ze,He,Te,Ee,Le,Oe,Xe,st,Et,Ht,tl,xt,Wt,Ot,sl,Lt,$e;(!re||Re&8)&&i!==(i=(((Ie=be[3].status)==null?void 0:Ie.device.title)??"Device")+"")&&N(s,i),(!re||Re&8)&&r!==(r=(((He=(Ze=be[3].status)==null?void 0:Ze.device)==null?void 0:He.chip)??"Chip")+"")&&N(c,r),(!re||Re&2)&&_!==(_=be[1].chip+"")&&N(d,_),be[1].cpu?ce?ce.p(be,Re):(ce=xa(be),ce.c(),ce.m(f,null)):ce&&(ce.d(1),ce=null),(!re||Re&8)&&S!==(S=(((Ee=(Te=be[3].status)==null?void 0:Te.device)==null?void 0:Ee.device)??"Device")+"")&&N(g,S);const wt={};Re&16777218&&(wt.$$scope={dirty:Re,ctx:be}),L.$set(wt),(!re||Re&8)&&U!==(U=(((Oe=(Le=be[3].status)==null?void 0:Le.device)==null?void 0:Oe.mac)??"MAC")+"")&&N(q,U),(!re||Re&2)&&X!==(X=be[1].mac+"")&&N(W,X),be[1].apmac&&be[1].apmac!=be[1].mac?_e?(_e.p(be,Re),Re&2&&te(_e,1)):(_e=er(be),_e.c(),te(_e,1),_e.m(l,Y)):_e&&(yt(),se(_e,1,1,()=>{_e=null}),Mt()),(Xe=be[0])!=null&&Xe.a?we?(we.p(be,Re),Re&1&&te(we,1)):(we=tr(be),we.c(),te(we,1),we.m(l,null)):we&&(yt(),se(we,1,1,()=>{we=null}),Mt()),be[1].meter?ke?ke.p(be,Re):(ke=lr(be),ke.c(),ke.m(e,T)):ke&&(ke.d(1),ke=null),be[1].net?qe?qe.p(be,Re):(qe=nr(be),qe.c(),qe.m(e,G)):qe&&(qe.d(1),qe=null),(!re||Re&8)&&K!==(K=(((Et=(st=be[3].status)==null?void 0:st.firmware)==null?void 0:Et.title)??"Firmware")+"")&&N(Q,K),(!re||Re&8)&&ne!==(ne=(((tl=(Ht=be[3].status)==null?void 0:Ht.firmware)==null?void 0:tl.installed)??"Installed")+"")&&N(me,ne),(!re||Re&2)&&ie!==(ie=be[1].version+"")&&N(fe,ie),((xt=be[1].upgrade)==null?void 0:xt.m)===!0?De?De.p(be,Re):(De=fr(be),De.c(),De.m(j,x)):De&&(De.d(1),De=null),be[1].upgrade.t&&be[1].upgrade.t!=be[1].version&&be[1].upgrade.e!=0&&be[1].upgrade.e!=123?We?We.p(be,Re):(We=ur(be),We.c(),We.m(j,ee)):We&&(We.d(1),We=null),((Wt=be[1].upgrade)==null?void 0:Wt.x)!==void 0&&be[1].upgrade.x!==-1?Ye?Ye.p(be,Re):(Ye=cr(be),Ye.c(),Ye.m(j,he)):Ye&&(Ye.d(1),Ye=null),be[1].upgrade.n?xe?xe.p(be,Re):(xe=mr(be),xe.c(),xe.m(j,ge)):xe&&(xe.d(1),xe=null),Re&3&&(E=(be[1].security==0||be[0].a)&&Hn(be[1].board)),E?ve?ve.p(be,Re):(ve=dr(be),ve.c(),ve.m(j,y)):ve&&(ve.d(1),ve=null),be[1].security==0||be[0].a?Se?Se.p(be,Re):(Se=hr(be),Se.c(),Se.m(j,null)):Se&&(Se.d(1),Se=null),be[1].security==0||be[0].a?lt?lt.p(be,Re):(lt=br(be),lt.c(),lt.m(e,null)):lt&&(lt.d(1),lt=null);const qt={};Re&64&&(qt.active=be[6]),Re&8&&(qt.message=((sl=(Ot=be[3].status)==null?void 0:Ot.mask)==null?void 0:sl.firmware)??"Uploading"),z.$set(qt);const rt={};Re&256&&(rt.active=be[8]),Re&8&&(rt.message=(($e=(Lt=be[3].status)==null?void 0:Lt.mask)==null?void 0:$e.config)??"Uploading"),ae.$set(rt)},i(be){re||(te(L.$$.fragment,be),te(_e),te(we),te(z.$$.fragment,be),te(ae.$$.fragment,be),re=!0)},o(be){se(L.$$.fragment,be),se(_e),se(we),se(z.$$.fragment,be),se(ae.$$.fragment,be),re=!1},d(be){be&&(M(e),M(D),M(le)),ce&&ce.d(),Me(L),_e&&_e.d(),we&&we.d(),ke&&ke.d(),qe&&qe.d(),De&&De.d(),We&&We.d(),Ye&&Ye.d(),xe&&xe.d(),ve&&ve.d(),Se&&Se.d(),lt&&lt.d(),Me(z,be),Me(ae,be)}}}async function vm(){await(await fetch("reboot",{method:"POST"})).json()}function gm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Ml.subscribe(H=>{l(3,o=H)});function f(){var H;confirm((((H=o.header)==null?void 0:H.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(iu(i.upgrade.n),ml.update(X=>(X.upgrade.t=i.upgrade.n,X.upgrade.p=0,X.upgrading=!0,X)))}const r=function(){var H;confirm(((H=o.device)==null?void 0:H.reboot_confirm)??"Reboot?")&&(ml.update(X=>(X.booting=!0,X)),vm())};let c,m=[],_=!1,d,v=[],w=!1;ki();let b={hostname:"",ip:""};function S(H){l(8,w=!0);const X=new FormData;X.append("file",v[0]),fetch("configfile",{method:"POST",body:X}).then(W=>W.json()).then(W=>{ml.update(R=>(b&&b.hostname&&(R.hostname=b.hostname),R.booting=W.reboot,b&&b.ip&&(R.net.ip=b.ip),setTimeout(fn,5e3,i),R))}).catch(W=>{console.error("Error:",W),setTimeout(fn,5e3,i)})}function g(H){_i[H?"unshift":"push"](()=>{c=H,l(4,c)})}function A(){m=this.files,l(5,m)}const L=()=>{c.click()},B=()=>l(6,_=!0);function P(H){_i[H?"unshift":"push"](()=>{d=H,l(7,d)})}function U(){v=this.files,l(2,v)}const q=()=>{d.click()};return t.$$set=H=>{"data"in H&&l(0,n=H.data),"sysinfo"in H&&l(1,i=H.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&v.length==1){let H=v[0],X=new FileReader,W=R=>{let Y=R.target.result.split(`
`);for(let O in Y){let T=Y[O];T.startsWith("hostname ")?b.hostname=T.split(" ")[1]:T.startsWith("ip ")&&(b.ip=T.split(" ")[1])}};X.onload=W,X.readAsText(H)}},[n,i,v,o,c,m,_,d,w,s,f,r,S,g,A,L,B,P,U,q]}class km extends Tt{constructor(e){super(),Pt(this,e,gm,bm,Ct,{data:0,sysinfo:1})}}function kr(t){let e,l,n=Ve(t[0],7)+"",i,s,o=Ve(t[0],5)+"",f,r,c=Ve(t[0],4)+"",m,_,d=Ve(t[0],3)+"",v,w,b,S,g=Ve(t[0],2)+"",A,L,B=Ve(t[0],1)+"",P,U,q=Ve(t[0],0)+"",H,X,W,R,Y=Ve(t[0],101)+"",O,T,G=Ve(t[0],100)+"",j;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=p("option"),v=k(d),w=h(),b=p("optgroup"),S=p("option"),A=k(g),L=p("option"),P=k(B),U=p("option"),H=k(q),X=h(),W=p("optgroup"),R=p("option"),O=k(Y),T=p("option"),j=k(G),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),_.__value=3,J(_,_.__value),u(e,"label","amsleser.no"),S.__value=2,J(S,S.__value),L.__value=1,J(L,L.__value),U.__value=0,J(U,U.__value),u(b,"label","Custom hardware"),R.__value=101,J(R,R.__value),T.__value=100,J(T,T.__value),u(W,"label","Generic hardware")},m(F,K){C(F,e,K),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,_),a(_,v),C(F,w,K),C(F,b,K),a(b,S),a(S,A),a(b,L),a(L,P),a(b,U),a(U,H),C(F,X,K),C(F,W,K),a(W,R),a(R,O),a(W,T),a(T,j)},p(F,K){K&1&&n!==(n=Ve(F[0],7)+"")&&N(i,n),K&1&&o!==(o=Ve(F[0],5)+"")&&N(f,o),K&1&&c!==(c=Ve(F[0],4)+"")&&N(m,c),K&1&&d!==(d=Ve(F[0],3)+"")&&N(v,d),K&1&&g!==(g=Ve(F[0],2)+"")&&N(A,g),K&1&&B!==(B=Ve(F[0],1)+"")&&N(P,B),K&1&&q!==(q=Ve(F[0],0)+"")&&N(H,q),K&1&&Y!==(Y=Ve(F[0],101)+"")&&N(O,Y),K&1&&G!==(G=Ve(F[0],100)+"")&&N(j,G)},d(F){F&&(M(e),M(w),M(b),M(X),M(W))}}}function wr(t){let e,l,n=Ve(t[0],201)+"",i,s,o=Ve(t[0],202)+"",f,r,c=Ve(t[0],203)+"",m,_,d=Ve(t[0],241)+"",v,w,b=Ve(t[0],242)+"",S,g,A=Ve(t[0],243)+"",L,B,P=Ve(t[0],245)+"",U,q,H=Ve(t[0],200)+"",X;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=p("option"),v=k(d),w=p("option"),S=k(b),g=p("option"),L=k(A),B=p("option"),U=k(P),q=p("option"),X=k(H),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),_.__value=241,J(_,_.__value),w.__value=242,J(w,w.__value),g.__value=243,J(g,g.__value),B.__value=245,J(B,B.__value),q.__value=200,J(q,q.__value),u(e,"label","Generic hardware")},m(W,R){C(W,e,R),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,_),a(_,v),a(e,w),a(w,S),a(e,g),a(g,L),a(e,B),a(B,U),a(e,q),a(q,X)},p(W,R){R&1&&n!==(n=Ve(W[0],201)+"")&&N(i,n),R&1&&o!==(o=Ve(W[0],202)+"")&&N(f,o),R&1&&c!==(c=Ve(W[0],203)+"")&&N(m,c),R&1&&d!==(d=Ve(W[0],241)+"")&&N(v,d),R&1&&b!==(b=Ve(W[0],242)+"")&&N(S,b),R&1&&A!==(A=Ve(W[0],243)+"")&&N(L,A),R&1&&P!==(P=Ve(W[0],245)+"")&&N(U,P),R&1&&H!==(H=Ve(W[0],200)+"")&&N(X,H)},d(W){W&&M(e)}}}function Sr(t){let e,l,n=Ve(t[0],7)+"",i,s,o=Ve(t[0],6)+"",f,r,c=Ve(t[0],5)+"",m,_,d,v,w=Ve(t[0],51)+"",b,S,g=Ve(t[0],50)+"",A;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=h(),d=p("optgroup"),v=p("option"),b=k(w),S=p("option"),A=k(g),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),u(e,"label","amsleser.no"),v.__value=51,J(v,v.__value),S.__value=50,J(S,S.__value),u(d,"label","Generic hardware")},m(L,B){C(L,e,B),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),C(L,_,B),C(L,d,B),a(d,v),a(v,b),a(d,S),a(S,A)},p(L,B){B&1&&n!==(n=Ve(L[0],7)+"")&&N(i,n),B&1&&o!==(o=Ve(L[0],6)+"")&&N(f,o),B&1&&c!==(c=Ve(L[0],5)+"")&&N(m,c),B&1&&w!==(w=Ve(L[0],51)+"")&&N(b,w),B&1&&g!==(g=Ve(L[0],50)+"")&&N(A,g)},d(L){L&&(M(e),M(_),M(d))}}}function yr(t){let e,l,n=Ve(t[0],8)+"",i,s,o,f,r=Ve(t[0],71)+"",c,m,_=Ve(t[0],70)+"",d;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=h(),o=p("optgroup"),f=p("option"),c=k(r),m=p("option"),d=k(_),l.__value=8,J(l,l.__value),u(e,"label","Custom hardware"),f.__value=71,J(f,f.__value),m.__value=70,J(m,m.__value),u(o,"label","Generic hardware")},m(v,w){C(v,e,w),a(e,l),a(l,i),C(v,s,w),C(v,o,w),a(o,f),a(f,c),a(o,m),a(m,d)},p(v,w){w&1&&n!==(n=Ve(v[0],8)+"")&&N(i,n),w&1&&r!==(r=Ve(v[0],71)+"")&&N(c,r),w&1&&_!==(_=Ve(v[0],70)+"")&&N(d,_)},d(v){v&&(M(e),M(s),M(o))}}}function Mr(t){let e,l,n=Ve(t[0],200)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=k(n),l.__value=200,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Ve(s[0],200)+"")&&N(i,n)},d(s){s&&M(e)}}}function Cr(t){let e,l,n=Ve(t[0],80)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=k(n),l.__value=80,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Ve(s[0],80)+"")&&N(i,n)},d(s){s&&M(e)}}}function wm(t){let e,l,n,i,s,o,f,r,c=t[0]=="esp8266"&&kr(t),m=t[0]=="esp32"&&wr(t),_=t[0]=="esp32s2"&&Sr(t),d=t[0]=="esp32c3"&&yr(t),v=t[0]=="esp32solo"&&Mr(t),w=t[0]=="esp32s3"&&Cr(t);return{c(){e=p("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),_&&_.c(),s=h(),d&&d.c(),o=h(),v&&v.c(),f=h(),w&&w.c(),r=$t(),e.__value=-1,J(e,e.__value)},m(b,S){C(b,e,S),C(b,l,S),c&&c.m(b,S),C(b,n,S),m&&m.m(b,S),C(b,i,S),_&&_.m(b,S),C(b,s,S),d&&d.m(b,S),C(b,o,S),v&&v.m(b,S),C(b,f,S),w&&w.m(b,S),C(b,r,S)},p(b,[S]){b[0]=="esp8266"?c?c.p(b,S):(c=kr(b),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),b[0]=="esp32"?m?m.p(b,S):(m=wr(b),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),b[0]=="esp32s2"?_?_.p(b,S):(_=Sr(b),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),b[0]=="esp32c3"?d?d.p(b,S):(d=yr(b),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),b[0]=="esp32solo"?v?v.p(b,S):(v=Mr(b),v.c(),v.m(f.parentNode,f)):v&&(v.d(1),v=null),b[0]=="esp32s3"?w?w.p(b,S):(w=Cr(b),w.c(),w.m(r.parentNode,r)):w&&(w.d(1),w=null)},i:Ge,o:Ge,d(b){b&&(M(e),M(l),M(n),M(i),M(s),M(o),M(f),M(r)),c&&c.d(b),m&&m.d(b),_&&_.d(b),d&&d.d(b),v&&v.d(b),w&&w.d(b)}}}function Sm(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class ym extends Tt{constructor(e){super(),Pt(this,e,Sm,wm,Ct,{chip:0})}}function Nr(t){let e;return{c(){e=p("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Pr(t){let e,l,n,i,s,o,f;return o=new M1({props:{chip:t[0].chip}}),{c(){e=p("div"),l=k("HAN GPIO"),n=p("br"),i=h(),s=p("select"),Ce(o.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),ye(o,s,null),f=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){f||(te(o.$$.fragment,r),f=!0)},o(r){se(o.$$.fragment,r),f=!1},d(r){r&&M(e),Me(o)}}}function Mm(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y,O,T=t[0].usrcfg&&Nr();w=new ym({props:{chip:t[0].chip}});let G=t[0].board&&t[0].board>20&&Pr(t);return W=new pl({props:{active:t[1],message:"Saving"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("strong"),o.textContent="Initial configuration",f=h(),T&&T.c(),r=h(),c=p("div"),m=k("Board type"),_=p("br"),d=h(),v=p("select"),Ce(w.$$.fragment),b=h(),G&&G.c(),S=h(),g=p("div"),A=p("label"),L=p("input"),B=k(" Clear all other configuration"),P=h(),U=p("div"),U.innerHTML='<button type="submit" class="btn-pri">Save</button>',q=h(),H=p("span"),H.textContent=" ",X=h(),Ce(W.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(o,"class","text-sm"),u(v,"name","vb"),u(v,"class","in-s"),t[0].board===void 0&&Bt(()=>t[5].call(v)),u(c,"class","my-3"),u(L,"type","checkbox"),u(L,"name","vr"),L.__value="true",J(L,L.__value),u(L,"class","rounded mb-1"),u(g,"class","my-3"),u(U,"class","my-3"),u(H,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(j,F){C(j,e,F),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),T&&T.m(n,null),a(n,r),a(n,c),a(c,m),a(c,_),a(c,d),a(c,v),ye(w,v,null),nt(v,t[0].board,!0),a(n,b),G&&G.m(n,null),a(n,S),a(n,g),a(g,A),a(A,L),L.checked=t[2],a(A,B),a(n,P),a(n,U),a(n,q),a(n,H),C(j,X,F),ye(W,j,F),R=!0,Y||(O=[de(v,"change",t[5]),de(L,"change",t[6]),de(n,"submit",mn(t[3]))],Y=!0)},p(j,[F]){j[0].usrcfg?T||(T=Nr(),T.c(),T.m(n,r)):T&&(T.d(1),T=null);const K={};F&1&&(K.chip=j[0].chip),w.$set(K),F&1&&nt(v,j[0].board),j[0].board&&j[0].board>20?G?(G.p(j,F),F&1&&te(G,1)):(G=Pr(j),G.c(),te(G,1),G.m(n,S)):G&&(yt(),se(G,1,1,()=>{G=null}),Mt()),F&4&&(L.checked=j[2]);const Q={};F&2&&(Q.active=j[1]),W.$set(Q)},i(j){R||(te(w.$$.fragment,j),te(G),te(W.$$.fragment,j),R=!0)},o(j){se(w.$$.fragment,j),se(G),se(W.$$.fragment,j),R=!1},d(j){j&&(M(e),M(X)),T&&T.d(),Me(w),G&&G.d(),Me(W,j),Y=!1,jt(O)}}}function Cm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const _=new FormData(m.target),d=new URLSearchParams;for(let b of _){const[S,g]=b;d.append(S,g)}let w=await(await fetch("save",{method:"POST",body:d})).json();l(1,s=!1),ml.update(b=>(b.vndcfg=w.success,b.booting=w.reboot,b.if.eth=b.boardType>240&&b.boardType<250,b)),Il(n+(i.usrcfg?"":"setup"))}let f=!0;ml.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,f=!i.usrcfg)});function r(){i.board=ll(this),l(0,i)}function c(){f=this.checked,l(2,f)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,f,o,n,r,c]}class Nm extends Tt{constructor(e){super(),Pt(this,e,Cm,Mm,Ct,{basepath:4,sysinfo:0})}}function Tr(t,e,l){const n=t.slice();return n[30]=e[l],n}function Er(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ar(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.eth)??"Ethernet")+"",n;return{c(){e=p("option"),n=k(l),e.__value=3,J(e,e.__value)},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.eth)??"Ethernet")+"")&&N(n,l)},d(o){o&&M(e)}}}function qr(t){var A,L,B,P;let e,l=(((L=(A=t[3].conf)==null?void 0:A.connection)==null?void 0:L.ssid)??"SSID")+"",n,i,s,o,f,r,c=(((P=(B=t[3].conf)==null?void 0:B.connection)==null?void 0:P.psk)??"Password")+"",m,_,d,v,w;function b(U,q){return Pm}let g=b()(t);return{c(){e=p("div"),n=k(l),i=h(),s=p("br"),o=h(),g.c(),f=h(),r=p("div"),m=k(c),_=p("br"),d=h(),v=p("input"),u(e,"class","my-3"),u(v,"name","sp"),u(v,"type","password"),u(v,"pattern",hi),u(v,"class","in-s"),u(v,"autocomplete","off"),v.required=w=t[4]==2,u(r,"class","my-3")},m(U,q){C(U,e,q),a(e,n),a(e,i),a(e,s),a(e,o),g.m(e,null),C(U,f,q),C(U,r,q),a(r,m),a(r,_),a(r,d),a(r,v)},p(U,q){var H,X,W,R;q[0]&8&&l!==(l=(((X=(H=U[3].conf)==null?void 0:H.connection)==null?void 0:X.ssid)??"SSID")+"")&&N(n,l),g.p(U,q),q[0]&8&&c!==(c=(((R=(W=U[3].conf)==null?void 0:W.connection)==null?void 0:R.psk)??"Password")+"")&&N(m,c),q[0]&16&&w!==(w=U[4]==2)&&(v.required=w)},d(U){U&&(M(e),M(f),M(r)),g.d()}}}function Pm(t){var f;let e,l,n=((f=t[1])==null?void 0:f.c)==-1&&Lr(t);function i(r,c){var m,_,d;if((_=(m=r[1])==null?void 0:m.n)!=null&&_.length)return Em;if(((d=r[1])==null?void 0:d.c)!=-1)return Tm}let s=i(t),o=s&&s(t);return{c(){n&&n.c(),e=h(),o&&o.c(),l=$t()},m(r,c){n&&n.m(r,c),C(r,e,c),o&&o.m(r,c),C(r,l,c)},p(r,c){var m;((m=r[1])==null?void 0:m.c)==-1?n?n.p(r,c):(n=Lr(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s===(s=i(r))&&o?o.p(r,c):(o&&o.d(1),o=s&&s(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&(M(e),M(l)),n&&n.d(r),o&&o.d(r)}}}function Lr(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("p"),n=k(l),u(e,"class","text-sm italic")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&N(n,l)},d(o){o&&M(e)}}}function Tm(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("p"),n=k(l),u(e,"class","text-sm italic")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&N(n,l)},d(o){o&&M(e)}}}function Em(t){let e,l=[],n=new Map,i=et(t[1].n);const s=o=>o[33].s??o[35];for(let o=0;o<i.length;o+=1){let f=Er(t,i,o),r=s(f);n.set(r,l[o]=Ir(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&474&&(i=et(o[1].n),l=wf(l,f,s,1,o,i,n,e,kf,Ir,null,Er))},d(o){o&&M(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Dr(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&N(n,l)},d(o){o&&M(e)}}}function Ir(t,e){var O,T,G,j,F;let l,n,i,s,o=!1,f,r,c,m,_=(e[33].s||(((T=(O=e[3].conf)==null?void 0:O.connection)==null?void 0:T.hidden_ssid)??"Hidden network"))+"",d,v,w,b=(((G=e[6][e[35]])==null?void 0:G.title)??((F=(j=e[3].conf)==null?void 0:j.connection)==null?void 0:F.wifi_offline)??"Signal unavailable")+"",S,g,A,L,B,P,U,q,H,X,W,R,Y=e[7]===e[33].s&&Dr(e);return X=mi(e[14][0]),{key:t,first:null,c(){var K,Q,$;l=p("label"),n=p("span"),i=p("input"),r=h(),c=p("span"),m=p("span"),d=k(_),v=h(),w=p("span"),S=k(b),g=h(),A=p("div"),L=p("img"),q=h(),Y&&Y.c(),H=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ss"),i.__value=s=e[33].s,J(i,i.__value),i.required=f=e[4]==1||e[4]==2,u(m,"class","font-medium text-slate-800 dark:text-slate-100"),u(w,"class","text-xs text-slate-500 dark:text-slate-400"),u(c,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(L,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),un(L.src,B=((K=e[6][e[35]])==null?void 0:K.icon)??e[8].off)||u(L,"src",B),u(L,"alt",P=((Q=e[6][e[35]])==null?void 0:Q.title)??"Wi-Fi offline"),u(L,"title",U=(($=e[6][e[35]])==null?void 0:$.title)??"Wi-Fi offline"),u(A,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),X.p(i),this.first=l},m(K,Q){C(K,l,Q),a(l,n),a(n,i),i.checked=i.__value===e[7],a(n,r),a(n,c),a(c,m),a(m,d),a(c,v),a(c,w),a(w,S),a(l,g),a(l,A),a(A,L),a(A,q),Y&&Y.m(A,null),a(l,H),W||(R=de(i,"change",e[13]),W=!0)},p(K,Q){var $,V,ne,me,oe,ie,fe,Z;e=K,Q[0]&2&&s!==(s=e[33].s)&&(i.__value=s,J(i,i.__value),o=!0),Q[0]&16&&f!==(f=e[4]==1||e[4]==2)&&(i.required=f),(o||Q[0]&130)&&(i.checked=i.__value===e[7]),Q[0]&10&&_!==(_=(e[33].s||(((V=($=e[3].conf)==null?void 0:$.connection)==null?void 0:V.hidden_ssid)??"Hidden network"))+"")&&N(d,_),Q[0]&74&&b!==(b=(((ne=e[6][e[35]])==null?void 0:ne.title)??((oe=(me=e[3].conf)==null?void 0:me.connection)==null?void 0:oe.wifi_offline)??"Signal unavailable")+"")&&N(S,b),Q[0]&66&&!un(L.src,B=((ie=e[6][e[35]])==null?void 0:ie.icon)??e[8].off)&&u(L,"src",B),Q[0]&66&&P!==(P=((fe=e[6][e[35]])==null?void 0:fe.title)??"Wi-Fi offline")&&u(L,"alt",P),Q[0]&66&&U!==(U=((Z=e[6][e[35]])==null?void 0:Z.title)??"Wi-Fi offline")&&u(L,"title",U),e[7]===e[33].s?Y?Y.p(e,Q):(Y=Dr(e),Y.c(),Y.m(A,null)):Y&&(Y.d(1),Y=null)},d(K){K&&M(l),Y&&Y.d(),X.r(),W=!1,R()}}}function Or(t){var c,m;let e,l,n=(((m=(c=t[3].setup)==null?void 0:c.reconnect)==null?void 0:m.info)??"Device will reboot now. Try these addresses to reconnect:")+"",i,s,o,f=et(t[5]),r=[];for(let _=0;_<f.length;_+=1)r[_]=Fr(Tr(t,f,_));return{c(){e=p("div"),l=p("p"),i=k(n),s=h(),o=p("ul");for(let _=0;_<r.length;_+=1)r[_].c();u(o,"class","list-disc pl-5 space-y-1 mt-2"),u(e,"class","mt-4 text-sm text-gray-600 dark:text-gray-300")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(o,null)},p(_,d){var v,w;if(d[0]&8&&n!==(n=(((w=(v=_[3].setup)==null?void 0:v.reconnect)==null?void 0:w.info)??"Device will reboot now. Try these addresses to reconnect:")+"")&&N(i,n),d[0]&32){f=et(_[5]);let b;for(b=0;b<f.length;b+=1){const S=Tr(_,f,b);r[b]?r[b].p(S,d):(r[b]=Fr(S),r[b].c(),r[b].m(o,null))}for(;b<r.length;b+=1)r[b].d(1);r.length=f.length}},d(_){_&&M(e),Zt(r,_)}}}function Fr(t){let e,l,n=(t[30].startsWith("http://")||t[30].startsWith("https://")?t[30]:`http://${t[30]}`)+"",i;return{c(){e=p("li"),l=p("code"),i=k(n)},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o[0]&32&&n!==(n=(s[30].startsWith("http://")||s[30].startsWith("https://")?s[30]:`http://${s[30]}`)+"")&&N(i,n)},d(s){s&&M(e)}}}function Am(t){var he,ge,E,y,I,D,z,le,ae;let e,l,n,i,s,o,f,r,c=(((he=t[3].setup)==null?void 0:he.title)??"Setup")+"",m,_,d,v=(((E=(ge=t[3].conf)==null?void 0:ge.connection)==null?void 0:E.title)??"Connection")+"",w,b,S,g,A,L=(((I=(y=t[3].conf)==null?void 0:y.connection)==null?void 0:I.wifi)??"Connect to WiFi")+"",B,P,U,q,H=(((z=(D=t[3].conf)==null?void 0:D.general)==null?void 0:z.hostname)??"Hostname")+"",X,W,R,Y,O,T,G,j,F,K=(((le=t[3].btn)==null?void 0:le.save)??"Save")+"",Q,$,V,ne,me,oe,ie,fe=t[0].if&&t[0].if.eth&&Ar(t),Z=(t[4]==1||t[4]==2)&&qr(t),x=qm,ee=t[5].length&&Or(t);return ne=new pl({props:{active:t[2],message:((ae=t[3].setup)==null?void 0:ae.mask)??"Lagrer"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("input"),f=h(),r=p("strong"),m=k(c),_=h(),d=p("div"),w=k(v),b=p("br"),S=h(),g=p("select"),A=p("option"),B=k(L),fe&&fe.c(),P=h(),Z&&Z.c(),U=h(),q=p("div"),X=k(H),W=h(),R=p("input"),Y=h(),O=p("div"),T=h(),G=h(),j=p("div"),F=p("button"),Q=k(K),$=h(),ee&&ee.c(),V=h(),Ce(ne.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(o,"type","hidden"),u(o,"name","fw"),o.value="true",u(r,"class","text-sm"),A.__value=1,J(A,A.__value),u(g,"name","sc"),u(g,"class","in-s"),t[4]===void 0&&Bt(()=>t[12].call(g)),u(d,"class","my-3"),u(R,"name","sh"),u(R,"type","text"),u(R,"class","in-s"),u(R,"maxlength","32"),u(R,"pattern",Yn),u(R,"placeholder","Optional, ex.: ams-reader"),u(R,"autocomplete","off"),u(O,"class","my-3"),u(F,"type","submit"),u(F,"class","btn-pri"),u(j,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(re,ce){C(re,e,ce),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),a(n,r),a(r,m),a(n,_),a(n,d),a(d,w),a(d,b),a(d,S),a(d,g),a(g,A),a(A,B),fe&&fe.m(g,null),nt(g,t[4],!0),a(n,P),Z&&Z.m(n,null),a(n,U),a(n,q),a(q,X),a(q,W),a(q,R),J(R,t[0].hostname),a(n,Y),a(n,O),a(n,T),a(n,G),a(n,j),a(j,F),a(F,Q),a(n,$),ee&&ee.m(n,null),C(re,V,ce),ye(ne,re,ce),me=!0,oe||(ie=[de(g,"change",t[12]),de(R,"input",t[15]),de(n,"submit",mn(t[9]))],oe=!0)},p(re,ce){var we,ke,qe,De,We,Ye,xe,ve,Se;(!me||ce[0]&8)&&c!==(c=(((we=re[3].setup)==null?void 0:we.title)??"Setup")+"")&&N(m,c),(!me||ce[0]&8)&&v!==(v=(((qe=(ke=re[3].conf)==null?void 0:ke.connection)==null?void 0:qe.title)??"Connection")+"")&&N(w,v),(!me||ce[0]&8)&&L!==(L=(((We=(De=re[3].conf)==null?void 0:De.connection)==null?void 0:We.wifi)??"Connect to WiFi")+"")&&N(B,L),re[0].if&&re[0].if.eth?fe?fe.p(re,ce):(fe=Ar(re),fe.c(),fe.m(g,null)):fe&&(fe.d(1),fe=null),ce[0]&16&&nt(g,re[4]),re[4]==1||re[4]==2?Z?Z.p(re,ce):(Z=qr(re),Z.c(),Z.m(n,U)):Z&&(Z.d(1),Z=null),(!me||ce[0]&8)&&H!==(H=(((xe=(Ye=re[3].conf)==null?void 0:Ye.general)==null?void 0:xe.hostname)??"Hostname")+"")&&N(X,H),ce[0]&1&&R.value!==re[0].hostname&&J(R,re[0].hostname),(!me||ce[0]&8)&&K!==(K=(((ve=re[3].btn)==null?void 0:ve.save)??"Save")+"")&&N(Q,K),re[5].length?ee?ee.p(re,ce):(ee=Or(re),ee.c(),ee.m(n,null)):ee&&(ee.d(1),ee=null);const _e={};ce[0]&4&&(_e.active=re[2]),ce[0]&8&&(_e.message=((Se=re[3].setup)==null?void 0:Se.mask)??"Lagrer"),ne.$set(_e)},i(re){me||(te(x),te(ne.$$.fragment,re),me=!0)},o(re){se(x),se(ne.$$.fragment,re),me=!1},d(re){re&&(M(e),M(V)),fe&&fe.d(),Z&&Z.d(),ee&&ee.d(),Me(ne,re),oe=!1,jt(ie)}}}let qm=!1;function Lm(t,e,l){const n={high:cs,medium:us,low:fs,off:ms};n.off;let i={};Ml.subscribe(W=>{l(3,i=W)});let s,o,f=!1;const r=gn.subscribe(W=>{s=W,W!=null&&W.m&&!f&&(o=Tl(W.m),f=!0)});ts(()=>{ru()}),ls(()=>{typeof r=="function"&&r()});function c(){!f&&(s!=null&&s.m)&&(o=Tl(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=Tl(s.m))}function m(){var Y,O,T,G,j,F,K,Q,$,V,ne;c();const W=o??Tl(s==null?void 0:s.m);if(!W)return null;const R=(s==null?void 0:s.m)??{};return{source:W.source??R.o??1,parser:W.parser??R.a??0,baud:W.baud??R.b??0,parity:W.parity??R.p??3,invert:W.invert??R.i??!1,distributionSystem:W.distributionSystem??R.d??2,mainFuse:W.mainFuse??R.f??0,production:W.production??R.r??0,buffer:W.buffer??R.s??256,encrypted:W.encrypted??((Y=R==null?void 0:R.e)==null?void 0:Y.e)??!1,encryptionKey:W.encryptionKey??((O=R==null?void 0:R.e)==null?void 0:O.k)??"",authenticationKey:W.authenticationKey??((T=R==null?void 0:R.e)==null?void 0:T.a)??"",multipliers:{watt:((G=W.multipliers)==null?void 0:G.watt)??((j=R==null?void 0:R.m)==null?void 0:j.w)??1,volt:((F=W.multipliers)==null?void 0:F.volt)??((K=R==null?void 0:R.m)==null?void 0:K.v)??1,amp:((Q=W.multipliers)==null?void 0:Q.amp)??(($=R==null?void 0:R.m)==null?void 0:$.a)??1,kwh:((V=W.multipliers)==null?void 0:V.kwh)??((ne=R==null?void 0:R.m)==null?void 0:ne.c)??1}}}let _={};nu.subscribe(W=>{l(1,_=W)});let{sysinfo:d={}}=e,{data:v={}}=e,w=1,b=!1,S=[],g=[],A="",L;function B(W){ml.update(R=>(R.trying=W,R))}async function P(W){var ee,he,ge,E;l(2,b=!0);const R=new FormData(W.target),Y=new URLSearchParams;for(let y of R){const[I,D]=y;Y.append(I,typeof D=="string"?D:String(D))}const O=m();O&&(Y.set("m","true"),Y.set("mo",String(O.source??1)),Y.set("ma",String(O.parser??0)),Y.set("mb",String(O.baud??0)),Y.set("mp",String(O.parity??3)),Y.set("mi",O.invert?"true":"false"),Y.set("md",String(O.distributionSystem??2)),Y.set("mf",String(O.mainFuse??0)),Y.set("mr",String(O.production??0)),Y.set("ms",String(O.buffer??256)),O.encrypted&&(Y.set("me","true"),Y.set("mek",O.encryptionKey??""),Y.set("mea",O.authenticationKey??"")),Y.set("mmw",String(((ee=O.multipliers)==null?void 0:ee.watt)??1)),Y.set("mmv",String(((he=O.multipliers)==null?void 0:he.volt)??1)),Y.set("mma",String(((ge=O.multipliers)==null?void 0:ge.amp)??1)),Y.set("mmc",String(((E=O.multipliers)==null?void 0:E.kwh)??1)));const G=R.get("fwa")==="true";let F=await(await fetch("save",{method:"POST",body:Y})).json();l(2,b=!1);const K=String(R.get("sh")??"").trim(),$=(typeof F.message=="string"?F.message:"").split("|").map(y=>y.trim()),V=$[0]??"",ne=$[1]??"",me=$[2]??"",oe=V||K||d.hostname||(d!=null&&d.chipId?`ams-${d.chipId}`:"ams-reader"),ie=ne||(oe&&oe.indexOf(".")===-1&&oe.indexOf(":")===-1?`${oe}.local`:oe),fe=me,Z=Array.from(new Set([fe,oe,ie].filter(y=>y&&y.length>0)));l(5,S=F.reboot?[...Z]:[]),ml.update(y=>{y.net||(y.net={});const I=oe||y.hostname||K;return y.hostname=I,(!y.upgrade||typeof y.upgrade!="object")&&(y.upgrade={x:-1,e:0,f:null,t:null,m:!1}),y.upgrade.auto=G,me&&(y.net.ip=me),y.targets=[...Z],y.usrcfg=F.success,y.booting=F.reboot,y});const x=en(ml);l(0,d=x),F.reboot&&setTimeout(()=>fn(x,B),5e3)}const U=[[]];function q(){w=ll(this),l(4,w)}function H(){A=this.__value,l(7,A)}function X(){d.hostname=this.value,l(0,d)}return t.$$set=W=>{"sysinfo"in W&&l(0,d=W.sysinfo),"data"in W&&l(10,v=W.data)},t.$$.update=()=>{var W;if(t.$$.dirty[0]&2053){const R=(W=d==null?void 0:d.upgrade)==null?void 0:W.auto;!b&&R!==L&&l(11,L=R)}if(t.$$.dirty[0]&1024){const{level:R,label:Y}=Vn(v==null?void 0:v.r);n[R]??n.off}t.$$.dirty[0]&2&&l(6,g=Array.isArray(_==null?void 0:_.n)?_.n.map(R=>{const{level:Y,label:O}=Vn(R==null?void 0:R.r);return{icon:n[Y]??n.off,title:O}}):[])},[d,_,b,i,w,S,g,A,n,P,v,L,q,H,U,X]}class Dm extends Tt{constructor(e){super(),Pt(this,e,Lm,Am,Ct,{sysinfo:0,data:10},null,[-1,-1])}}function Im(t){let e;return{c(){e=k("Kopier til utklippstavlen")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Om(t){let e;return{c(){e=k("Kopier mislyktes")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Fm(t){let e;return{c(){e=k("Kopiert!")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Rm(t){let e;return{c(){e=k("Kopierer…")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Um(t){let e;return{c(){e=k("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Bm(t){let e;return{c(){e=k("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function jm(t){let e;return{c(){e=k("Lim adressen inn i nettleserens adresselinje.")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Rr(t){let e;return{c(){e=p("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Ur(t){let e;return{c(){e=p("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Hm(t){let e;return{c(){e=p("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Wm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Km(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function zm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Br(t){let e;return{c(){e=p("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Vm(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y,O,T,G,j,F,K,Q,$,V,ne,me,oe;function ie(le,ae){return le[5]==="pending"?Rm:le[5]==="success"?Fm:le[5]==="error"?Om:Im}let fe=ie(t),Z=fe(t);function x(le,ae){return le[5]==="success"?jm:le[5]==="error"?Bm:Um}let ee=x(t),he=ee(t),ge=t[7]&&!t[8]&&Rr(),E=t[8]&&Ur();function y(le,ae){return le[2]?zm:le[3]?Km:le[4]?Wm:Hm}let I=y(t),D=I(t),z=t[1]&&t[6]&&Br();return{c(){e=p("section"),l=p("div"),n=p("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=p("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",o=h(),f=p("div"),r=p("div"),c=p("p"),c.textContent="1. Kopier adressen",m=h(),_=p("p"),d=k("Adressen er "),v=p("code"),w=k(t[0]),b=k(" og virker mens du er tilkoblet "),S=p("strong"),S.textContent="NEAS-WATTUP",g=k("."),A=h(),L=p("div"),B=p("button"),Z.c(),P=h(),U=p("span"),he.c(),q=h(),ge&&ge.c(),H=h(),E&&E.c(),X=h(),W=p("div"),R=p("p"),R.textContent="2. Åpne den i nettleseren",Y=h(),O=p("div"),D.c(),T=h(),z&&z.c(),G=h(),j=p("div"),F=p("p"),F.textContent="3. Start selve oppsettet",K=h(),Q=p("a"),$=k("Åpne oppsettet i nettleseren"),V=h(),ne=p("p"),ne.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",u(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),u(s,"class","mt-3 text-slate-600 dark:text-slate-300"),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(v,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),u(_,"class","mt-2"),u(B,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),u(U,"class","text-xs text-slate-500 dark:text-slate-400"),u(L,"class","mt-3 flex flex-wrap items-center gap-2"),u(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(R,"class","font-medium"),u(O,"class","mt-2 space-y-2"),u(W,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),u(F,"class","font-medium text-slate-800 dark:text-slate-100"),u(Q,"class","btn-pri inline-block"),u(Q,"href",t[0]),u(Q,"target","_blank"),u(Q,"rel","noreferrer"),u(ne,"class","text-xs text-slate-500 dark:text-slate-400"),u(j,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(f,"class","mt-5 space-y-5"),u(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),u(e,"class","mt-6")},m(le,ae){C(le,e,ae),a(e,l),a(l,n),a(l,i),a(l,s),a(l,o),a(l,f),a(f,r),a(r,c),a(r,m),a(r,_),a(_,d),a(_,v),a(v,w),a(_,b),a(_,S),a(_,g),a(r,A),a(r,L),a(L,B),Z.m(B,null),a(L,P),a(L,U),he.m(U,null),a(L,q),ge&&ge.m(L,null),a(L,H),E&&E.m(L,null),a(f,X),a(f,W),a(W,R),a(W,Y),a(W,O),D.m(O,null),a(f,T),z&&z.m(f,null),a(f,G),a(f,j),a(j,F),a(j,K),a(j,Q),a(Q,$),a(j,V),a(j,ne),me||(oe=de(B,"click",t[9]),me=!0)},p(le,[ae]){ae&1&&N(w,le[0]),fe!==(fe=ie(le))&&(Z.d(1),Z=fe(le),Z&&(Z.c(),Z.m(B,null))),ee!==(ee=x(le))&&(he.d(1),he=ee(le),he&&(he.c(),he.m(U,null))),le[7]&&!le[8]?ge||(ge=Rr(),ge.c(),ge.m(L,H)):ge&&(ge.d(1),ge=null),le[8]?E||(E=Ur(),E.c(),E.m(L,null)):E&&(E.d(1),E=null),I!==(I=y(le))&&(D.d(1),D=I(le),D&&(D.c(),D.m(O,null))),le[1]&&le[6]?z||(z=Br(),z.c(),z.m(f,G)):z&&(z.d(1),z=null),ae&1&&u(Q,"href",le[0])},i:Ge,o:Ge,d(le){le&&M(e),Z.d(),he.d(),ge&&ge.d(),E&&E.d(),D.d(),z&&z.d(),me=!1,oe()}}}function Gm(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,_=!1,d=!1;ts(()=>{l(0,i=v()),w()}),ls(()=>{});function v(){const g="http://192.168.4.1/setup";try{const A=new URL(n||"/",window.location.href);return new URL("./setup",A).href}catch{return g}}function w(){if(typeof navigator>"u")return!1;const g=navigator.userAgent||"",A=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(g)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(g)),l(4,r=/Android/.test(g)),l(1,s=A.some(L=>L.test(g))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function b(g){var L,B;(L=g==null?void 0:g.preventDefault)==null||L.call(g),l(5,c="pending");const A=()=>{try{const P=document.createElement("textarea");P.value=i,P.setAttribute("readonly",""),P.style.position="absolute",P.style.left="-9999px",document.body.appendChild(P),P.select();const U=document.execCommand("copy");return document.body.removeChild(P),U}catch{return!1}};try{(B=navigator.clipboard)!=null&&B.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):A()?l(5,c="success"):l(5,c="error")}catch{A()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(S(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function S(){if(!s||_)return;l(7,_=!0);let g=!1;try{window.close(),g=window.closed}catch{g=!1}if(!g)try{window.open("","_self"),window.close(),g=window.closed}catch{g=!1}if(g){l(8,d=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,d=!0)},400)}return t.$$set=g=>{"basepath"in g&&l(10,n=g.basepath)},[i,s,o,f,r,c,m,_,d,b,n]}class Ym extends Tt{constructor(e){super(),Pt(this,e,Gm,Vm,Ct,{basepath:10})}}function Xm(t){var W,R,Y,O;let e,l,n,i=(((W=t[2].upload)==null?void 0:W.title)??"Upload")+"",s,o,f,r,c,m=(((R=t[2].upload)==null?void 0:R.desc)??"")+"",_,d,v,w,b,S,g,A,L=(((Y=t[2].btn)==null?void 0:Y.upload)??"Upload")+"",B,P,U,q,H,X;return U=new pl({props:{active:t[3],message:((O=t[2].upload)==null?void 0:O.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=k(t[1]),r=h(),c=p("p"),_=k(m),d=h(),v=p("form"),w=p("input"),b=h(),S=p("div"),g=p("button"),A=p("p"),B=k(L),P=h(),Ce(U.$$.fragment),u(c,"class","mb-4"),u(w,"name","file"),u(w,"type","file"),u(A,"class","mb-4"),u(g,"type","submit"),u(g,"class","btn-pri"),u(S,"class","w-full text-right mt-4"),u(v,"action",t[0]),u(v,"enctype","multipart/form-data"),u(v,"method","post"),u(v,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,G){C(T,e,G),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,_),a(l,d),a(l,v),a(v,w),a(v,b),a(v,S),a(S,g),a(g,A),a(A,B),C(T,P,G),ye(U,T,G),q=!0,H||(X=de(v,"submit",t[4]),H=!0)},p(T,[G]){var F,K,Q,$;(!q||G&4)&&i!==(i=(((F=T[2].upload)==null?void 0:F.title)??"Upload")+"")&&N(s,i),(!q||G&2)&&N(f,T[1]),(!q||G&4)&&m!==(m=(((K=T[2].upload)==null?void 0:K.desc)??"")+"")&&N(_,m),(!q||G&4)&&L!==(L=(((Q=T[2].btn)==null?void 0:Q.upload)??"Upload")+"")&&N(B,L),(!q||G&1)&&u(v,"action",T[0]);const j={};G&8&&(j.active=T[3]),G&4&&(j.message=(($=T[2].upload)==null?void 0:$.mask)??"Uploading"),U.$set(j)},i(T){q||(te(U.$$.fragment,T),q=!0)},o(T){se(U.$$.fragment,T),q=!1},d(T){T&&(M(e),M(P)),Me(U,T),H=!1,X()}}}function Jm(t,e,l){let{action:n}=e,{title:i}=e,s={};Ml.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class bs extends Tt{constructor(e){super(),Pt(this,e,Jm,Xm,Ct,{action:0,title:1})}}function jr(t,e,l){const n=t.slice();return n[27]=e[l],n}function Qm(t,e,l){const n=t.slice();return n[30]=e[l],n}function Zm(t){let e;return{c(){e=p("option"),e.textContent=`${t[30].label}`,e.__value=t[30].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function Hr(t){var o,f,r;let e,l=(((r=(f=(o=t[0].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=de(e,"click",t[12]),i=!0)},p(c,m){var _,d,v;m[0]&1&&l!==(l=(((v=(d=(_=c[0].conf)==null?void 0:_.meter)==null?void 0:d.preset)==null?void 0:v.clear)??"Clear")+"")&&N(n,l)},d(c){c&&M(e),i=!1,s()}}}function Wr(t){let e,l=vi(t[9])+"",n,i,s=t[9].notes&&Kr(t);return{c(){e=p("div"),n=k(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=vi(o[9])+"")&&N(n,l),o[9].notes?s?s.p(o,f):(s=Kr(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&M(e),s&&s.d()}}}function Kr(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&N(n,l)},d(i){i&&M(e)}}}function zr(t){var P,U,q;let e,l,n=(((P=t[0].common)==null?void 0:P.voltage)??"Voltage")+"",i,s,o,f,r,c,m,_,d=(((q=(U=t[0].conf)==null?void 0:U.meter)==null?void 0:q.fuse)??"Main fuse")+"",v,w,b,S,g,A,L,B;return{c(){e=p("div"),l=p("label"),i=k(n),s=h(),o=p("select"),f=p("option"),f.textContent="400V (TN)",r=p("option"),r.textContent="230V (IT/TT)",c=h(),m=p("div"),_=p("label"),v=k(d),w=h(),b=p("div"),S=p("input"),g=h(),A=p("span"),A.textContent="A",u(l,"class","block text-sm font-medium text-slate-700 dark:text-slate-200"),f.__value=2,J(f,f.__value),r.__value=1,J(r,r.__value),u(o,"class","in-s mt-1"),t[7].distributionSystem===void 0&&Bt(()=>t[23].call(o)),u(e,"class","my-3"),u(_,"class","block text-sm font-medium text-slate-700 dark:text-slate-200"),u(S,"type","number"),u(S,"min","5"),u(S,"max","65535"),u(S,"class","in-f tr flex-1"),u(A,"class","in-post"),u(b,"class","mt-1 flex"),u(m,"class","my-3")},m(H,X){C(H,e,X),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(o,r),nt(o,t[7].distributionSystem,!0),C(H,c,X),C(H,m,X),a(m,_),a(_,v),a(m,w),a(m,b),a(b,S),J(S,t[7].mainFuse),a(b,g),a(b,A),L||(B=[de(o,"change",t[23]),de(S,"input",t[24])],L=!0)},p(H,X){var W,R,Y;X[0]&1&&n!==(n=(((W=H[0].common)==null?void 0:W.voltage)??"Voltage")+"")&&N(i,n),X[0]&128&&nt(o,H[7].distributionSystem),X[0]&1&&d!==(d=(((Y=(R=H[0].conf)==null?void 0:R.meter)==null?void 0:Y.fuse)??"Main fuse")+"")&&N(v,d),X[0]&128&&_t(S.value)!==H[7].mainFuse&&J(S,H[7].mainFuse)},d(H){H&&(M(e),M(c),M(m)),L=!1,jt(B)}}}function Vr(t){let e,l=t[27].name+"",n,i;return{c(){e=p("option"),n=k(l),e.__value=i=t[27].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&32&&l!==(l=s[27].name+"")&&N(n,l),o[0]&32&&i!==(i=s[27].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function $m(t){var Le,Oe,Xe,st,Et,Ht,tl,xt,Wt,Ot,sl,Lt,$e,Rt,Kt,dt,ut,gt;let e,l,n,i,s=(((Le=t[0].consent)==null?void 0:Le.title)??"Consents")+"",o,f,r,c,m,_=(((Oe=t[0].consent)==null?void 0:Oe.one_click)??"One-click")+"",d,v,w,b,S=(((Xe=t[0].consent)==null?void 0:Xe.read_more)??"Read more")+"",g,A,L,B,P,U,q=(((st=t[0].consent)==null?void 0:st.yes)??"Yes")+"",H,X,W,R,Y,O=(((Et=t[0].consent)==null?void 0:Et.no)??"No")+"",T,G,j,F,K,Q,$=(((Ht=t[0].consent)==null?void 0:Ht.auto_update)??"Automatic firmware updates")+"",V,ne,me,oe,ie,fe,Z=(((tl=t[0].consent)==null?void 0:tl.yes)??"Yes")+"",x,ee,he,ge,E,y=(((xt=t[0].consent)==null?void 0:xt.no)??"No")+"",I,D,z,le,ae,re=(((sl=(Ot=(Wt=t[0].conf)==null?void 0:Wt.meter)==null?void 0:Ot.preset)==null?void 0:sl.title)??"Meter preset")+"",ce,_e,we,ke,qe,De=(((Rt=($e=(Lt=t[0].conf)==null?void 0:Lt.meter)==null?void 0:$e.preset)==null?void 0:Rt.manual)??"Manual configuration")+"",We,Ye,xe,ve,Se,lt,ot=(((Kt=t[0].consent)==null?void 0:Kt.language)??"Language")+"",Nt,bt,Dt,at,tt,ct=(((dt=t[0].consent)==null?void 0:dt.load_from_server)??"Load from server")+"",Vt,vt,At,pt,It=(((ut=t[0].btn)==null?void 0:ut.save)??"Save")+"",it,ft,Pe,je,Fe,Qe,be,Re,wt,qt=et(hs),rt=[];for(let Ne=0;Ne<qt.length;Ne+=1)rt[Ne]=Zm(Qm(t,qt,Ne));let Ie=t[8]&&Hr(t),Ze=t[9]&&Wr(t),He=t[9]&&zr(t),Te=et(t[5]),Ee=[];for(let Ne=0;Ne<Te.length;Ne+=1)Ee[Ne]=Vr(jr(t,Te,Ne));return je=new pl({props:{active:t[1],message:((gt=t[0].consent)==null?void 0:gt.mask_saving)??"Saving"}}),Qe=mi(t[17][0]),be=mi(t[17][1]),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("div"),o=k(s),f=h(),r=p("hr"),c=h(),m=p("div"),d=k(_),v=p("br"),w=h(),b=p("a"),g=k(S),A=p("br"),L=h(),B=p("label"),P=p("input"),U=h(),H=k(q),X=h(),W=p("label"),R=p("input"),Y=h(),T=k(O),G=p("br"),j=h(),F=p("input"),K=h(),Q=p("div"),V=k($),ne=p("br"),me=h(),oe=p("label"),ie=p("input"),fe=h(),x=k(Z),ee=h(),he=p("label"),ge=p("input"),E=h(),I=k(y),D=p("br"),z=h(),le=p("div"),ae=p("label"),ce=k(re),_e=h(),we=p("div"),ke=p("select"),qe=p("option"),We=k(De);for(let Ne=0;Ne<rt.length;Ne+=1)rt[Ne].c();Ye=h(),Ie&&Ie.c(),xe=h(),Ze&&Ze.c(),ve=h(),He&&He.c(),Se=h(),lt=p("div"),Nt=k(ot),bt=p("br"),Dt=h(),at=p("select");for(let Ne=0;Ne<Ee.length;Ne+=1)Ee[Ne].c();tt=p("option"),Vt=k(ct),vt=h(),At=p("div"),pt=p("button"),it=k(It),Pe=h(),Ce(je.$$.fragment),u(b,"href",Al("Data-collection-on-one-click-firmware-upgrade")),u(b,"target","_blank"),u(b,"class","text-blue-600 hover:text-blue-800"),u(P,"type","radio"),u(P,"name","sf"),P.__value="1",J(P,P.__value),u(P,"class","rounded m-2"),P.required=!0,u(R,"type","radio"),u(R,"name","sf"),R.__value="2",J(R,R.__value),u(R,"class","rounded m-2"),R.required=!0,u(m,"class","my-3"),u(F,"type","hidden"),u(F,"name","fw"),F.value="true",u(ie,"type","radio"),u(ie,"name","fwa"),ie.__value="true",J(ie,ie.__value),u(ie,"class","rounded m-2"),ie.required=!0,u(ge,"type","radio"),u(ge,"name","fwa"),ge.__value="false",J(ge,ge.__value),u(ge,"class","rounded m-2"),ge.required=!0,u(Q,"class","my-3"),u(ae,"class","block text-sm font-medium text-slate-700 dark:text-slate-200"),u(ae,"for","consent-meter-preset"),qe.__value="",J(qe,qe.__value),u(ke,"id","consent-meter-preset"),u(ke,"class","in-s w-full"),t[8]===void 0&&Bt(()=>t[21].call(ke)),u(we,"class","mt-2 flex gap-2"),u(le,"class","my-3"),tt.__value="hub",J(tt,tt.__value),u(at,"name","ulang"),u(at,"class","in-s"),t[4]===void 0&&Bt(()=>t[25].call(at)),u(lt,"class","my-3"),u(pt,"type","submit"),u(pt,"class","btn-pri"),pt.disabled=ft=!t[6],u(At,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2"),Qe.p(ie,ge),be.p(P,R)},m(Ne,ue){C(Ne,e,ue),a(e,l),a(l,n),a(n,i),a(i,o),a(n,f),a(n,r),a(n,c),a(n,m),a(m,d),a(m,v),a(m,w),a(m,b),a(b,g),a(m,A),a(m,L),a(m,B),a(B,P),P.checked=P.__value===t[2],a(B,U),a(B,H),a(m,X),a(m,W),a(W,R),R.checked=R.__value===t[2],a(W,Y),a(W,T),a(m,G),a(n,j),a(n,F),a(n,K),a(n,Q),a(Q,V),a(Q,ne),a(Q,me),a(Q,oe),a(oe,ie),ie.checked=ie.__value===t[3],a(oe,fe),a(oe,x),a(Q,ee),a(Q,he),a(he,ge),ge.checked=ge.__value===t[3],a(he,E),a(he,I),a(Q,D),a(n,z),a(n,le),a(le,ae),a(ae,ce),a(le,_e),a(le,we),a(we,ke),a(ke,qe),a(qe,We);for(let ze=0;ze<rt.length;ze+=1)rt[ze]&&rt[ze].m(ke,null);nt(ke,t[8],!0),a(we,Ye),Ie&&Ie.m(we,null),a(le,xe),Ze&&Ze.m(le,null),a(n,ve),He&&He.m(n,null),a(n,Se),a(n,lt),a(lt,Nt),a(lt,bt),a(lt,Dt),a(lt,at);for(let ze=0;ze<Ee.length;ze+=1)Ee[ze]&&Ee[ze].m(at,null);a(at,tt),a(tt,Vt),nt(at,t[4],!0),a(n,vt),a(n,At),a(At,pt),a(pt,it),C(Ne,Pe,ue),ye(je,Ne,ue),Fe=!0,Re||(wt=[de(P,"change",t[16]),de(R,"change",t[18]),de(ie,"change",t[19]),de(ge,"change",t[20]),de(ke,"change",t[21]),de(ke,"change",t[22]),de(at,"change",t[25]),de(at,"change",t[10]),de(n,"submit",mn(t[13]))],Re=!0)},p(Ne,ue){var Je,ol,zt,Jt,cl,rl,Gt,Yt,ul,Ae,pe,Ut,Ue,kt,fl,dl,hl,bl;if((!Fe||ue[0]&1)&&s!==(s=(((Je=Ne[0].consent)==null?void 0:Je.title)??"Consents")+"")&&N(o,s),(!Fe||ue[0]&1)&&_!==(_=(((ol=Ne[0].consent)==null?void 0:ol.one_click)??"One-click")+"")&&N(d,_),(!Fe||ue[0]&1)&&S!==(S=(((zt=Ne[0].consent)==null?void 0:zt.read_more)??"Read more")+"")&&N(g,S),ue[0]&4&&(P.checked=P.__value===Ne[2]),(!Fe||ue[0]&1)&&q!==(q=(((Jt=Ne[0].consent)==null?void 0:Jt.yes)??"Yes")+"")&&N(H,q),ue[0]&4&&(R.checked=R.__value===Ne[2]),(!Fe||ue[0]&1)&&O!==(O=(((cl=Ne[0].consent)==null?void 0:cl.no)??"No")+"")&&N(T,O),(!Fe||ue[0]&1)&&$!==($=(((rl=Ne[0].consent)==null?void 0:rl.auto_update)??"Automatic firmware updates")+"")&&N(V,$),ue[0]&8&&(ie.checked=ie.__value===Ne[3]),(!Fe||ue[0]&1)&&Z!==(Z=(((Gt=Ne[0].consent)==null?void 0:Gt.yes)??"Yes")+"")&&N(x,Z),ue[0]&8&&(ge.checked=ge.__value===Ne[3]),(!Fe||ue[0]&1)&&y!==(y=(((Yt=Ne[0].consent)==null?void 0:Yt.no)??"No")+"")&&N(I,y),(!Fe||ue[0]&1)&&re!==(re=(((pe=(Ae=(ul=Ne[0].conf)==null?void 0:ul.meter)==null?void 0:Ae.preset)==null?void 0:pe.title)??"Meter preset")+"")&&N(ce,re),(!Fe||ue[0]&1)&&De!==(De=(((kt=(Ue=(Ut=Ne[0].conf)==null?void 0:Ut.meter)==null?void 0:Ue.preset)==null?void 0:kt.manual)??"Manual configuration")+"")&&N(We,De),ue[0]&256&&nt(ke,Ne[8]),Ne[8]?Ie?Ie.p(Ne,ue):(Ie=Hr(Ne),Ie.c(),Ie.m(we,null)):Ie&&(Ie.d(1),Ie=null),Ne[9]?Ze?Ze.p(Ne,ue):(Ze=Wr(Ne),Ze.c(),Ze.m(le,null)):Ze&&(Ze.d(1),Ze=null),Ne[9]?He?He.p(Ne,ue):(He=zr(Ne),He.c(),He.m(n,Se)):He&&(He.d(1),He=null),(!Fe||ue[0]&1)&&ot!==(ot=(((fl=Ne[0].consent)==null?void 0:fl.language)??"Language")+"")&&N(Nt,ot),ue[0]&32){Te=et(Ne[5]);let nl;for(nl=0;nl<Te.length;nl+=1){const vl=jr(Ne,Te,nl);Ee[nl]?Ee[nl].p(vl,ue):(Ee[nl]=Vr(vl),Ee[nl].c(),Ee[nl].m(at,tt))}for(;nl<Ee.length;nl+=1)Ee[nl].d(1);Ee.length=Te.length}(!Fe||ue[0]&1)&&ct!==(ct=(((dl=Ne[0].consent)==null?void 0:dl.load_from_server)??"Load from server")+"")&&N(Vt,ct),ue[0]&48&&nt(at,Ne[4]),(!Fe||ue[0]&1)&&It!==(It=(((hl=Ne[0].btn)==null?void 0:hl.save)??"Save")+"")&&N(it,It),(!Fe||ue[0]&64&&ft!==(ft=!Ne[6]))&&(pt.disabled=ft);const ze={};ue[0]&2&&(ze.active=Ne[1]),ue[0]&1&&(ze.message=((bl=Ne[0].consent)==null?void 0:bl.mask_saving)??"Saving"),je.$set(ze)},i(Ne){Fe||(te(je.$$.fragment,Ne),Fe=!0)},o(Ne){se(je.$$.fragment,Ne),Fe=!1},d(Ne){Ne&&(M(e),M(Pe)),Zt(rt,Ne),Ie&&Ie.d(),Ze&&Ze.d(),He&&He.d(),Zt(Ee,Ne),Me(je,Ne),Qe.r(),be.r(),Re=!1,jt(wt)}}}function xm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s={};Ml.subscribe(T=>{l(0,s=T)});let o=!1,f="",r="",c="no",m=[{code:"en",name:"English"},{code:"no",name:"Norsk"}],_=!1,d=Tl(),v="",w=null;c==="no"&&Xn("no");async function b(T){const G=T.target.value;if(G==="hub"){try{const j=await yl("http://hub.amsleser.no/hub/language/list.json");l(5,m=await j.json()),l(4,c=s.language.code)}catch(j){console.error("Failed to load languages from hub",j),l(4,c=s.language.code)}return}l(4,c=G),c&&await Xn(c)}function S(T){l(8,v=T);const G=uu(T);l(9,w=G??null),G?l(7,d=cu(Tl(),G)):l(7,d=Tl())}function g(){l(8,v=""),l(9,w=null),l(7,d=Tl())}function A(){var G,j,F,K;if(!w)return null;const T=d??Tl();return{source:T.source??1,parser:T.parser??0,baud:T.baud??0,parity:T.parity??3,invert:T.invert??!1,distributionSystem:T.distributionSystem??2,mainFuse:T.mainFuse??0,production:T.production??0,buffer:T.buffer??256,encrypted:T.encrypted??!1,encryptionKey:T.encryptionKey??"",authenticationKey:T.authenticationKey??"",multipliers:{watt:((G=T.multipliers)==null?void 0:G.watt)??1,volt:((j=T.multipliers)==null?void 0:j.volt)??1,amp:((F=T.multipliers)==null?void 0:F.amp)??1,kwh:((K=T.multipliers)==null?void 0:K.kwh)??1}}}async function L(T){var me,oe,ie,fe;l(1,o=!0);const G=new FormData(T.target),j=new URLSearchParams;for(let Z of G){const[x,ee]=Z;j.append(x,typeof ee=="string"?ee:String(ee))}const F=G.get("sf"),K=G.get("fwa"),Q=K==="true"?!0:K==="false"?!1:null,$=A();$&&(j.set("m","true"),j.set("mo",String($.source??1)),j.set("ma",String($.parser??0)),j.set("mb",String($.baud??0)),j.set("mp",String($.parity??3)),j.set("mi",$.invert?"true":"false"),j.set("md",String($.distributionSystem??2)),j.set("mf",String($.mainFuse??0)),j.set("mr",String($.production??0)),j.set("ms",String($.buffer??256)),$.encrypted&&(j.set("me","true"),j.set("mek",$.encryptionKey??""),j.set("mea",$.authenticationKey??"")),j.set("mmw",String(((me=$.multipliers)==null?void 0:me.watt)??1)),j.set("mmv",String(((oe=$.multipliers)==null?void 0:oe.volt)??1)),j.set("mma",String(((ie=$.multipliers)==null?void 0:ie.amp)??1)),j.set("mmc",String(((fe=$.multipliers)==null?void 0:fe.kwh)??1)));let ne=await(await fetch("save",{method:"POST",body:j})).json();l(1,o=!1),ml.update(Z=>{if(Z.fwconsent=F==="1"?1:F==="2"?2:0,(!Z.ui||typeof Z.ui!="object")&&(Z.ui={}),c&&(Z.ui.lang=c),(!Z.upgrade||typeof Z.upgrade!="object")&&(Z.upgrade={x:-1,e:0,f:null,t:null,m:!1}),Q!==null&&(Z.upgrade.auto=Q),$){const x=mu(Z.m??{},d);x.appliedPresetId=d.appliedPresetId,Z.m=x}return Z.booting=ne.reboot,Z}),Il(n)}const B=[[],[]];function P(){f=this.__value,l(2,f),l(15,i),l(5,m),l(0,s),l(4,c)}function U(){f=this.__value,l(2,f),l(15,i),l(5,m),l(0,s),l(4,c)}function q(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function H(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function X(){v=ll(this),l(8,v)}const W=T=>S(T.target.value);function R(){d.distributionSystem=ll(this),l(7,d)}function Y(){d.mainFuse=_t(this.value),l(7,d)}function O(){c=ll(this),l(4,c),l(15,i),l(5,m),l(0,s),l(5,m),l(0,s),l(15,i),l(4,c)}return t.$$set=T=>{"basepath"in T&&l(14,n=T.basepath),"sysinfo"in T&&l(15,i=T.sysinfo)},t.$$.update=()=>{var T,G,j,F;if(t.$$.dirty[0]&33&&(T=s==null?void 0:s.language)!=null&&T.code&&!m.find(K=>K.code===s.language.code)&&l(5,m=[...m,{code:s.language.code,name:s.language.name??s.language.code}]),t.$$.dirty[0]&32817&&i){(i.fwconsent===1||i.fwconsent===2)&&l(2,f=String(i.fwconsent));const K=(G=i==null?void 0:i.upgrade)==null?void 0:G.auto;K===!0?l(3,r="true"):K===!1&&l(3,r="false");const Q=(j=i==null?void 0:i.ui)==null?void 0:j.lang;Q&&!m.find($=>$.code===Q)&&l(5,m=[...m,{code:Q,name:((F=s.language)==null?void 0:F.name)??Q.toUpperCase()}]),!c&&Q&&l(4,c=Q)}t.$$.dirty[0]&16&&(c||l(4,c="no")),t.$$.dirty[0]&14&&l(6,_=f!==""&&r!==""&&!o)},[s,o,f,r,c,m,_,d,v,w,b,S,g,L,n,i,P,B,U,q,H,X,W,R,Y,O]}class e_ extends Tt{constructor(e){super(),Pt(this,e,xm,$m,Ct,{basepath:14,sysinfo:15},null,[-1,-1])}}function Gr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Yr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function t_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function l_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Jr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function $r(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function xr(t){let e,l=et(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=af(Gr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=$t()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=et(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Gr(i,l,o);n[o]?n[o].p(f,s):(n[o]=af(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&M(e),Zt(n,i)}}}function ef(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=de(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function tf(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=de(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function lf(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=de(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function nf(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=de(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function n_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function sf(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ht(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ht(s[35]+1))+"")&&N(n,l)},d(s){s&&M(e)}}}function i_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ge,d(l){l&&M(e)}}}function of(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:ht(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:ht(s[35]+1))+"")&&N(n,l)},d(s){s&&M(e)}}}function af(t){var Ot,sl,Lt,$e,Rt,Kt,dt,ut,gt,Ne;let e,l,n,i,s,o,f,r=(((sl=(Ot=t[0].conf)==null?void 0:Ot.common)==null?void 0:sl.import)??"Import")+"",c,m,_=((($e=(Lt=t[0].conf)==null?void 0:Lt.common)==null?void 0:$e.export)??"Export")+"",d,v,w=(((Kt=(Rt=t[0].conf)==null?void 0:Rt.price)==null?void 0:Kt.both)??"Both")+"",b,S,g,A,L=(((ut=(dt=t[0].conf)==null?void 0:dt.price)==null?void 0:ut.fixed)??"Fixed")+"",B,P,U,q,H,X,W,R,Y,O=(((gt=t[0].common)==null?void 0:gt.days)??"Days")+"",T,G,j,F,K,Q,$,V=(((Ne=t[0].common)==null?void 0:Ne.hours)??"Hours")+"",ne,me,oe,ie,fe,Z,x,ee,he,ge,E,y,I,D,z,le,ae,re,ce,_e,we,ke,qe,De,We,Ye,xe,ve,Se,lt,ot,Nt,bt,Dt,at,tt,ct;function Vt(){t[12].call(n,t[31],t[32])}function vt(){t[13].call(o,t[31],t[32])}function At(){t[14].call(g,t[31],t[32])}function pt(){t[15].call(X,t[31],t[32])}let It=et({length:7}),it=[];for(let ue=0;ue<It.length;ue+=1)it[ue]=ef($r(t,It,ue));let ft=et({length:8}),Pe=[];for(let ue=0;ue<ft.length;ue+=1)Pe[ue]=tf(Zr(t,ft,ue));let je=et({length:8}),Fe=[];for(let ue=0;ue<je.length;ue+=1)Fe[ue]=lf(Qr(t,je,ue));let Qe=et({length:8}),be=[];for(let ue=0;ue<Qe.length;ue+=1)be[ue]=nf(Jr(t,Qe,ue));let Re=et({length:31}),wt=[];for(let ue=0;ue<Re.length;ue+=1)wt[ue]=n_(l_(t,Re,ue));function qt(){t[20].call(y,t[31],t[32])}let rt=et({length:12}),Ie=[];for(let ue=0;ue<rt.length;ue+=1)Ie[ue]=sf(Xr(t,rt,ue));function Ze(){t[21].call(z,t[31],t[32])}let He=et({length:31}),Te=[];for(let ue=0;ue<He.length;ue+=1)Te[ue]=i_(t_(t,He,ue));function Ee(){t[22].call(_e,t[31],t[32])}let Le=et({length:12}),Oe=[];for(let ue=0;ue<Le.length;ue+=1)Oe[ue]=of(Yr(t,Le,ue));function Xe(){t[23].call(qe,t[31],t[32])}function st(){return t[24](t[32])}function Et(){return t[25](t[32])}function Ht(){return t[26](t[32])}function tl(){return t[27](t[32])}function xt(){return t[28](t[32])}function Wt(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=h(),s=p("div"),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),v=p("option"),b=k(w),S=h(),g=p("select"),A=p("option"),B=k(L),P=p("option"),P.textContent="+",U=p("option"),U.textContent="-",q=p("option"),q.textContent="%",H=h(),X=p("input"),W=h(),R=p("div"),Y=p("span"),T=k(O),G=k(":"),j=h(),F=p("div");for(let ue=0;ue<it.length;ue+=1)it[ue].c();K=h(),Q=p("div"),$=p("span"),ne=k(V),me=k(":"),oe=h(),ie=p("div"),fe=p("div");for(let ue=0;ue<Pe.length;ue+=1)Pe[ue].c();Z=h(),x=p("div");for(let ue=0;ue<Fe.length;ue+=1)Fe[ue].c();ee=h(),he=p("div");for(let ue=0;ue<be.length;ue+=1)be[ue].c();ge=h(),E=p("div"),y=p("select"),I=p("option"),I.textContent="-";for(let ue=0;ue<wt.length;ue+=1)wt[ue].c();D=h(),z=p("select"),le=p("option"),le.textContent="-";for(let ue=0;ue<Ie.length;ue+=1)Ie[ue].c();ae=h(),re=p("input"),ce=h(),_e=p("select"),we=p("option"),we.textContent="-";for(let ue=0;ue<Te.length;ue+=1)Te[ue].c();ke=h(),qe=p("select"),De=p("option"),De.textContent="-";for(let ue=0;ue<Oe.length;ue+=1)Oe[ue].c();We=h(),Ye=p("div"),xe=p("span"),xe.textContent="⇧",ve=h(),Se=p("span"),lt=k("⇩"),Nt=h(),bt=p("span"),bt.textContent="🗑",Dt=h(),at=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,J(f,f.__value),m.__value=2,J(m,m.__value),v.__value=3,J(v,v.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Bt(vt),A.__value=0,J(A,A.__value),P.__value=1,J(P,P.__value),U.__value=3,J(U,U.__value),q.__value=2,J(q,q.__value),u(g,"name","rt"),u(g,"class","in-m"),t[30].t===void 0&&Bt(At),u(X,"name","rv"),u(X,"type","number"),u(X,"class","in-l tr"),tn(X,"width","100px"),u(X,"min","0.0001"),u(X,"max","99.9999"),u(X,"step","0.0001"),u(s,"class","flex mr-3"),u(Y,"class","mr-2"),u(R,"class","flex flex-wrap mr-3"),u($,"class","mr-2"),u(Q,"class","flex flex-wrap mr-3"),I.__value=0,J(I,I.__value),u(y,"name","rsd"),u(y,"class","in-f"),t[30].s.d===void 0&&Bt(qt),le.__value=0,J(le,le.__value),u(z,"name","rsm"),u(z,"class","in-m"),t[30].s.m===void 0&&Bt(Ze),u(re,"class","in-m"),re.disabled=!0,re.value="to",tn(re,"width","20px"),tn(re,"color","#888"),we.__value=0,J(we,we.__value),u(_e,"name","red"),u(_e,"class","in-m"),t[30].e.d===void 0&&Bt(Ee),De.__value=0,J(De,De.__value),u(qe,"name","rem"),u(qe,"class","in-l"),t[30].e.m===void 0&&Bt(Xe),u(E,"class","flex flex-wrap mr-3"),u(xe,"class",t[32]>0?"text-green-600":"text-gray-300"),u(Se,"class",ot=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(bt,"class","text-red-500 text-xs"),u(Ye,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(at,"class","m-3")},m(ue,ze){C(ue,e,ze),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,v),a(v,b),nt(o,t[30].d,!0),a(s,S),a(s,g),a(g,A),a(A,B),a(g,P),a(g,U),a(g,q),nt(g,t[30].t,!0),a(s,H),a(s,X),J(X,t[30].v),a(e,W),a(e,R),a(R,Y),a(Y,T),a(Y,G),a(R,j),a(R,F);for(let Je=0;Je<it.length;Je+=1)it[Je]&&it[Je].m(F,null);a(e,K),a(e,Q),a(Q,$),a($,ne),a($,me),a(Q,oe),a(Q,ie),a(ie,fe);for(let Je=0;Je<Pe.length;Je+=1)Pe[Je]&&Pe[Je].m(fe,null);a(ie,Z),a(ie,x);for(let Je=0;Je<Fe.length;Je+=1)Fe[Je]&&Fe[Je].m(x,null);a(ie,ee),a(ie,he);for(let Je=0;Je<be.length;Je+=1)be[Je]&&be[Je].m(he,null);a(e,ge),a(e,E),a(E,y),a(y,I);for(let Je=0;Je<wt.length;Je+=1)wt[Je]&&wt[Je].m(y,null);nt(y,t[30].s.d,!0),a(E,D),a(E,z),a(z,le);for(let Je=0;Je<Ie.length;Je+=1)Ie[Je]&&Ie[Je].m(z,null);nt(z,t[30].s.m,!0),a(E,ae),a(E,re),a(E,ce),a(E,_e),a(_e,we);for(let Je=0;Je<Te.length;Je+=1)Te[Je]&&Te[Je].m(_e,null);nt(_e,t[30].e.d,!0),a(E,ke),a(E,qe),a(qe,De);for(let Je=0;Je<Oe.length;Je+=1)Oe[Je]&&Oe[Je].m(qe,null);nt(qe,t[30].e.m,!0),a(e,We),a(e,Ye),a(Ye,xe),a(Ye,ve),a(Ye,Se),a(Se,lt),a(Ye,Nt),a(Ye,bt),C(ue,Dt,ze),C(ue,at,ze),tt||(ct=[de(n,"input",Vt),de(o,"change",vt),de(g,"change",At),de(X,"input",pt),de(y,"change",qt),de(z,"change",Ze),de(_e,"change",Ee),de(qe,"change",Xe),de(xe,"click",st),de(xe,"keypress",Et),de(Se,"click",Ht),de(Se,"keypress",tl),de(bt,"click",xt),de(bt,"keypress",Wt)],tt=!0)},p(ue,ze){var Je,ol,zt,Jt,cl,rl,Gt,Yt,ul,Ae;if(t=ue,ze[0]&2&&n.value!==t[30].n&&J(n,t[30].n),ze[0]&1&&r!==(r=(((ol=(Je=t[0].conf)==null?void 0:Je.common)==null?void 0:ol.import)??"Import")+"")&&N(c,r),ze[0]&1&&_!==(_=(((Jt=(zt=t[0].conf)==null?void 0:zt.common)==null?void 0:Jt.export)??"Export")+"")&&N(d,_),ze[0]&1&&w!==(w=(((rl=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:rl.both)??"Both")+"")&&N(b,w),ze[0]&2&&nt(o,t[30].d),ze[0]&1&&L!==(L=(((Yt=(Gt=t[0].conf)==null?void 0:Gt.price)==null?void 0:Yt.fixed)??"Fixed")+"")&&N(B,L),ze[0]&2&&nt(g,t[30].t),ze[0]&2&&_t(X.value)!==t[30].v&&J(X,t[30].v),ze[0]&1&&O!==(O=(((ul=t[0].common)==null?void 0:ul.days)??"Days")+"")&&N(T,O),ze[0]&82){It=et({length:7});let pe;for(pe=0;pe<It.length;pe+=1){const Ut=$r(t,It,pe);it[pe]?it[pe].p(Ut,ze):(it[pe]=ef(Ut),it[pe].c(),it[pe].m(F,null))}for(;pe<it.length;pe+=1)it[pe].d(1);it.length=It.length}if(ze[0]&1&&V!==(V=(((Ae=t[0].common)==null?void 0:Ae.hours)??"Hours")+"")&&N(ne,V),ze[0]&66){ft=et({length:8});let pe;for(pe=0;pe<ft.length;pe+=1){const Ut=Zr(t,ft,pe);Pe[pe]?Pe[pe].p(Ut,ze):(Pe[pe]=tf(Ut),Pe[pe].c(),Pe[pe].m(fe,null))}for(;pe<Pe.length;pe+=1)Pe[pe].d(1);Pe.length=ft.length}if(ze[0]&66){je=et({length:8});let pe;for(pe=0;pe<je.length;pe+=1){const Ut=Qr(t,je,pe);Fe[pe]?Fe[pe].p(Ut,ze):(Fe[pe]=lf(Ut),Fe[pe].c(),Fe[pe].m(x,null))}for(;pe<Fe.length;pe+=1)Fe[pe].d(1);Fe.length=je.length}if(ze[0]&66){Qe=et({length:8});let pe;for(pe=0;pe<Qe.length;pe+=1){const Ut=Jr(t,Qe,pe);be[pe]?be[pe].p(Ut,ze):(be[pe]=nf(Ut),be[pe].c(),be[pe].m(he,null))}for(;pe<be.length;pe+=1)be[pe].d(1);be.length=Qe.length}if(ze[0]&2&&nt(y,t[30].s.d),ze[0]&1){rt=et({length:12});let pe;for(pe=0;pe<rt.length;pe+=1){const Ut=Xr(t,rt,pe);Ie[pe]?Ie[pe].p(Ut,ze):(Ie[pe]=sf(Ut),Ie[pe].c(),Ie[pe].m(z,null))}for(;pe<Ie.length;pe+=1)Ie[pe].d(1);Ie.length=rt.length}if(ze[0]&2&&nt(z,t[30].s.m),ze[0]&2&&nt(_e,t[30].e.d),ze[0]&1){Le=et({length:12});let pe;for(pe=0;pe<Le.length;pe+=1){const Ut=Yr(t,Le,pe);Oe[pe]?Oe[pe].p(Ut,ze):(Oe[pe]=of(Ut),Oe[pe].c(),Oe[pe].m(qe,null))}for(;pe<Oe.length;pe+=1)Oe[pe].d(1);Oe.length=Le.length}ze[0]&2&&nt(qe,t[30].e.m),ze[0]&2&&ot!==(ot=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(Se,"class",ot)},d(ue){ue&&(M(e),M(Dt),M(at)),Zt(it,ue),Zt(Pe,ue),Zt(Fe,ue),Zt(be,ue),Zt(wt,ue),Zt(Ie,ue),Zt(Te,ue),Zt(Oe,ue),tt=!1,jt(ct)}}}function s_(t){var K,Q,$,V,ne,me,oe,ie,fe;let e,l,n=(((Q=(K=t[0].conf)==null?void 0:K.price)==null?void 0:Q.title)??"Price")+"",i,s,o,f,r,c,m,_,d,v,w,b,S,g=(((V=($=t[0].conf)==null?void 0:$.price)==null?void 0:V.btn_add)??"Add")+"",A,L,B,P,U,q,H=(((ne=t[0].btn)==null?void 0:ne.save)??"Save")+"",X,W,R,Y,O,T,G,j,F=t[1].o&&xr(t);return R=new pl({props:{active:t[2],message:((oe=(me=t[0].conf)==null?void 0:me.price)==null?void 0:oe.mask_loading)??"Loading"}}),O=new pl({props:{active:t[3],message:((fe=(ie=t[0].conf)==null?void 0:ie.price)==null?void 0:fe.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("hr"),c=h(),m=p("form"),_=p("input"),d=h(),F&&F.c(),v=h(),w=p("div"),b=p("div"),S=p("button"),A=k(g),L=h(),B=p("div"),B.innerHTML="",P=h(),U=p("div"),q=p("button"),X=k(H),W=h(),Ce(R.$$.fragment),Y=h(),Ce(O.$$.fragment),u(l,"class","text-sm"),u(o,"href",Al("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(_,"type","hidden"),u(_,"name","r"),_.value="true",u(S,"type","button"),u(S,"class","btn-pri"),u(B,"class","text-center"),u(q,"type","submit"),u(q,"class","btn-pri"),u(U,"class","text-right"),u(w,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(Z,x){C(Z,e,x),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,d),F&&F.m(m,null),a(m,v),a(m,w),a(w,b),a(b,S),a(S,A),a(w,L),a(w,B),a(w,P),a(w,U),a(U,q),a(q,X),C(Z,W,x),ye(R,Z,x),C(Z,Y,x),ye(O,Z,x),T=!0,G||(j=[de(S,"click",t[7]),de(m,"submit",mn(t[5]))],G=!0)},p(Z,x){var ge,E,y,I,D,z,le,ae,re;(!T||x[0]&1)&&n!==(n=(((E=(ge=Z[0].conf)==null?void 0:ge.price)==null?void 0:E.title)??"Price")+"")&&N(i,n),Z[1].o?F?F.p(Z,x):(F=xr(Z),F.c(),F.m(m,v)):F&&(F.d(1),F=null),(!T||x[0]&1)&&g!==(g=(((I=(y=Z[0].conf)==null?void 0:y.price)==null?void 0:I.btn_add)??"Add")+"")&&N(A,g),(!T||x[0]&1)&&H!==(H=(((D=Z[0].btn)==null?void 0:D.save)??"Save")+"")&&N(X,H);const ee={};x[0]&4&&(ee.active=Z[2]),x[0]&1&&(ee.message=((le=(z=Z[0].conf)==null?void 0:z.price)==null?void 0:le.mask_loading)??"Loading"),R.$set(ee);const he={};x[0]&8&&(he.active=Z[3]),x[0]&1&&(he.message=((re=(ae=Z[0].conf)==null?void 0:ae.price)==null?void 0:re.mask_saving)??"Saving"),O.$set(he)},i(Z){T||(te(R.$$.fragment,Z),te(O.$$.fragment,Z),T=!0)},o(Z){se(R.$$.fragment,Z),se(O.$$.fragment,Z),T=!1},d(Z){Z&&(M(e),M(W),M(Y)),F&&F.d(),Me(R,Z),Me(O,Z),G=!1,jt(j)}}}function o_(t,e,l){let{basepath:n="/"}=e,i={};Ml.subscribe(F=>{l(0,i=F)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;fu.subscribe(F=>{F.o&&(l(1,o=F),l(2,f=!1))}),w1();async function c(F){l(3,r=!0);const K=new URLSearchParams;K.append("r","true"),K.append("rc",o.o.length),o.o.forEach(function($,V){K.append("rt"+V,$.t),K.append("rn"+V,$.n),K.append("rd"+V,$.d),K.append("ra"+V,$.a),K.append("rh"+V,$.h),K.append("rv"+V,$.v),K.append("rsm"+V,$.s.m),K.append("rsd"+V,$.s.d),K.append("rem"+V,$.e.m),K.append("red"+V,$.e.d)}),await(await fetch("save",{method:"POST",body:K})).json(),l(3,r=!1),Il(n+"configuration")}let m=function(F,K){return F.includes(K)?F=F.filter(function(Q){return Q!==K}):F.push(K),F},_=function(){let F=o.o;F.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=F,o)},d=function(F){let K=o.o;K.splice(F,1),l(1,o.o=K,o)},v=function(F){if(F<=0)return;let K=o.o;var Q=K[F];K[F]=K[F-1],K[F-1]=Q,l(1,o.o=K,o)},w=function(F){let K=o.o;if(!(F>=K.length-1)){var Q=K[F];K[F]=K[F+1],K[F+1]=Q,l(1,o.o=K,o)}};function b(F,K){F[K].n=this.value,l(1,o)}function S(F,K){F[K].d=ll(this),l(1,o)}function g(F,K){F[K].t=ll(this),l(1,o)}function A(F,K){F[K].v=_t(this.value),l(1,o)}const L=(F,K,Q,$)=>l(1,Q[$].a=m(F.a,K),o),B=(F,K,Q,$)=>l(1,Q[$].h=m(F.h,K),o),P=(F,K,Q,$)=>l(1,Q[$].h=m(F.h,K+8),o),U=(F,K,Q,$)=>l(1,Q[$].h=m(F.h,K+16),o);function q(F,K){F[K].s.d=ll(this),l(1,o)}function H(F,K){F[K].s.m=ll(this),l(1,o)}function X(F,K){F[K].e.d=ll(this),l(1,o)}function W(F,K){F[K].e.m=ll(this),l(1,o)}const R=F=>v(F),Y=F=>v(F),O=F=>w(F),T=F=>w(F),G=F=>d(F),j=F=>d(F);return t.$$set=F=>{"basepath"in F&&l(11,n=F.basepath)},[i,o,f,r,s,c,m,_,d,v,w,n,b,S,g,A,L,B,P,U,q,H,X,W,R,Y,O,T,G,j]}class a_ extends Tt{constructor(e){super(),Pt(this,e,o_,s_,Ct,{basepath:11},null,[-1,-1])}}function rf(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function ff(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function uf(t){let e,l,n,i=et(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=cf(ff(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=et(o[1]);let r;for(r=0;r<i.length;r+=1){const c=ff(o,i,r);s[r]?s[r].p(c,f):(s[r]=cf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),Zt(s,o)}}}function cf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function v(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,b){C(w,e,b),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=de(o,"input",v),_=!0)},p(w,b){t=w,b&2&&n!==(n=t[13].name+"")&&N(i,n),b&2&&f!==(f=t[13].key)&&u(o,"name",f),b&3&&_t(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),_=!1,d()}}}function mf(t){let e,l,n,i=et(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=_f(rf(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=et(o[2]);let r;for(r=0;r<i.length;r+=1){const c=rf(o,i,r);s[r]?s[r].p(c,f):(s[r]=_f(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),Zt(s,o)}}}function _f(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function v(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,b){C(w,e,b),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=de(o,"input",v),_=!0)},p(w,b){t=w,b&4&&n!==(n=t[13].name+"")&&N(i,n),b&4&&f!==(f=t[13].key)&&u(o,"name",f),b&5&&_t(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),_=!1,d()}}}function r_(t){var B,P,U;let e,l,n,i,s,o,f,r,c,m,_=(((B=t[3].btn)==null?void 0:B.save)??"Save")+"",d,v,w,b,S,g,A=t[1]&&uf(t),L=t[2]&&t[4]&&mf(t);return w=new pl({props:{active:t[5],message:((U=(P=t[3].conf)==null?void 0:P.mask)==null?void 0:U.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),A&&A.c(),n=h(),L&&L.c(),i=h(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=h(),c=p("div"),m=p("button"),d=k(_),v=h(),Ce(w.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(q,H){C(q,e,H),a(e,l),A&&A.m(l,null),a(l,n),L&&L.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,d),C(q,v,H),ye(w,q,H),b=!0,S||(g=[de(f,"click",t[6]),de(e,"submit",mn(t[7]))],S=!0)},p(q,[H]){var W,R,Y;q[1]?A?A.p(q,H):(A=uf(q),A.c(),A.m(l,n)):A&&(A.d(1),A=null),q[2]&&q[4]?L?L.p(q,H):(L=mf(q),L.c(),L.m(l,i)):L&&(L.d(1),L=null),(!b||H&8)&&_!==(_=(((W=q[3].btn)==null?void 0:W.save)??"Save")+"")&&N(d,_);const X={};H&32&&(X.active=q[5]),H&8&&(X.message=((Y=(R=q[3].conf)==null?void 0:R.mask)==null?void 0:Y.saving)??"Saving"),w.$set(X)},i(q){b||(te(w.$$.fragment,q),b=!0)},o(q){se(w.$$.fragment,q),b=!1},d(q){q&&(M(e),M(v)),A&&A.d(),L&&L.d(),Me(w,q),S=!1,jt(g)}}}function f_(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Ml.subscribe(S=>{l(3,f=S)});let r=!1,c,m;async function _(){if(confirm("Clear all data?"))for(let S in i)(S.startsWith("i")||S.startsWith("e"))&&l(0,i[S]=0,i)}let d=!1;async function v(S){l(5,d=!0);const g=new FormData(S.target),A=new URLSearchParams;for(let B of g){const[P,U]=B;A.append(P,U)}await(await fetch(s,{method:"POST",body:A})).json(),l(5,d=!1),Il(o)}function w(S){i[S.key]=_t(this.value),l(0,i)}function b(S){i[S.key]=_t(this.value),l(0,i)}return t.$$set=S=>{"prefix"in S&&l(8,n=S.prefix),"data"in S&&l(0,i=S.data),"url"in S&&l(9,s=S.url),"basepath"in S&&l(10,o=S.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let S in i){let g=[];S.startsWith("i")?g=c:S.startsWith("e")&&(g=m,i[S]&&l(4,r=!0)),g.push({key:S,name:n+" "+S.substring(1),value:i[S]})}}},[i,c,m,f,r,d,_,v,n,s,o,w,b]}class _u extends Tt{constructor(e){super(),Pt(this,e,f_,r_,Ct,{prefix:8,data:0,url:9,basepath:10})}}function u_(t){let e,l;return e=new Ym({props:{basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function c_(t){let e,l;return e=new k1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function m_(t){let e,l;return e=new rm({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function __(t){let e,l;return e=new a_({props:{basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function p_(t){let e,l;return e=new km({props:{sysinfo:t[7],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function d_(t){let e,l;return e=new bs({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ge,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function h_(t){let e,l;return e=new bs({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ge,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function b_(t){let e,l;return e=new bs({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ge,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function v_(t){let e,l;return e=new e_({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function g_(t){let e,l;return e=new Dm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function k_(t){let e,l;return e=new Nm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function w_(t){let e,l;return e=new _u({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function S_(t){let e,l;return e=new _u({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function y_(t){let e,l,n,i,s,o,f,r,c,m,_,d,v,w,b,S,g,A,L,B,P,U,q,H,X,W,R,Y;return e=new yc({props:{data:t[6],basepath:t[0]}}),n=new gl({props:{path:"/welcome",$$slots:{default:[u_]},$$scope:{ctx:t}}}),s=new gl({props:{path:"/",$$slots:{default:[c_]},$$scope:{ctx:t}}}),f=new gl({props:{path:"/configuration",$$slots:{default:[m_]},$$scope:{ctx:t}}}),c=new gl({props:{path:"/priceconfig",$$slots:{default:[__]},$$scope:{ctx:t}}}),_=new gl({props:{path:"/status",$$slots:{default:[p_]},$$scope:{ctx:t}}}),v=new gl({props:{path:"/mqtt-ca",$$slots:{default:[d_]},$$scope:{ctx:t}}}),b=new gl({props:{path:"/mqtt-cert",$$slots:{default:[h_]},$$scope:{ctx:t}}}),g=new gl({props:{path:"/mqtt-key",$$slots:{default:[b_]},$$scope:{ctx:t}}}),L=new gl({props:{path:"/consent",$$slots:{default:[v_]},$$scope:{ctx:t}}}),P=new gl({props:{path:"/setup",$$slots:{default:[g_]},$$scope:{ctx:t}}}),q=new gl({props:{path:"/vendor",$$slots:{default:[k_]},$$scope:{ctx:t}}}),X=new gl({props:{path:"/edit-day",$$slots:{default:[w_]},$$scope:{ctx:t}}}),R=new gl({props:{path:"/edit-month",$$slots:{default:[S_]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment),l=h(),Ce(n.$$.fragment),i=h(),Ce(s.$$.fragment),o=h(),Ce(f.$$.fragment),r=h(),Ce(c.$$.fragment),m=h(),Ce(_.$$.fragment),d=h(),Ce(v.$$.fragment),w=h(),Ce(b.$$.fragment),S=h(),Ce(g.$$.fragment),A=h(),Ce(L.$$.fragment),B=h(),Ce(P.$$.fragment),U=h(),Ce(q.$$.fragment),H=h(),Ce(X.$$.fragment),W=h(),Ce(R.$$.fragment)},m(O,T){ye(e,O,T),C(O,l,T),ye(n,O,T),C(O,i,T),ye(s,O,T),C(O,o,T),ye(f,O,T),C(O,r,T),ye(c,O,T),C(O,m,T),ye(_,O,T),C(O,d,T),ye(v,O,T),C(O,w,T),ye(b,O,T),C(O,S,T),ye(g,O,T),C(O,A,T),ye(L,O,T),C(O,B,T),ye(P,O,T),C(O,U,T),ye(q,O,T),C(O,H,T),ye(X,O,T),C(O,W,T),ye(R,O,T),Y=!0},p(O,T){const G={};T&64&&(G.data=O[6]),T&1&&(G.basepath=O[0]),e.$set(G);const j={};T&2049&&(j.$$scope={dirty:T,ctx:O}),n.$set(j);const F={};T&2558&&(F.$$scope={dirty:T,ctx:O}),s.$set(F);const K={};T&2241&&(K.$$scope={dirty:T,ctx:O}),f.$set(K);const Q={};T&2049&&(Q.$$scope={dirty:T,ctx:O}),c.$set(Q);const $={};T&2240&&($.$$scope={dirty:T,ctx:O}),_.$set($);const V={};T&2048&&(V.$$scope={dirty:T,ctx:O}),v.$set(V);const ne={};T&2048&&(ne.$$scope={dirty:T,ctx:O}),b.$set(ne);const me={};T&2048&&(me.$$scope={dirty:T,ctx:O}),g.$set(me);const oe={};T&2177&&(oe.$$scope={dirty:T,ctx:O}),L.$set(oe);const ie={};T&2240&&(ie.$$scope={dirty:T,ctx:O}),P.$set(ie);const fe={};T&2177&&(fe.$$scope={dirty:T,ctx:O}),q.$set(fe);const Z={};T&2053&&(Z.$$scope={dirty:T,ctx:O}),X.$set(Z);const x={};T&2057&&(x.$$scope={dirty:T,ctx:O}),R.$set(x)},i(O){Y||(te(e.$$.fragment,O),te(n.$$.fragment,O),te(s.$$.fragment,O),te(f.$$.fragment,O),te(c.$$.fragment,O),te(_.$$.fragment,O),te(v.$$.fragment,O),te(b.$$.fragment,O),te(g.$$.fragment,O),te(L.$$.fragment,O),te(P.$$.fragment,O),te(q.$$.fragment,O),te(X.$$.fragment,O),te(R.$$.fragment,O),Y=!0)},o(O){se(e.$$.fragment,O),se(n.$$.fragment,O),se(s.$$.fragment,O),se(f.$$.fragment,O),se(c.$$.fragment,O),se(_.$$.fragment,O),se(v.$$.fragment,O),se(b.$$.fragment,O),se(g.$$.fragment,O),se(L.$$.fragment,O),se(P.$$.fragment,O),se(q.$$.fragment,O),se(X.$$.fragment,O),se(R.$$.fragment,O),Y=!1},d(O){O&&(M(l),M(i),M(o),M(r),M(m),M(d),M(w),M(S),M(A),M(B),M(U),M(H),M(W)),Me(e,O),Me(n,O),Me(s,O),Me(f,O),Me(c,O),Me(_,O),Me(v,O),Me(b,O),Me(g,O),Me(L,O),Me(P,O),Me(q,O),Me(X,O),Me(R,O)}}}function pf(t){let e,l,n,i;const s=[C_,M_],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=$t()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(yt(),se(o[m],1,1,()=>{o[m]=null}),Mt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),te(l,1),l.m(n.parentNode,n))},i(r){i||(te(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function M_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ge,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function C_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ce(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function N_(t){let e,l,n,i;l=new Wf({props:{basepath:t[0],$$slots:{default:[y_]},$$scope:{ctx:t}}});let s=t[7].booting&&pf(t);return{c(){e=p("div"),Ce(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){C(o,e,f),ye(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&2559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&te(s,1)):(s=pf(o),s.c(),te(s,1),s.m(e,null)):s&&(yt(),se(s,1,1,()=>{s=null}),Mt())},i(o){i||(te(l.$$.fragment,o),te(s),i=!0)},o(o){se(l.$$.fragment,o),se(s),i=!1},d(o){o&&M(e),Me(l),s&&s.d()}}}function P_(t,e,l){let n=document.getElementsByTagName("base")[0].getAttribute("href");n||(n="/");let i;rs.subscribe(w=>{l(1,i=w)});let s;$f.subscribe(w=>{l(2,s=w)});let o;xf.subscribe(w=>{l(3,o=w)});let f;eu.subscribe(w=>{l(4,f=w)});let r={};Ml.subscribe(w=>{l(5,r=w)});let c,m={},_={},d;ml.subscribe(w=>{var S;l(7,_=w);const b=(()=>{if(typeof window>"u")return"";const g=window.location.pathname??"/";return g.startsWith(n)?g.slice(n.length).replace(/^\/+/,""):g.replace(/^\/+/,"")})();_.vndcfg===!1?b==="setup"?Il(n+"vendor"):b!=="welcome"&&b!=="vendor"&&Il(n+"welcome"):_.usrcfg===!1?b!=="welcome"&&b!=="setup"&&Il(n+"welcome"):_.fwconsent===0&&b!=="consent"&&Il(n+"consent"),_.ui.k===1?document.documentElement.classList.add("dark"):_.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),_.ui.lang&&_.ui.lang!=((S=r==null?void 0:r.language)==null?void 0:S.code)&&Xn(_.ui.lang),_.version&&d&&_.version!=d&&window.location.reload(),d=_.version,c&&clearTimeout(c),c=setTimeout(ki,!m||!m.u||m.u<30||_!=null&&_.upgrading?1e4:3e5)}),V0.subscribe(w=>{l(6,m=w),u1(w)});let v={};return lu.subscribe(w=>{l(8,v=w)}),tu(),[n,i,s,o,f,r,m,_,v]}class T_ extends Tt{constructor(e){super(),Pt(this,e,P_,N_,Ct,{})}}new T_({target:document.getElementById("app")});
