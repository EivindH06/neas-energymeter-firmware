var _u=Object.defineProperty;var pu=(t,e,l)=>e in t?_u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(pu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ve(){}function kl(t,e){for(const l in e)t[l]=e[l];return t}function pf(t){return t()}function Fs(){return Object.create(null)}function zt(t){t.forEach(pf)}function Xi(t){return typeof t=="function"}function Tt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let xn;function un(t,e){return t===e?!0:(xn||(xn=document.createElement("a")),xn.href=e,t===xn.href)}function du(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return Ve}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function en(t){let e;return Ji(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=df(t,e,l,n);return t[0](i)}}function df(t,e,l,n){return t[1]&&n?kl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=df(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function fi(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ui(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const hu=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function It(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function h(){return k(" ")}function $t(){return k("")}function pe(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function mn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const bu=["width","height"];function wn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&bu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function ci(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function wt(t){return t===""?null:+t}function vu(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.data!==e&&(t.data=e)}function gu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ku(t,e,l){~hu.indexOf(l)?gu(t,e):N(t,e)}function J(t,e){t.value=e??""}function tn(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function st(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let ei;function wu(){if(ei===void 0){ei=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ei=!0}}return ei}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=wu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=pe(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=pe(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),y(n)}}function Su(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Rs(t,e){return new t(e)}let Kn;function Bn(t){Kn=t}function Jn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function ts(t){Jn().$$.on_mount.push(t)}function ls(t){Jn().$$.on_destroy.push(t)}function Mu(){const t=Jn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Su(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Jn().$$.context.set(t,e),e}function nn(t){return Jn().$$.context.get(t)}const hn=[],mi=[];let kn=[];const Us=[],hf=Promise.resolve();let Ai=!1;function bf(){Ai||(Ai=!0,hf.then(vf))}function yu(){return bf(),hf}function Kt(t){kn.push(t)}const Si=new Set;let pn=0;function vf(){if(pn!==0)return;const t=Kn;do{try{for(;pn<hn.length;){const e=hn[pn];pn++,Bn(e),Cu(e.$$)}}catch(e){throw hn.length=0,pn=0,e}for(Bn(null),hn.length=0,pn=0;mi.length;)mi.pop()();for(let e=0;e<kn.length;e+=1){const l=kn[e];Si.has(l)||(Si.add(l),l())}kn.length=0}while(hn.length);for(;Us.length;)Us.pop()();Ai=!1,Si.clear(),Bn(t)}function Cu(t){if(t.fragment!==null){t.update(),zt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Kt)}}function Nu(t){const e=[],l=[];kn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),kn=e}const oi=new Set;let on;function Nt(){on={r:0,c:[],p:on}}function Pt(){on.r||zt(on.c),on=on.p}function te(t,e){t&&t.i&&(oi.delete(t),t.i(e))}function se(t,e,l,n){if(t&&t.o){if(oi.has(t))return;oi.add(t),on.c.push(()=>{oi.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function xe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gf(t,e){t.d(1),e.delete(t.key)}function kf(t,e,l,n,i,s,o,f,r,c,m,_){let d=t.length,b=s.length,w=d;const v={};for(;w--;)v[t[w].key]=w;const M=[],g=new Map,A=new Map,L=[];for(w=b;w--;){const q=_(i,s,w),K=l(q);let X=o.get(K);X?n&&L.push(()=>X.p(q,e)):(X=c(K,q),X.c()),g.set(K,M[w]=X),K in v&&A.set(K,Math.abs(w-v[K]))}const j=new Set,P=new Set;function U(q){te(q,1),q.m(f,m),o.set(q.key,q),m=q.first,b--}for(;d&&b;){const q=M[b-1],K=t[d-1],X=q.key,W=K.key;q===K?(m=q.first,d--,b--):g.has(W)?!o.has(X)||j.has(X)?U(q):P.has(W)?d--:A.get(X)>A.get(W)?(P.add(X),U(q)):(j.add(W),d--):(r(K,o),d--)}for(;d--;){const q=t[d];g.has(q.key)||r(q,o)}for(;b;)U(M[b-1]);return zt(L),M}function qi(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ti(t){return typeof t=="object"&&t!==null?t:{}}function Ne(t){t&&t.c()}function ye(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Kt(()=>{const s=t.$$.on_mount.map(pf).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):zt(s),t.$$.on_mount=[]}),i.forEach(Kt)}function Ce(t,e){const l=t.$$;l.fragment!==null&&(Nu(l.after_update),zt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Pu(t,e){t.$$.dirty[0]===-1&&(hn.push(t),bf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,l,n,i,s,o=null,f=[-1]){const r=Kn;Bn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ve,not_equal:i,bound:Fs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Fs(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(_,d,...b)=>{const w=b.length?b[0]:d;return c.ctx&&i(c.ctx[_],c.ctx[_]=w)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](w),m&&Pu(t,_)),d}):[],c.update(),m=!0,zt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=vu(e.target);c.fragment&&c.fragment.l(_),_.forEach(y)}else c.fragment&&c.fragment.c();e.intro&&te(t.$$.fragment),ye(t,e.target,e.anchor),vf()}Bn(r)}class At{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Ve}$on(e,l){if(!Xi(l))return Ve;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!du(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Tu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tu);const Bs=t=>typeof t>"u",wf=t=>typeof t=="function",Sf=t=>typeof t=="number";function Eu(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mf(){let t=0;return()=>t++}function Au(){return Math.random().toString(36).substring(2)}const Il=typeof window>"u";function yf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Cf=(t,e)=>t?{}:{style:e},Li=t=>({"aria-hidden":"true",...Cf(t,"display:none;")}),dn=[];function Nf(t,e){return{subscribe:al(t,e).subscribe}}function al(t,e=Ve){let l;const n=new Set;function i(f){if(Tt(t,f)&&(t=f,l)){const r=!dn.length;for(const c of n)c[1](),dn.push(c,t);if(r){for(let c=0;c<dn.length;c+=2)dn[c][0](dn[c+1]);dn.length=0}}}function s(f){i(f(t))}function o(f,r=Ve){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||Ve),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function qu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Nf(l,(o,f)=>{let r=!1;const c=[];let m=0,_=Ve;const d=()=>{if(m)return;_();const w=e(n?c[0]:c,o,f);s?o(w):_=Xi(w)?w:Ve},b=i.map((w,v)=>Ji(w,M=>{c[v]=M,m&=~(1<<v),r&&d()},()=>{m|=1<<v}));return r=!0,d(),function(){zt(b),_(),r=!1}})}const Qn=t=>`@@svnav-ctx__${t}`,Di=Qn("LOCATION"),Sn=Qn("ROUTER"),Pf=Qn("ROUTE"),Lu=Qn("ROUTE_PARAMS"),Du=Qn("FOCUS_ELEM"),Tf=/^:(.+)/,Rn=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>Rn(t,0,e.length)===e,Ou=t=>t==="",Iu=t=>Tf.test(t),Ef=t=>t[0]==="*",Fu=t=>t.replace(/\*.*$/,""),Af=t=>t.replace(/(^\/+|\/+$)/g,"");function El(t,e=!1){const l=Af(t).split("/");return e?l.filter(Boolean):l}const Mi=(t,e)=>t+(e?`?${e}`:""),ns=t=>`/${Af(t)}`;function Zn(...t){const e=n=>El(n,!0).join("/"),l=t.map(e).join("/");return ns(l)}const is=1,vi=2,cn=3,Ru=4,qf=5,Uu=6,Lf=7,Bu=8,ju=9,Df=10,Of=11,Hu={[is]:"Link",[vi]:"Route",[cn]:"Router",[Ru]:"useFocus",[qf]:"useLocation",[Uu]:"useMatch",[Lf]:"useNavigate",[Bu]:"useParams",[ju]:"useResolvable",[Df]:"useResolve",[Of]:"navigate"},ss=t=>Hu[t];function Wu(t,e){let l;return t===vi?l=e.path?`path="${e.path}"`:"default":t===is?l=`to="${e.to}"`:t===cn&&(l=`basepath="${e.basepath||""}"`),`<${ss(t)} ${l||""} />`}function Ku(t,e,l,n){const i=l&&Wu(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ss(t),f=wf(e)?e(o):e;return`<${o}> ${f}${s}`}const If=t=>(...e)=>t(Ku(...e)),Ff=If(t=>{throw new Error(t)}),_i=If(console.warn),js=4,zu=3,Vu=2,Gu=1,Yu=1;function Xu(t,e){const l=t.default?0:El(t.fullPath).reduce((n,i)=>{let s=n;return s+=js,Ou(i)?s+=Yu:Iu(i)?s+=Vu:Ef(i)?s-=js+Gu:s+=zu,s},0);return{route:t,score:l,index:e}}function Ju(t){return t.map(Xu).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Rf(t,e){let l,n;const[i]=e.split("?"),s=El(i),o=s[0]==="",f=Ju(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let _=!1;const d={},b=g=>({...m,params:d,uri:g});if(m.default){n=b(e);continue}const w=El(m.fullPath),v=Math.max(s.length,w.length);let M=0;for(;M<v;M++){const g=w[M],A=s[M];if(!Bs(g)&&Ef(g)){const j=g==="*"?"*":g.slice(1);d[j]=s.slice(M).map(decodeURIComponent).join("/");break}if(Bs(A)){_=!0;break}const L=Tf.exec(g);if(L&&!o){const j=decodeURIComponent(A);d[L[1]]=j}else if(g!==A){_=!0;break}}if(!_){l=b(Zn(...s.slice(0,M)));break}}return l||n||null}function Uf(t,e){return Rf([t],e)}function Qu(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=El(l),o=El(i);if(s[0]==="")return Mi(i,n);if(!Oi(s[0],".")){const c=o.concat(s).join("/");return Mi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),Mi(`/${r.join("/")}`,n)}function Hs(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=El(e,!0),f=El(l,!0);for(;o.length;)o[0]!==f[0]&&Ff(cn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Zn(...f),hash:n,search:i,state:s}}const Ws=t=>t.length===1?"":t,os=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Ws(Rn(t,l)):"",o=i?Rn(t,0,l):t,f=n?Ws(Rn(o,e)):"";return{pathname:(n?Rn(o,0,e):o)||"/",search:f,hash:s}},Zu=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function $u(t,e,l){return Zn(l,Qu(t,e))}function xu(t,e){const l=ns(Fu(t)),n=El(l,!0),i=El(e,!0).slice(0,n.length),s=Uf({fullPath:l},Zn(...i));return s&&s.uri}const yi="POP",ec="PUSH",tc="REPLACE";function Ci(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function lc(t){let e=[],l=Ci(t),n=yi;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ci(t),n=yi,i([s])};i([s]);const f=yf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?tc:ec,Sf(s))o&&_i(Of,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=yi,t.history.go(s);else{const c={...f,_key:Au()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ci(t),i()}}}function Ni(t,e){return{...os(e),state:t}}function nc(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const ic=!!(!Il&&window.document&&window.document.createElement),sc=!Il&&window.location.origin==="null",Bf=lc(ic&&!sc?window:nc()),{navigate:Ol}=Bf;let ql=null,jf=!0;function oc(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function ac(t){(!ql||t.level>ql.level||t.level===ql.level&&oc(t.routerId,ql.routerId))&&(ql=t)}function rc(){ql=null}function fc(){jf=!1}function Ks(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=yf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function uc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function cc(t){return/^H[1-6]$/i.test(t.tagName)}function zs(t,e=document){return e.querySelector(t)}function mc(t){let l=zs(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!uc(l,t);){if(cc(l))return l;const n=zs("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function _c(t){Promise.resolve(en(t.focusElement)).then(e=>{const l=e||mc(t.id);l||_i(cn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,vi),!Ks(l)&&Ks(document.documentElement)})}const pc=(t,e,l)=>(n,i)=>yu().then(()=>{if(!ql||jf){fc();return}if(n&&_c(ql.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=ql.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},en(l));Promise.resolve(m).then(_=>{e.set(_)})}rc()}),dc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function hc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Cf(t[6],dc)],i={};for(let s=0;s<n.length;s+=1)i=kl(i,n[s]);return{c(){e=p("div"),l=k(t[0]),wn(e,i)},m(s,o){C(s,e,o),a(e,l)},p(s,o){o[0]&1&&ku(l,s[0],i.contenteditable)},d(s){s&&y(e)}}}function bc(t){let e,l,n,i,s,o=[Li(t[6]),{"data-svnav-router":t[3]}],f={};for(let _=0;_<o.length;_+=1)f=kl(f,o[_]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&hc(t);return{c(){e=p("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=$t(),wn(e,f)},m(_,d){C(_,e,d),C(_,l,d),c&&c.m(_,d),C(_,n,d),m&&m.m(_,d),C(_,i,d),s=!0},p(_,d){c&&c.p&&(!s||d[0]&2097152)&&$i(c,r,_,_[21],s?Zi(r,_[21],d,null):xi(_[21]),null),_[2]&&_[4]&&_[1].announcements&&m.p(_,d)},i(_){s||(te(c,_),s=!0)},o(_){se(c,_),s=!1},d(_){_&&(y(e),y(l),y(n),y(i)),c&&c.d(_),m&&m.d(_)}}}const vc=Mf(),Vs="/";function gc(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Vs}=e,{url:_=null}=e,{history:d=Bf}=e,{primary:b=!0}=e,{a11y:w={}}=e,{disableInlineStyles:v=!1}=e;const M={createAnnouncement:V=>`Navigated to ${V.uri}`,announcements:!0,...w},g=m,A=ns(m),L=nn(Di),j=nn(Sn),P=!L,U=vc(),q=b&&!(j&&!j.manageFocus),K=al("");Pl(t,K,V=>l(0,f=V));const X=j?j.disableInlineStyles:v,W=al([]);Pl(t,W,V=>l(20,o=V));const R=al(null);Pl(t,R,V=>l(18,i=V));let H=!1;const D=P?0:j.level+1,Y=P?al((()=>Hs(Il?os(_):d.location,A))()):L;Pl(t,Y,V=>l(17,n=V));const z=al(n);Pl(t,z,V=>l(19,s=V));const F=pc(M,K,Y),B=V=>ie=>ie.filter(ce=>ce.id!==V);function Q(V){if(Il){if(H)return;const ie=Uf(V,n.pathname);if(ie)return H=!0,ie}else W.update(ie=>{const ce=B(V.id)(ie);return ce.push(V),ce})}function ne(V){W.update(B(V))}return!P&&m!==Vs&&_i(cn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),P&&(ts(()=>d.listen(ie=>{const ce=Hs(ie.location,A);z.set(n),Y.set(ce)})),jn(Di,Y)),jn(Sn,{activeRoute:R,registerRoute:Q,unregisterRoute:ne,manageFocus:q,level:D,id:U,history:P?d:j.history,basepath:P?A:j.basepath,disableInlineStyles:X}),t.$$set=V=>{"basepath"in V&&l(11,m=V.basepath),"url"in V&&l(12,_=V.url),"history"in V&&l(13,d=V.history),"primary"in V&&l(14,b=V.primary),"a11y"in V&&l(15,w=V.a11y),"disableInlineStyles"in V&&l(16,v=V.disableInlineStyles),"$$scope"in V&&l(21,c=V.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==g&&_i(cn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const V=Rf(o,n.pathname);R.set(V)}if(t.$$.dirty[0]&655360&&P){const V=!!n.hash,ie=!V&&q,ce=!V||n.pathname!==s.pathname;F(ie,ce)}t.$$.dirty[0]&262144&&q&&i&&i.primary&&ac({level:D,routerId:U,route:i})},[f,M,P,U,q,K,X,W,R,Y,z,m,_,d,b,w,v,n,i,s,o,c,r]}class kc extends At{constructor(e){super(),Et(this,e,gc,bc,Tt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Hf=kc;function $n(t,e,l=Sn,n=cn){nn(l)||Ff(t,s=>`You cannot use ${s} outside of a ${ss(n)}.`,e)}const wc=t=>{const{subscribe:e}=nn(t);return{subscribe:e}};function Wf(){return $n(qf),wc(Di)}function Kf(){const{history:t}=nn(Sn);return t}function zf(){const t=nn(Pf);return t?qu(t,e=>e.base):al("/")}function Vf(){$n(Df);const t=zf(),{basepath:e}=nn(Sn);return n=>$u(n,en(t),e)}function Sc(){$n(Lf);const t=Vf(),{navigate:e}=Kf();return(n,i)=>{const s=Sf(n)?n:t(n);return e(s,i)}}const Mc=t=>({params:t&16,location:t&8}),Gs=t=>({params:Il?en(t[10]):t[4],location:t[3],navigate:t[11]});function Ys(t){let e,l;return e=new Hf({props:{primary:t[1],$$slots:{default:[Nc]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function yc(t){let e;const l=t[18].default,n=Qi(l,t,t[19],Gs);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,Mc):xi(i[19]),Gs)},i(i){e||(te(n,i),e=!0)},o(i){se(n,i),e=!1},d(i){n&&n.d(i)}}}function Cc(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Il?en(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=kl(c,i[m]);return r!==void 0&&r&7192&&(c=kl(c,qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Il?en(f[10]):f[4]),r&4096&&ti(f[12])]))),{props:c}}return s&&(e=Rs(s,o(t))),{c(){e&&Ne(e.$$.fragment),l=$t()},m(f,r){e&&ye(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){Nt();const c=e;se(c.$$.fragment,1,0,()=>{Ce(c,1)}),Pt()}s?(e=Rs(s,o(f,r)),Ne(e.$$.fragment),te(e.$$.fragment,1),ye(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Il?en(f[10]):f[4]),r&4096&&ti(f[12])]):{};e.$set(c)}},i(f){n||(e&&te(e.$$.fragment,f),n=!0)},o(f){e&&se(e.$$.fragment,f),n=!1},d(f){f&&y(l),e&&Ce(e,f)}}}function Nc(t){let e,l,n,i;const s=[Cc,yc],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=$t()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(Nt(),se(o[m],1,1,()=>{o[m]=null}),Pt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),te(l,1),l.m(n.parentNode,n))},i(r){i||(te(l),i=!0)},o(r){se(l),i=!1},d(r){r&&y(n),o[e].d(r)}}}function Pc(t){let e,l,n,i,s,o=[Li(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let _=0;_<o.length;_+=1)f=kl(f,o[_]);let r=t[2]&&Ys(t),c=[Li(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let _=0;_<c.length;_+=1)m=kl(m,c[_]);return{c(){e=p("div"),l=h(),r&&r.c(),n=h(),i=p("div"),wn(e,f),wn(i,m)},m(_,d){C(_,e,d),C(_,l,d),r&&r.m(_,d),C(_,n,d),C(_,i,d),s=!0},p(_,[d]){_[2]?r?(r.p(_,d),d&4&&te(r,1)):(r=Ys(_),r.c(),te(r,1),r.m(n.parentNode,n)):r&&(Nt(),se(r,1,1,()=>{r=null}),Pt())},i(_){s||(te(r),s=!0)},o(_){se(r),s=!1},d(_){_&&(y(e),y(l),y(n),y(i)),r&&r.d(_)}}}const Tc=Mf();function Ec(t,e,l){let n;const i=["path","component","meta","primary"];let s=ui(e,i),o,f,r,c,{$$slots:m={},$$scope:_}=e,{path:d=""}=e,{component:b=null}=e,{meta:w={}}=e,{primary:v=!0}=e;$n(vi,e);const M=Tc(),{registerRoute:g,unregisterRoute:A,activeRoute:L,disableInlineStyles:j}=nn(Sn);Pl(t,L,H=>l(16,o=H));const P=zf();Pl(t,P,H=>l(17,r=H));const U=Wf();Pl(t,U,H=>l(3,f=H));const q=al(null);let K;const X=al(),W=al({});Pl(t,W,H=>l(4,c=H)),jn(Pf,X),jn(Lu,W),jn(Du,q);const R=Sc();return Il||ls(()=>A(M)),t.$$set=H=>{l(24,e=kl(kl({},e),fi(H))),l(12,s=ui(e,i)),"path"in H&&l(13,d=H.path),"component"in H&&l(0,b=H.component),"meta"in H&&l(14,w=H.meta),"primary"in H&&l(1,v=H.primary),"$$scope"in H&&l(19,_=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const H=d==="",D=Zn(r,d),E={id:M,path:d,meta:w,default:H,fullPath:H?"":D,base:H?r:xu(D,f.pathname),primary:v,focusElement:q};X.set(E),l(15,K=g(E))}if(t.$$.dirty&98304&&l(2,n=!!(K||o&&o.id===M)),t.$$.dirty&98308&&n){const{params:H}=K||o;W.set(H)}},e=fi(e),[b,v,n,f,c,M,L,j,P,U,W,R,s,d,w,K,o,r,m,_]}class Ac extends At{constructor(e){super(),Et(this,e,Ec,Pc,Tt,{path:13,component:0,meta:14,primary:1})}}const bl=Ac;function qc(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=kl(r,f[c]);return{c(){e=p("a"),o&&o.c(),wn(e,r)},m(c,m){C(c,e,m),o&&o.m(e,null),l=!0,n||(i=pe(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),wn(e,r=qi(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(te(o,c),l=!0)},o(c){se(o,c),l=!1},d(c){c&&y(e),o&&o.d(c),n=!1,i()}}}function Lc(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=ui(e,c),_,{$$slots:d={},$$scope:b}=e,{to:w}=e,{replace:v=!1}=e,{state:M={}}=e,{getProps:g=null}=e;$n(is,e);const A=Wf();Pl(t,A,q=>l(11,_=q));const L=Mu(),j=Vf(),{navigate:P}=Kf();function U(q){L("click",q),Eu(q)&&(q.preventDefault(),P(n,{state:M,replace:o||v}))}return t.$$set=q=>{l(19,e=kl(kl({},e),fi(q))),l(18,m=ui(e,c)),"to"in q&&l(5,w=q.to),"replace"in q&&l(6,v=q.replace),"state"in q&&l(7,M=q.state),"getProps"in q&&l(8,g=q.getProps),"$$scope"in q&&l(12,b=q.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=j(w,_)),t.$$.dirty&2049&&l(10,i=Oi(_.pathname,n)),t.$$.dirty&2049&&l(9,s=n===_.pathname),t.$$.dirty&2049&&(o=os(n)===Zu(_)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(wf(g)){const q=g({location:_,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...q}}return m})())},e=fi(e),[n,r,f,A,U,w,v,M,g,s,i,_,b,d]}class Dc extends At{constructor(e){super(),Et(this,e,Lc,qc,Tt,{to:5,replace:6,state:7,getProps:8})}}const vl=Dc;function li(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Oc(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function as(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function zn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function pi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function bt(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Vn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function ze(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Hn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Qt(t,e){return t==1||t==2&&e}function Al(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Yt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Fl(t,e){return t.setTime(t.getTime()+e*36e5),t}function Ic(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function Fc(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Xs=0;function fn(t,e){Xs++;const l=Rc(t);if(!l.length){e&&e(""),setTimeout(fn,1500,t,e);return}const n=l[(Xs-1)%l.length];if(!n){setTimeout(fn,1e3,t,e);return}const i=Uc(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(fn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function Rc(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function Uc(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function il(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Js(t){return t.startsWith("esp32")?"esp32":t}function _l(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Gn(t,e){let l=[Yt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Yt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let ln="[\\x20-\\x7E]+",di="[\\x20-\\xFF]+",Yn="[A-Za-z0-9_\\-]+",Gf="[0-9A-Fa-f]+",Fn="[0-9]+",ai={},Ii=[];async function Bc(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function Yf(){if(Ii.length){let t=Ii.shift();delete ai[t.resource];try{let e=await Bc(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(Yf,100)}Yf();async function wl(t,e={}){let l;return ai[t]?l=ai[t]:(l={resource:t,options:e,callbacks:[]},ai[t]=l,Ii.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function gi(){Nl=await(await wl("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ml.set(Nl)}const ml=al(Nl,t=>(gi(),function(){}));function jc(t){ml.update(e=>(e.trying=t,e))}let Wn={c:-1,n:[]},an=null,hi=!1,bn=null,ri=null;async function Hc(){try{const e=await(await wl("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;const o=l.get(s.s);(!o||Number(s.r)>Number(o.r))&&l.set(s.s,s)}const n=Array.from(l.values()).sort((i,s)=>Number(s.r)-Number(i.r));Wn={c:n.length,n},bn&&bn(Wn)}catch{Wn.c<0&&bn&&bn({c:-1,n:[]})}finally{ri=null}}function Wc(){return ri||(ri=Hc()),ri}function Xf(t=0){hi&&(an&&clearTimeout(an),an=setTimeout(()=>{an=null,Wc()},Math.max(0,t)))}let ni=0,Qs=-127,Zs=null,Kc={};const zc=Nf(Kc,t=>{let e,l,n=!1;async function i(){wl("data.json").then(s=>s.json()).then(s=>{t(s),Qs!=s.t&&(Qs=s.t,setTimeout(Vc,2e3)),Zs==null&&s.pe&&s.p!=null&&(Zs=s.p,Qf()),(!Nl||!Nl.chip||Nl.booting||ni>1&&!Hn(Nl.board))&&(gi(),Ll&&clearTimeout(Ll),Ll=setTimeout(Ui,2e3),Dl&&clearTimeout(Dl),Dl=setTimeout(ji,3e3)),s.u,Ll||(Ll=Ui()),Dl||(Dl=ji());let o=5e3;if(Hn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ni=0,hi&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Xf(0)}))}).catch(s=>{ni++,ni>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(fn,5e3,Nl,jc))):e=setTimeout(i,Hn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Fi={},Un;const rs=al(Fi);async function Jf(){let t=!1;rs.update(e=>{for(var l=0;l<36;l++){if(e[bt(l)]==null){t=l<12;break}e[bt(l)]=e[bt(l+1)]}return e}),t?Qf():Un=setTimeout(Jf,(60-new Date().getMinutes())*6e4)}async function Qf(){Un&&(clearTimeout(Un),Un=0),Fi=await(await wl("energyprice.json")).json(),rs.set(Fi),Un=setTimeout(Jf,(60-new Date().getMinutes())*6e4)}let Ri={},Ll;async function Ui(){Ll&&(clearTimeout(Ll),Ll=0),Ri=await(await wl("dayplot.json")).json(),Zf.set(Ri),Ll=setTimeout(Ui,(60-new Date().getMinutes())*6e4+20)}const Zf=al(Ri,t=>function(){});let Bi={},Dl;async function ji(){Dl&&(clearTimeout(Dl),Dl=0),Bi=await(await wl("monthplot.json")).json(),$f.set(Bi),Dl=setTimeout(ji,(24-new Date().getHours())*36e5+40)}const $f=al(Bi,t=>function(){});let Hi={};async function Vc(){Hi=await(await wl("temperature.json")).json(),xf.set(Hi)}const xf=al(Hi,t=>function(){});let Wi={},ii;async function eu(){ii&&(clearTimeout(ii),ii=0),Wi=await(await wl("tariff.json")).json(),tu.set(Wi),ii=setTimeout(eu,(60-new Date().getMinutes())*6e4+30)}const tu=al(Wi,t=>function(){}),lu=al(Wn,t=>(bn=t,hi=!0,t(Wn),Xf(0),function(){hi=!1,bn=null,an&&(clearTimeout(an),an=null)}));let Ki=!1;const Sl=al(Ki);async function ki(t){Ki=await(await wl("translations.json"+(t?"?lang="+t:""))).json(),Sl.set(Ki)}ki();const Gc="/neas_logotype_white.svg",fs="/wifi-low-light.svg",us="/wifi-medium-light.svg",cs="/wifi-high-light.svg",ms="/wifi-off-light.svg";function $s(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function nu(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function xs(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?xc:c[2]>0?$c:c[3]>1?Zc:c[3]>0?Qc:c[4]>1?Jc:c[4]>0?Xc:Yc}let o=s(t),f=o(t);return{c(){l=k(e),n=h(),f.c(),i=$t()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var _;m&2&&e!==(e=(((_=c[1].header)==null?void 0:_.uptime)??"Up")+"")&&N(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(y(l),y(n),y(i)),f.d(c)}}}function Yc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=k(t[0]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&1&&N(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function Xc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&N(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function Jc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=k(t[4]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&N(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function Qc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&N(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function Zc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=k(t[3]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&N(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function $c(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&N(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function xc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=k(t[2]),l=h(),i=k(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&N(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&N(i,n)},d(o){o&&(y(e),y(l),y(i))}}}function e0(t){let e,l=t[0]&&xs(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=xs(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(n){n&&y(e),l&&l.d(n)}}}function t0(t,e,l){let{epoch:n}=e,i={};Sl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class l0 extends At{constructor(e){super(),Et(this,e,t0,e0,Tt,{epoch:0})}}function n0(t){let e,l,n;return{c(){e=p("span"),l=k(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),a(e,l)},p(i,[s]){s&4&&N(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:Ve,o:Ve,d(i){i&&y(e)}}}function i0(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Xn extends At{constructor(e){super(),Et(this,e,i0,n0,Tt,{color:0,title:1,text:2})}}function s0(t){let e,l=`${bt(t[0].getDate())}.${bt(t[0].getMonth()+1)}.${t[0].getFullYear()} ${bt(t[0].getHours())}:${bt(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=k(l),u(e,"class",t[1])},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${bt(i[0].getDate())}.${bt(i[0].getMonth()+1)}.${i[0].getFullYear()} ${bt(i[0].getHours())}:${bt(i[0].getMinutes())}`)&&N(n,l),s&2&&u(e,"class",i[1])},d(i){i&&y(e)}}}function o0(t){var n;let e=`${bt(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:bt(t[0].getMonth()+1)} ${bt(t[0].getHours())}:${bt(t[0].getMinutes())}`,l;return{c(){l=k(e)},m(i,s){C(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${bt(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:bt(i[0].getMonth()+1)} ${bt(i[0].getHours())}:${bt(i[0].getMinutes())}`)&&N(l,e)},d(i){i&&y(l)}}}function a0(t){let e;function l(s,o){return s[3]?o0:s0}let n=l(t),i=n(t);return{c(){i.c(),e=$t()},m(s,o){i.m(s,o),C(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ve,o:Ve,d(s){s&&y(e),i.d(s)}}}function r0(t,e,l){let n={};Sl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Fl(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class iu extends At{constructor(e){super(),Et(this,e,r0,a0,Tt,{timestamp:0,fullTimeColor:1,offset:4})}}function f0(t){let e,l,n;return{c(){e=It("svg"),l=It("path"),n=It("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p:Ve,i:Ve,o:Ve,d(i){i&&y(e)}}}class u0 extends At{constructor(e){super(),Et(this,e,null,f0,Tt,{})}}function c0(t){let e,l;return{c(){e=It("svg"),l=It("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),a(e,l)},p:Ve,i:Ve,o:Ve,d(n){n&&y(e)}}}class m0 extends At{constructor(e){super(),Et(this,e,null,c0,Tt,{})}}function _0(t){let e,l;return{c(){e=p("img"),u(e,"class","p-1"),u(e,"alt","Neas logo"),un(e.src,l=Gc)||u(e,"src",l)},m(n,i){C(n,e,i)},p:Ve,d(n){n&&y(e)}}}function eo(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=k(l),i=k("°C"),u(e,"class","flex-none my-auto")},m(s,o){C(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&N(n,l)},d(s){s&&y(e)}}}function to(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((_=(m=f[5].errors)==null?void 0:m.han)==null?void 0:_[f[0].he])??f[0].he))&&N(n,l)},d(f){f&&y(e)}}}function lo(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((_=(m=f[5].errors)==null?void 0:m.mqtt)==null?void 0:_[f[0].me])??f[0].me))&&N(n,l)},d(f){f&&y(e)}}}function no(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,_;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((_=(m=f[5].errors)==null?void 0:m.price)==null?void 0:_[f[0].ee])??f[0].ee))&&N(n,l)},d(f){f&&y(e)}}}function io(t){let e,l,n,i,s,o,f,r;return l=new vl({props:{to:"/configuration",$$slots:{default:[p0]},$$scope:{ctx:t}}}),o=new vl({props:{to:"/status",$$slots:{default:[d0]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Ne(l.$$.fragment),i=h(),s=p("div"),Ne(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),ye(l,e,null),C(c,i,m),C(c,s,m),ye(o,s,null),r=!0},p(c,m){var b,w;const _={};m&512&&(_.$$scope={dirty:m,ctx:c}),l.$set(_),(!r||m&32&&n!==(n=((b=c[5].header)==null?void 0:b.config)??""))&&u(e,"title",n);const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),o.$set(d),(!r||m&32&&f!==(f=((w=c[5].header)==null?void 0:w.status)??""))&&u(s,"title",f)},i(c){r||(te(l.$$.fragment,c),te(o.$$.fragment,c),r=!0)},o(c){se(l.$$.fragment,c),se(o.$$.fragment,c),r=!1},d(c){c&&(y(e),y(i),y(s)),Ce(l),Ce(o)}}}function p0(t){let e,l;return e=new u0({}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function d0(t){let e,l;return e=new m0({}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h0(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?g0:v0}let i=n(t),s=i(t);return{c(){var o;e=p("div"),s.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",l=(((o=t[5].header)==null?void 0:o.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(o,f){C(o,e,f),s.m(e,null)},p(o,f){var r;i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&34&&l!==(l=(((r=o[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&y(e),s.d()}}}function b0(t){let e,l,n=t[1].upgrade.t+"",i,s,o=t[4].toFixed(1)+"",f,r;return{c(){e=p("div"),l=k("Oppdaterer til "),i=k(n),s=k(", "),f=k(o),r=k("%"),u(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){C(c,e,m),a(e,l),a(e,i),a(e,s),a(e,f),a(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&N(i,n),m&16&&o!==(o=c[4].toFixed(1)+"")&&N(f,o)},d(c){c&&y(e)}}}function v0(t){var f;let e,l=(((f=t[5].header)==null?void 0:f.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",o;return{c(){e=p("span"),n=k(l),i=k(": "),o=k(s)},m(r,c){C(r,e,c),a(e,n),a(e,i),a(e,o)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&N(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&N(o,s)},d(r){r&&y(e)}}}function g0(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,o=t[1].upgrade.n+"",f,r,c;return{c(){e=p("button"),l=p("span"),i=k(n),s=k(": "),f=k(o),u(l,"class","mt-1"),u(e,"class","flex")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(l,s),a(l,f),r||(c=pe(e,"click",t[6]),r=!0)},p(_,d){var b;d&32&&n!==(n=(((b=_[5].header)==null?void 0:b.new_version)??"Ny oppdatering")+"")&&N(i,n),d&2&&o!==(o=_[1].upgrade.n+"")&&N(f,o)},d(_){_&&y(e),r=!1,c()}}}function k0(t){let e,l,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W,R,H;i=new vl({props:{to:"/",class:"flex space-x-2",$$slots:{default:[_0]},$$scope:{ctx:t}}}),r=new l0({props:{epoch:t[0].u}});let D=t[0].t>-50&&eo(t);d=new Xn({props:{title:"Han-port",text:"Han-port",color:li(t[1].booting?9:t[0].hm)}}),w=new Xn({props:{title:"Minside",text:"Minside",color:li(t[1].booting?9:t[0].mm)}});let E=(t[0].he<0||t[0].he>0)&&to(t),Y=t[0].me<0&&lo(t),z=(t[0].ee>0||t[0].ee<0)&&no(t);X=new iu({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let F=t[1].vndcfg&&t[1].usrcfg&&io(t);function B(V,ie){if(V[1].upgrading)return b0;if(V[1].fwconsent===1&&V[1].upgrade.n)return h0}let Q=B(t),ne=Q&&Q(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=p("div"),Ne(r.$$.fragment),c=h(),D&&D.c(),m=h(),_=p("div"),Ne(d.$$.fragment),b=h(),Ne(w.$$.fragment),v=h(),E&&E.c(),M=h(),Y&&Y.c(),g=h(),z&&z.c(),A=h(),L=p("div"),j=p("div"),P=p("img"),q=h(),K=p("div"),Ne(X.$$.fragment),W=h(),F&&F.c(),R=h(),ne&&ne.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(_,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(P,"class","h-10 w-10"),un(P.src,U=t[2])||u(P,"src",U),u(P,"alt",t[3]),u(j,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(K,"class","flex-none my-auto px-2"),u(L,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(V,ie){C(V,e,ie),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,f),ye(r,f,null),a(o,c),D&&D.m(o,null),a(l,m),a(l,_),ye(d,_,null),a(_,b),ye(w,_,null),a(l,v),E&&E.m(l,null),a(l,M),Y&&Y.m(l,null),a(l,g),z&&z.m(l,null),a(l,A),a(l,L),a(L,j),a(j,P),a(L,q),a(L,K),ye(X,K,null),a(L,W),F&&F.m(L,null),a(L,R),ne&&ne.m(L,null),H=!0},p(V,[ie]){const ce={};ie&512&&(ce.$$scope={dirty:ie,ctx:V}),i.$set(ce);const oe={};ie&1&&(oe.epoch=V[0].u),r.$set(oe),V[0].t>-50?D?D.p(V,ie):(D=eo(V),D.c(),D.m(o,null)):D&&(D.d(1),D=null);const x={};ie&3&&(x.color=li(V[1].booting?9:V[0].hm)),d.$set(x);const re={};ie&3&&(re.color=li(V[1].booting?9:V[0].mm)),w.$set(re),V[0].he<0||V[0].he>0?E?E.p(V,ie):(E=to(V),E.c(),E.m(l,M)):E&&(E.d(1),E=null),V[0].me<0?Y?Y.p(V,ie):(Y=lo(V),Y.c(),Y.m(l,g)):Y&&(Y.d(1),Y=null),V[0].ee>0||V[0].ee<0?z?z.p(V,ie):(z=no(V),z.c(),z.m(l,A)):z&&(z.d(1),z=null),(!H||ie&4&&!un(P.src,U=V[2]))&&u(P,"src",U),(!H||ie&8)&&u(P,"alt",V[3]);const Z={};ie&1&&(Z.timestamp=V[0].c?new Date(V[0].c*1e3):new Date(0)),ie&2&&(Z.offset=V[1].clock_offset),X.$set(Z),V[1].vndcfg&&V[1].usrcfg?F?(F.p(V,ie),ie&2&&te(F,1)):(F=io(V),F.c(),te(F,1),F.m(L,R)):F&&(Nt(),se(F,1,1,()=>{F=null}),Pt()),Q===(Q=B(V))&&ne?ne.p(V,ie):(ne&&ne.d(1),ne=Q&&Q(V),ne&&(ne.c(),ne.m(L,null)))},i(V){H||(te(i.$$.fragment,V),te(r.$$.fragment,V),te(d.$$.fragment,V),te(w.$$.fragment,V),te(X.$$.fragment,V),te(F),H=!0)},o(V){se(i.$$.fragment,V),se(r.$$.fragment,V),se(d.$$.fragment,V),se(w.$$.fragment,V),se(X.$$.fragment,V),se(F),H=!1},d(V){V&&y(e),Ce(i),Ce(r),D&&D.d(),Ce(d),Ce(w),E&&E.d(),Y&&Y.d(),z&&z.d(),Ce(X),F&&F.d(),ne&&ne.d()}}}function w0(t,e,l){const n={high:cs,medium:us,low:fs,off:ms};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:f={}}=e,r={};function c(){var d;confirm((((d=_.header)==null?void 0:d.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(nu(r.upgrade.n),ml.update(b=>(b.upgrade.t=r.upgrade.n,b.upgrade.p=0,b.upgrading=!0,b)))}let m;ml.subscribe(d=>{l(1,r=d)});let _={};return Sl.subscribe(d=>{l(5,_=d)}),t.$$set=d=>{"basepath"in d&&l(7,o=d.basepath),"data"in d&&l(0,f=d.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:d,label:b}=Vn(f==null?void 0:f.r);l(2,i=n[d]??n.off),l(3,s=b)}},[f,r,i,s,m,_,c,o]}class S0 extends At{constructor(e){super(),Et(this,e,w0,k0,Tt,{basepath:7,data:0})}}function M0(t){let e,l,n,i;return{c(){e=It("svg"),l=It("path"),n=It("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){C(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:Ve,o:Ve,d(s){s&&y(e)}}}function so(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=so(t,e,l,i),o=so(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function y0(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class C0 extends At{constructor(e){super(),Et(this,e,y0,M0,Tt,{pct:0,color:1})}}function oo(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=h(),n=p("span"),s=k(i),o=h(),f=p("span"),c=k(r),m=k("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(_,d){C(_,e,d),C(_,l,d),C(_,n,d),a(n,s),C(_,o,d),C(_,f,d),a(f,c),a(f,m)},p(_,d){d&2&&i!==(i=_[1][0]+"")&&N(s,i),d&2&&r!==(r=_[1][1]+"")&&N(c,r)},d(_){_&&(y(e),y(l),y(n),y(o),y(f))}}}function N0(t){let e,l,n,i,s,o,f,r,c,m,_=t[3][0]+"",d,b,w,v=t[3][1]+"",M,g,A;l=new C0({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let L=t[1]&&oo(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),i=p("span"),s=p("span"),o=k(t[0]),f=h(),r=p("br"),c=h(),m=p("span"),d=k(_),b=h(),w=p("span"),M=k(v),g=h(),L&&L.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(w,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(j,P){C(j,e,P),ye(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,d),a(i,b),a(i,w),a(w,M),a(i,g),L&&L.m(i,null),A=!0},p(j,[P]){const U={};P&16&&(U.pct=j[4]),P&20&&(U.color=j[2](j[4],document.documentElement.classList.contains("dark"))),l.$set(U),(!A||P&1)&&N(o,j[0]),(!A||P&8)&&_!==(_=j[3][0]+"")&&N(d,_),(!A||P&8)&&v!==(v=j[3][1]+"")&&N(M,v),j[1]?L?L.p(j,P):(L=oo(j),L.c(),L.m(i,null)):L&&(L.d(1),L=null)},i(j){A||(te(l.$$.fragment,j),A=!0)},o(j){se(l.$$.fragment,j),A=!1},d(j){j&&y(e),Ce(l),L&&L.d()}}}function P0(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=_=>{"val"in _&&l(5,n=_.val),"max"in _&&l(6,i=_.max),"unit"in _&&l(7,s=_.unit),"label"in _&&l(0,o=_.label),"sub"in _&&l(1,f=_.sub),"colorFn"in _&&l(2,r=_.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=_l(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class su extends At{constructor(e){super(),Et(this,e,P0,N0,Tt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function ao(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function ro(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function fo(t,e,l){const n=t.slice();return n[15]=e[l],n}function uo(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&co(t),c=xe(t[0].y.ticks),m=[];for(let v=0;v<c.length;v+=1)m[v]=ho(fo(t,c,v));let _=xe(t[0].x.ticks),d=[];for(let v=0;v<_.length;v+=1)d[v]=go(ro(t,_,v));let b=xe(t[0].points),w=[];for(let v=0;v<b.length;v+=1)w[v]=Po(ao(t,b,v));return{c(){r&&r.c(),e=h(),l=It("svg"),n=It("g");for(let v=0;v<m.length;v+=1)m[v].c();i=It("g");for(let v=0;v<d.length;v+=1)d[v].c();s=It("g");for(let v=0;v<w.length;v+=1)w[v].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(v,M){r&&r.m(v,M),C(v,e,M),C(v,l,M),a(l,n);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(n,null);a(l,i);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(i,null);a(l,s);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(s,null);f=!0},p(v,M){if(v[0].title||v[0].link?r?(r.p(v,M),M&1&&te(r,1)):(r=co(v),r.c(),te(r,1),r.m(e.parentNode,e)):r&&(Nt(),se(r,1,1,()=>{r=null}),Pt()),M&129){c=xe(v[0].y.ticks);let g;for(g=0;g<c.length;g+=1){const A=fo(v,c,g);m[g]?m[g].p(A,M):(m[g]=ho(A),m[g].c(),m[g].m(n,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}if(M&89){_=xe(v[0].x.ticks);let g;for(g=0;g<_.length;g+=1){const A=ro(v,_,g);d[g]?d[g].p(A,M):(d[g]=go(A),d[g].c(),d[g].m(i,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=_.length}if(M&457){b=xe(v[0].points);let g;for(g=0;g<b.length;g+=1){const A=ao(v,b,g);w[g]?w[g].p(A,M):(w[g]=Po(A),w[g].c(),w[g].m(s,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=b.length}(!f||M&18&&o!==(o="0 0 "+v[1]+" "+v[4]))&&u(l,"viewBox",o)},i(v){f||(te(r),f=!0)},o(v){se(r),f=!1},d(v){v&&(y(e),y(l)),r&&r.d(v),Zt(m,v),Zt(d,v),Zt(w,v)}}}function co(t){let e,l,n,i=t[0].title&&mo(t),s=t[0].link&&_o(t);return{c(){e=p("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){C(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=mo(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&te(s,1)):(s=_o(o),s.c(),te(s,1),s.m(e,null)):s&&(Nt(),se(s,1,1,()=>{s=null}),Pt())},i(o){n||(te(s),n=!0)},o(o){se(s),n=!1},d(o){o&&y(e),i&&i.d(),s&&s.d()}}}function mo(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm font-bold"),Kt(()=>t[9].call(e))},m(s,o){C(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&N(n,l)},d(s){s&&y(e),i()}}}function _o(t){let e,l,n,i;const s=[E0,T0],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(Nt(),se(o[m],1,1,()=>{o[m]=null}),Pt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),te(n,1),n.m(e,null))},i(r){i||(te(n),i=!0)},o(r){se(n),i=!1},d(r){r&&y(e),o[l].d()}}}function T0(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=k(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){C(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&N(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:Ve,o:Ve,d(o){o&&y(e)}}}function E0(t){let e,l;return e=new vl({props:{to:t[0].link.url,$$slots:{default:[A0]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function A0(t){let e=t[0].link.text+"",l;return{c(){l=k(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&N(l,e)},d(n){n&&y(l)}}}function po(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=It("g"),l=It("line"),n=It("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&N(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&y(e)}}}function ho(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&po(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=po(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&y(l),n&&n.d(i)}}}function bo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&vo(t);return{c(){e=It("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=vo(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&y(e),n&&n.d()}}}function vo(t){let e,l=t[11].label+"",n,i;return{c(){e=It("text"),n=k(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&N(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&y(e)}}}function go(t){let e=!isNaN(t[6](t[13])),l,n=e&&bo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=bo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&y(l),n&&n.d(i)}}}function ko(t){let e,l,n=t[11].value!==void 0&&wo(t),i=t[11].value2>1e-4&&yo(t);return{c(){e=It("g"),n&&n.c(),l=It("g"),i&&i.c()},m(s,o){C(s,e,o),n&&n.m(e,null),C(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=wo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=yo(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(y(e),y(l)),n&&n.d(),i&&i.d()}}}function wo(t){let e,l,n,i,s,o,f,r=t[3]>15&&So(t);return{c(){e=It("rect"),r&&r.c(),f=$t(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=So(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(y(e),y(f)),r&&r.d(c)}}}function So(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&Mo(t);return{c(){e=It("text"),n=k(l),c&&c.c(),r=$t(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<rn||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<rn?90:0)+")")},m(m,_){C(m,e,_),a(e,n),c&&c.m(m,_),C(m,r,_)},p(m,_){_&1&&l!==(l=m[11].label+"")&&N(n,l),_&8&&i!==(i=m[3]-4)&&u(e,"width",i),_&9&&s!==(s=m[3]<rn||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),_&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),_&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<rn?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,_):(c=Mo(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(y(e),y(r)),c&&c.d(m)}}}function Mo(t){let e,l=t[11].title+"",n;return{c(){e=It("title"),n=k(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&N(n,l)},d(i){i&&y(e)}}}function yo(t){let e,l,n,i,s,o,f,r=t[3]>15&&Co(t);return{c(){e=It("rect"),r&&r.c(),f=$t(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=Co(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(y(e),y(f)),r&&r.d(c)}}}function Co(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&No(t);return{c(){e=It("text"),n=k(l),r&&r.c(),f=$t(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<rn?90:0)+")")},m(c,m){C(c,e,m),a(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&N(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<rn?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=No(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(y(e),y(f)),r&&r.d(c)}}}function No(t){let e,l=t[11].title2+"",n;return{c(){e=It("title"),n=k(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&N(n,l)},d(i){i&&y(e)}}}function Po(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&ko(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=ko(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&y(l),n&&n.d(i)}}}function q0(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&uo(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Kt(()=>t[10].call(e))},m(s,o){C(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&te(i,1)):(i=uo(s),i.c(),te(i,1),i.m(e,null)):i&&(Nt(),se(i,1,1,()=>{i=null}),Pt())},i(s){n||(te(i),n=!0)},o(s){se(i),n=!1},d(s){s&&y(e),i&&i.d(),l()}}}let rn=30;function L0(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,_=0;function d(){_=this.clientHeight,l(5,_)}function b(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=w=>{"config"in w&&l(0,n=w.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-_);let w=i-(n.padding.left+n.padding.right);l(3,o=w/n.points.length),l(8,m=o<rn?30:15);let v=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(M){return M*o+n.padding.left}),l(7,r=function(M){let g=0;return M>n.y.max?g=n.padding.bottom:M<n.y.min?g=c-n.padding.bottom:g=c-n.padding.bottom-(M-n.y.min)*v,g>c||g<0?0:g})}},[n,i,s,o,c,_,f,r,m,d,b]}class _n extends At{constructor(e){super(),Et(this,e,L0,q0,Tt,{config:0})}}function D0(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function O0(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Yt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Oc(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],_=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),_.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),_.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),_.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:_})}},[r,n,i,s,o,f]}class I0 extends At{constructor(e){super(),Et(this,e,O0,D0,Tt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function F0(t){var O,G,le,ae,fe;let e,l,n=(((O=t[0].reactive)==null?void 0:O.title)??"Reactive")+"",i,s,o,f,r=(((G=t[0].reactive)==null?void 0:G.instant_in)??"Instant in")+"",c,m,_,d=t[1][0]+"",b,w,v=t[1][1]+"",M,g,A,L=(((le=t[0].reactive)==null?void 0:le.instant_out)??"Instant out")+"",j,P,U,q=t[2][0]+"",K,X,W=t[2][1]+"",R,H,D,E,Y=(((ae=t[0].reactive)==null?void 0:ae.total_in)??"Total in")+"",z,F,B,Q=t[3][0]+"",ne,V,ie=t[3][1]+"",ce,oe,x,re=(((fe=t[0].reactive)==null?void 0:fe.total_out)??"Total out")+"",Z,$,ee,he=t[4][0]+"",ge,T,S=t[4][1]+"",I;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),f=p("div"),c=k(r),m=h(),_=p("div"),b=k(d),w=h(),M=k(v),g=h(),A=p("div"),j=k(L),P=h(),U=p("div"),K=k(q),X=h(),R=k(W),H=h(),D=p("div"),E=p("div"),z=k(Y),F=h(),B=p("div"),ne=k(Q),V=h(),ce=k(ie),oe=h(),x=p("div"),Z=k(re),$=h(),ee=p("div"),ge=k(he),T=h(),I=k(S),u(_,"class","text-right"),u(U,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(B,"class","text-right"),u(ee,"class","text-right"),u(D,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(ue,me){C(ue,e,me),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,_),a(_,b),a(_,w),a(_,M),a(o,g),a(o,A),a(A,j),a(o,P),a(o,U),a(U,K),a(U,X),a(U,R),a(e,H),a(e,D),a(D,E),a(E,z),a(D,F),a(D,B),a(B,ne),a(B,V),a(B,ce),a(D,oe),a(D,x),a(x,Z),a(D,$),a(D,ee),a(ee,ge),a(ee,T),a(ee,I)},p(ue,[me]){var Se,ke,qe,De,We;me&1&&n!==(n=(((Se=ue[0].reactive)==null?void 0:Se.title)??"Reactive")+"")&&N(i,n),me&1&&r!==(r=(((ke=ue[0].reactive)==null?void 0:ke.instant_in)??"Instant in")+"")&&N(c,r),me&2&&d!==(d=ue[1][0]+"")&&N(b,d),me&2&&v!==(v=ue[1][1]+"")&&N(M,v),me&1&&L!==(L=(((qe=ue[0].reactive)==null?void 0:qe.instant_out)??"Instant out")+"")&&N(j,L),me&4&&q!==(q=ue[2][0]+"")&&N(K,q),me&4&&W!==(W=ue[2][1]+"")&&N(R,W),me&1&&Y!==(Y=(((De=ue[0].reactive)==null?void 0:De.total_in)??"Total in")+"")&&N(z,Y),me&8&&Q!==(Q=ue[3][0]+"")&&N(ne,Q),me&8&&ie!==(ie=ue[3][1]+"")&&N(ce,ie),me&1&&re!==(re=(((We=ue[0].reactive)==null?void 0:We.total_out)??"Total out")+"")&&N(Z,re),me&16&&he!==(he=ue[4][0]+"")&&N(ge,he),me&16&&S!==(S=ue[4][1]+"")&&N(I,S)},i:Ve,o:Ve,d(ue){ue&&y(e)}}}function R0(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,_;return t.$$set=d=>{"importInstant"in d&&l(5,n=d.importInstant),"exportInstant"in d&&l(6,i=d.exportInstant),"importTotal"in d&&l(7,s=d.importTotal),"exportTotal"in d&&l(8,o=d.exportTotal),"translations"in d&&l(0,f=d.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=_l(n,"VAr")),l(2,c=_l(i,"VAr")),l(3,m=_l(s*1e3,"VArh")),l(4,_=_l(o*1e3,"VArh")))},[f,r,c,m,_,n,i,s,o]}class U0 extends At{constructor(e){super(),Et(this,e,R0,F0,Tt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function To(t){let e;function l(s,o){return s[3]?j0:B0}let n=l(t),i=n(t);return{c(){i.c(),e=$t()},m(s,o){i.m(s,o),C(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&y(e),i.d(s)}}}function B0(t){var G,le,ae,fe,ue;let e,l=(((G=t[4].realtime)==null?void 0:G.consumption)??"Consumption")+"",n,i,s,o,f=il(((le=t[4].common)==null?void 0:le.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,b,w=t[6][1]+"",v,M,g,A=il(((ae=t[4].common)==null?void 0:ae.day)??"Day")+"",L,j,P,U=t[7][0]+"",q,K,X=t[7][1]+"",W,R,H,D=il(((fe=t[4].common)==null?void 0:fe.month)??"Month")+"",E,Y,z,F=t[8][0]+"",B,Q,ne=t[8][1]+"",V,ie,ce,oe=(((ue=t[4].realtime)==null?void 0:ue.last_month)??"Last month")+"",x,re,Z,$=t[9][0]+"",ee,he,ge=t[9][1]+"",T,S,I,O=t[5]&&Eo(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),b=h(),v=k(w),M=h(),g=p("div"),L=k(A),j=h(),P=p("div"),q=k(U),K=h(),W=k(X),R=h(),H=p("div"),E=k(D),Y=h(),z=p("div"),B=k(F),Q=h(),V=k(ne),ie=h(),ce=p("div"),x=k(oe),re=h(),Z=p("div"),ee=k($),he=h(),T=k(ge),S=h(),O&&O.c(),I=$t(),u(m,"class","text-right"),u(P,"class","text-right"),u(z,"class","text-right"),u(Z,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(me,Se){C(me,e,Se),a(e,n),C(me,i,Se),C(me,s,Se),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,v),a(s,M),a(s,g),a(g,L),a(s,j),a(s,P),a(P,q),a(P,K),a(P,W),a(s,R),a(s,H),a(H,E),a(s,Y),a(s,z),a(z,B),a(z,Q),a(z,V),a(s,ie),a(s,ce),a(ce,x),a(s,re),a(s,Z),a(Z,ee),a(Z,he),a(Z,T),C(me,S,Se),O&&O.m(me,Se),C(me,I,Se)},p(me,Se){var ke,qe,De,We,Ge;Se&16&&l!==(l=(((ke=me[4].realtime)==null?void 0:ke.consumption)??"Consumption")+"")&&N(n,l),Se&16&&f!==(f=il(((qe=me[4].common)==null?void 0:qe.hour)??"Hour")+"")&&N(r,f),Se&64&&_!==(_=me[6][0]+"")&&N(d,_),Se&64&&w!==(w=me[6][1]+"")&&N(v,w),Se&16&&A!==(A=il(((De=me[4].common)==null?void 0:De.day)??"Day")+"")&&N(L,A),Se&128&&U!==(U=me[7][0]+"")&&N(q,U),Se&128&&X!==(X=me[7][1]+"")&&N(W,X),Se&16&&D!==(D=il(((We=me[4].common)==null?void 0:We.month)??"Month")+"")&&N(E,D),Se&256&&F!==(F=me[8][0]+"")&&N(B,F),Se&256&&ne!==(ne=me[8][1]+"")&&N(V,ne),Se&16&&oe!==(oe=(((Ge=me[4].realtime)==null?void 0:Ge.last_month)??"Last month")+"")&&N(x,oe),Se&512&&$!==($=me[9][0]+"")&&N(ee,$),Se&512&&ge!==(ge=me[9][1]+"")&&N(T,ge),me[5]?O?O.p(me,Se):(O=Eo(me),O.c(),O.m(I.parentNode,I)):O&&(O.d(1),O=null)},d(me){me&&(y(e),y(i),y(s),y(S),y(I)),O&&O.d(me)}}}function j0(t){var at,Xe,ol,Wt,Jt,cl,rl,Vt,Gt,ul;let e,l=(((at=t[4].common)==null?void 0:at.import)??"Import")+"",n,i,s,o,f=il(((Xe=t[4].common)==null?void 0:Xe.hour)??"Hour")+"",r,c,m,_=t[6][0]+"",d,b,w=t[6][1]+"",v,M,g,A,L=il(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",j,P,U,q=t[7][0]+"",K,X,W=t[7][1]+"",R,H,D,E,Y=il(((Wt=t[4].common)==null?void 0:Wt.month)??"Month")+"",z,F,B,Q=t[8][0]+"",ne,V,ie=t[8][1]+"",ce,oe,x,re,Z=(((Jt=t[4].realtime)==null?void 0:Jt.last_mo)??"Last mo.")+"",$,ee,he,ge=t[9][0]+"",T,S,I=t[9][1]+"",O,G,le,ae,fe,ue=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",me,Se,ke,qe,De=il(((rl=t[4].common)==null?void 0:rl.hour)??"Hour")+"",We,Ge,Ze,ve=t[10][0]+"",we,ot,rt=t[10][1]+"",qt,vt,ft,dt,tt=il(((Vt=t[4].common)==null?void 0:Vt.day)??"Day")+"",ct,Xt,_t,yt=t[11][0]+"",Ct,Ft,lt=t[11][1]+"",ut,Pe,Ae,$e,Je=il(((Gt=t[4].common)==null?void 0:Gt.month)??"Month")+"",be,Re,St,gt=t[12][0]+"",et,Oe,it=t[12][1]+"",He,Te,Ue,Le,Ie=(((ul=t[4].realtime)==null?void 0:ul.last_mo)??"Last mo.")+"",Ye,nt,Lt,Bt=t[13][0]+"",tl,xt,jt=t[13][1]+"",Ot,sl,Dt,Qe=t[5]&&Ao(t),Rt=t[5]&&qo(t),Ht=t[5]&&Lo(t),ht=t[5]&&Do(t),Me=t[5]&&Oo(t),Fe=t[5]&&Io(t),pt=t[5]&&Fo(t),de=t[5]&&Ro(t);return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),b=h(),v=k(w),M=h(),Qe&&Qe.c(),g=h(),A=p("div"),j=k(L),P=h(),U=p("div"),K=k(q),X=h(),R=k(W),H=h(),Rt&&Rt.c(),D=h(),E=p("div"),z=k(Y),F=h(),B=p("div"),ne=k(Q),V=h(),ce=k(ie),oe=h(),Ht&&Ht.c(),x=h(),re=p("div"),$=k(Z),ee=h(),he=p("div"),T=k(ge),S=h(),O=k(I),G=h(),ht&&ht.c(),ae=h(),fe=p("strong"),me=k(ue),Se=h(),ke=p("div"),qe=p("div"),We=k(De),Ge=h(),Ze=p("div"),we=k(ve),ot=h(),qt=k(rt),vt=h(),Me&&Me.c(),ft=h(),dt=p("div"),ct=k(tt),Xt=h(),_t=p("div"),Ct=k(yt),Ft=h(),ut=k(lt),Pe=h(),Fe&&Fe.c(),Ae=h(),$e=p("div"),be=k(Je),Re=h(),St=p("div"),et=k(gt),Oe=h(),He=k(it),Te=h(),pt&&pt.c(),Ue=h(),Le=p("div"),Ye=k(Ie),nt=h(),Lt=p("div"),tl=k(Bt),xt=h(),Ot=k(jt),sl=h(),de&&de.c(),u(m,"class","text-right"),u(U,"class","text-right"),u(B,"class","text-right"),u(he,"class","text-right"),u(s,"class",le="grid grid-cols-"+t[14]+" mb-3"),u(Ze,"class","text-right"),u(_t,"class","text-right"),u(St,"class","text-right"),u(Lt,"class","text-right"),u(ke,"class",Dt="grid grid-cols-"+t[14])},m(Ee,_e){C(Ee,e,_e),a(e,n),C(Ee,i,_e),C(Ee,s,_e),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,v),a(s,M),Qe&&Qe.m(s,null),a(s,g),a(s,A),a(A,j),a(s,P),a(s,U),a(U,K),a(U,X),a(U,R),a(s,H),Rt&&Rt.m(s,null),a(s,D),a(s,E),a(E,z),a(s,F),a(s,B),a(B,ne),a(B,V),a(B,ce),a(s,oe),Ht&&Ht.m(s,null),a(s,x),a(s,re),a(re,$),a(s,ee),a(s,he),a(he,T),a(he,S),a(he,O),a(s,G),ht&&ht.m(s,null),C(Ee,ae,_e),C(Ee,fe,_e),a(fe,me),C(Ee,Se,_e),C(Ee,ke,_e),a(ke,qe),a(qe,We),a(ke,Ge),a(ke,Ze),a(Ze,we),a(Ze,ot),a(Ze,qt),a(ke,vt),Me&&Me.m(ke,null),a(ke,ft),a(ke,dt),a(dt,ct),a(ke,Xt),a(ke,_t),a(_t,Ct),a(_t,Ft),a(_t,ut),a(ke,Pe),Fe&&Fe.m(ke,null),a(ke,Ae),a(ke,$e),a($e,be),a(ke,Re),a(ke,St),a(St,et),a(St,Oe),a(St,He),a(ke,Te),pt&&pt.m(ke,null),a(ke,Ue),a(ke,Le),a(Le,Ye),a(ke,nt),a(ke,Lt),a(Lt,tl),a(Lt,xt),a(Lt,Ot),a(ke,sl),de&&de.m(ke,null)},p(Ee,_e){var Ut,Be,kt,fl,dl,ll,hl,Ml,yl,Cl;_e&16&&l!==(l=(((Ut=Ee[4].common)==null?void 0:Ut.import)??"Import")+"")&&N(n,l),_e&16&&f!==(f=il(((Be=Ee[4].common)==null?void 0:Be.hour)??"Hour")+"")&&N(r,f),_e&64&&_!==(_=Ee[6][0]+"")&&N(d,_),_e&64&&w!==(w=Ee[6][1]+"")&&N(v,w),Ee[5]?Qe?Qe.p(Ee,_e):(Qe=Ao(Ee),Qe.c(),Qe.m(s,g)):Qe&&(Qe.d(1),Qe=null),_e&16&&L!==(L=il(((kt=Ee[4].common)==null?void 0:kt.day)??"Day")+"")&&N(j,L),_e&128&&q!==(q=Ee[7][0]+"")&&N(K,q),_e&128&&W!==(W=Ee[7][1]+"")&&N(R,W),Ee[5]?Rt?Rt.p(Ee,_e):(Rt=qo(Ee),Rt.c(),Rt.m(s,D)):Rt&&(Rt.d(1),Rt=null),_e&16&&Y!==(Y=il(((fl=Ee[4].common)==null?void 0:fl.month)??"Month")+"")&&N(z,Y),_e&256&&Q!==(Q=Ee[8][0]+"")&&N(ne,Q),_e&256&&ie!==(ie=Ee[8][1]+"")&&N(ce,ie),Ee[5]?Ht?Ht.p(Ee,_e):(Ht=Lo(Ee),Ht.c(),Ht.m(s,x)):Ht&&(Ht.d(1),Ht=null),_e&16&&Z!==(Z=(((dl=Ee[4].realtime)==null?void 0:dl.last_mo)??"Last mo.")+"")&&N($,Z),_e&512&&ge!==(ge=Ee[9][0]+"")&&N(T,ge),_e&512&&I!==(I=Ee[9][1]+"")&&N(O,I),Ee[5]?ht?ht.p(Ee,_e):(ht=Do(Ee),ht.c(),ht.m(s,null)):ht&&(ht.d(1),ht=null),_e&16384&&le!==(le="grid grid-cols-"+Ee[14]+" mb-3")&&u(s,"class",le),_e&16&&ue!==(ue=(((ll=Ee[4].common)==null?void 0:ll.export)??"Export")+"")&&N(me,ue),_e&16&&De!==(De=il(((hl=Ee[4].common)==null?void 0:hl.hour)??"Hour")+"")&&N(We,De),_e&1024&&ve!==(ve=Ee[10][0]+"")&&N(we,ve),_e&1024&&rt!==(rt=Ee[10][1]+"")&&N(qt,rt),Ee[5]?Me?Me.p(Ee,_e):(Me=Oo(Ee),Me.c(),Me.m(ke,ft)):Me&&(Me.d(1),Me=null),_e&16&&tt!==(tt=il(((Ml=Ee[4].common)==null?void 0:Ml.day)??"Day")+"")&&N(ct,tt),_e&2048&&yt!==(yt=Ee[11][0]+"")&&N(Ct,yt),_e&2048&&lt!==(lt=Ee[11][1]+"")&&N(ut,lt),Ee[5]?Fe?Fe.p(Ee,_e):(Fe=Io(Ee),Fe.c(),Fe.m(ke,Ae)):Fe&&(Fe.d(1),Fe=null),_e&16&&Je!==(Je=il(((yl=Ee[4].common)==null?void 0:yl.month)??"Month")+"")&&N(be,Je),_e&4096&&gt!==(gt=Ee[12][0]+"")&&N(et,gt),_e&4096&&it!==(it=Ee[12][1]+"")&&N(He,it),Ee[5]?pt?pt.p(Ee,_e):(pt=Fo(Ee),pt.c(),pt.m(ke,Ue)):pt&&(pt.d(1),pt=null),_e&16&&Ie!==(Ie=(((Cl=Ee[4].realtime)==null?void 0:Cl.last_mo)??"Last mo.")+"")&&N(Ye,Ie),_e&8192&&Bt!==(Bt=Ee[13][0]+"")&&N(tl,Bt),_e&8192&&jt!==(jt=Ee[13][1]+"")&&N(Ot,jt),Ee[5]?de?de.p(Ee,_e):(de=Ro(Ee),de.c(),de.m(ke,null)):de&&(de.d(1),de=null),_e&16384&&Dt!==(Dt="grid grid-cols-"+Ee[14])&&u(ke,"class",Dt)},d(Ee){Ee&&(y(e),y(i),y(s),y(ae),y(fe),y(Se),y(ke)),Qe&&Qe.d(),Rt&&Rt.d(),Ht&&Ht.d(),ht&&ht.d(),Me&&Me.d(),Fe&&Fe.d(),pt&&pt.d(),de&&de.d()}}}function Eo(t){var ee,he,ge,T,S,I;let e,l=(((ee=t[4].realtime)==null?void 0:ee.cost)??"Cost")+"",n,i,s,o,f=il(((he=t[4].common)==null?void 0:he.hour)??"Hour")+"",r,c,m,_=Yt(t[1].h.c,2)+"",d,b,w,v,M,g=il(((ge=t[4].common)==null?void 0:ge.day)??"Day")+"",A,L,j,P=Yt(t[1].d.c,1)+"",U,q,K,X,W,R=il(((T=t[4].common)==null?void 0:T.month)??"Month")+"",H,D,E,Y=Yt(t[1].m.c)+"",z,F,B,Q,ne,V=(((S=t[4].realtime)==null?void 0:S.last_month)??"Last month")+"",ie,ce,oe,x=Yt((I=t[0].last_month)==null?void 0:I.c)+"",re,Z,$;return{c(){e=p("strong"),n=k(l),i=h(),s=p("div"),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),b=h(),w=k(t[2]),v=h(),M=p("div"),A=k(g),L=h(),j=p("div"),U=k(P),q=h(),K=k(t[2]),X=h(),W=p("div"),H=k(R),D=h(),E=p("div"),z=k(Y),F=h(),B=k(t[2]),Q=h(),ne=p("div"),ie=k(V),ce=h(),oe=p("div"),re=k(x),Z=h(),$=k(t[2]),u(m,"class","text-right"),u(j,"class","text-right"),u(E,"class","text-right"),u(oe,"class","text-right"),u(s,"class","grid grid-cols-2")},m(O,G){C(O,e,G),a(e,n),C(O,i,G),C(O,s,G),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,w),a(s,v),a(s,M),a(M,A),a(s,L),a(s,j),a(j,U),a(j,q),a(j,K),a(s,X),a(s,W),a(W,H),a(s,D),a(s,E),a(E,z),a(E,F),a(E,B),a(s,Q),a(s,ne),a(ne,ie),a(s,ce),a(s,oe),a(oe,re),a(oe,Z),a(oe,$)},p(O,G){var le,ae,fe,ue,me,Se;G&16&&l!==(l=(((le=O[4].realtime)==null?void 0:le.cost)??"Cost")+"")&&N(n,l),G&16&&f!==(f=il(((ae=O[4].common)==null?void 0:ae.hour)??"Hour")+"")&&N(r,f),G&2&&_!==(_=Yt(O[1].h.c,2)+"")&&N(d,_),G&4&&N(w,O[2]),G&16&&g!==(g=il(((fe=O[4].common)==null?void 0:fe.day)??"Day")+"")&&N(A,g),G&2&&P!==(P=Yt(O[1].d.c,1)+"")&&N(U,P),G&4&&N(K,O[2]),G&16&&R!==(R=il(((ue=O[4].common)==null?void 0:ue.month)??"Month")+"")&&N(H,R),G&2&&Y!==(Y=Yt(O[1].m.c)+"")&&N(z,Y),G&4&&N(B,O[2]),G&16&&V!==(V=(((me=O[4].realtime)==null?void 0:me.last_month)??"Last month")+"")&&N(ie,V),G&1&&x!==(x=Yt((Se=O[0].last_month)==null?void 0:Se.c)+"")&&N(re,x),G&4&&N($,O[2])},d(O){O&&(y(e),y(i),y(s))}}}function Ao(t){let e,l=Yt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].h.c,2)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function qo(t){let e,l=Yt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].d.c,1)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function Lo(t){let e,l=Yt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].m.c)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function Do(t){var o;let e,l=Yt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Yt((c=f[0].last_month)==null?void 0:c.c)+"")&&N(n,l),r&4&&N(s,f[2])},d(f){f&&y(e)}}}function Oo(t){let e,l=Yt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].h.i,2)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function Io(t){let e,l=Yt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].d.i,1)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function Fo(t){let e,l=Yt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Yt(o[1].m.i)+"")&&N(n,l),f&4&&N(s,o[2])},d(o){o&&y(e)}}}function Ro(t){var o;let e,l=Yt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=k(l),i=h(),s=k(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Yt((c=f[0].last_month)==null?void 0:c.i)+"")&&N(n,l),r&4&&N(s,f[2])},d(f){f&&y(e)}}}function H0(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&To(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("br"),f=p("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(_,[d]){var b;d&16&&n!==(n=(((b=_[4].realtime)==null?void 0:b.title)??"Real time calculations")+"")&&N(i,n),_[1]?c?c.p(_,d):(c=To(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ve,o:Ve,d(_){_&&y(e),c&&c.d()}}}function W0(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,_,d,b,w,v,M=!1,g=3;return t.$$set=A=>{"sysinfo"in A&&l(0,n=A.sysinfo),"data"in A&&l(1,i=A.data),"currency"in A&&l(2,s=A.currency),"hasExport"in A&&l(3,o=A.hasExport),"translations"in A&&l(4,f=A.translations)},t.$$.update=()=>{var A,L,j,P,U,q,K,X;t.$$.dirty&35&&(l(5,M=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,g=M?3:2),l(6,r=_l(((A=i==null?void 0:i.h)==null?void 0:A.u)*1e3,"Wh")),l(7,c=_l(((L=i==null?void 0:i.d)==null?void 0:L.u)*1e3,"Wh")),l(8,m=_l(((j=i==null?void 0:i.m)==null?void 0:j.u)*1e3,"Wh")),l(9,_=_l(((P=n==null?void 0:n.last_month)==null?void 0:P.u)*1e3,"Wh")),l(10,d=_l(((U=i==null?void 0:i.h)==null?void 0:U.p)*1e3,"Wh")),l(11,b=_l(((q=i==null?void 0:i.d)==null?void 0:q.p)*1e3,"Wh")),l(12,w=_l(((K=i==null?void 0:i.m)==null?void 0:K.p)*1e3,"Wh")),l(13,v=_l(((X=n==null?void 0:n.last_month)==null?void 0:X.p)*1e3,"Wh")))},[n,i,s,o,f,M,r,c,m,_,d,b,w,v,g]}class K0 extends At{constructor(e){super(),Et(this,e,W0,H0,Tt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function z0(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function V0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,_=new Date().getUTCHours(),d=0,b=0,w=0,v=[],M=[],g=[];l(5,r=l(4,f=0));let A=new Date;for(Fl(A,s.clock_offset-(24+A.getHours()-A.getUTCHours())%24),d=_;d<24&&(b=i[bt(w++)],b!=null);d++)M.push({label:bt(A.getHours())}),g.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Fl(A,1);for(d=0;d<24&&(b=i[bt(w++)],b!=null);d++)M.push({label:bt(A.getHours())}),g.push(b*100),l(5,r=Math.min(r,b*100)),l(4,f=Math.max(f,b*100)),Fl(A,1);let L=Gn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(L&&L[1]&&L[1]!=m)for(m=L[1],l(5,r*=100),l(4,f*=100),d=0;d<g.length;d++)g[d]*=100;let j=[];for(d=0;d<g.length;d++){b=g[d];let K=b*.01,X=Math.abs(b)<1e3?2:0;j.push({label:K>=0?K.toFixed(X):"",title:K>=0?K.toFixed(2)+" "+m:"",value:b>=0?Math.abs(b):0,label2:K<0?K.toFixed(X):"",title2:K<0?K.toFixed(2)+" "+m:"",value2:b<0?Math.abs(b):0,color:c?"#5c2da5":"#7c3aed"})}let P=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(P/4*-1,r));let K=Math.ceil(Math.abs(r)/P*4),X=r/K;for(d=1;d<K+1;d++){let W=X*d;v.push({value:W,label:(W/100).toFixed(2)})}}l(4,f=Math.max(P/4,f));let U=Math.ceil(f/P*4),q=f/U;for(d=0;d<U+1;d++){let K=q*d;v.push({value:K,label:(K/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:v},x:{ticks:M},points:j,link:{text:"Provided by: "+Ic(i.source),url:Fc(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class G0 extends At{constructor(e){super(),Et(this,e,V0,z0,Tt,{title:1,json:2,sysinfo:3})}}function Y0(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function X0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],b=[];l(5,r=l(4,f=0));let w=new Date,v=new Date;v.setDate(0),v.setHours(12);let M=(v.getHours()-v.getUTCHours())%24-s.clock_offset,g=w.getUTCHours();for(Fl(w,-M-24),m=g;m<24;m++){let P=i["i"+bt(m)],U=i["e"+bt(m)];P===void 0&&(P=0),U===void 0&&(U=0),d.push({label:bt(w.getHours())}),b.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,f=Math.max(f,P*10)),Fl(w,1)}for(m=0;m<g;m++){let P=i["i"+bt(m)],U=i["e"+bt(m)];P===void 0&&(P=0),U===void 0&&(U=0),d.push({label:bt(w.getHours())}),b.push({label:P.toFixed(1),title:P.toFixed(2)+" kWh",value:P*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,f=Math.max(f,P*10)),Fl(w,1)}l(5,r*=-1);let A=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(A/4*-1,r));let P=Math.ceil(Math.abs(r)/A*4),U=r/P;for(m=1;m<P+1;m++){let q=U*m;_.push({value:q,label:(q/10).toFixed(1)})}}l(4,f=Math.max(A/4,f));let L=Math.ceil(f/A*4),j=f/L;for(m=0;m<L+1;m++){let P=j*m;_.push({value:P,label:(P/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class J0 extends At{constructor(e){super(),Et(this,e,X0,Y0,Tt,{title:1,json:2,sysinfo:3})}}function Q0(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Z0(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],d=[],b=[];l(5,r=l(4,f=0));let w=new Date,v=new Date;v.setDate(0),v.setHours(12);let M=(v.getHours()-v.getUTCHours())%24-s.clock_offset;for(Fl(w,-M),Fl(v,-M),m=w.getDate();m<=v.getDate();m++){let j=i["i"+bt(m)],P=i["e"+bt(m)];j===void 0&&(j=0),P===void 0&&(P=0),d.push({label:bt(m)}),b.push({label:j.toFixed(j<10?1:0),title:j.toFixed(2)+" kWh",value:j,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,j))}for(m=1;m<w.getDate();m++){let j=i["i"+bt(m)],P=i["e"+bt(m)];j===void 0&&(j=0),P===void 0&&(P=0),d.push({label:bt(m)}),b.push({label:j.toFixed(j<10?1:0),title:j.toFixed(2)+" kWh",value:j,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P)),l(4,f=Math.max(f,j))}l(5,r*=-1);let g=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(g/4*-1,r));let j=Math.ceil(Math.abs(r)/g*4),P=r/j;for(m=1;m<j+1;m++){let U=P*m;_.push({value:U,label:U.toFixed(0)})}}l(4,f=Math.max(g/4,f));let A=Math.ceil(f/g*4),L=f/A;for(m=0;m<A+1;m++){let j=L*m;_.push({value:j,label:j.toFixed(0)})}l(0,o={title:n.replace("{0}",v.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class $0 extends At{constructor(e){super(),Et(this,e,Z0,Q0,Tt,{title:1,json:2,sysinfo:3})}}function x0(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function e1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,_=[],d=[],b=[];i.s&&i.s.forEach((M,g)=>{var A=M.n?M.n:M.a;m=M.v,m==-127&&(m=0),d.push({label:A.slice(-4)}),b.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let w=f;r<0&&(w+=Math.abs(r));let v=w/4;for(c=0;c<5;c++)m=r+v*c,_.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:_},x:{ticks:d},points:b})}},[o,n,i,f,r]}class t1 extends At{constructor(e){super(),Et(this,e,e1,x0,Tt,{title:1,json:2})}}function l1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}let n1=0;function i1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,_=[],d=[],b=[];if(_.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let w=r.p[m];b.push({label:w.v.toFixed(2),value:w.v,color:s?"#5c2da5":"#7c3aed"}),d.push({label:w.d>0?bt(w.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:bt(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,w.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let w=r.t[m];if(w>=f)break;_.push({value:w,label:w})}_.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(_.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:n1,max:f,ticks:_},x:{ticks:d},points:b})}},[o,n,i,r,f]}class s1 extends At{constructor(e){super(),Et(this,e,i1,l1,Tt,{title:1,translations:2,tariffData:3})}}let sn=0,o1={data:[]};async function _s(){let e=await(await wl(sn<0?"realtime.json":"realtime.json?offset="+sn)).json();ps.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),sn>=0&&(sn+=e.size,sn<e.total?setTimeout(_s,2e3):sn=-1)}function a1(){return sn==-1}const ps=al(o1);let vn=0,ou=0,zi=0,Ei=0,Uo=!1;function r1(){Ei==60||zi>vn||zi-vn>300?(_s(),Ei=0):ps.update(t=>{if(t.lastUpdate)for(;vn>t.lastUpdate;)t.data.unshift(ou),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ei++;else t.lastUpdate=vn;return t})}function f1(t){if(ou=t.i-t.e,vn=t.u,!Uo){_s(),Uo=!0,zi=vn;return}a1()&&r1()}function Bo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function jo(t,e,l){const n=t.slice();return n[21]=e[l],n}function u1(t){let e,l,n;return{c(){e=p("strong"),l=k(t[0]),n=k(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&N(l,i[0])},d(i){i&&y(e)}}}function c1(t){let e,l,n,i,s,o,f,r=t[8]&&Ho(t);return{c(){e=p("strong"),l=k(t[0]),n=k(" ("),i=k(t[12]),s=k(")"),o=h(),r&&r.c(),f=$t(),u(e,"class","text-sm")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),C(c,o,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&N(l,c[0]),m&4096&&N(i,c[12]),c[8]?r?r.p(c,m):(r=Ho(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(y(e),y(o),y(f)),r&&r.d(c)}}}function Ho(t){let e,l,n,i,s,o=xe(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Ko(jo(t,o,m));let r=xe(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Vo(Bo(t,r,m));return{c(){e=It("svg"),l=It("g");for(let m=0;m<f.length;m+=1)f[m].c();n=It("g");for(let m=0;m<c.length;m+=1)c[m].c();i=It("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,_){C(m,e,_),a(e,l);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(l,null);a(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);a(e,i)},p(m,_){if(_&16646){o=xe(m[8]);let d;for(d=0;d<o.length;d+=1){const b=jo(m,o,d);f[d]?f[d].p(b,_):(f[d]=Ko(b),f[d].c(),f[d].m(l,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=o.length}if(_&34336){r=xe(m[9]);let d;for(d=0;d<r.length;d+=1){const b=Bo(m,r,d);c[d]?c[d].p(b,_):(c[d]=Vo(b),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}_&128&&u(i,"points",m[7]),_&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&y(e),Zt(f,m),Zt(c,m)}}}function Wo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=It("g"),l=It("line"),n=It("text"),s=k(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&N(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&y(e)}}}function Ko(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Wo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Wo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&y(l),n&&n.d(i)}}}function zo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=It("g"),l=It("text"),i=k(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&N(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&y(e)}}}function Vo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&zo(t);return{c(){n&&n.c(),l=$t()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=zo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&y(l),n&&n.d(i)}}}function m1(t){let e,l;function n(o,f){return o[11]?c1:u1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Kt(()=>t[17].call(e))},m(o,f){C(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:Ve,o:Ve,d(o){o&&y(e),s.d(),l()}}}function _1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;ps.subscribe(P=>{l(16,s=P)});let o=!1,f,r,c,m,_,d,b,w=function(P,U,q){return Math.ceil(_-(P-U)/(q-U)*_)-25},v=function(P){return 30+Math.ceil(P/s.size*(d-35))},M,g,A,L;function j(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=P=>{"title"in P&&l(0,n=P.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,_=parseInt(m)-50),l(6,d=c-35),l(10,A=d/s.size),l(2,r=0),l(1,f=0),s.data&&_>10&&d>100&&A>.1){l(11,o=!0);for(let q in s.data){let K=s.data[q];isNaN(K)&&(K=0),l(1,f=Math.max(Math.ceil(K/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(K/1e3)*1e3,r))}let P=f-r;l(12,L=f>2500?"kW":"W"),l(8,M=[]);for(let q=r;q<f&&(M.push({value:q,label:f>2500?(q/1e3).toFixed(1):q}),!(M.length>6));q+=P/5);l(9,g=[]);for(let q=0;q<s.size&&(g.push({value:q,label:"-"+Math.round((s.size-q)/6)+" min"}),!(g.length>12));q+=Math.round(s.size/Math.round(d/120)));let U=s.size;l(7,b=v(s.size)+","+w(0,r,f)+" "+v(1)+","+w(0,r,f));for(let q in s.data){if(U<0)break;let K=s.data[q];isNaN(K)&&(K=0),l(7,b=v(U--)+","+w(K,r,f)+" "+b)}}else l(11,o=!1)},[n,f,r,c,m,_,d,b,M,g,A,o,L,i,w,v,s,j]}class p1 extends At{constructor(e){super(),Et(this,e,_1,m1,Tt,{title:0})}}function d1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:_=0}=e,{l1e:d=0}=e,{l2e:b=0}=e,{l3e:w=0}=e,{maxImport:v=0}=e,{maxExport:M=0}=e,{importColorFn:g}=e,{exportColorFn:A}=e,L={};function j(P,U){return{label:Yt(P>900?P/1e3:P)+(P>900?"k":"")+i,title:P.toFixed(2)+" "+i,value:isNaN(P)?0:P,color:g(P?P/v*100:0,document.documentElement.classList.contains("dark")),label2:Yt(U>900?U/1e3:U)+(U>900?"k":"")+i,title2:U.toFixed(2)+" "+i,value2:isNaN(U)?0:U,color2:A(U?U/M*100:0)}}return t.$$set=P=>{"title"in P&&l(1,n=P.title),"unit"in P&&l(2,i=P.unit),"l1"in P&&l(3,s=P.l1),"l2"in P&&l(4,o=P.l2),"l2x"in P&&l(5,f=P.l2x),"l3"in P&&l(6,r=P.l3),"l1i"in P&&l(7,c=P.l1i),"l2i"in P&&l(8,m=P.l2i),"l3i"in P&&l(9,_=P.l3i),"l1e"in P&&l(10,d=P.l1e),"l2e"in P&&l(11,b=P.l2e),"l3e"in P&&l(12,w=P.l3e),"maxImport"in P&&l(13,v=P.maxImport),"maxExport"in P&&l(14,M=P.maxExport),"importColorFn"in P&&l(15,g=P.importColorFn),"exportColorFn"in P&&l(16,A=P.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let P=[],U=[];s&&(P.push({label:"L1"}),U.push(j(c,d))),o&&(f?(P.push({label:"L2"}),U.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(P.push({label:"L2"}),U.push(j(m,b)))),r&&(P.push({label:"L3"}),U.push(j(_,w)));let q=[];if(M){let K=M>v?4:M*4/v;q.push({value:-M,label:"-100%"}),K>=4&&q.push({value:-M/4*3,label:"-75%"}),K>=2&&q.push({value:-M/2,label:"-50%"}),K>=4&&q.push({value:-M/4,label:"-25%"})}if(q.push({value:0,label:"0%"}),v){let K=v>M?4:v*4/M;q.push({value:v/4,label:"25%"}),K>=4&&q.push({value:v/2,label:"50%"}),K>=2&&q.push({value:v/4*3,label:"75%"}),K>=4&&q.push({value:v,label:"100%"})}l(0,L={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-M,max:v,ticks:q},x:{ticks:P},points:U})}},[L,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A]}class ds extends At{constructor(e){super(),Et(this,e,h1,d1,Tt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Go(t){var g;let e,l,n,i,s,o,f=(t[0].mt?pi(t[0].mt):"-")+"",r,c,m,_=t[11][0]+"",d,b,w=t[11][1]+"",v,M;return i=new su({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((g=t[6].common)==null?void 0:g.import)??"Import",sub:Gn(t[0].p,t[0].pc),colorFn:as}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),r=k(f),c=h(),m=p("div"),d=k(_),b=h(),v=k(w),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(A,L){C(A,e,L),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,d),a(m,b),a(m,v),M=!0},p(A,L){var P;const j={};L&1&&(j.val=A[0].i?A[0].i:0),L&1&&(j.max=A[0].im?A[0].im:15e3),L&64&&(j.label=((P=A[6].common)==null?void 0:P.import)??"Import"),L&1&&(j.sub=Gn(A[0].p,A[0].pc)),i.$set(j),(!M||L&1)&&f!==(f=(A[0].mt?pi(A[0].mt):"-")+"")&&N(r,f),(!M||L&2048)&&_!==(_=A[11][0]+"")&&N(d,_),(!M||L&2048)&&w!==(w=A[11][1]+"")&&N(v,w)},i(A){M||(te(i.$$.fragment,A),M=!0)},o(A){se(i.$$.fragment,A),M=!1},d(A){A&&y(e),Ce(i)}}}function Yo(t){var v;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,_,d=t[12][1]+"",b,w;return i=new su({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((v=t[6].common)==null?void 0:v.export)??"Export",sub:Gn(t[0].px,t[0].pc),colorFn:zn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=h(),r=p("div"),m=k(c),_=h(),b=k(d),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(M,g){C(M,e,g),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,_),a(r,b),w=!0},p(M,g){var L;const A={};g&1&&(A.val=M[0].e?M[0].e:0),g&1&&(A.max=M[0].om?M[0].om*1e3:1e4),g&64&&(A.label=((L=M[6].common)==null?void 0:L.export)??"Export"),g&1&&(A.sub=Gn(M[0].px,M[0].pc)),i.$set(A),(!w||g&4096)&&c!==(c=M[12][0]+"")&&N(m,c),(!w||g&4096)&&d!==(d=M[12][1]+"")&&N(b,d)},i(M){w||(te(i.$$.fragment,M),w=!0)},o(M){se(i.$$.fragment,M),w=!1},d(M){M&&y(e),Ce(i)}}}function Xo(t){let e,l,n=t[0].l1&&Jo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=Jo(i),n.c(),te(n,1),n.m(e,null)):n&&(Nt(),se(n,1,1,()=>{n=null}),Pt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&y(e),n&&n.d()}}}function Jo(t){var n;let e,l;return e=new I0({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function Qo(t){let e,l,n=t[0].l1&&Zo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=Zo(i),n.c(),te(n,1),n.m(e,null)):n&&(Nt(),se(n,1,1,()=>{n=null}),Pt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&y(e),n&&n.d()}}}function Zo(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:as,exportColorFn:zn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function $o(t){let e,l,n=t[0].l1&&xo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=xo(i),n.c(),te(n,1),n.m(e,null)):n&&(Nt(),se(n,1,1,()=>{n=null}),Pt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&y(e),n&&n.d()}}}function xo(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:as,exportColorFn:zn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function ea(t){let e,l,n=t[0].l1&&ta(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&te(n,1)):(n=ta(i),n.c(),te(n,1),n.m(e,null)):n&&(Nt(),se(n,1,1,()=>{n=null}),Pt())},i(i){l||(te(n),l=!0)},o(i){se(n),l=!1},d(i){i&&y(e),n&&n.d()}}}function ta(t){var n;let e,l;return e=new ds({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:zn,exportColorFn:zn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ne(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function la(t){let e,l,n;return l=new U0({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(te(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&y(e),Ce(l)}}}function na(t){let e,l,n;return l=new K0({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(te(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&y(e),Ce(l)}}}function ia(t){var i;let e,l,n;return l=new s1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function sa(t){var i;let e,l,n;return l=new p1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function oa(t){var i;let e,l,n;return l=new G0({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function aa(t){var i;let e,l,n;return l=new J0({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function ra(t){var i;let e,l,n;return l=new $0({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function fa(t){var i;let e,l,n;return l=new t1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(te(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&y(e),Ce(l)}}}function b1(t){let e,l=Qt(t[1].ui.i,t[0].i),n,i=Qt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Qt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Qt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Qt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),_,d=Qt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),b,w=Qt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),v,M=Qt(t[1].ui.c,t[0].ea),g,A=Qt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),L,j=Qt(t[1].ui.l,t[0].hm==1),P,U=Qt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),q,K=Qt(t[1].ui.d,t[3]),X,W=Qt(t[1].ui.m,t[4]),R,H=Qt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),D,E=l&&Go(t),Y=i&&Yo(t),z=o&&Xo(t),F=r&&Qo(t),B=m&&$o(t),Q=d&&ea(t),ne=w&&la(t),V=M&&na(t),ie=A&&ia(t),ce=j&&sa(t),oe=U&&oa(t),x=K&&aa(t),re=W&&ra(t),Z=H&&fa(t);return{c(){e=p("div"),E&&E.c(),n=h(),Y&&Y.c(),s=h(),z&&z.c(),f=h(),F&&F.c(),c=h(),B&&B.c(),_=h(),Q&&Q.c(),b=h(),ne&&ne.c(),v=h(),V&&V.c(),g=h(),ie&&ie.c(),L=h(),ce&&ce.c(),P=h(),oe&&oe.c(),q=h(),x&&x.c(),X=h(),re&&re.c(),R=h(),Z&&Z.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m($,ee){C($,e,ee),E&&E.m(e,null),a(e,n),Y&&Y.m(e,null),a(e,s),z&&z.m(e,null),a(e,f),F&&F.m(e,null),a(e,c),B&&B.m(e,null),a(e,_),Q&&Q.m(e,null),a(e,b),ne&&ne.m(e,null),a(e,v),V&&V.m(e,null),a(e,g),ie&&ie.m(e,null),a(e,L),ce&&ce.m(e,null),a(e,P),oe&&oe.m(e,null),a(e,q),x&&x.m(e,null),a(e,X),re&&re.m(e,null),a(e,R),Z&&Z.m(e,null),D=!0},p($,[ee]){ee&3&&(l=Qt($[1].ui.i,$[0].i)),l?E?(E.p($,ee),ee&3&&te(E,1)):(E=Go($),E.c(),te(E,1),E.m(e,n)):E&&(Nt(),se(E,1,1,()=>{E=null}),Pt()),ee&3&&(i=Qt($[1].ui.e,$[0].om||$[0].e>0)),i?Y?(Y.p($,ee),ee&3&&te(Y,1)):(Y=Yo($),Y.c(),te(Y,1),Y.m(e,s)):Y&&(Nt(),se(Y,1,1,()=>{Y=null}),Pt()),ee&3&&(o=Qt($[1].ui.v,$[0].l1&&($[0].l1.u>100||$[0].l2.u>100||$[0].l3.u>100))),o?z?(z.p($,ee),ee&3&&te(z,1)):(z=Xo($),z.c(),te(z,1),z.m(e,f)):z&&(Nt(),se(z,1,1,()=>{z=null}),Pt()),ee&3&&(r=Qt($[1].ui.a,$[0].l1&&($[0].l1.i>.01||$[0].l2.i>.01||$[0].l3.i>.01))),r?F?(F.p($,ee),ee&3&&te(F,1)):(F=Qo($),F.c(),te(F,1),F.m(e,c)):F&&(Nt(),se(F,1,1,()=>{F=null}),Pt()),ee&3&&(m=Qt($[1].ui.h,$[0].l1&&($[0].l1.p>.01||$[0].l2.p>.01||$[0].l3.p>.01||$[0].l1.q>.01||$[0].l2.q>.01||$[0].l3.q>.01))),m?B?(B.p($,ee),ee&3&&te(B,1)):(B=$o($),B.c(),te(B,1),B.m(e,_)):B&&(Nt(),se(B,1,1,()=>{B=null}),Pt()),ee&3&&(d=Qt($[1].ui.f,$[0].l1&&($[0].l1.f>.01||$[0].l2.f>.01||$[0].l3.f>.01))),d?Q?(Q.p($,ee),ee&3&&te(Q,1)):(Q=ea($),Q.c(),te(Q,1),Q.m(e,b)):Q&&(Nt(),se(Q,1,1,()=>{Q=null}),Pt()),ee&3&&(w=Qt($[1].ui.r,$[0].ri>0||$[0].re>0||$[0].ric>0||$[0].rec>0)),w?ne?(ne.p($,ee),ee&3&&te(ne,1)):(ne=la($),ne.c(),te(ne,1),ne.m(e,v)):ne&&(Nt(),se(ne,1,1,()=>{ne=null}),Pt()),ee&3&&(M=Qt($[1].ui.c,$[0].ea)),M?V?(V.p($,ee),ee&3&&te(V,1)):(V=na($),V.c(),te(V,1),V.m(e,g)):V&&(Nt(),se(V,1,1,()=>{V=null}),Pt()),ee&3&&(A=Qt($[1].ui.t,$[0].pr&&($[0].pr.startsWith("NO")||$[0].pr.startsWith("10YNO")||$[0].pr.startsWith("10Y1001A1001A4")))),A?ie?(ie.p($,ee),ee&3&&te(ie,1)):(ie=ia($),ie.c(),te(ie,1),ie.m(e,L)):ie&&(Nt(),se(ie,1,1,()=>{ie=null}),Pt()),ee&3&&(j=Qt($[1].ui.l,$[0].hm==1)),j?ce?(ce.p($,ee),ee&3&&te(ce,1)):(ce=sa($),ce.c(),te(ce,1),ce.m(e,P)):ce&&(Nt(),se(ce,1,1,()=>{ce=null}),Pt()),ee&3&&(U=Qt($[1].ui.p,$[0].pe&&!Number.isNaN($[0].p))),U?oe?(oe.p($,ee),ee&3&&te(oe,1)):(oe=oa($),oe.c(),te(oe,1),oe.m(e,q)):oe&&(Nt(),se(oe,1,1,()=>{oe=null}),Pt()),ee&10&&(K=Qt($[1].ui.d,$[3])),K?x?(x.p($,ee),ee&10&&te(x,1)):(x=aa($),x.c(),te(x,1),x.m(e,X)):x&&(Nt(),se(x,1,1,()=>{x=null}),Pt()),ee&18&&(W=Qt($[1].ui.m,$[4])),W?re?(re.p($,ee),ee&18&&te(re,1)):(re=ra($),re.c(),te(re,1),re.m(e,R)):re&&(Nt(),se(re,1,1,()=>{re=null}),Pt()),ee&35&&(H=Qt($[1].ui.s,$[0].t&&$[0].t!=-127&&$[5].c>1)),H?Z?(Z.p($,ee),ee&35&&te(Z,1)):(Z=fa($),Z.c(),te(Z,1),Z.m(e,null)):Z&&(Nt(),se(Z,1,1,()=>{Z=null}),Pt())},i($){D||(te(E),te(Y),te(z),te(F),te(B),te(Q),te(ne),te(V),te(ie),te(ce),te(oe),te(x),te(re),te(Z),D=!0)},o($){se(E),se(Y),se(z),se(F),se(B),se(Q),se(ne),se(V),se(ie),se(ce),se(oe),se(x),se(re),se(Z),D=!1},d($){$&&y(e),E&&E.d(),Y&&Y.d(),z&&z.d(),F&&F.d(),B&&B.d(),Q&&Q.d(),ne&&ne.d(),V&&V.d(),ie&&ie.d(),ce&&ce.d(),oe&&oe.d(),x&&x.d(),re&&re.d(),Z&&Z.d()}}}function v1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,_,d,b,w,v,M;return t.$$set=g=>{"data"in g&&l(0,n=g.data),"sysinfo"in g&&l(1,i=g.sysinfo),"prices"in g&&l(2,s=g.prices),"dayPlot"in g&&l(3,o=g.dayPlot),"monthPlot"in g&&l(4,f=g.monthPlot),"temperatures"in g&&l(5,r=g.temperatures),"translations"in g&&l(6,c=g.translations),"tariffData"in g&&l(7,m=g.tariffData)},t.$$.update=()=>{var g,A,L,j,P,U,q,K,X,W,R,H,D,E,Y;t.$$.dirty&1793&&(l(11,_=_l((n==null?void 0:n.ic)*1e3,"Wh")),l(12,d=_l((n==null?void 0:n.ec)*1e3,"Wh")),((g=n==null?void 0:n.l1)==null?void 0:g.u)==0&&((A=n==null?void 0:n.l2)==null?void 0:A.u)==0&&((L=n==null?void 0:n.l3)==null?void 0:L.u)==0?l(8,w=l(9,v=l(10,M=l(13,b=!0)))):(l(8,w=((j=n==null?void 0:n.l1)==null?void 0:j.u)>0||((P=n==null?void 0:n.l1)==null?void 0:P.i)>0||((U=n==null?void 0:n.l1)==null?void 0:U.p)>0||((q=n==null?void 0:n.l1)==null?void 0:q.q)>0),l(9,v=((K=n==null?void 0:n.l2)==null?void 0:K.u)>0||((X=n==null?void 0:n.l2)==null?void 0:X.i)>0||((W=n==null?void 0:n.l2)==null?void 0:W.p)>0||((R=n==null?void 0:n.l2)==null?void 0:R.q)>0),l(10,M=((H=n==null?void 0:n.l3)==null?void 0:H.u)>0||((D=n==null?void 0:n.l3)==null?void 0:D.i)>0||((E=n==null?void 0:n.l3)==null?void 0:E.p)>0||((Y=n==null?void 0:n.l3)==null?void 0:Y.q)>0),l(13,b=w&&v&&M)))},[n,i,s,o,f,r,c,m,w,v,M,_,d,b]}class g1 extends At{constructor(e){super(),Et(this,e,v1,b1,Tt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const gn=al(Vi);async function au(){Vi=await(await fetch("configuration.json")).json(),gn.set(Vi)}let Gi={};const ru=al(Gi);async function k1(){Gi=await(await fetch("priceconfig.json")).json(),ru.set(Gi)}function ua(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function ca(t){let e,l,n;return{c(){e=p("option"),e.textContent="UART0",l=h(),n=p("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){C(i,e,s),C(i,l,s),C(i,n,s)},d(i){i&&(y(e),y(l),y(n))}}}function ma(t){let e;return{c(){e=p("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function _a(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&ma(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=ma(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&y(e),l&&l.d(n)}}}function w1(t){let e,l,n,i,s=t[0]=="esp8266"&&ca(),o=xe({length:t[1]+1}),f=[];for(let r=0;r<o.length;r+=1)f[r]=_a(ua(t,o,r));return{c(){e=p("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<f.length;r+=1)f[r].c();i=$t(),e.__value=-1,J(e,e.__value)},m(r,c){C(r,e,c),C(r,l,c),s&&s.m(r,c),C(r,n,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);C(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=ca(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=xe({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const _=ua(r,o,m);f[m]?f[m].p(_,c):(f[m]=_a(_),f[m].c(),f[m].m(i.parentNode,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=o.length}},i:Ve,o:Ve,d(r){r&&(y(e),y(l),y(n),y(i)),s&&s.d(r),Zt(f,r)}}}function S1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class M1 extends At{constructor(e){super(),Et(this,e,S1,w1,Tt,{chip:0})}}function pa(t){let e,l,n=t[1]&&da(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=da(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&y(e),n&&n.d()}}}function da(t){let e,l;return{c(){e=p("div"),l=k(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),a(e,l)},p(n,i){i&2&&N(l,n[1])},d(n){n&&y(e)}}}function y1(t){let e,l=t[0]&&pa(t);return{c(){l&&l.c(),e=$t()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=pa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(n){n&&y(e),l&&l.d(n)}}}function C1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class pl extends At{constructor(e){super(),Et(this,e,C1,y1,Tt,{active:0,message:1})}}function ha(t,e,l){const n=t.slice();return n[1]=e[l],n}function ba(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=k("Europe/"),i=k(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p:Ve,d(s){s&&y(e)}}}function N1(t){let e,l,n,i=xe(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ba(ha(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=$t(),e.__value="GMT",J(e,e.__value)},m(o,f){C(o,e,f),C(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);C(o,n,f)},p(o,[f]){if(f&1){i=xe(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ha(o,i,r);s[r]?s[r].p(c,f):(s[r]=ba(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ve,o:Ve,d(o){o&&(y(e),y(l),y(n)),Zt(s,o)}}}function P1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class T1 extends At{constructor(e){super(),Et(this,e,P1,N1,Tt,{})}}var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(E1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(T,S){var I;return typeof Object.create=="function"?I=Object.create(T):(l.prototype=T,I=new l,l.prototype=null),S&&f(!0,I,S),I}function o(T,S,I,O){var G=this;return typeof T!="string"&&(O=I,I=S,S=T,T=null),typeof S!="function"&&(O=I,I=S,S=function(){return G.apply(this,arguments)}),f(!1,S,G,O),S.prototype=s(G.prototype,I),S.prototype.constructor=S,S.class_=T||G.class_,S.super_=G,S}function f(T,S,I){I=i.call(arguments,2);for(var O,G,le=0,ae=I.length;le<ae;le++){G=I[le];for(O in G)(!T||n.call(G,O))&&(S[O]=G[O])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,_=m,d=_.extend(function(T,S,I){this.qrious=T,this.element=S,this.element.qrious=T,this.enabled=!!I},{draw:function(T){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(T){var S=this.qrious,I=S.padding||0,O=Math.floor((S.size-I*2)/T.width);return Math.max(1,O)},getOffset:function(T){var S=this.qrious,I=S.padding;if(I!=null)return I;var O=this.getModuleSize(T),G=Math.floor((S.size-O*T.width)/2);return Math.max(0,G)},render:function(T){this.enabled&&(this.resize(),this.reset(),this.draw(T))},reset:function(){},resize:function(){}}),b=d,w=b.extend({draw:function(T){var S,I,O=this.qrious,G=this.getModuleSize(T),le=this.getOffset(T),ae=this.element.getContext("2d");for(ae.fillStyle=O.foreground,ae.globalAlpha=O.foregroundAlpha,S=0;S<T.width;S++)for(I=0;I<T.width;I++)T.buffer[I*T.width+S]&&ae.fillRect(G*S+le,G*I+le,G,G)},reset:function(){var T=this.qrious,S=this.element.getContext("2d"),I=T.size;S.lineWidth=1,S.clearRect(0,0,I,I),S.fillStyle=T.background,S.globalAlpha=T.backgroundAlpha,S.fillRect(0,0,I,I)},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),v=w,M=_.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),g=M,A=_.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),L=A,j=_.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),P=j,U=_.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),q=U,K=_.extend(function(T){var S,I,O,G,le,ae=T.value.length;for(this._badness=[],this._level=L.LEVELS[T.level],this._polynomial=[],this._value=T.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,O=(this._level-1)*4+(this._version-1)*16,G=L.BLOCKS[O++],le=L.BLOCKS[O++],S=L.BLOCKS[O++],I=L.BLOCKS[O],O=S*(G+le)+le-3+(this._version<=9),!(ae<=O)););this._dataBlock=S,this._eccBlock=I,this._neccBlock1=G,this._neccBlock2=le;var fe=this.width=17+4*this._version;this.buffer=K._createArray(fe*fe),this._ecc=K._createArray(S+(S+I)*(G+le)+le),this._mask=K._createArray((fe*(fe+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+fe*(fe-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ae),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(T,S){var I,O=this.buffer,G=this.width;for(O[T+G*S]=1,I=-2;I<2;I++)O[T+I+G*(S-2)]=1,O[T-2+G*(S+I+1)]=1,O[T+2+G*(S+I)]=1,O[T+I+1+G*(S+2)]=1;for(I=0;I<2;I++)this._setMask(T-1,S+I),this._setMask(T+1,S-I),this._setMask(T-I,S-1),this._setMask(T+I,S+1)},_appendData:function(T,S,I,O){var G,le,ae,fe=this._polynomial,ue=this._stringBuffer;for(le=0;le<O;le++)ue[I+le]=0;for(le=0;le<S;le++){if(G=P.LOG[ue[T+le]^ue[I]],G!==255)for(ae=1;ae<O;ae++)ue[I+ae-1]=ue[I+ae]^P.EXPONENT[K._modN(G+fe[O-ae])];else for(ae=I;ae<I+O;ae++)ue[ae]=ue[ae+1];ue[I+O-1]=G===255?0:P.EXPONENT[K._modN(G+fe[0])]}},_appendEccToData:function(){var T,S=0,I=this._dataBlock,O=this._calculateMaxLength(),G=this._eccBlock;for(T=0;T<this._neccBlock1;T++)this._appendData(S,I,O,G),S+=I,O+=G;for(T=0;T<this._neccBlock2;T++)this._appendData(S,I+1,O,G),S+=I+1,O+=G},_applyMask:function(T){var S,I,O,G,le=this.buffer,ae=this.width;switch(T){case 0:for(G=0;G<ae;G++)for(O=0;O<ae;O++)!(O+G&1)&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 1:for(G=0;G<ae;G++)for(O=0;O<ae;O++)!(G&1)&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 2:for(G=0;G<ae;G++)for(S=0,O=0;O<ae;O++,S++)S===3&&(S=0),!S&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 3:for(I=0,G=0;G<ae;G++,I++)for(I===3&&(I=0),S=I,O=0;O<ae;O++,S++)S===3&&(S=0),!S&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 4:for(G=0;G<ae;G++)for(S=0,I=G>>1&1,O=0;O<ae;O++,S++)S===3&&(S=0,I=!I),!I&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 5:for(I=0,G=0;G<ae;G++,I++)for(I===3&&(I=0),S=0,O=0;O<ae;O++,S++)S===3&&(S=0),!((O&G&1)+!(!S|!I))&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 6:for(I=0,G=0;G<ae;G++,I++)for(I===3&&(I=0),S=0,O=0;O<ae;O++,S++)S===3&&(S=0),!((O&G&1)+(S&&S===I)&1)&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break;case 7:for(I=0,G=0;G<ae;G++,I++)for(I===3&&(I=0),S=0,O=0;O<ae;O++,S++)S===3&&(S=0),!((S&&S===I)+(O+G&1)&1)&&!this._isMasked(O,G)&&(le[O+G*ae]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var T,S,I=this._eccBlock,O=this._polynomial;for(O[0]=1,T=0;T<I;T++){for(O[T+1]=1,S=T;S>0;S--)O[S]=O[S]?O[S-1]^P.EXPONENT[K._modN(P.LOG[O[S]]+T)]:O[S-1];O[0]=P.EXPONENT[K._modN(P.LOG[O[0]]+T)]}for(T=0;T<=I;T++)O[T]=P.LOG[O[T]]},_checkBadness:function(){var T,S,I,O,G,le=0,ae=this._badness,fe=this.buffer,ue=this.width;for(G=0;G<ue-1;G++)for(O=0;O<ue-1;O++)(fe[O+ue*G]&&fe[O+1+ue*G]&&fe[O+ue*(G+1)]&&fe[O+1+ue*(G+1)]||!(fe[O+ue*G]||fe[O+1+ue*G]||fe[O+ue*(G+1)]||fe[O+1+ue*(G+1)]))&&(le+=K.N2);var me=0;for(G=0;G<ue;G++){for(I=0,ae[0]=0,T=0,O=0;O<ue;O++)S=fe[O+ue*G],T===S?ae[I]++:ae[++I]=1,T=S,me+=T?1:-1;le+=this._getBadness(I)}me<0&&(me=-me);var Se=0,ke=me;for(ke+=ke<<2,ke<<=1;ke>ue*ue;)ke-=ue*ue,Se++;for(le+=Se*K.N4,O=0;O<ue;O++){for(I=0,ae[0]=0,T=0,G=0;G<ue;G++)S=fe[O+ue*G],T===S?ae[I]++:ae[++I]=1,T=S;le+=this._getBadness(I)}return le},_convertBitStream:function(T){var S,I,O=this._ecc,G=this._version;for(I=0;I<T;I++)O[I]=this._value.charCodeAt(I);var le=this._stringBuffer=O.slice(),ae=this._calculateMaxLength();T>=ae-2&&(T=ae-2,G>9&&T--);var fe=T;if(G>9){for(le[fe+2]=0,le[fe+3]=0;fe--;)S=le[fe],le[fe+3]|=255&S<<4,le[fe+2]=S>>4;le[2]|=255&T<<4,le[1]=T>>4,le[0]=64|T>>12}else{for(le[fe+1]=0,le[fe+2]=0;fe--;)S=le[fe],le[fe+2]|=255&S<<4,le[fe+1]=S>>4;le[1]|=255&T<<4,le[0]=64|T>>4}for(fe=T+3-(G<10);fe<ae;)le[fe++]=236,le[fe++]=17},_getBadness:function(T){var S,I=0,O=this._badness;for(S=0;S<=T;S++)O[S]>=5&&(I+=K.N1+O[S]-5);for(S=3;S<T-1;S+=2)O[S-2]===O[S+2]&&O[S+2]===O[S-1]&&O[S-1]===O[S+1]&&O[S-1]*3===O[S]&&(O[S-3]===0||S+3>T||O[S-3]*3>=O[S]*4||O[S+3]*3>=O[S]*4)&&(I+=K.N3);return I},_finish:function(){this._stringBuffer=this.buffer.slice();var T,S,I=0,O=3e4;for(S=0;S<8&&(this._applyMask(S),T=this._checkBadness(),T<O&&(O=T,I=S),I!==7);S++)this.buffer=this._stringBuffer.slice();I!==S&&this._applyMask(I),O=L.FINAL_FORMAT[I+(this._level-1<<3)];var G=this.buffer,le=this.width;for(S=0;S<8;S++,O>>=1)O&1&&(G[le-1-S+le*8]=1,S<6?G[8+le*S]=1:G[8+le*(S+1)]=1);for(S=0;S<7;S++,O>>=1)O&1&&(G[8+le*(le-7+S)]=1,S?G[6-S+le*8]=1:G[7+le*8]=1)},_interleaveBlocks:function(){var T,S,I=this._dataBlock,O=this._ecc,G=this._eccBlock,le=0,ae=this._calculateMaxLength(),fe=this._neccBlock1,ue=this._neccBlock2,me=this._stringBuffer;for(T=0;T<I;T++){for(S=0;S<fe;S++)O[le++]=me[T+S*I];for(S=0;S<ue;S++)O[le++]=me[fe*I+T+S*(I+1)]}for(S=0;S<ue;S++)O[le++]=me[fe*I+T+S*(I+1)];for(T=0;T<G;T++)for(S=0;S<fe+ue;S++)O[le++]=me[ae+T+S*G];this._stringBuffer=O},_insertAlignments:function(){var T,S,I,O=this._version,G=this.width;if(O>1)for(T=g.BLOCK[O],I=G-7;;){for(S=G-7;S>T-3&&(this._addAlignment(S,I),!(S<T));)S-=T;if(I<=T+9)break;I-=T,this._addAlignment(6,I),this._addAlignment(I,6)}},_insertFinders:function(){var T,S,I,O,G=this.buffer,le=this.width;for(T=0;T<3;T++){for(S=0,O=0,T===1&&(S=le-7),T===2&&(O=le-7),G[O+3+le*(S+3)]=1,I=0;I<6;I++)G[O+I+le*S]=1,G[O+le*(S+I+1)]=1,G[O+6+le*(S+I)]=1,G[O+I+1+le*(S+6)]=1;for(I=1;I<5;I++)this._setMask(O+I,S+1),this._setMask(O+1,S+I+1),this._setMask(O+5,S+I),this._setMask(O+I+1,S+5);for(I=2;I<4;I++)G[O+I+le*(S+2)]=1,G[O+2+le*(S+I+1)]=1,G[O+4+le*(S+I)]=1,G[O+I+1+le*(S+4)]=1}},_insertTimingGap:function(){var T,S,I=this.width;for(S=0;S<7;S++)this._setMask(7,S),this._setMask(I-8,S),this._setMask(7,S+I-7);for(T=0;T<8;T++)this._setMask(T,7),this._setMask(T+I-8,7),this._setMask(T,I-8)},_insertTimingRowAndColumn:function(){var T,S=this.buffer,I=this.width;for(T=0;T<I-14;T++)T&1?(this._setMask(8+T,6),this._setMask(6,8+T)):(S[8+T+I*6]=1,S[6+I*(8+T)]=1)},_insertVersion:function(){var T,S,I,O,G=this.buffer,le=this._version,ae=this.width;if(le>6)for(T=q.BLOCK[le-7],S=17,I=0;I<6;I++)for(O=0;O<3;O++,S--)1&(S>11?le>>S-12:T>>S)?(G[5-I+ae*(2-O+ae-11)]=1,G[2-O+ae-11+ae*(5-I)]=1):(this._setMask(5-I,2-O+ae-11),this._setMask(2-O+ae-11,5-I))},_isMasked:function(T,S){var I=K._getMaskBit(T,S);return this._mask[I]===1},_pack:function(){var T,S,I,O=1,G=1,le=this.width,ae=le-1,fe=le-1,ue=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(S=0;S<ue;S++)for(T=this._stringBuffer[S],I=0;I<8;I++,T<<=1){128&T&&(this.buffer[ae+le*fe]=1);do G?ae--:(ae++,O?fe!==0?fe--:(ae-=2,O=!O,ae===6&&(ae--,fe=9)):fe!==le-1?fe++:(ae-=2,O=!O,ae===6&&(ae--,fe-=8))),G=!G;while(this._isMasked(ae,fe))}},_reverseMask:function(){var T,S,I=this.width;for(T=0;T<9;T++)this._setMask(T,8);for(T=0;T<8;T++)this._setMask(T+I-8,8),this._setMask(8,T);for(S=0;S<7;S++)this._setMask(8,S+I-7)},_setMask:function(T,S){var I=K._getMaskBit(T,S);this._mask[I]=1},_syncMask:function(){var T,S,I=this.width;for(S=0;S<I;S++)for(T=0;T<=S;T++)this.buffer[T+I*S]&&this._setMask(T,S)}},{_createArray:function(T){var S,I=[];for(S=0;S<T;S++)I[S]=0;return I},_getMaskBit:function(T,S){var I;return T>S&&(I=T,T=S,S=I),I=S,I+=S*S,I>>=1,I+=T,I},_modN:function(T){for(;T>=255;)T-=255,T=(T>>8)+(T&255);return T},N1:3,N2:3,N3:40,N4:10}),X=K,W=b.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),R=W,H=_.extend(function(T,S,I,O){this.name=T,this.modifiable=!!S,this.defaultValue=I,this._valueTransformer=O},{transform:function(T){var S=this._valueTransformer;return typeof S=="function"?S(T,this):T}}),D=H,E=_.extend(null,{abs:function(T){return T!=null?Math.abs(T):null},hasOwn:function(T,S){return Object.prototype.hasOwnProperty.call(T,S)},noop:function(){},toUpperCase:function(T){return T!=null?T.toUpperCase():null}}),Y=E,z=_.extend(function(T){this.options={},T.forEach(function(S){this.options[S.name]=S},this)},{exists:function(T){return this.options[T]!=null},get:function(T,S){return z._get(this.options[T],S)},getAll:function(T){var S,I=this.options,O={};for(S in I)Y.hasOwn(I,S)&&(O[S]=z._get(I[S],T));return O},init:function(T,S,I){typeof I!="function"&&(I=Y.noop);var O,G;for(O in this.options)Y.hasOwn(this.options,O)&&(G=this.options[O],z._set(G,G.defaultValue,S),z._createAccessor(G,S,I));this._setAll(T,S,!0)},set:function(T,S,I){return this._set(T,S,I)},setAll:function(T,S){return this._setAll(T,S)},_set:function(T,S,I,O){var G=this.options[T];if(!G)throw new Error("Invalid option: "+T);if(!G.modifiable&&!O)throw new Error("Option cannot be modified: "+T);return z._set(G,S,I)},_setAll:function(T,S,I){if(!T)return!1;var O,G=!1;for(O in T)Y.hasOwn(T,O)&&this._set(O,T[O],S,I)&&(G=!0);return G}},{_createAccessor:function(T,S,I){var O={get:function(){return z._get(T,S)}};T.modifiable&&(O.set=function(G){z._set(T,G,S)&&I(G,T)}),Object.defineProperty(S,T.name,O)},_get:function(T,S){return S["_"+T.name]},_set:function(T,S,I){var O="_"+T.name,G=I[O],le=T.transform(S??T.defaultValue);return I[O]=le,le!==G}}),F=z,B=_.extend(function(){this._services={}},{getService:function(T){var S=this._services[T];if(!S)throw new Error("Service is not being managed with name: "+T);return S},setService:function(T,S){if(this._services[T])throw new Error("Service is already managed with name: "+T);S&&(this._services[T]=S)}}),Q=B,ne=new F([new D("background",!0,"white"),new D("backgroundAlpha",!0,1,Y.abs),new D("element"),new D("foreground",!0,"black"),new D("foregroundAlpha",!0,1,Y.abs),new D("level",!0,"L",Y.toUpperCase),new D("mime",!0,"image/png"),new D("padding",!0,null,Y.abs),new D("size",!0,100,Y.abs),new D("value",!0,"")]),V=new Q,ie=_.extend(function(T){ne.init(T,this,this.update.bind(this));var S=ne.get("element",this),I=V.getService("element"),O=S&&I.isCanvas(S)?S:I.createCanvas(),G=S&&I.isImage(S)?S:I.createImage();this._canvasRenderer=new v(this,O,!0),this._imageRenderer=new R(this,G,G===S),this.update()},{get:function(){return ne.getAll(this)},set:function(T){ne.setAll(T,this)&&this.update()},toDataURL:function(T){return this.canvas.toDataURL(T||this.mime)},update:function(){var T=new X({level:this.level,value:this.value});this._canvasRenderer.render(T),this._imageRenderer.render(T)}},{use:function(T){V.setService(T.getName(),T)}});Object.defineProperties(ie.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var ce=ie,oe=ce,x=_.extend({getName:function(){}}),re=x,Z=re.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(T){},isImage:function(T){}}),$=Z,ee=$.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(T){return T instanceof HTMLCanvasElement},isImage:function(T){return T instanceof HTMLImageElement}}),he=ee;oe.use(new he);var ge=oe;return ge})})(A1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function q1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const hs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function fu(t){return hs.find(e=>e.id===t)}function uu(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=q1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function Tl(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function cu(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function bi(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function va(t,e,l){const n=t.slice();return n[97]=e[l],n[98]=e,n[99]=l,n}function ga(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function ka(t,e,l){const n=t.slice();return n[103]=e[l],n[105]=l,n}function L1(t,e,l){const n=t.slice();return n[106]=e[l],n}function D1(t,e,l){const n=t.slice();return n[109]=e[l],n}function O1(t,e,l){const n=t.slice();return n[112]=e[l],n}function wa(t,e,l){const n=t.slice();return n[115]=e[l],n}function Sa(t){var ul,Ee,_e,Ut,Be,kt,fl,dl,ll,hl,Ml,yl,Cl,Rl,Ul,Bl,Ke,mt,jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl;let e,l,n=(((Ee=(ul=t[2].conf)==null?void 0:ul.general)==null?void 0:Ee.title)??"General")+"",i,s,o,f,r,c,m,_,d,b=(((Ut=(_e=t[2].conf)==null?void 0:_e.general)==null?void 0:Ut.hostname)??"Hostname")+"",w,v,M,g,A,L,j=(((kt=(Be=t[2].conf)==null?void 0:Be.general)==null?void 0:kt.timezone)??"Time zone")+"",P,U,q,K,X,W,R,H=(((dl=(fl=t[2].conf)==null?void 0:fl.general)==null?void 0:dl.language)??((hl=(ll=t[2].conf)==null?void 0:ll.ui)==null?void 0:hl.lang)??"Language")+"",D,E,Y,z,F,B,Q,ne,V,ie,ce=(((yl=(Ml=t[2].conf)==null?void 0:Ml.price)==null?void 0:yl.region)??"Price region")+"",oe,x,re,Z,$,ee,he,ge,T,S,I,O,G,le,ae,fe,ue,me,Se,ke,qe,De,We,Ge,Ze,ve,we,ot,rt,qt,vt,ft,dt,tt,ct=(((Rl=(Cl=t[2].conf)==null?void 0:Cl.price)==null?void 0:Rl.currency)??"Currency")+"",Xt,_t,yt,Ct,Ft,lt,ut,Pe,Ae,$e,Je,be,Re=(((Bl=(Ul=t[2].conf)==null?void 0:Ul.price)==null?void 0:Bl.enabled)??"Enabled")+"",St,gt,et,Oe,it=(((jl=(mt=(Ke=t[2].conf)==null?void 0:Ke.general)==null?void 0:mt.security)==null?void 0:jl.title)??"Security")+"",He,Te,Ue,Le,Ie,Ye=(((Kl=(Wl=(Hl=t[2].conf)==null?void 0:Hl.general)==null?void 0:Wl.security)==null?void 0:Kl.none)??"None")+"",nt,Lt,Bt=(((Gl=(Vl=(zl=t[2].conf)==null?void 0:zl.general)==null?void 0:Vl.security)==null?void 0:Gl.conf)??"Conf")+"",tl,xt,jt=(((Jl=(Xl=(Yl=t[2].conf)==null?void 0:Yl.general)==null?void 0:Xl.security)==null?void 0:Jl.all)??"All")+"",Ot,sl,Dt,Qe,Rt=(((Zl=(Ql=t[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.context)??"Context")+"",Ht,ht,Me,Fe,pt,de,at,Xe;X=new T1({});let ol=xe(t[3]),Wt=[];for(let je=0;je<ol.length;je+=1)Wt[je]=Ma(wa(t,ol,je));let Jt=!t[7].p.t&&ya(),cl=xe(["NOK","SEK","DKK","EUR","CHF"]),rl=[];for(let je=0;je<5;je+=1)rl[je]=I1(O1(t,cl,je));ut=new vl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[F1]},$$scope:{ctx:t}}});let Vt=t[7].p.e&&t[0].chip!="esp8266"&&Ca(t),Gt=t[7].g.s>0&&Na(t);return{c(){var je,Mt;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),d=p("div"),w=k(b),v=p("br"),M=h(),g=p("input"),A=h(),L=p("div"),P=k(j),U=p("br"),q=h(),K=p("select"),Ne(X.$$.fragment),W=h(),R=p("div"),D=k(H),E=p("br"),Y=h(),z=p("select");for(let el=0;el<Wt.length;el+=1)Wt[el].c();F=h(),B=p("input"),Q=h(),ne=p("div"),V=p("div"),ie=p("div"),oe=k(ce),x=p("br"),re=h(),Z=p("select"),$=p("optgroup"),Jt&&Jt.c(),ee=p("option"),ee.textContent="NO1",he=p("option"),he.textContent="NO2",ge=p("option"),ge.textContent="NO3",T=p("option"),T.textContent="NO4",S=p("option"),S.textContent="NO5",I=p("optgroup"),O=p("option"),O.textContent="SE1",G=p("option"),G.textContent="SE2",le=p("option"),le.textContent="SE3",ae=p("option"),ae.textContent="SE4",fe=p("optgroup"),ue=p("option"),ue.textContent="DK1",me=p("option"),me.textContent="DK2",Se=p("option"),Se.textContent="Austria",ke=p("option"),ke.textContent="Belgium",qe=p("option"),qe.textContent="Czech Republic",De=p("option"),De.textContent="Estonia",We=p("option"),We.textContent="Finland",Ge=p("option"),Ge.textContent="France",Ze=p("option"),Ze.textContent="Germany",ve=p("option"),ve.textContent="Great Britain",we=p("option"),we.textContent="Latvia",ot=p("option"),ot.textContent="Lithuania",rt=p("option"),rt.textContent="Netherland",qt=p("option"),qt.textContent="Poland",vt=p("option"),vt.textContent="Slovenia",ft=p("option"),ft.textContent="Switzerland",dt=h(),tt=p("div"),Xt=k(ct),_t=p("br"),yt=h(),Ct=p("select");for(let el=0;el<5;el+=1)rl[el].c();Ft=h(),lt=p("div"),Ne(ut.$$.fragment),Pe=h(),Ae=p("div"),$e=p("label"),Je=p("input"),be=h(),St=k(Re),gt=h(),Vt&&Vt.c(),et=h(),Oe=p("div"),He=k(it),Te=p("br"),Ue=h(),Le=p("select"),Ie=p("option"),nt=k(Ye),Lt=p("option"),tl=k(Bt),xt=p("option"),Ot=k(jt),sl=h(),Gt&&Gt.c(),Dt=h(),Qe=p("div"),Ht=k(Rt),ht=p("br"),Me=h(),Fe=p("input"),u(l,"class","text-sm"),u(o,"href",Al("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(g,"name","gh"),u(g,"type","text"),u(g,"class","in-f w-full"),u(g,"pattern",Yn),u(K,"name","gt"),u(K,"class","in-l w-full"),t[7].g.t===void 0&&Kt(()=>t[28].call(K)),u(_,"class","flex"),u(m,"class","my-1"),u(z,"name","ulang"),u(z,"class","in-s"),t[7].u.lang===void 0&&Kt(()=>t[29].call(z)),u(R,"class","my-1"),u(B,"type","hidden"),u(B,"name","p"),B.value="true",ee.__value="10YNO-1--------2",J(ee,ee.__value),he.__value="10YNO-2--------T",J(he,he.__value),ge.__value="10YNO-3--------J",J(ge,ge.__value),T.__value="10YNO-4--------9",J(T,T.__value),S.__value="10Y1001A1001A48H",J(S,S.__value),u($,"label","Norway"),O.__value="10Y1001A1001A44P",J(O,O.__value),G.__value="10Y1001A1001A45N",J(G,G.__value),le.__value="10Y1001A1001A46L",J(le,le.__value),ae.__value="10Y1001A1001A47J",J(ae,ae.__value),u(I,"label","Sweden"),ue.__value="10YDK-1--------W",J(ue,ue.__value),me.__value="10YDK-2--------M",J(me,me.__value),u(fe,"label","Denmark"),Se.__value="10YAT-APG------L",J(Se,Se.__value),ke.__value="10YBE----------2",J(ke,ke.__value),qe.__value="10YCZ-CEPS-----N",J(qe,qe.__value),De.__value="10Y1001A1001A39I",J(De,De.__value),We.__value="10YFI-1--------U",J(We,We.__value),Ge.__value="10YFR-RTE------C",J(Ge,Ge.__value),Ze.__value="10Y1001A1001A83F",J(Ze,Ze.__value),ve.__value="10YGB----------A",J(ve,ve.__value),we.__value="10YLV-1001A00074",J(we,we.__value),ot.__value="10YLT-1001A0008Q",J(ot,ot.__value),rt.__value="10YNL----------L",J(rt,rt.__value),qt.__value="10YPL-AREA-----S",J(qt,qt.__value),vt.__value="10YSI-ELES-----O",J(vt,vt.__value),ft.__value="10YCH-SWISSGRIDZ",J(ft,ft.__value),u(Z,"name","pr"),u(Z,"class","in-f w-full"),t[7].p.r===void 0&&Kt(()=>t[30].call(Z)),u(ie,"class","w-full"),u(Ct,"name","pc"),u(Ct,"class","in-l"),t[7].p.c===void 0&&Kt(()=>t[31].call(Ct)),u(V,"class","flex"),u(ne,"class","my-1"),u(lt,"class","my-1"),u(Je,"type","checkbox"),u(Je,"name","pe"),Je.__value="true",J(Je,Je.__value),u(Je,"class","rounded mb-1"),u(Ae,"class","my-1"),Ie.__value=0,J(Ie,Ie.__value),Lt.__value=1,J(Lt,Lt.__value),xt.__value=2,J(xt,xt.__value),u(Le,"name","gs"),u(Le,"class","in-s"),t[7].g.s===void 0&&Kt(()=>t[34].call(Le)),u(Oe,"class","my-1"),u(Fe,"name","gc"),u(Fe,"type","text"),u(Fe,"pattern",Yn),u(Fe,"placeholder",pt=((Mt=(je=t[2].conf)==null?void 0:je.general)==null?void 0:Mt.context_placeholder)??"/"),u(Fe,"class","in-s"),u(Fe,"maxlength","36"),u(Qe,"class","my-1"),u(e,"class","cnt")},m(je,Mt){C(je,e,Mt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,d),a(d,w),a(d,v),a(d,M),a(d,g),J(g,t[7].g.h),a(_,A),a(_,L),a(L,P),a(L,U),a(L,q),a(L,K),ye(X,K,null),st(K,t[7].g.t,!0),a(e,W),a(e,R),a(R,D),a(R,E),a(R,Y),a(R,z);for(let el=0;el<Wt.length;el+=1)Wt[el]&&Wt[el].m(z,null);st(z,t[7].u.lang,!0),a(e,F),a(e,B),a(e,Q),a(e,ne),a(ne,V),a(V,ie),a(ie,oe),a(ie,x),a(ie,re),a(ie,Z),a(Z,$),Jt&&Jt.m($,null),a($,ee),a($,he),a($,ge),a($,T),a($,S),a(Z,I),a(I,O),a(I,G),a(I,le),a(I,ae),a(Z,fe),a(fe,ue),a(fe,me),a(Z,Se),a(Z,ke),a(Z,qe),a(Z,De),a(Z,We),a(Z,Ge),a(Z,Ze),a(Z,ve),a(Z,we),a(Z,ot),a(Z,rt),a(Z,qt),a(Z,vt),a(Z,ft),st(Z,t[7].p.r,!0),a(V,dt),a(V,tt),a(tt,Xt),a(tt,_t),a(tt,yt),a(tt,Ct);for(let el=0;el<5;el+=1)rl[el]&&rl[el].m(Ct,null);st(Ct,t[7].p.c,!0),a(e,Ft),a(e,lt),ye(ut,lt,null),a(e,Pe),a(e,Ae),a(Ae,$e),a($e,Je),Je.checked=t[7].p.e,a($e,be),a($e,St),a(Ae,gt),Vt&&Vt.m(Ae,null),a(e,et),a(e,Oe),a(Oe,He),a(Oe,Te),a(Oe,Ue),a(Oe,Le),a(Le,Ie),a(Ie,nt),a(Le,Lt),a(Lt,tl),a(Le,xt),a(xt,Ot),st(Le,t[7].g.s,!0),a(e,sl),Gt&&Gt.m(e,null),a(e,Dt),a(e,Qe),a(Qe,Ht),a(Qe,ht),a(Qe,Me),a(Qe,Fe),J(Fe,t[7].g.c),de=!0,at||(Xe=[pe(g,"input",t[27]),pe(K,"change",t[28]),pe(z,"change",t[29]),pe(z,"change",t[22]),pe(Z,"change",t[30]),pe(Z,"change",t[25]),pe(Ct,"change",t[31]),pe(Je,"change",t[32]),pe(Le,"change",t[34]),pe(Fe,"input",t[37])],at=!0)},p(je,Mt){var $l,xl,Mn,yn,Cn,Nn,Pn,Tn,En,An,qn,Ln,Dn,On,In,vs,gs,ks,ws,Ss,Ms,ys,Cs,Ns,Ps,Ts,Es,As,qs,Ls,Ds,Os;if((!de||Mt[0]&4)&&n!==(n=(((xl=($l=je[2].conf)==null?void 0:$l.general)==null?void 0:xl.title)??"General")+"")&&N(i,n),(!de||Mt[0]&4)&&b!==(b=(((yn=(Mn=je[2].conf)==null?void 0:Mn.general)==null?void 0:yn.hostname)??"Hostname")+"")&&N(w,b),Mt[0]&128&&g.value!==je[7].g.h&&J(g,je[7].g.h),(!de||Mt[0]&4)&&j!==(j=(((Nn=(Cn=je[2].conf)==null?void 0:Cn.general)==null?void 0:Nn.timezone)??"Time zone")+"")&&N(P,j),Mt[0]&128&&st(K,je[7].g.t),(!de||Mt[0]&4)&&H!==(H=(((Tn=(Pn=je[2].conf)==null?void 0:Pn.general)==null?void 0:Tn.language)??((An=(En=je[2].conf)==null?void 0:En.ui)==null?void 0:An.lang)??"Language")+"")&&N(D,H),Mt[0]&8){ol=xe(je[3]);let gl;for(gl=0;gl<ol.length;gl+=1){const Is=wa(je,ol,gl);Wt[gl]?Wt[gl].p(Is,Mt):(Wt[gl]=Ma(Is),Wt[gl].c(),Wt[gl].m(z,null))}for(;gl<Wt.length;gl+=1)Wt[gl].d(1);Wt.length=ol.length}Mt[0]&128&&st(z,je[7].u.lang),(!de||Mt[0]&4)&&ce!==(ce=(((Ln=(qn=je[2].conf)==null?void 0:qn.price)==null?void 0:Ln.region)??"Price region")+"")&&N(oe,ce),je[7].p.t?Jt&&(Jt.d(1),Jt=null):Jt||(Jt=ya(),Jt.c(),Jt.m($,ee)),Mt[0]&128&&st(Z,je[7].p.r),(!de||Mt[0]&4)&&ct!==(ct=(((On=(Dn=je[2].conf)==null?void 0:Dn.price)==null?void 0:On.currency)??"Currency")+"")&&N(Xt,ct),Mt[0]&128&&st(Ct,je[7].p.c);const el={};Mt[0]&4|Mt[3]&33554432&&(el.$$scope={dirty:Mt,ctx:je}),ut.$set(el),Mt[0]&128&&(Je.checked=je[7].p.e),(!de||Mt[0]&4)&&Re!==(Re=(((vs=(In=je[2].conf)==null?void 0:In.price)==null?void 0:vs.enabled)??"Enabled")+"")&&N(St,Re),je[7].p.e&&je[0].chip!="esp8266"?Vt?Vt.p(je,Mt):(Vt=Ca(je),Vt.c(),Vt.m(Ae,null)):Vt&&(Vt.d(1),Vt=null),(!de||Mt[0]&4)&&it!==(it=(((ws=(ks=(gs=je[2].conf)==null?void 0:gs.general)==null?void 0:ks.security)==null?void 0:ws.title)??"Security")+"")&&N(He,it),(!de||Mt[0]&4)&&Ye!==(Ye=(((ys=(Ms=(Ss=je[2].conf)==null?void 0:Ss.general)==null?void 0:Ms.security)==null?void 0:ys.none)??"None")+"")&&N(nt,Ye),(!de||Mt[0]&4)&&Bt!==(Bt=(((Ps=(Ns=(Cs=je[2].conf)==null?void 0:Cs.general)==null?void 0:Ns.security)==null?void 0:Ps.conf)??"Conf")+"")&&N(tl,Bt),(!de||Mt[0]&4)&&jt!==(jt=(((As=(Es=(Ts=je[2].conf)==null?void 0:Ts.general)==null?void 0:Es.security)==null?void 0:As.all)??"All")+"")&&N(Ot,jt),Mt[0]&128&&st(Le,je[7].g.s),je[7].g.s>0?Gt?Gt.p(je,Mt):(Gt=Na(je),Gt.c(),Gt.m(e,Dt)):Gt&&(Gt.d(1),Gt=null),(!de||Mt[0]&4)&&Rt!==(Rt=(((Ls=(qs=je[2].conf)==null?void 0:qs.general)==null?void 0:Ls.context)??"Context")+"")&&N(Ht,Rt),(!de||Mt[0]&4&&pt!==(pt=((Os=(Ds=je[2].conf)==null?void 0:Ds.general)==null?void 0:Os.context_placeholder)??"/"))&&u(Fe,"placeholder",pt),Mt[0]&128&&Fe.value!==je[7].g.c&&J(Fe,je[7].g.c)},i(je){de||(te(X.$$.fragment,je),te(ut.$$.fragment,je),de=!0)},o(je){se(X.$$.fragment,je),se(ut.$$.fragment,je),de=!1},d(je){je&&y(e),Ce(X),Zt(Wt,je),Jt&&Jt.d(),Zt(rl,je),Ce(ut),Vt&&Vt.d(),Gt&&Gt.d(),at=!1,zt(Xe)}}}function Ma(t){let e,l=t[115].name+"",n,i;return{c(){e=p("option"),n=k(l),e.__value=i=t[115].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&8&&l!==(l=s[115].name+"")&&N(n,l),o[0]&8&&i!==(i=s[115].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&y(e)}}}function ya(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f),C(o,i,f),C(o,s,f)},d(o){o&&(y(e),y(l),y(n),y(i),y(s))}}}function I1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112]}`,e.__value=t[112],J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function F1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&N(l,e)},d(s){s&&y(l)}}}function Ca(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",Yn)},m(o,f){C(o,e,f),C(o,l,f),J(l,t[7].p.t),i||(s=pe(l,"input",t[33]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&128&&l.value!==o[7].p.t&&J(l,o[7].p.t)},d(o){o&&(y(e),y(l)),i=!1,s()}}}function Na(t){var M,g,A,L,j,P;let e,l=(((A=(g=(M=t[2].conf)==null?void 0:M.general)==null?void 0:g.security)==null?void 0:A.username)??"Username")+"",n,i,s,o,f,r,c=(((P=(j=(L=t[2].conf)==null?void 0:L.general)==null?void 0:j.security)==null?void 0:P.password)??"Password")+"",m,_,d,b,w,v;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),f=h(),r=p("div"),m=k(c),_=p("br"),d=h(),b=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",ln),u(e,"class","my-1"),u(b,"name","gp"),u(b,"type","password"),u(b,"class","in-s"),u(b,"maxlength","36"),u(b,"pattern",ln),u(r,"class","my-1")},m(U,q){C(U,e,q),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].g.u),C(U,f,q),C(U,r,q),a(r,m),a(r,_),a(r,d),a(r,b),J(b,t[7].g.p),w||(v=[pe(o,"input",t[35]),pe(b,"input",t[36])],w=!0)},p(U,q){var K,X,W,R,H,D;q[0]&4&&l!==(l=(((W=(X=(K=U[2].conf)==null?void 0:K.general)==null?void 0:X.security)==null?void 0:W.username)??"Username")+"")&&N(n,l),q[0]&128&&o.value!==U[7].g.u&&J(o,U[7].g.u),q[0]&4&&c!==(c=(((D=(H=(R=U[2].conf)==null?void 0:R.general)==null?void 0:H.security)==null?void 0:D.password)??"Password")+"")&&N(m,c),q[0]&128&&b.value!==U[7].g.p&&J(b,U[7].g.p)},d(U){U&&(y(e),y(f),y(r)),w=!1,zt(v)}}}function Pa(t){let e,l,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W,R,H=si(t[7].fw.s)+"",D,E,Y=si(t[7].fw.e)+"",z,F,B,Q,ne,V;function ie(x,re){var Z,$,ee,he;return(($=(Z=x[0])==null?void 0:Z.upgrade)==null?void 0:$.m)===!0?B1:(he=(ee=x[0])==null?void 0:ee.upgrade)!=null&&he.n?U1:R1}let ce=ie(t),oe=ce(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=k(`
                    Enable nightly auto-updates`),m=h(),_=p("div"),d=p("div"),b=k("Start hour"),w=p("br"),v=h(),M=p("input"),A=h(),L=p("div"),j=k("End hour"),P=p("br"),U=h(),q=p("input"),X=h(),W=p("div"),R=k("When enabled, the device will install available updates once per night between "),D=k(H),E=k(" and "),z=k(Y),F=k(" using its local time zone."),B=h(),Q=p("div"),oe.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(M,"name","fws"),u(M,"type","number"),u(M,"min","0"),u(M,"max","23"),u(M,"class","in-s w-full"),M.disabled=g=!t[7].fw.a,u(q,"name","fwe"),u(q,"type","number"),u(q,"min","0"),u(q,"max","23"),u(q,"class","in-s w-full"),q.disabled=K=!t[7].fw.a,u(_,"class","my-1 grid grid-cols-2 gap-2"),u(W,"class","my-1 text-xs text-gray-500"),u(Q,"class","my-1 text-xs"),u(e,"class","cnt")},m(x,re){C(x,e,re),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[7].fw.a,a(f,c),a(e,m),a(e,_),a(_,d),a(d,b),a(d,w),a(d,v),a(d,M),J(M,t[7].fw.s),a(_,A),a(_,L),a(L,j),a(L,P),a(L,U),a(L,q),J(q,t[7].fw.e),a(e,X),a(e,W),a(W,R),a(W,D),a(W,E),a(W,z),a(W,F),a(e,B),a(e,Q),oe.m(Q,null),ne||(V=[pe(r,"change",t[38]),pe(M,"input",t[39]),pe(q,"input",t[40])],ne=!0)},p(x,re){re[0]&128&&(r.checked=x[7].fw.a),re[0]&128&&g!==(g=!x[7].fw.a)&&(M.disabled=g),re[0]&128&&wt(M.value)!==x[7].fw.s&&J(M,x[7].fw.s),re[0]&128&&K!==(K=!x[7].fw.a)&&(q.disabled=K),re[0]&128&&wt(q.value)!==x[7].fw.e&&J(q,x[7].fw.e),re[0]&128&&H!==(H=si(x[7].fw.s)+"")&&N(D,H),re[0]&128&&Y!==(Y=si(x[7].fw.e)+"")&&N(z,Y),ce===(ce=ie(x))&&oe?oe.p(x,re):(oe.d(1),oe=ce(x),oe&&(oe.c(),oe.m(Q,null)))},d(x){x&&y(e),oe.d(),ne=!1,zt(V)}}}function R1(t){let e;return{c(){e=k("Checking for updates…")},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function U1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=k("Latest available: "),n=k(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&N(n,l)},d(i){i&&(y(e),y(n))}}}function B1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function Ta(t){var Lt,Bt,tl,xt,jt,Ot,sl,Dt,Qe,Rt,Ht,ht,Me,Fe,pt,de,at,Xe,ol,Wt,Jt,cl,rl,Vt,Gt,ul,Ee,_e,Ut;let e,l,n=(((Bt=(Lt=t[2].conf)==null?void 0:Lt.meter)==null?void 0:Bt.title)??"Meter")+"",i,s,o,f,r,c,m,_,d,b,w=(((jt=(xt=(tl=t[2].conf)==null?void 0:tl.meter)==null?void 0:xt.preset)==null?void 0:jt.title)??"Meter preset")+"",v,M,g,A,L,j=(((Dt=(sl=(Ot=t[2].conf)==null?void 0:Ot.meter)==null?void 0:sl.preset)==null?void 0:Dt.manual)??"Manual configuration")+"",P,U,q,K,X,W=(((Ht=(Rt=(Qe=t[2].conf)==null?void 0:Qe.meter)==null?void 0:Rt.comm)==null?void 0:Ht.title)??"Communication")+"",R,H,D,E,Y,z=(((Fe=(Me=(ht=t[2].conf)==null?void 0:ht.meter)==null?void 0:Me.comm)==null?void 0:Fe.passive)??"Passive")+"",F,B,Q=(((at=(de=(pt=t[2].conf)==null?void 0:pt.meter)==null?void 0:de.comm)==null?void 0:at.pulse)??"Pulse")+"",ne,V=(ol=(Xe=t[0])==null?void 0:Xe.features)==null?void 0:ol.includes("kmp"),ie,ce,oe,x=(((Wt=t[2].common)==null?void 0:Wt.voltage)??"Voltage")+"",re,Z,$,ee,he,ge,T,S,I,O=(((cl=(Jt=t[2].conf)==null?void 0:Jt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",G,le,ae,fe,ue,me,Se,ke,qe,De=(((Vt=(rl=t[2].conf)==null?void 0:rl.meter)==null?void 0:Vt.prod)??"Production")+"",We,Ge,Ze,ve,we,ot,rt,qt,vt,ft,dt,tt,ct,Xt,_t=(((ul=(Gt=t[2].conf)==null?void 0:Gt.meter)==null?void 0:ul.encrypted)??"Encrypted")+"",yt,Ct,Ft,lt,ut,Pe,Ae,$e=(((Ut=(_e=(Ee=t[2].conf)==null?void 0:Ee.meter)==null?void 0:_e.multipliers)==null?void 0:Ut.title)??"Multipliers")+"",Je,be,Re,St,gt=xe(hs),et=[];for(let Be=0;Be<gt.length;Be+=1)et[Be]=j1(D1(t,gt,Be));let Oe=t[8]&&Ea(t),it=t[9]&&Aa(t),He=V&&La();function Te(Be,kt){return Be[7].m.a===2?W1:H1}let Ue=Te(t),Le=Ue(t),Ie=t[7].m.e.e&&Da(t),Ye=t[7].m.e.e&&Oa(t),nt=t[7].m.m.e&&Ia(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("input"),_=h(),d=p("div"),b=p("label"),v=k(w),M=h(),g=p("div"),A=p("select"),L=p("option"),P=k(j);for(let Be=0;Be<et.length;Be+=1)et[Be].c();U=h(),Oe&&Oe.c(),q=h(),it&&it.c(),K=h(),X=p("div"),R=k(W),H=p("br"),D=h(),E=p("select"),Y=p("option"),F=k(z),B=p("option"),ne=k(Q),He&&He.c(),ie=h(),Le.c(),ce=h(),oe=p("div"),re=k(x),Z=p("br"),$=h(),ee=p("select"),he=p("option"),he.textContent="400V (TN)",ge=p("option"),ge.textContent="230V (IT/TT)",T=h(),S=p("div"),I=p("div"),G=k(O),le=p("br"),ae=h(),fe=p("label"),ue=p("input"),me=h(),Se=p("span"),Se.textContent="A",ke=h(),qe=p("div"),We=k(De),Ge=p("br"),Ze=h(),ve=p("label"),we=p("input"),ot=h(),rt=p("span"),rt.textContent="kWp",qt=h(),vt=p("div"),vt.innerHTML="",ft=h(),dt=p("div"),tt=p("label"),ct=p("input"),Xt=h(),yt=k(_t),Ct=h(),Ie&&Ie.c(),Ft=h(),Ye&&Ye.c(),lt=h(),ut=p("label"),Pe=p("input"),Ae=h(),Je=k($e),be=h(),nt&&nt.c(),u(l,"class","text-sm"),u(o,"href",Al("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(b,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(b,"for","meter-preset-select"),L.__value="",J(L,L.__value),u(A,"id","meter-preset-select"),u(A,"class","in-s w-full"),t[8]===void 0&&Kt(()=>t[41].call(A)),u(g,"class","mt-1 flex gap-2"),u(d,"class","my-1"),Y.__value=0,J(Y,Y.__value),B.__value=2,J(B,B.__value),u(E,"name","ma"),u(E,"class","in-s"),t[7].m.a===void 0&&Kt(()=>t[43].call(E)),u(X,"class","my-1"),he.__value=2,J(he,he.__value),ge.__value=1,J(ge,ge.__value),u(ee,"name","md"),u(ee,"class","in-s"),t[7].m.d===void 0&&Kt(()=>t[49].call(ee)),u(oe,"class","my-1"),u(ue,"name","mf"),u(ue,"type","number"),u(ue,"min","5"),u(ue,"max","65535"),u(ue,"class","in-f tr w-full"),u(Se,"class","in-post"),u(fe,"class","flex"),u(I,"class","mx-1"),u(we,"name","mr"),u(we,"type","number"),u(we,"min","0"),u(we,"max","65535"),u(we,"class","in-f tr w-full"),u(rt,"class","in-post"),u(ve,"class","flex"),u(qe,"class","mx-1"),u(S,"class","my-1 flex"),u(vt,"class","my-1"),u(ct,"type","checkbox"),u(ct,"name","me"),ct.__value="true",J(ct,ct.__value),u(ct,"class","rounded mb-1"),u(dt,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",J(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(Be,kt){C(Be,e,kt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,_),a(e,d),a(d,b),a(b,v),a(d,M),a(d,g),a(g,A),a(A,L),a(L,P);for(let fl=0;fl<et.length;fl+=1)et[fl]&&et[fl].m(A,null);st(A,t[8],!0),a(g,U),Oe&&Oe.m(g,null),a(d,q),it&&it.m(d,null),a(e,K),a(e,X),a(X,R),a(X,H),a(X,D),a(X,E),a(E,Y),a(Y,F),a(E,B),a(B,ne),He&&He.m(E,null),st(E,t[7].m.a,!0),a(e,ie),Le.m(e,null),a(e,ce),a(e,oe),a(oe,re),a(oe,Z),a(oe,$),a(oe,ee),a(ee,he),a(ee,ge),st(ee,t[7].m.d,!0),a(e,T),a(e,S),a(S,I),a(I,G),a(I,le),a(I,ae),a(I,fe),a(fe,ue),J(ue,t[7].m.f),a(fe,me),a(fe,Se),a(S,ke),a(S,qe),a(qe,We),a(qe,Ge),a(qe,Ze),a(qe,ve),a(ve,we),J(we,t[7].m.r),a(ve,ot),a(ve,rt),a(e,qt),a(e,vt),a(e,ft),a(e,dt),a(dt,tt),a(tt,ct),ct.checked=t[7].m.e.e,a(tt,Xt),a(tt,yt),a(dt,Ct),Ie&&Ie.m(dt,null),a(e,Ft),Ye&&Ye.m(e,null),a(e,lt),a(e,ut),a(ut,Pe),Pe.checked=t[7].m.m.e,a(ut,Ae),a(ut,Je),a(e,be),nt&&nt.m(e,null),Re||(St=[pe(A,"change",t[41]),pe(A,"change",t[42]),pe(E,"change",t[43]),pe(ee,"change",t[49]),pe(ue,"input",t[50]),pe(we,"input",t[51]),pe(ct,"change",t[52]),pe(Pe,"change",t[55])],Re=!0)},p(Be,kt){var fl,dl,ll,hl,Ml,yl,Cl,Rl,Ul,Bl,Ke,mt,jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,Mt,el,$l,xl;kt[0]&4&&n!==(n=(((dl=(fl=Be[2].conf)==null?void 0:fl.meter)==null?void 0:dl.title)??"Meter")+"")&&N(i,n),kt[0]&4&&w!==(w=(((Ml=(hl=(ll=Be[2].conf)==null?void 0:ll.meter)==null?void 0:hl.preset)==null?void 0:Ml.title)??"Meter preset")+"")&&N(v,w),kt[0]&4&&j!==(j=(((Rl=(Cl=(yl=Be[2].conf)==null?void 0:yl.meter)==null?void 0:Cl.preset)==null?void 0:Rl.manual)??"Manual configuration")+"")&&N(P,j),kt[0]&256&&st(A,Be[8]),Be[8]?Oe?Oe.p(Be,kt):(Oe=Ea(Be),Oe.c(),Oe.m(g,null)):Oe&&(Oe.d(1),Oe=null),Be[9]?it?it.p(Be,kt):(it=Aa(Be),it.c(),it.m(d,null)):it&&(it.d(1),it=null),kt[0]&4&&W!==(W=(((Ke=(Bl=(Ul=Be[2].conf)==null?void 0:Ul.meter)==null?void 0:Bl.comm)==null?void 0:Ke.title)??"Communication")+"")&&N(R,W),kt[0]&4&&z!==(z=(((Hl=(jl=(mt=Be[2].conf)==null?void 0:mt.meter)==null?void 0:jl.comm)==null?void 0:Hl.passive)??"Passive")+"")&&N(F,z),kt[0]&4&&Q!==(Q=(((zl=(Kl=(Wl=Be[2].conf)==null?void 0:Wl.meter)==null?void 0:Kl.comm)==null?void 0:zl.pulse)??"Pulse")+"")&&N(ne,Q),kt[0]&1&&(V=(Gl=(Vl=Be[0])==null?void 0:Vl.features)==null?void 0:Gl.includes("kmp")),V?He||(He=La(),He.c(),He.m(E,null)):He&&(He.d(1),He=null),kt[0]&128&&st(E,Be[7].m.a),Ue===(Ue=Te(Be))&&Le?Le.p(Be,kt):(Le.d(1),Le=Ue(Be),Le&&(Le.c(),Le.m(e,ce))),kt[0]&4&&x!==(x=(((Yl=Be[2].common)==null?void 0:Yl.voltage)??"Voltage")+"")&&N(re,x),kt[0]&128&&st(ee,Be[7].m.d),kt[0]&4&&O!==(O=(((Jl=(Xl=Be[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.fuse)??"Main fuse")+"")&&N(G,O),kt[0]&128&&wt(ue.value)!==Be[7].m.f&&J(ue,Be[7].m.f),kt[0]&4&&De!==(De=(((Zl=(Ql=Be[2].conf)==null?void 0:Ql.meter)==null?void 0:Zl.prod)??"Production")+"")&&N(We,De),kt[0]&128&&wt(we.value)!==Be[7].m.r&&J(we,Be[7].m.r),kt[0]&128&&(ct.checked=Be[7].m.e.e),kt[0]&4&&_t!==(_t=(((Mt=(je=Be[2].conf)==null?void 0:je.meter)==null?void 0:Mt.encrypted)??"Encrypted")+"")&&N(yt,_t),Be[7].m.e.e?Ie?Ie.p(Be,kt):(Ie=Da(Be),Ie.c(),Ie.m(dt,null)):Ie&&(Ie.d(1),Ie=null),Be[7].m.e.e?Ye?Ye.p(Be,kt):(Ye=Oa(Be),Ye.c(),Ye.m(e,lt)):Ye&&(Ye.d(1),Ye=null),kt[0]&128&&(Pe.checked=Be[7].m.m.e),kt[0]&4&&$e!==($e=(((xl=($l=(el=Be[2].conf)==null?void 0:el.meter)==null?void 0:$l.multipliers)==null?void 0:xl.title)??"Multipliers")+"")&&N(Je,$e),Be[7].m.m.e?nt?nt.p(Be,kt):(nt=Ia(Be),nt.c(),nt.m(e,null)):nt&&(nt.d(1),nt=null)},d(Be){Be&&y(e),Zt(et,Be),Oe&&Oe.d(),it&&it.d(),He&&He.d(),Le.d(),Ie&&Ie.d(),Ye&&Ye.d(),nt&&nt.d(),Re=!1,zt(St)}}}function j1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109].label}`,e.__value=t[109].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function Ea(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=pe(e,"click",t[24]),i=!0)},p(c,m){var _,d,b;m[0]&4&&l!==(l=(((b=(d=(_=c[2].conf)==null?void 0:_.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear")+"")&&N(n,l)},d(c){c&&y(e),i=!1,s()}}}function Aa(t){let e,l=bi(t[9])+"",n,i,s=t[9].notes&&qa(t);return{c(){e=p("div"),n=k(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=bi(o[9])+"")&&N(n,l),o[9].notes?s?s.p(o,f):(s=qa(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&y(e),s&&s.d()}}}function qa(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&N(n,l)},d(i){i&&y(e)}}}function La(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function H1(t){var ce,oe,x,re,Z,$;let e,l,n=(((oe=(ce=t[2].conf)==null?void 0:ce.meter)==null?void 0:oe.buffer)??"Buffer size")+"",i,s,o,f=(((re=(x=t[2].conf)==null?void 0:x.meter)==null?void 0:re.serial)??"Serial conf.")+"",r,c,m,_,d,b=((($=(Z=t[2].conf)==null?void 0:Z.meter)==null?void 0:$.inverted)??"inverted")+"",w,v,M,g,A,L,j,P,U,q,K,X,W,R,H,D,E,Y,z,F,B,Q,ne,V=xe([3,12,24,48,96,192,384,576,1152]),ie=[];for(let ee=0;ee<9;ee+=1)ie[ee]=K1(L1(t,V,ee));return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("span"),r=k(f),c=h(),m=p("label"),_=p("input"),d=h(),w=k(b),v=h(),M=p("div"),g=p("select"),A=p("option"),L=k("Autodetect");for(let ee=0;ee<9;ee+=1)ie[ee].c();P=h(),U=p("select"),q=p("option"),K=k("-"),W=p("option"),W.textContent="7N1",R=p("option"),R.textContent="8N1",H=p("option"),H.textContent="8N2",D=p("option"),D.textContent="7E1",E=p("option"),E.textContent="8E1",z=h(),F=p("input"),u(l,"class","float-right"),u(_,"name","mi"),_.__value="true",J(_,_.__value),u(_,"type","checkbox"),u(_,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),A.__value=0,J(A,A.__value),A.disabled=j=t[7].m.b!=0,u(g,"name","mb"),u(g,"class","in-f tr w-1/2"),t[7].m.b===void 0&&Kt(()=>t[46].call(g)),q.__value=0,J(q,q.__value),q.disabled=X=t[7].m.b!=0,W.__value=2,J(W,W.__value),R.__value=3,J(R,R.__value),H.__value=7,J(H,H.__value),D.__value=10,J(D,D.__value),E.__value=11,J(E,E.__value),u(U,"name","mp"),u(U,"class","in-m"),U.disabled=Y=t[7].m.b==0,t[7].m.p===void 0&&Kt(()=>t[47].call(U)),u(F,"name","ms"),u(F,"type","number"),u(F,"min",64),u(F,"max",B=t[0].chip=="esp8266"?t[7].i.h.p==3||t[7].i.h.p==113?512:256:4096),u(F,"step",64),u(F,"class","in-l tr w-1/2"),u(M,"class","flex w-full"),u(e,"class","my-1")},m(ee,he){C(ee,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,_),_.checked=t[7].m.i,a(m,d),a(m,w),a(e,v),a(e,M),a(M,g),a(g,A),a(A,L);for(let ge=0;ge<9;ge+=1)ie[ge]&&ie[ge].m(g,null);st(g,t[7].m.b,!0),a(M,P),a(M,U),a(U,q),a(q,K),a(U,W),a(U,R),a(U,H),a(U,D),a(U,E),st(U,t[7].m.p,!0),a(M,z),a(M,F),J(F,t[7].m.s),Q||(ne=[pe(_,"change",t[45]),pe(g,"change",t[46]),pe(U,"change",t[47]),pe(F,"input",t[48])],Q=!0)},p(ee,he){var ge,T,S,I,O,G;he[0]&4&&n!==(n=(((T=(ge=ee[2].conf)==null?void 0:ge.meter)==null?void 0:T.buffer)??"Buffer size")+"")&&N(i,n),he[0]&4&&f!==(f=(((I=(S=ee[2].conf)==null?void 0:S.meter)==null?void 0:I.serial)??"Serial conf.")+"")&&N(r,f),he[0]&128&&(_.checked=ee[7].m.i),he[0]&4&&b!==(b=(((G=(O=ee[2].conf)==null?void 0:O.meter)==null?void 0:G.inverted)??"inverted")+"")&&N(w,b),he[0]&128&&j!==(j=ee[7].m.b!=0)&&(A.disabled=j),he[0]&128&&st(g,ee[7].m.b),he[0]&128&&X!==(X=ee[7].m.b!=0)&&(q.disabled=X),he[0]&128&&Y!==(Y=ee[7].m.b==0)&&(U.disabled=Y),he[0]&128&&st(U,ee[7].m.p),he[0]&129&&B!==(B=ee[0].chip=="esp8266"?ee[7].i.h.p==3||ee[7].i.h.p==113?512:256:4096)&&u(F,"max",B),he[0]&128&&wt(F.value)!==ee[7].m.s&&J(F,ee[7].m.s)},d(ee){ee&&y(e),Zt(ie,ee),Q=!1,zt(ne)}}}function W1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=k(n),s=h(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[7].m.b),f||(r=pe(o,"input",t[44]),f=!0)},p(_,d){var b,w;d[0]&4&&n!==(n=(((w=(b=_[2].conf)==null?void 0:b.meter)==null?void 0:w.pulses)??"Pulses per kWh")+"")&&N(i,n),d[0]&128&&wt(o.value)!==_[7].m.b&&J(o,_[7].m.b)},d(_){_&&y(e),f=!1,r()}}}function K1(t){let e;return{c(){e=p("option"),e.textContent=`${t[106]*100}`,e.__value=t[106]*100,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function Da(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Gf)},m(s,o){C(s,e,o),C(s,l,o),J(l,t[7].m.e.k),n||(i=pe(l,"input",t[53]),n=!0)},p(s,o){o[0]&128&&l.value!==s[7].m.e.k&&J(l,s[7].m.e.k)},d(s){s&&(y(e),y(l)),n=!1,i()}}}function Oa(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Gf),u(e,"class","my-1")},m(_,d){C(_,e,d),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].m.e.a),f||(r=pe(o,"input",t[54]),f=!0)},p(_,d){var b,w;d[0]&4&&l!==(l=(((w=(b=_[2].conf)==null?void 0:b.meter)==null?void 0:w.authkey)??"Authentication key")+"")&&N(n,l),d[0]&128&&o.value!==_[7].m.e.a&&J(o,_[7].m.e.a)},d(_){_&&y(e),f=!1,r()}}}function Ia(t){var Y,z,F,B,Q,ne,V,ie,ce,oe,x,re;let e,l,n=(((F=(z=(Y=t[2].conf)==null?void 0:Y.meter)==null?void 0:z.multipliers)==null?void 0:F.watt)??"Watt")+"",i,s,o,f,r,c,m=(((ne=(Q=(B=t[2].conf)==null?void 0:B.meter)==null?void 0:Q.multipliers)==null?void 0:ne.volt)??"Volt")+"",_,d,b,w,v,M,g=(((ce=(ie=(V=t[2].conf)==null?void 0:V.meter)==null?void 0:ie.multipliers)==null?void 0:ce.amp)??"Amp")+"",A,L,j,P,U,q,K=(((re=(x=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:x.multipliers)==null?void 0:re.kwh)??"kWh")+"",X,W,R,H,D,E;return{c(){e=p("div"),l=p("div"),i=k(n),s=p("br"),o=h(),f=p("input"),r=h(),c=p("div"),_=k(m),d=p("br"),b=h(),w=p("input"),v=h(),M=p("div"),A=k(g),L=p("br"),j=h(),P=p("input"),U=h(),q=p("div"),X=k(K),W=p("br"),R=h(),H=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(w,"name","mmv"),u(w,"type","number"),u(w,"min","0.00"),u(w,"max","1000"),u(w,"step","0.001"),u(w,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(P,"name","mma"),u(P,"type","number"),u(P,"min","0.00"),u(P,"max","1000"),u(P,"step","0.001"),u(P,"class","in-m tr w-full"),u(M,"class","w-1/4"),u(H,"name","mmc"),u(H,"type","number"),u(H,"min","0.00"),u(H,"max","1000"),u(H,"step","0.001"),u(H,"class","in-l tr w-full"),u(q,"class","w-1/4"),u(e,"class","flex my-1")},m(Z,$){C(Z,e,$),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),J(f,t[7].m.m.w),a(e,r),a(e,c),a(c,_),a(c,d),a(c,b),a(c,w),J(w,t[7].m.m.v),a(e,v),a(e,M),a(M,A),a(M,L),a(M,j),a(M,P),J(P,t[7].m.m.a),a(e,U),a(e,q),a(q,X),a(q,W),a(q,R),a(q,H),J(H,t[7].m.m.c),D||(E=[pe(f,"input",t[56]),pe(w,"input",t[57]),pe(P,"input",t[58]),pe(H,"input",t[59])],D=!0)},p(Z,$){var ee,he,ge,T,S,I,O,G,le,ae,fe,ue;$[0]&4&&n!==(n=(((ge=(he=(ee=Z[2].conf)==null?void 0:ee.meter)==null?void 0:he.multipliers)==null?void 0:ge.watt)??"Watt")+"")&&N(i,n),$[0]&128&&wt(f.value)!==Z[7].m.m.w&&J(f,Z[7].m.m.w),$[0]&4&&m!==(m=(((I=(S=(T=Z[2].conf)==null?void 0:T.meter)==null?void 0:S.multipliers)==null?void 0:I.volt)??"Volt")+"")&&N(_,m),$[0]&128&&wt(w.value)!==Z[7].m.m.v&&J(w,Z[7].m.m.v),$[0]&4&&g!==(g=(((le=(G=(O=Z[2].conf)==null?void 0:O.meter)==null?void 0:G.multipliers)==null?void 0:le.amp)??"Amp")+"")&&N(A,g),$[0]&128&&wt(P.value)!==Z[7].m.m.a&&J(P,Z[7].m.m.a),$[0]&4&&K!==(K=(((ue=(fe=(ae=Z[2].conf)==null?void 0:ae.meter)==null?void 0:fe.multipliers)==null?void 0:ue.kwh)??"kWh")+"")&&N(X,K),$[0]&128&&wt(H.value)!==Z[7].m.m.c&&J(H,Z[7].m.m.c)},d(Z){Z&&y(e),D=!1,zt(E)}}}function Fa(t){var _,d;let e,l,n=(((d=(_=t[2].conf)==null?void 0:_.connection)==null?void 0:d.title)??"Connection")+"",i,s,o,f,r,c,m=(t[7].n.c==1||t[7].n.c==2)&&Ra(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Al("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(b,w){C(b,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(b,w){var v,M;w[0]&4&&n!==(n=(((M=(v=b[2].conf)==null?void 0:v.connection)==null?void 0:M.title)??"Connection")+"")&&N(i,n),b[7].n.c==1||b[7].n.c==2?m?m.p(b,w):(m=Ra(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&y(e),m&&m.d()}}}function Ra(t){var Se,ke,qe,De,We,Ge,Ze,ve,we,ot,rt,qt,vt,ft,dt,tt,ct,Xt,_t,yt,Ct,Ft,lt,ut;let e,l=(((ke=(Se=t[2].conf)==null?void 0:Se.connection)==null?void 0:ke.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((De=(qe=t[2].conf)==null?void 0:qe.connection)==null?void 0:De.psk)??"Password")+"",_,d,b,w,v,M,g,A=(((Ze=(Ge=(We=t[2].conf)==null?void 0:We.connection)==null?void 0:Ge.ps)==null?void 0:Ze.title)??"Power saving")+"",L,j,P,U,q,K=(((ot=(we=(ve=t[2].conf)==null?void 0:ve.connection)==null?void 0:we.ps)==null?void 0:ot.default)??"Default")+"",X,W,R=(((vt=(qt=(rt=t[2].conf)==null?void 0:rt.connection)==null?void 0:qt.ps)==null?void 0:vt.off)??"Off")+"",H,D,E=(((tt=(dt=(ft=t[2].conf)==null?void 0:ft.connection)==null?void 0:dt.ps)==null?void 0:tt.min)??"Min")+"",Y,z,F=(((_t=(Xt=(ct=t[2].conf)==null?void 0:ct.connection)==null?void 0:Xt.ps)==null?void 0:_t.max)??"Max")+"",B,Q,ne,V=(((Ct=(yt=t[2].conf)==null?void 0:yt.connection)==null?void 0:Ct.pwr)??"Power")+"",ie,ce,oe,x,re,Z,$,ee,he,ge,T,S,I=(((lt=(Ft=t[2].conf)==null?void 0:Ft.connection)==null?void 0:lt.tick_11b)??"802.11b")+"",O,G,le,ae=((ut=t[4])==null?void 0:ut.c)==-1&&Ua(t);function fe(Pe,Ae){var $e,Je,be;if((Je=($e=Pe[4])==null?void 0:$e.n)!=null&&Je.length)return V1;if(((be=Pe[4])==null?void 0:be.c)!=-1)return z1}let ue=fe(t),me=ue&&ue(t);return{c(){e=p("div"),n=k(l),i=h(),s=p("br"),o=h(),ae&&ae.c(),f=h(),me&&me.c(),r=h(),c=p("div"),_=k(m),d=p("br"),b=h(),w=p("input"),v=h(),M=p("div"),g=p("div"),L=k(A),j=p("br"),P=h(),U=p("select"),q=p("option"),X=k(K),W=p("option"),H=k(R),D=p("option"),Y=k(E),z=p("option"),B=k(F),Q=h(),ne=p("div"),ie=k(V),ce=p("br"),oe=h(),x=p("div"),re=p("input"),Z=h(),$=p("span"),$.textContent="dBm",ee=h(),he=p("div"),ge=p("label"),T=p("input"),S=h(),O=k(I),u(e,"class","my-1"),u(w,"name","wp"),u(w,"type","password"),u(w,"class","in-s"),u(w,"pattern",di),u(c,"class","my-1"),q.__value=255,J(q,q.__value),W.__value=0,J(W,W.__value),D.__value=1,J(D,D.__value),z.__value=2,J(z,z.__value),u(U,"name","wz"),u(U,"class","in-s"),t[7].w.z===void 0&&Kt(()=>t[63].call(U)),u(g,"class","w-1/2"),u(re,"name","ww"),u(re,"type","number"),u(re,"min","0"),u(re,"max","20.5"),u(re,"step","0.5"),u(re,"class","in-f tr w-full"),u($,"class","in-post"),u(x,"class","flex"),u(ne,"class","ml-2 w-1/2"),u(M,"class","my-1 flex"),u(T,"type","checkbox"),u(T,"name","wb"),T.__value="true",J(T,T.__value),u(T,"class","rounded mb-1"),u(he,"class","my-3")},m(Pe,Ae){C(Pe,e,Ae),a(e,n),a(e,i),a(e,s),a(e,o),ae&&ae.m(e,null),a(e,f),me&&me.m(e,null),C(Pe,r,Ae),C(Pe,c,Ae),a(c,_),a(c,d),a(c,b),a(c,w),J(w,t[7].w.p),C(Pe,v,Ae),C(Pe,M,Ae),a(M,g),a(g,L),a(g,j),a(g,P),a(g,U),a(U,q),a(q,X),a(U,W),a(W,H),a(U,D),a(D,Y),a(U,z),a(z,B),st(U,t[7].w.z,!0),a(M,Q),a(M,ne),a(ne,ie),a(ne,ce),a(ne,oe),a(ne,x),a(x,re),J(re,t[7].w.w),a(x,Z),a(x,$),C(Pe,ee,Ae),C(Pe,he,Ae),a(he,ge),a(ge,T),T.checked=t[7].w.b,a(ge,S),a(ge,O),G||(le=[pe(w,"input",t[62]),pe(U,"change",t[63]),pe(re,"input",t[64]),pe(T,"change",t[65])],G=!0)},p(Pe,Ae){var $e,Je,be,Re,St,gt,et,Oe,it,He,Te,Ue,Le,Ie,Ye,nt,Lt,Bt,tl,xt,jt,Ot,sl,Dt;Ae[0]&4&&l!==(l=(((Je=($e=Pe[2].conf)==null?void 0:$e.connection)==null?void 0:Je.ssid)??"Network name (SSID)")+"")&&N(n,l),((be=Pe[4])==null?void 0:be.c)==-1?ae?ae.p(Pe,Ae):(ae=Ua(Pe),ae.c(),ae.m(e,f)):ae&&(ae.d(1),ae=null),ue===(ue=fe(Pe))&&me?me.p(Pe,Ae):(me&&me.d(1),me=ue&&ue(Pe),me&&(me.c(),me.m(e,null))),Ae[0]&4&&m!==(m=(((St=(Re=Pe[2].conf)==null?void 0:Re.connection)==null?void 0:St.psk)??"Password")+"")&&N(_,m),Ae[0]&128&&w.value!==Pe[7].w.p&&J(w,Pe[7].w.p),Ae[0]&4&&A!==(A=(((Oe=(et=(gt=Pe[2].conf)==null?void 0:gt.connection)==null?void 0:et.ps)==null?void 0:Oe.title)??"Power saving")+"")&&N(L,A),Ae[0]&4&&K!==(K=(((Te=(He=(it=Pe[2].conf)==null?void 0:it.connection)==null?void 0:He.ps)==null?void 0:Te.default)??"Default")+"")&&N(X,K),Ae[0]&4&&R!==(R=(((Ie=(Le=(Ue=Pe[2].conf)==null?void 0:Ue.connection)==null?void 0:Le.ps)==null?void 0:Ie.off)??"Off")+"")&&N(H,R),Ae[0]&4&&E!==(E=(((Lt=(nt=(Ye=Pe[2].conf)==null?void 0:Ye.connection)==null?void 0:nt.ps)==null?void 0:Lt.min)??"Min")+"")&&N(Y,E),Ae[0]&4&&F!==(F=(((xt=(tl=(Bt=Pe[2].conf)==null?void 0:Bt.connection)==null?void 0:tl.ps)==null?void 0:xt.max)??"Max")+"")&&N(B,F),Ae[0]&128&&st(U,Pe[7].w.z),Ae[0]&4&&V!==(V=(((Ot=(jt=Pe[2].conf)==null?void 0:jt.connection)==null?void 0:Ot.pwr)??"Power")+"")&&N(ie,V),Ae[0]&128&&wt(re.value)!==Pe[7].w.w&&J(re,Pe[7].w.w),Ae[0]&128&&(T.checked=Pe[7].w.b),Ae[0]&4&&I!==(I=(((Dt=(sl=Pe[2].conf)==null?void 0:sl.connection)==null?void 0:Dt.tick_11b)??"802.11b")+"")&&N(O,I)},d(Pe){Pe&&(y(e),y(r),y(c),y(v),y(M),y(ee),y(he)),ae&&ae.d(),me&&me.d(),G=!1,zt(le)}}}function Ua(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&N(n,l)},d(o){o&&y(e)}}}function z1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&N(n,l)},d(o){o&&y(e)}}}function V1(t){let e,l=[],n=new Map,i=xe(t[4].n);const s=o=>o[103].s??o[105];for(let o=0;o<i.length;o+=1){let f=ka(t,i,o),r=s(f);n.set(r,l[o]=ja(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9364&&(i=xe(o[4].n),l=kf(l,f,s,1,o,i,n,e,gf,ja,null,ka))},d(o){o&&y(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ba(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&N(n,l)},d(o){o&&y(e)}}}function ja(t,e){var H,D,E,Y,z;let l,n,i,s,o=!1,f,r,c,m=(e[103].s||(((D=(H=e[2].conf)==null?void 0:H.connection)==null?void 0:D.hidden_ssid)??"Hidden network"))+"",_,d,b,w=(((E=e[10][e[105]])==null?void 0:E.title)??((z=(Y=e[2].conf)==null?void 0:Y.connection)==null?void 0:z.wifi_offline)??"Signal unavailable")+"",v,M,g,A,L,j,P,U,q,K,X,W,R=e[7].w.s===e[103].s&&Ba(e);return K=ci(e[61][0]),{key:t,first:null,c(){var F,B,Q;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),_=k(m),d=h(),b=p("span"),v=k(w),M=h(),g=p("div"),A=p("img"),U=h(),R&&R.c(),q=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[103].s,J(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(b,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(A,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),un(A.src,L=((F=e[10][e[105]])==null?void 0:F.icon)??e[13].off)||u(A,"src",L),u(A,"alt",j=((B=e[10][e[105]])==null?void 0:B.title)??"Wi-Fi offline"),u(A,"title",P=((Q=e[10][e[105]])==null?void 0:Q.title)??"Wi-Fi offline"),u(g,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),K.p(i),this.first=l},m(F,B){C(F,l,B),a(l,n),a(n,i),i.checked=i.__value===e[7].w.s,a(n,f),a(n,r),a(r,c),a(c,_),a(r,d),a(r,b),a(b,v),a(l,M),a(l,g),a(g,A),a(g,U),R&&R.m(g,null),a(l,q),X||(W=pe(i,"change",e[60]),X=!0)},p(F,B){var Q,ne,V,ie,ce,oe,x,re;e=F,B[0]&16&&s!==(s=e[103].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||B[0]&144)&&(i.checked=i.__value===e[7].w.s),B[0]&20&&m!==(m=(e[103].s||(((ne=(Q=e[2].conf)==null?void 0:Q.connection)==null?void 0:ne.hidden_ssid)??"Hidden network"))+"")&&N(_,m),B[0]&1044&&w!==(w=(((V=e[10][e[105]])==null?void 0:V.title)??((ce=(ie=e[2].conf)==null?void 0:ie.connection)==null?void 0:ce.wifi_offline)??"Signal unavailable")+"")&&N(v,w),B[0]&1040&&!un(A.src,L=((oe=e[10][e[105]])==null?void 0:oe.icon)??e[13].off)&&u(A,"src",L),B[0]&1040&&j!==(j=((x=e[10][e[105]])==null?void 0:x.title)??"Wi-Fi offline")&&u(A,"alt",j),B[0]&1040&&P!==(P=((re=e[10][e[105]])==null?void 0:re.title)??"Wi-Fi offline")&&u(A,"title",P),e[7].w.s===e[103].s?R?R.p(e,B):(R=Ba(e),R.c(),R.m(g,null)):R&&(R.d(1),R=null)},d(F){F&&y(l),R&&R.d(),K.r(),X=!1,W()}}}function Ha(t){var Fe,pt,de,at,Xe,ol,Wt,Jt,cl,rl,Vt,Gt,ul,Ee,_e,Ut,Be,kt,fl,dl,ll,hl,Ml,yl,Cl,Rl,Ul,Bl;let e,l,n=(((pt=(Fe=t[2].conf)==null?void 0:Fe.mqtt)==null?void 0:pt.title)??"MQTT")+"",i,s,o,f,r,c,m,_=(((at=(de=t[2].conf)==null?void 0:de.mqtt)==null?void 0:at.server)??"Server")+"",d,b,w,v,M,g,A,L,j,P,U,q,K=(((ol=(Xe=t[2].conf)==null?void 0:Xe.mqtt)==null?void 0:ol.user)??"Username")+"",X,W,R,H,D,E,Y=(((Jt=(Wt=t[2].conf)==null?void 0:Wt.mqtt)==null?void 0:Jt.pass)??"Password")+"",z,F,B,Q,ne,V,ie,ce=(((rl=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:rl.id)??"Client ID")+"",oe,x,re,Z,$,ee,he,ge=(((Gt=(Vt=t[2].conf)==null?void 0:Vt.mqtt)==null?void 0:Gt.payload)??"Payload")+"",T,S,I,O,G,le,ae,fe,ue,me,Se,ke,qe,De,We=(((Ee=(ul=t[2].conf)==null?void 0:ul.mqtt)==null?void 0:Ee.publish)??"Publish topic")+"",Ge,Ze,ve,we,ot,rt,qt=(((Ut=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:Ut.subscribe)??"Subscribe topic")+"",vt,ft,dt,tt,ct,Xt,_t,yt=(((kt=(Be=t[2].conf)==null?void 0:Be.mqtt)==null?void 0:kt.update)??"Update method")+"",Ct,Ft,lt,ut=(((dl=(fl=t[2].conf)==null?void 0:fl.mqtt)==null?void 0:dl.interval)??"Interval")+"",Pe,Ae,$e,Je,be,Re=(((hl=(ll=t[2].conf)==null?void 0:ll.mqtt)==null?void 0:hl.realtime)??"Real time")+"",St,gt,et=(((yl=(Ml=t[2].conf)==null?void 0:Ml.mqtt)==null?void 0:yl.interval)??"Interval")+"",Oe,it,He,Te,Ue,Le,Ie=(((Rl=(Cl=t[2].conf)==null?void 0:Cl.mqtt)==null?void 0:Rl.timeout)??"Timeout")+"",Ye,nt,Lt,Bt=(((Bl=(Ul=t[2].conf)==null?void 0:Ul.mqtt)==null?void 0:Bl.keepalive)??"Keep-alive")+"",tl,xt,jt,Ot,sl,Dt,Qe,Rt,Ht,ht=t[0].chip!="esp8266"&&Wa(t),Me=t[7].q.s.e&&Ka(t);return{c(){var Ke,mt;e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),b=h(),ht&&ht.c(),w=h(),v=p("br"),M=h(),g=p("div"),A=p("input"),L=h(),j=p("input"),P=h(),Me&&Me.c(),U=h(),q=p("div"),X=k(K),W=p("br"),R=h(),H=p("input"),D=h(),E=p("div"),z=k(Y),F=p("br"),B=h(),Q=p("input"),ne=h(),V=p("div"),ie=p("div"),oe=k(ce),x=p("br"),re=h(),Z=p("input"),ee=h(),he=p("div"),T=k(ge),S=p("br"),I=h(),O=p("select"),G=p("option"),G.textContent="Raw (minimal)",le=p("option"),le.textContent="Raw (full)",ae=p("option"),ae.textContent="Domoticz",fe=p("option"),fe.textContent="Home-Assistant",ue=p("option"),ue.textContent="JSON (classic)",me=p("option"),me.textContent="JSON (multi topic)",Se=p("option"),Se.textContent="JSON (flat)",ke=p("option"),ke.textContent="HEX dump",qe=h(),De=p("div"),Ge=k(We),Ze=p("br"),ve=h(),we=p("input"),ot=h(),rt=p("div"),vt=k(qt),ft=p("br"),dt=h(),tt=p("input"),Xt=h(),_t=p("div"),Ct=k(yt),Ft=h(),lt=p("span"),Pe=k(ut),Ae=h(),$e=p("div"),Je=p("select"),be=p("option"),St=k(Re),gt=p("option"),Oe=k(et),it=h(),He=p("input"),Ue=h(),Le=p("div"),Ye=k(Ie),nt=h(),Lt=p("span"),tl=k(Bt),xt=h(),jt=p("div"),Ot=p("input"),sl=h(),Dt=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(A,"name","qh"),u(A,"type","text"),u(A,"class","in-f w-2/3"),u(A,"pattern",ln),u(j,"name","qp"),u(j,"type","number"),u(j,"min","1024"),u(j,"max","65535"),u(j,"class","in-l tr w-1/3"),u(g,"class","flex"),u(m,"class","my-1"),u(H,"name","qu"),u(H,"type","text"),u(H,"class","in-s"),u(H,"pattern",di),u(q,"class","my-1"),u(Q,"name","qa"),u(Q,"type","password"),u(Q,"class","in-s"),u(Q,"pattern",di),u(E,"class","my-1"),u(Z,"name","qc"),u(Z,"type","text"),u(Z,"class","in-f w-full"),Z.required=$=t[7].q.h,u(Z,"pattern",Yn),G.__value=1,J(G,G.__value),le.__value=2,J(le,le.__value),ae.__value=3,J(ae,ae.__value),fe.__value=4,J(fe,fe.__value),ue.__value=0,J(ue,ue.__value),me.__value=5,J(me,me.__value),Se.__value=6,J(Se,Se.__value),ke.__value=255,J(ke,ke.__value),u(O,"name","qm"),u(O,"class","in-l"),t[7].q.m===void 0&&Kt(()=>t[72].call(O)),u(V,"class","my-1 flex"),u(we,"name","qb"),u(we,"type","text"),u(we,"class","in-s"),u(we,"pattern",ln),u(De,"class","my-1"),u(tt,"name","qr"),u(tt,"type","text"),u(tt,"class","in-s"),u(tt,"pattern",ln),u(tt,"placeholder",ct=t[7].q.b+"/command"),u(rt,"class","my-1"),u(lt,"class","float-right"),be.__value=0,J(be,be.__value),gt.__value=1,J(gt,gt.__value),u(Je,"name","qt"),u(Je,"class","in-f w-1/2"),t[7].q.t===void 0&&Kt(()=>t[75].call(Je)),u(He,"name","qd"),u(He,"type","number"),u(He,"min","1"),u(He,"max","3600"),u(He,"class","in-l tr w-1/2"),He.disabled=Te=((mt=(Ke=t[7])==null?void 0:Ke.q)==null?void 0:mt.t)!=1,u($e,"class","flex"),u(_t,"class","my-1"),u(Lt,"class","float-right"),u(Ot,"name","qi"),u(Ot,"type","number"),u(Ot,"min","500"),u(Ot,"max","10000"),u(Ot,"class","in-f tr w-1/2"),u(Dt,"name","qk"),u(Dt,"type","number"),u(Dt,"min","5"),u(Dt,"max","180"),u(Dt,"class","in-l tr w-1/2"),u(jt,"class","flex"),u(Le,"class","my-1"),u(e,"class","cnt")},m(Ke,mt){C(Ke,e,mt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,b),ht&&ht.m(m,null),a(m,w),a(m,v),a(m,M),a(m,g),a(g,A),J(A,t[7].q.h),a(g,L),a(g,j),J(j,t[7].q.p),a(e,P),Me&&Me.m(e,null),a(e,U),a(e,q),a(q,X),a(q,W),a(q,R),a(q,H),J(H,t[7].q.u),a(e,D),a(e,E),a(E,z),a(E,F),a(E,B),a(E,Q),J(Q,t[7].q.a),a(e,ne),a(e,V),a(V,ie),a(ie,oe),a(ie,x),a(ie,re),a(ie,Z),J(Z,t[7].q.c),a(V,ee),a(V,he),a(he,T),a(he,S),a(he,I),a(he,O),a(O,G),a(O,le),a(O,ae),a(O,fe),a(O,ue),a(O,me),a(O,Se),a(O,ke),st(O,t[7].q.m,!0),a(e,qe),a(e,De),a(De,Ge),a(De,Ze),a(De,ve),a(De,we),J(we,t[7].q.b),a(e,ot),a(e,rt),a(rt,vt),a(rt,ft),a(rt,dt),a(rt,tt),J(tt,t[7].q.r),a(e,Xt),a(e,_t),a(_t,Ct),a(_t,Ft),a(_t,lt),a(lt,Pe),a(_t,Ae),a(_t,$e),a($e,Je),a(Je,be),a(be,St),a(Je,gt),a(gt,Oe),st(Je,t[7].q.t,!0),a($e,it),a($e,He),J(He,t[7].q.d),a(e,Ue),a(e,Le),a(Le,Ye),a(Le,nt),a(Le,Lt),a(Lt,tl),a(Le,xt),a(Le,jt),a(jt,Ot),J(Ot,t[7].q.i),a(jt,sl),a(jt,Dt),J(Dt,t[7].q.k),Qe=!0,Rt||(Ht=[pe(A,"input",t[67]),pe(j,"input",t[68]),pe(H,"input",t[69]),pe(Q,"input",t[70]),pe(Z,"input",t[71]),pe(O,"change",t[72]),pe(we,"input",t[73]),pe(tt,"input",t[74]),pe(Je,"change",t[75]),pe(He,"input",t[76]),pe(Ot,"input",t[77]),pe(Dt,"input",t[78])],Rt=!0)},p(Ke,mt){var jl,Hl,Wl,Kl,zl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,Mt,el,$l,xl,Mn,yn,Cn,Nn,Pn,Tn,En,An,qn,Ln,Dn,On,In;(!Qe||mt[0]&4)&&n!==(n=(((Hl=(jl=Ke[2].conf)==null?void 0:jl.mqtt)==null?void 0:Hl.title)??"MQTT")+"")&&N(i,n),(!Qe||mt[0]&4)&&_!==(_=(((Kl=(Wl=Ke[2].conf)==null?void 0:Wl.mqtt)==null?void 0:Kl.server)??"Server")+"")&&N(d,_),Ke[0].chip!="esp8266"?ht?ht.p(Ke,mt):(ht=Wa(Ke),ht.c(),ht.m(m,w)):ht&&(ht.d(1),ht=null),mt[0]&128&&A.value!==Ke[7].q.h&&J(A,Ke[7].q.h),mt[0]&128&&wt(j.value)!==Ke[7].q.p&&J(j,Ke[7].q.p),Ke[7].q.s.e?Me?(Me.p(Ke,mt),mt[0]&128&&te(Me,1)):(Me=Ka(Ke),Me.c(),te(Me,1),Me.m(e,U)):Me&&(Nt(),se(Me,1,1,()=>{Me=null}),Pt()),(!Qe||mt[0]&4)&&K!==(K=(((Vl=(zl=Ke[2].conf)==null?void 0:zl.mqtt)==null?void 0:Vl.user)??"Username")+"")&&N(X,K),mt[0]&128&&H.value!==Ke[7].q.u&&J(H,Ke[7].q.u),(!Qe||mt[0]&4)&&Y!==(Y=(((Yl=(Gl=Ke[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.pass)??"Password")+"")&&N(z,Y),mt[0]&128&&Q.value!==Ke[7].q.a&&J(Q,Ke[7].q.a),(!Qe||mt[0]&4)&&ce!==(ce=(((Jl=(Xl=Ke[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.id)??"Client ID")+"")&&N(oe,ce),(!Qe||mt[0]&128&&$!==($=Ke[7].q.h))&&(Z.required=$),mt[0]&128&&Z.value!==Ke[7].q.c&&J(Z,Ke[7].q.c),(!Qe||mt[0]&4)&&ge!==(ge=(((Zl=(Ql=Ke[2].conf)==null?void 0:Ql.mqtt)==null?void 0:Zl.payload)??"Payload")+"")&&N(T,ge),mt[0]&128&&st(O,Ke[7].q.m),(!Qe||mt[0]&4)&&We!==(We=(((Mt=(je=Ke[2].conf)==null?void 0:je.mqtt)==null?void 0:Mt.publish)??"Publish topic")+"")&&N(Ge,We),mt[0]&128&&we.value!==Ke[7].q.b&&J(we,Ke[7].q.b),(!Qe||mt[0]&4)&&qt!==(qt=((($l=(el=Ke[2].conf)==null?void 0:el.mqtt)==null?void 0:$l.subscribe)??"Subscribe topic")+"")&&N(vt,qt),(!Qe||mt[0]&128&&ct!==(ct=Ke[7].q.b+"/command"))&&u(tt,"placeholder",ct),mt[0]&128&&tt.value!==Ke[7].q.r&&J(tt,Ke[7].q.r),(!Qe||mt[0]&4)&&yt!==(yt=(((Mn=(xl=Ke[2].conf)==null?void 0:xl.mqtt)==null?void 0:Mn.update)??"Update method")+"")&&N(Ct,yt),(!Qe||mt[0]&4)&&ut!==(ut=(((Cn=(yn=Ke[2].conf)==null?void 0:yn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&N(Pe,ut),(!Qe||mt[0]&4)&&Re!==(Re=(((Pn=(Nn=Ke[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Pn.realtime)??"Real time")+"")&&N(St,Re),(!Qe||mt[0]&4)&&et!==(et=(((En=(Tn=Ke[2].conf)==null?void 0:Tn.mqtt)==null?void 0:En.interval)??"Interval")+"")&&N(Oe,et),mt[0]&128&&st(Je,Ke[7].q.t),(!Qe||mt[0]&128&&Te!==(Te=((qn=(An=Ke[7])==null?void 0:An.q)==null?void 0:qn.t)!=1))&&(He.disabled=Te),mt[0]&128&&wt(He.value)!==Ke[7].q.d&&J(He,Ke[7].q.d),(!Qe||mt[0]&4)&&Ie!==(Ie=(((Dn=(Ln=Ke[2].conf)==null?void 0:Ln.mqtt)==null?void 0:Dn.timeout)??"Timeout")+"")&&N(Ye,Ie),(!Qe||mt[0]&4)&&Bt!==(Bt=(((In=(On=Ke[2].conf)==null?void 0:On.mqtt)==null?void 0:In.keepalive)??"Keep-alive")+"")&&N(tl,Bt),mt[0]&128&&wt(Ot.value)!==Ke[7].q.i&&J(Ot,Ke[7].q.i),mt[0]&128&&wt(Dt.value)!==Ke[7].q.k&&J(Dt,Ke[7].q.k)},i(Ke){Qe||(te(Me),Qe=!0)},o(Ke){se(Me),Qe=!1},d(Ke){Ke&&y(e),ht&&ht.d(),Me&&Me.d(),Rt=!1,zt(Ht)}}}function Wa(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=k(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",J(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){C(o,e,f),a(e,l),l.checked=t[7].q.s.e,a(e,n),i||(s=[pe(l,"change",t[66]),pe(l,"change",t[21])],i=!0)},p(o,f){f[0]&128&&(l.checked=o[7].q.s.e)},d(o){o&&y(e),i=!1,zt(s)}}}function Ka(t){let e,l,n,i,s,o,f,r,c,m,_,d,b;const w=[Y1,G1],v=[];function M(q,K){return q[7].q.s.c?0:1}n=M(t),i=v[n]=w[n](t);const g=[Z1,Q1],A=[];function L(q,K){return q[7].q.s.r?0:1}f=L(t),r=A[f]=g[f](t);const j=[tm,em],P=[];function U(q,K){return q[7].q.s.k?0:1}return _=U(t),d=P[_]=j[_](t),{c(){e=p("div"),l=p("span"),i.c(),s=h(),o=p("span"),r.c(),c=h(),m=p("span"),d.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(q,K){C(q,e,K),a(e,l),v[n].m(l,null),a(e,s),a(e,o),A[f].m(o,null),a(e,c),a(e,m),P[_].m(m,null),b=!0},p(q,K){let X=n;n=M(q),n===X?v[n].p(q,K):(Nt(),se(v[X],1,1,()=>{v[X]=null}),Pt(),i=v[n],i?i.p(q,K):(i=v[n]=w[n](q),i.c()),te(i,1),i.m(l,null));let W=f;f=L(q),f===W?A[f].p(q,K):(Nt(),se(A[W],1,1,()=>{A[W]=null}),Pt(),r=A[f],r?r.p(q,K):(r=A[f]=g[f](q),r.c()),te(r,1),r.m(o,null));let R=_;_=U(q),_===R?P[_].p(q,K):(Nt(),se(P[R],1,1,()=>{P[R]=null}),Pt(),d=P[_],d?d.p(q,K):(d=P[_]=j[_](q),d.c()),te(d,1),d.m(m,null))},i(q){b||(te(i),te(r),te(d),b=!0)},o(q){se(i),se(r),se(d),b=!1},d(q){q&&y(e),v[n].d(),A[f].d(),P[_].d()}}}function G1(t){let e,l;return e=new vl({props:{to:"/mqtt-ca",$$slots:{default:[X1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Y1(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-ca",$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[pe(i,"click",t[18]),pe(i,"keypress",t[18])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(y(e),y(n),y(i)),Ce(l),o=!1,zt(f)}}}function X1(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,b;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((b=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_ca)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function J1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&N(l,e)},d(s){s&&y(l)}}}function Q1(t){let e,l;return e=new vl({props:{to:"/mqtt-cert",$$slots:{default:[$1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Z1(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-cert",$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[pe(i,"click",t[19]),pe(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(y(e),y(n),y(i)),Ce(l),o=!1,zt(f)}}}function $1(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,b;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((b=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_crt)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function x1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&N(l,e)},d(s){s&&y(l)}}}function em(t){let e,l;return e=new vl({props:{to:"/mqtt-key",$$slots:{default:[lm]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function tm(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-key",$$slots:{default:[nm]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),ye(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[pe(i,"click",t[20]),pe(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(te(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(y(e),y(n),y(i)),Ce(l),o=!1,zt(f)}}}function lm(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){ye(e,f,r),l=!0},p(f,r){var m,_,d,b;const c={};r[0]&4&&(c.text=((_=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:_.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((b=(d=f[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_key)??""),e.$set(c)},i(f){l||(te(e.$$.fragment,f),l=!0)},o(f){se(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function nm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=k(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&N(l,e)},d(s){s&&y(l)}}}function za(t){var V,ie,ce,oe,x,re,Z,$,ee,he,ge,T;let e,l,n=(((ce=(ie=(V=t[2].conf)==null?void 0:V.mqtt)==null?void 0:ie.domoticz)==null?void 0:ce.title)??"Domoticz")+"",i,s,o,f,r,c,m,_,d=(((re=(x=(oe=t[2].conf)==null?void 0:oe.mqtt)==null?void 0:x.domoticz)==null?void 0:re.eidx)??"Electricity IDX")+"",b,w,v,M,g,A,L=(((ee=($=(Z=t[2].conf)==null?void 0:Z.mqtt)==null?void 0:$.domoticz)==null?void 0:ee.cidx)??"Current IDX")+"",j,P,U,q,K,X,W=(((T=(ge=(he=t[2].conf)==null?void 0:he.mqtt)==null?void 0:ge.domoticz)==null?void 0:T.vidx)??"Voltage IDX")+"",R,H,D,E,Y,z,F,B,Q,ne;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=p("div"),b=k(d),w=p("br"),v=h(),M=p("input"),g=h(),A=p("div"),j=k(L),P=p("br"),U=h(),q=p("input"),K=h(),X=p("div"),R=k(W),H=k(`: L1, L2 & L3
                    `),D=p("div"),E=p("input"),Y=h(),z=p("input"),F=h(),B=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(M,"name","oe"),u(M,"type","text"),u(M,"class","in-f tr w-full"),u(M,"pattern",Fn),u(_,"class","w-1/2"),u(q,"name","oc"),u(q,"type","text"),u(q,"class","in-l tr w-full"),u(q,"pattern",Fn),u(A,"class","w-1/2"),u(m,"class","my-1 flex"),u(E,"name","ou1"),u(E,"type","text"),u(E,"class","in-f tr w-1/3"),u(E,"pattern",Fn),u(z,"name","ou2"),u(z,"type","text"),u(z,"class","in-m tr w-1/3"),u(z,"pattern",Fn),u(B,"name","ou3"),u(B,"type","text"),u(B,"class","in-l tr w-1/3"),u(B,"pattern",Fn),u(D,"class","flex"),u(X,"class","my-1"),u(e,"class","cnt")},m(S,I){C(S,e,I),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(_,b),a(_,w),a(_,v),a(_,M),J(M,t[7].o.e),a(m,g),a(m,A),a(A,j),a(A,P),a(A,U),a(A,q),J(q,t[7].o.c),a(e,K),a(e,X),a(X,R),a(X,H),a(X,D),a(D,E),J(E,t[7].o.u1),a(D,Y),a(D,z),J(z,t[7].o.u2),a(D,F),a(D,B),J(B,t[7].o.u3),Q||(ne=[pe(M,"input",t[79]),pe(q,"input",t[80]),pe(E,"input",t[81]),pe(z,"input",t[82]),pe(B,"input",t[83])],Q=!0)},p(S,I){var O,G,le,ae,fe,ue,me,Se,ke,qe,De,We;I[0]&4&&n!==(n=(((le=(G=(O=S[2].conf)==null?void 0:O.mqtt)==null?void 0:G.domoticz)==null?void 0:le.title)??"Domoticz")+"")&&N(i,n),I[0]&4&&d!==(d=(((ue=(fe=(ae=S[2].conf)==null?void 0:ae.mqtt)==null?void 0:fe.domoticz)==null?void 0:ue.eidx)??"Electricity IDX")+"")&&N(b,d),I[0]&128&&M.value!==S[7].o.e&&J(M,S[7].o.e),I[0]&4&&L!==(L=(((ke=(Se=(me=S[2].conf)==null?void 0:me.mqtt)==null?void 0:Se.domoticz)==null?void 0:ke.cidx)??"Current IDX")+"")&&N(j,L),I[0]&128&&q.value!==S[7].o.c&&J(q,S[7].o.c),I[0]&4&&W!==(W=(((We=(De=(qe=S[2].conf)==null?void 0:qe.mqtt)==null?void 0:De.domoticz)==null?void 0:We.vidx)??"Voltage IDX")+"")&&N(R,W),I[0]&128&&E.value!==S[7].o.u1&&J(E,S[7].o.u1),I[0]&128&&z.value!==S[7].o.u2&&J(z,S[7].o.u2),I[0]&128&&B.value!==S[7].o.u3&&J(B,S[7].o.u3)},d(S){S&&y(e),Q=!1,zt(ne)}}}function Va(t){var F,B,Q,ne,V,ie,ce,oe,x,re,Z,$;let e,l,n=(((Q=(B=(F=t[2].conf)==null?void 0:F.mqtt)==null?void 0:B.ha)==null?void 0:Q.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,_=(((ie=(V=(ne=t[2].conf)==null?void 0:ne.mqtt)==null?void 0:V.ha)==null?void 0:ie.discovery)??"Discovery topic prefix")+"",d,b,w,v,M,g,A=(((x=(oe=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:oe.ha)==null?void 0:x.hostname)??"Hostname for URL")+"",L,j,P,U,q,K,X,W=((($=(Z=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:Z.ha)==null?void 0:$.tag)??"Name tag")+"",R,H,D,E,Y,z;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=k(_),b=p("br"),w=h(),v=p("input"),M=h(),g=p("div"),L=k(A),j=p("br"),P=h(),U=p("input"),K=h(),X=p("div"),R=k(W),H=p("br"),D=h(),E=p("input"),u(l,"class","text-sm"),u(o,"href",Al("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(v,"name","ht"),u(v,"type","text"),u(v,"class","in-s"),u(v,"placeholder","homeassistant"),u(v,"pattern",ln),u(m,"class","my-1"),u(U,"name","hh"),u(U,"type","text"),u(U,"class","in-s"),u(U,"placeholder",q=t[7].g.h+".local"),u(U,"pattern",ln),u(g,"class","my-1"),u(E,"name","hn"),u(E,"type","text"),u(E,"class","in-s"),u(E,"pattern",ln),u(X,"class","my-1"),u(e,"class","cnt")},m(ee,he){C(ee,e,he),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,b),a(m,w),a(m,v),J(v,t[7].h.t),a(e,M),a(e,g),a(g,L),a(g,j),a(g,P),a(g,U),J(U,t[7].h.h),a(e,K),a(e,X),a(X,R),a(X,H),a(X,D),a(X,E),J(E,t[7].h.n),Y||(z=[pe(v,"input",t[84]),pe(U,"input",t[85]),pe(E,"input",t[86])],Y=!0)},p(ee,he){var ge,T,S,I,O,G,le,ae,fe,ue,me,Se;he[0]&4&&n!==(n=(((S=(T=(ge=ee[2].conf)==null?void 0:ge.mqtt)==null?void 0:T.ha)==null?void 0:S.title)??"Home-Assistant")+"")&&N(i,n),he[0]&4&&_!==(_=(((G=(O=(I=ee[2].conf)==null?void 0:I.mqtt)==null?void 0:O.ha)==null?void 0:G.discovery)??"Discovery topic prefix")+"")&&N(d,_),he[0]&128&&v.value!==ee[7].h.t&&J(v,ee[7].h.t),he[0]&4&&A!==(A=(((fe=(ae=(le=ee[2].conf)==null?void 0:le.mqtt)==null?void 0:ae.ha)==null?void 0:fe.hostname)??"Hostname for URL")+"")&&N(L,A),he[0]&128&&q!==(q=ee[7].g.h+".local")&&u(U,"placeholder",q),he[0]&128&&U.value!==ee[7].h.h&&J(U,ee[7].h.h),he[0]&4&&W!==(W=(((Se=(me=(ue=ee[2].conf)==null?void 0:ue.mqtt)==null?void 0:me.ha)==null?void 0:Se.tag)??"Name tag")+"")&&N(R,W),he[0]&128&&E.value!==ee[7].h.n&&J(E,ee[7].h.n)},d(ee){ee&&y(e),Y=!1,zt(z)}}}function Ga(t){var W,R,H,D,E;let e,l,n=(((R=(W=t[2].conf)==null?void 0:W.thresholds)==null?void 0:R.title)??"Thresholds")+"",i,s,o,f,r,c,m,_,d,b,w=(((D=(H=t[2].conf)==null?void 0:H.thresholds)==null?void 0:D.avg)??"Average of")+"",v,M,g,A,L,j=(((E=t[2].common)==null?void 0:E.hours)??"hours")+"",P,U,q,K=xe({length:9}),X=[];for(let Y=0;Y<K.length;Y+=1)X[Y]=Ya(ga(t,K,Y));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let Y=0;Y<X.length;Y+=1)X[Y].c();_=h(),d=p("label"),b=p("span"),v=k(w),M=h(),g=p("input"),A=h(),L=p("span"),P=k(j),u(l,"class","text-sm"),u(o,"href",Al("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(b,"class","in-pre"),u(g,"name","th"),u(g,"type","number"),u(g,"min","0"),u(g,"max","255"),u(g,"class","in-txt tr w-full"),u(L,"class","in-post"),u(d,"class","flex m-1"),u(e,"class","cnt")},m(Y,z){C(Y,e,z),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let F=0;F<X.length;F+=1)X[F]&&X[F].m(m,null);a(e,_),a(e,d),a(d,b),a(b,v),a(d,M),a(d,g),J(g,t[7].t.h),a(d,A),a(d,L),a(L,P),U||(q=pe(g,"input",t[88]),U=!0)},p(Y,z){var F,B,Q,ne,V;if(z[0]&4&&n!==(n=(((B=(F=Y[2].conf)==null?void 0:F.thresholds)==null?void 0:B.title)??"Thresholds")+"")&&N(i,n),z[0]&128){K=xe({length:9});let ie;for(ie=0;ie<K.length;ie+=1){const ce=ga(Y,K,ie);X[ie]?X[ie].p(ce,z):(X[ie]=Ya(ce),X[ie].c(),X[ie].m(m,null))}for(;ie<X.length;ie+=1)X[ie].d(1);X.length=K.length}z[0]&4&&w!==(w=(((ne=(Q=Y[2].conf)==null?void 0:Q.thresholds)==null?void 0:ne.avg)??"Average of")+"")&&N(v,w),z[0]&128&&wt(g.value)!==Y[7].t.h&&J(g,Y[7].t.h),z[0]&4&&j!==(j=(((V=Y[2].common)==null?void 0:V.hours)??"hours")+"")&&N(P,j)},d(Y){Y&&y(e),Zt(X,Y),U=!1,q()}}}function Ya(t){let e,l,n,i,s,o,f,r,c;function m(){t[87].call(i,t[102])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[102]+1}`,n=h(),i=p("input"),s=h(),o=p("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[102]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(_,d){C(_,e,d),a(e,l),a(e,n),a(e,i),J(i,t[7].t.t[t[102]]),a(e,s),a(e,o),a(e,f),r||(c=pe(i,"input",m),r=!0)},p(_,d){t=_,d[0]&128&&wt(i.value)!==t[7].t.t[t[102]]&&J(i,t[7].t.t[t[102]])},d(_){_&&y(e),r=!1,c()}}}function Xa(t){var b,w;let e,l,n=(((w=(b=t[2].conf)==null?void 0:b.ui)==null?void 0:w.title)??"User interface")+"",i,s,o,f,r,c,m,_=xe(t[14]),d=[];for(let v=0;v<_.length;v+=1)d[v]=Ja(va(t,_,v));return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let v=0;v<d.length;v+=1)d[v].c();u(l,"class","text-sm"),u(o,"href",Al("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(v,M){C(v,e,M),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(m,null)},p(v,M){var g,A;if(M[0]&4&&n!==(n=(((A=(g=v[2].conf)==null?void 0:g.ui)==null?void 0:A.title)??"User interface")+"")&&N(i,n),M[0]&16516){_=xe(v[14]);let L;for(L=0;L<_.length;L+=1){const j=va(v,_,L);d[L]?d[L].p(j,M):(d[L]=Ja(j),d[L].c(),d[L].m(m,null))}for(;L<d.length;L+=1)d[L].d(1);d.length=_.length}},d(v){v&&y(e),Zt(d,v)}}}function Ja(t){var j,P,U,q,K,X,W,R;let e,l=(((P=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:P[t[97].key])??t[97].name)+"",n,i,s,o,f,r=(((q=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:q.disabled)??"Disabled")+"",c,m,_=(((X=(K=t[2].conf)==null?void 0:K.ui)==null?void 0:X.enabled)??"Enabled")+"",d,b,w=(((R=(W=t[2].conf)==null?void 0:W.ui)==null?void 0:R.auto)??"Auto")+"",v,M,g,A;function L(){t[89].call(o,t[97])}return{c(){e=p("div"),n=k(l),i=p("br"),s=h(),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),b=p("option"),v=k(w),M=h(),f.__value=0,J(f,f.__value),m.__value=1,J(m,m.__value),b.__value=2,J(b,b.__value),u(o,"name","u"+t[97].key),u(o,"class","in-s"),t[7].u[t[97].key]===void 0&&Kt(L),u(e,"class","w-1/2")},m(H,D){C(H,e,D),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,b),a(b,v),st(o,t[7].u[t[97].key],!0),a(e,M),g||(A=pe(o,"change",L),g=!0)},p(H,D){var E,Y,z,F,B,Q,ne,V;t=H,D[0]&4&&l!==(l=(((Y=(E=t[2].conf)==null?void 0:E.ui)==null?void 0:Y[t[97].key])??t[97].name)+"")&&N(n,l),D[0]&4&&r!==(r=(((F=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:F.disabled)??"Disabled")+"")&&N(c,r),D[0]&4&&_!==(_=(((Q=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:Q.enabled)??"Enabled")+"")&&N(d,_),D[0]&4&&w!==(w=(((V=(ne=t[2].conf)==null?void 0:ne.ui)==null?void 0:V.auto)??"Auto")+"")&&N(v,w),D[0]&16512&&st(o,t[7].u[t[97].key])},d(H){H&&y(e),g=!1,A()}}}function Qa(t){var d,b;let e,l,n=(((d=t[2].conf)==null?void 0:d.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((b=t[2].btn)==null?void 0:b.reboot)??"Reboot")+"",c,m,_;return{c(){e=p("div"),l=p("button"),i=k(n),s=h(),o=p("div"),f=p("button"),c=k(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(w,v){C(w,e,v),a(e,l),a(l,i),C(w,s,v),C(w,o,v),a(o,f),a(f,c),m||(_=[pe(l,"click",t[15]),pe(f,"click",t[17])],m=!0)},p(w,v){var M,g;v[0]&4&&n!==(n=(((M=w[2].conf)==null?void 0:M.btn_reset)??"Factory reset")+"")&&N(i,n),v[0]&4&&r!==(r=(((g=w[2].btn)==null?void 0:g.reboot)??"Reboot")+"")&&N(c,r)},d(w){w&&(y(e),y(s),y(o)),m=!1,zt(_)}}}function Za(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=k(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&N(i,n)},d(o){o&&y(e)}}}function im(t){var V,ie,ce,oe,x,re,Z,$,ee,he,ge,T,S,I,O,G,le,ae,fe,ue,me,Se,ke,qe,De,We,Ge,Ze;let e,l,n,i,s,o,f,r,c,m=((ce=(ie=(V=t[7])==null?void 0:V.p)==null?void 0:ie.r)==null?void 0:ce.startsWith("NO"))||((re=(x=(oe=t[7])==null?void 0:oe.p)==null?void 0:x.r)==null?void 0:re.startsWith("10YNO"))||((ee=($=(Z=t[7])==null?void 0:Z.p)==null?void 0:$.r)==null?void 0:ee.startsWith("10Y1001A1001A4")),_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W=((he=t[7])==null?void 0:he.g)&&Sa(t),R=((ge=t[7])==null?void 0:ge.fw)&&Pa(t),H=((T=t[7])==null?void 0:T.m)&&Ta(t),D=((S=t[7])==null?void 0:S.w)&&Fa(t),E=((I=t[7])==null?void 0:I.q)&&Ha(t),Y=((G=(O=t[7])==null?void 0:O.q)==null?void 0:G.m)==3&&za(t),z=((ae=(le=t[7])==null?void 0:le.q)==null?void 0:ae.m)==4&&Va(t),F=m&&Ga(t),B=((fe=t[7])==null?void 0:fe.u)&&Xa(t),Q=((ue=t[1])==null?void 0:ue.a)&&Qa(t),ne=t[7]&&Za(t);return M=new pl({props:{active:t[5],message:((Se=(me=t[2].conf)==null?void 0:me.mask)==null?void 0:Se.loading)??"Loading"}}),A=new pl({props:{active:t[6],message:((qe=(ke=t[2].conf)==null?void 0:ke.mask)==null?void 0:qe.saving)??"Saving"}}),j=new pl({props:{active:t[11],message:((We=(De=t[2].conf)==null?void 0:De.mask)==null?void 0:We.reset)??"Factory reset"}}),U=new pl({props:{active:t[12],message:((Ze=(Ge=t[2].conf)==null?void 0:Ge.mask)==null?void 0:Ze.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),W&&W.c(),n=h(),R&&R.c(),i=h(),H&&H.c(),s=h(),D&&D.c(),o=h(),E&&E.c(),f=h(),Y&&Y.c(),r=h(),z&&z.c(),c=h(),F&&F.c(),_=h(),B&&B.c(),d=h(),b=p("div"),Q&&Q.c(),w=h(),ne&&ne.c(),v=h(),Ne(M.$$.fragment),g=h(),Ne(A.$$.fragment),L=h(),Ne(j.$$.fragment),P=h(),Ne(U.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(b,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(ve,we){C(ve,e,we),a(e,l),W&&W.m(l,null),a(l,n),R&&R.m(l,null),a(l,i),H&&H.m(l,null),a(l,s),D&&D.m(l,null),a(l,o),E&&E.m(l,null),a(l,f),Y&&Y.m(l,null),a(l,r),z&&z.m(l,null),a(l,c),F&&F.m(l,null),a(l,_),B&&B.m(l,null),a(e,d),a(e,b),Q&&Q.m(b,null),a(b,w),ne&&ne.m(b,null),C(ve,v,we),ye(M,ve,we),C(ve,g,we),ye(A,ve,we),C(ve,L,we),ye(j,ve,we),C(ve,P,we),ye(U,ve,we),q=!0,K||(X=pe(e,"submit",mn(t[16])),K=!0)},p(ve,we){var ft,dt,tt,ct,Xt,_t,yt,Ct,Ft,lt,ut,Pe,Ae,$e,Je,be,Re,St,gt,et,Oe,it,He,Te,Ue,Le,Ie,Ye;(ft=ve[7])!=null&&ft.g?W?(W.p(ve,we),we[0]&128&&te(W,1)):(W=Sa(ve),W.c(),te(W,1),W.m(l,n)):W&&(Nt(),se(W,1,1,()=>{W=null}),Pt()),(dt=ve[7])!=null&&dt.fw?R?R.p(ve,we):(R=Pa(ve),R.c(),R.m(l,i)):R&&(R.d(1),R=null),(tt=ve[7])!=null&&tt.m?H?H.p(ve,we):(H=Ta(ve),H.c(),H.m(l,s)):H&&(H.d(1),H=null),(ct=ve[7])!=null&&ct.w?D?D.p(ve,we):(D=Fa(ve),D.c(),D.m(l,o)):D&&(D.d(1),D=null),(Xt=ve[7])!=null&&Xt.q?E?(E.p(ve,we),we[0]&128&&te(E,1)):(E=Ha(ve),E.c(),te(E,1),E.m(l,f)):E&&(Nt(),se(E,1,1,()=>{E=null}),Pt()),((yt=(_t=ve[7])==null?void 0:_t.q)==null?void 0:yt.m)==3?Y?Y.p(ve,we):(Y=za(ve),Y.c(),Y.m(l,r)):Y&&(Y.d(1),Y=null),((Ft=(Ct=ve[7])==null?void 0:Ct.q)==null?void 0:Ft.m)==4?z?z.p(ve,we):(z=Va(ve),z.c(),z.m(l,c)):z&&(z.d(1),z=null),we[0]&128&&(m=((Pe=(ut=(lt=ve[7])==null?void 0:lt.p)==null?void 0:ut.r)==null?void 0:Pe.startsWith("NO"))||((Je=($e=(Ae=ve[7])==null?void 0:Ae.p)==null?void 0:$e.r)==null?void 0:Je.startsWith("10YNO"))||((St=(Re=(be=ve[7])==null?void 0:be.p)==null?void 0:Re.r)==null?void 0:St.startsWith("10Y1001A1001A4"))),m?F?F.p(ve,we):(F=Ga(ve),F.c(),F.m(l,_)):F&&(F.d(1),F=null),(gt=ve[7])!=null&&gt.u?B?B.p(ve,we):(B=Xa(ve),B.c(),B.m(l,null)):B&&(B.d(1),B=null),(et=ve[1])!=null&&et.a?Q?Q.p(ve,we):(Q=Qa(ve),Q.c(),Q.m(b,w)):Q&&(Q.d(1),Q=null),ve[7]?ne?ne.p(ve,we):(ne=Za(ve),ne.c(),ne.m(b,null)):ne&&(ne.d(1),ne=null);const ot={};we[0]&32&&(ot.active=ve[5]),we[0]&4&&(ot.message=((it=(Oe=ve[2].conf)==null?void 0:Oe.mask)==null?void 0:it.loading)??"Loading"),M.$set(ot);const rt={};we[0]&64&&(rt.active=ve[6]),we[0]&4&&(rt.message=((Te=(He=ve[2].conf)==null?void 0:He.mask)==null?void 0:Te.saving)??"Saving"),A.$set(rt);const qt={};we[0]&2048&&(qt.active=ve[11]),we[0]&4&&(qt.message=((Le=(Ue=ve[2].conf)==null?void 0:Ue.mask)==null?void 0:Le.reset)??"Factory reset"),j.$set(qt);const vt={};we[0]&4096&&(vt.active=ve[12]),we[0]&4&&(vt.message=((Ye=(Ie=ve[2].conf)==null?void 0:Ie.mask)==null?void 0:Ye.reset_done)??"Done"),U.$set(vt)},i(ve){q||(te(W),te(E),te(M.$$.fragment,ve),te(A.$$.fragment,ve),te(j.$$.fragment,ve),te(U.$$.fragment,ve),q=!0)},o(ve){se(W),se(E),se(M.$$.fragment,ve),se(A.$$.fragment,ve),se(j.$$.fragment,ve),se(U.$$.fragment,ve),q=!1},d(ve){ve&&(y(e),y(v),y(g),y(L),y(P)),W&&W.d(),R&&R.d(),H&&H.d(),D&&D.d(),E&&E.d(),Y&&Y.d(),z&&z.d(),F&&F.d(),B&&B.d(),Q&&Q.d(),ne&&ne.d(),Ce(M,ve),Ce(A,ve),Ce(j,ve),Ce(U,ve),K=!1,X()}}}async function sm(){await(await fetch("reboot",{method:"POST"})).json()}function si(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function om(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:cs,medium:us,low:fs,off:ms};o.off;let f={};Sl.subscribe(Te=>{l(2,f=Te)});let r=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],c=!0,m=!1,_,d=[],b="",w=null;gn.subscribe(Te=>{var Ue,Le,Ie,Ye;if(Te.version){(Ue=Te==null?void 0:Te.c)==null||Ue.e,l(7,_=Te),l(5,c=!1);const nt=((Le=f.consent)==null?void 0:Le.load_from_server)??"Load from server";l(3,d=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),_!=null&&_.fw?l(7,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(7,_={..._,fw:{a:!1,s:2,e:3}}),(Ie=_==null?void 0:_.u)!=null&&Ie.lang&&!d.find(Lt=>Lt.code===_.u.lang)&&d.push({code:_.u.lang,name:((Ye=f.language)==null?void 0:Ye.name)??"Unknown"}),d.push({code:"hub",name:nt})}}),au();let v={},M=[];lu.subscribe(Te=>{var Ue;for(let Le=0;Le<Te.n.length&&Te.n[Le].s!=((Ue=_==null?void 0:_.w)==null?void 0:Ue.s);Le++);l(4,v=Te)});let g=!1,A=!1;async function L(){if(confirm("Factory reset?")){l(11,g=!0);const Te=new URLSearchParams;Te.append("perform","true");let Le=await(await fetch("reset",{method:"POST",body:Te})).json();l(11,g=!1),l(12,A=Le.success)}}async function j(Te){l(6,m=!0);const Ue=new FormData(Te.target),Le=new URLSearchParams;for(let nt of Ue){const[Lt,Bt]=nt;Le.append(Lt,Bt)}let Ye=await(await fetch("save",{method:"POST",body:Le})).json();ml.update(nt=>(nt.hostname=Ue.get("gh"),nt.usrcfg=Ye.success,nt.booting=Ye.reboot,Ue.get("nm")=="static"&&(nt.net.ip=Ue.get("ni"),nt.net.mask=Ue.get("nu"),nt.net.gw=Ue.get("ng"),nt.net.dns1=Ue.get("nd")),nt.ui=_.u,nt)),l(6,m=!1),Ol(n)}const P=function(){confirm("Reboot?")&&(ml.update(Te=>(Te.booting=!0,Te)),sm())};async function U(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),gn.update(Ue=>(Ue.q.s.c=!1,Ue)))}async function q(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),gn.update(Ue=>(Ue.q.s.r=!1,Ue)))}async function K(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),gn.update(Ue=>(Ue.q.s.k=!1,Ue)))}const X=function(){_.q.s.e?_.q.p==1883&&l(7,_.q.p=8883,_):_.q.p==8883&&l(7,_.q.p=1883,_)};async function W(){if(_.u.lang=="hub"){const Te=await wl("http://hub.amsleser.no/hub/language/list.json");l(3,d=await Te.json()),l(7,_.u.lang=f.language.code,_);return}_.u.lang&&await ki(_.u.lang)}function R(Te){l(8,b=Te);const Ue=fu(Te);if(l(9,w=Ue??null),!Ue||!(_!=null&&_.m))return;const Le=Tl(_.m),Ie=uu(Le,Ue),Ye=cu(_.m,Ie);l(7,_={..._,m:Ye})}function H(){l(8,b=""),l(9,w=null)}async function D(){l(7,_.p.e=!0,_)}const E=window||global;E.bindToCloud=function(){console.log("BIND CALLED")};const Y=[[]];function z(){_.g.h=this.value,l(7,_)}function F(){_.g.t=nl(this),l(7,_)}function B(){_.u.lang=nl(this),l(7,_)}function Q(){_.p.r=nl(this),l(7,_)}function ne(){_.p.c=nl(this),l(7,_)}function V(){_.p.e=this.checked,l(7,_)}function ie(){_.p.t=this.value,l(7,_)}function ce(){_.g.s=nl(this),l(7,_)}function oe(){_.g.u=this.value,l(7,_)}function x(){_.g.p=this.value,l(7,_)}function re(){_.g.c=this.value,l(7,_)}function Z(){_.fw.a=this.checked,l(7,_)}function $(){_.fw.s=wt(this.value),l(7,_)}function ee(){_.fw.e=wt(this.value),l(7,_)}function he(){b=nl(this),l(8,b)}const ge=Te=>R(Te.target.value);function T(){_.m.a=nl(this),l(7,_)}function S(){_.m.b=wt(this.value),l(7,_)}function I(){_.m.i=this.checked,l(7,_)}function O(){_.m.b=nl(this),l(7,_)}function G(){_.m.p=nl(this),l(7,_)}function le(){_.m.s=wt(this.value),l(7,_)}function ae(){_.m.d=nl(this),l(7,_)}function fe(){_.m.f=wt(this.value),l(7,_)}function ue(){_.m.r=wt(this.value),l(7,_)}function me(){_.m.e.e=this.checked,l(7,_)}function Se(){_.m.e.k=this.value,l(7,_)}function ke(){_.m.e.a=this.value,l(7,_)}function qe(){_.m.m.e=this.checked,l(7,_)}function De(){_.m.m.w=wt(this.value),l(7,_)}function We(){_.m.m.v=wt(this.value),l(7,_)}function Ge(){_.m.m.a=wt(this.value),l(7,_)}function Ze(){_.m.m.c=wt(this.value),l(7,_)}function ve(){_.w.s=this.__value,l(7,_)}function we(){_.w.p=this.value,l(7,_)}function ot(){_.w.z=nl(this),l(7,_)}function rt(){_.w.w=wt(this.value),l(7,_)}function qt(){_.w.b=this.checked,l(7,_)}function vt(){_.q.s.e=this.checked,l(7,_)}function ft(){_.q.h=this.value,l(7,_)}function dt(){_.q.p=wt(this.value),l(7,_)}function tt(){_.q.u=this.value,l(7,_)}function ct(){_.q.a=this.value,l(7,_)}function Xt(){_.q.c=this.value,l(7,_)}function _t(){_.q.m=nl(this),l(7,_)}function yt(){_.q.b=this.value,l(7,_)}function Ct(){_.q.r=this.value,l(7,_)}function Ft(){_.q.t=nl(this),l(7,_)}function lt(){_.q.d=wt(this.value),l(7,_)}function ut(){_.q.i=wt(this.value),l(7,_)}function Pe(){_.q.k=wt(this.value),l(7,_)}function Ae(){_.o.e=this.value,l(7,_)}function $e(){_.o.c=this.value,l(7,_)}function Je(){_.o.u1=this.value,l(7,_)}function be(){_.o.u2=this.value,l(7,_)}function Re(){_.o.u3=this.value,l(7,_)}function St(){_.h.t=this.value,l(7,_)}function gt(){_.h.h=this.value,l(7,_)}function et(){_.h.n=this.value,l(7,_)}function Oe(Te){_.t.t[Te]=wt(this.value),l(7,_)}function it(){_.t.h=wt(this.value),l(7,_)}function He(Te){_.u[Te.key]=nl(this),l(7,_)}return t.$$set=Te=>{"basepath"in Te&&l(26,n=Te.basepath),"sysinfo"in Te&&l(0,i=Te.sysinfo),"data"in Te&&l(1,s=Te.data)},t.$$.update=()=>{var Te;if(t.$$.dirty[0]&12&&d.length){const Ue=((Te=f.consent)==null?void 0:Te.load_from_server)??"Load from server";d.some(Ie=>Ie.code==="hub")?d.find(Ye=>Ye.code==="hub"&&Ye.name!==Ue)&&l(3,d=d.map(Ye=>Ye.code==="hub"?{...Ye,name:Ue}:Ye)):l(3,d=[...d,{code:"hub",name:Ue}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Ue,label:Le}=Vn(s==null?void 0:s.r);o[Ue]??o.off}t.$$.dirty[0]&16&&l(10,M=Array.isArray(v==null?void 0:v.n)?v.n.map(Ue=>{const{level:Le,label:Ie}=Vn(Ue==null?void 0:Ue.r);return{icon:o[Le]??o.off,title:Ie}}):[])},[i,s,f,d,v,c,m,_,b,w,M,g,A,o,r,L,j,P,U,q,K,X,W,R,H,D,n,z,F,B,Q,ne,V,ie,ce,oe,x,re,Z,$,ee,he,ge,T,S,I,O,G,le,ae,fe,ue,me,Se,ke,qe,De,We,Ge,Ze,ve,Y,we,ot,rt,qt,vt,ft,dt,tt,ct,Xt,_t,yt,Ct,Ft,lt,ut,Pe,Ae,$e,Je,be,Re,St,gt,et,Oe,it,He]}class am extends At{constructor(e){super(),Et(this,e,om,im,Tt,{basepath:26,sysinfo:0,data:1},null,[-1,-1,-1,-1])}}function $a(t,e,l){const n=t.slice();return n[21]=e[l],n}function xa(t){let e,l=t[1].cpu+"",n,i;return{c(){e=k("("),n=k(l),i=k("MHz)")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&N(n,l)},d(s){s&&(y(e),y(n),y(i))}}}function rm(t){let e=ze(t[1].chip,t[1].board)+"",l;return{c(){l=k(e)},m(n,i){C(n,l,i)},p(n,i){i&2&&e!==(e=ze(n[1].chip,n[1].board)+"")&&N(l,e)},d(n){n&&y(l)}}}function er(t){var z,F,B,Q,ne,V,ie,ce;let e,l=(((F=(z=t[3].status)==null?void 0:z.device)==null?void 0:F.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=(((Q=(B=t[3].status)==null?void 0:B.device)==null?void 0:Q.last_boot)??"Last boot")+"",m,_,d,b,w,v,M=(((V=(ne=t[3].status)==null?void 0:ne.device)==null?void 0:V.reason)??"Reason")+"",g,A,L=(((ce=(ie=t[3][Js(t[1].chip)])==null?void 0:ie.reason)==null?void 0:ce[t[1].boot_reason])??t[1].boot_reason)+"",j,P,U=t[1].boot_reason+"",q,K,X=t[1].ex_cause+"",W,R,H;const D=[um,fm],E=[];function Y(oe,x){return oe[0].u>0?0:1}return d=Y(t),b=E[d]=D[d](t),{c(){e=p("div"),n=k(l),i=k(": "),o=k(s),f=h(),r=p("div"),m=k(c),_=k(`:
            `),b.c(),w=h(),v=p("div"),g=k(M),A=k(": "),j=k(L),P=k(" ("),q=k(U),K=k("/"),W=k(X),R=k(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(v,"class","my-2")},m(oe,x){C(oe,e,x),a(e,n),a(e,i),a(e,o),C(oe,f,x),C(oe,r,x),a(r,m),a(r,_),E[d].m(r,null),C(oe,w,x),C(oe,v,x),a(v,g),a(v,A),a(v,j),a(v,P),a(v,q),a(v,K),a(v,W),a(v,R),H=!0},p(oe,x){var Z,$,ee,he,ge,T,S,I;(!H||x&8)&&l!==(l=((($=(Z=oe[3].status)==null?void 0:Z.device)==null?void 0:$.apmac)??"AP MAC")+"")&&N(n,l),(!H||x&2)&&s!==(s=oe[1].apmac+"")&&N(o,s),(!H||x&8)&&c!==(c=(((he=(ee=oe[3].status)==null?void 0:ee.device)==null?void 0:he.last_boot)??"Last boot")+"")&&N(m,c);let re=d;d=Y(oe),d===re?E[d].p(oe,x):(Nt(),se(E[re],1,1,()=>{E[re]=null}),Pt(),b=E[d],b?b.p(oe,x):(b=E[d]=D[d](oe),b.c()),te(b,1),b.m(r,null)),(!H||x&8)&&M!==(M=(((T=(ge=oe[3].status)==null?void 0:ge.device)==null?void 0:T.reason)??"Reason")+"")&&N(g,M),(!H||x&10)&&L!==(L=(((I=(S=oe[3][Js(oe[1].chip)])==null?void 0:S.reason)==null?void 0:I[oe[1].boot_reason])??oe[1].boot_reason)+"")&&N(j,L),(!H||x&2)&&U!==(U=oe[1].boot_reason+"")&&N(q,U),(!H||x&2)&&X!==(X=oe[1].ex_cause+"")&&N(W,X)},i(oe){H||(te(b),H=!0)},o(oe){se(b),H=!1},d(oe){oe&&(y(e),y(f),y(r),y(w),y(v)),E[d].d()}}}function fm(t){let e;return{c(){e=k("-")},m(l,n){C(l,e,n)},p:Ve,i:Ve,o:Ve,d(l){l&&y(e)}}}function um(t){let e,l;return e=new iu({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function tr(t){var m;let e,l,n,i,s=(((m=t[3].btn)==null?void 0:m.reboot)??"Reboot")+"",o,f,r,c;return l=new vl({props:{to:"/consent",$$slots:{default:[cm]},$$scope:{ctx:t}}}),{c(){e=p("div"),Ne(l.$$.fragment),n=h(),i=p("button"),o=k(s),u(i,"class","btn-yellow-sm float-right"),u(e,"class","my-2")},m(_,d){C(_,e,d),ye(l,e,null),a(e,n),a(e,i),a(i,o),f=!0,r||(c=pe(i,"click",t[11]),r=!0)},p(_,d){var w;const b={};d&16777224&&(b.$$scope={dirty:d,ctx:_}),l.$set(b),(!f||d&8)&&s!==(s=(((w=_[3].btn)==null?void 0:w.reboot)??"Reboot")+"")&&N(o,s)},i(_){f||(te(l.$$.fragment,_),f=!0)},o(_){se(l.$$.fragment,_),f=!1},d(_){_&&y(e),Ce(l),r=!1,c()}}}function cm(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.device)==null?void 0:s.btn_consents)??"Consents")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","btn-pri-sm")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.device)==null?void 0:c.btn_consents)??"Consents")+"")&&N(n,l)},d(o){o&&y(e)}}}function lr(t){var W,R,H,D,E,Y,z,F;let e,l,n=(((R=(W=t[3].status)==null?void 0:W.meter)==null?void 0:R.title)??"Meter")+"",i,s,o,f=(((D=(H=t[3].status)==null?void 0:H.meter)==null?void 0:D.manufacturer)??"Manufacturer")+"",r,c,m=pi(t[1].meter.mfg)+"",_,d,b,w=(((Y=(E=t[3].status)==null?void 0:E.meter)==null?void 0:Y.model)??"Model")+"",v,M,g=(t[1].meter.model?t[1].meter.model:"unknown")+"",A,L,j,P=(((F=(z=t[3].status)==null?void 0:z.meter)==null?void 0:F.id)??"ID")+"",U,q,K=(t[1].meter.id?t[1].meter.id:"unknown")+"",X;return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),b=p("div"),v=k(w),M=k(": "),A=k(g),L=h(),j=p("div"),U=k(P),q=k(": "),X=k(K),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(j,"class","my-2"),u(e,"class","cnt")},m(B,Q){C(B,e,Q),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,b),a(b,v),a(b,M),a(b,A),a(e,L),a(e,j),a(j,U),a(j,q),a(j,X)},p(B,Q){var ne,V,ie,ce,oe,x,re,Z;Q&8&&n!==(n=(((V=(ne=B[3].status)==null?void 0:ne.meter)==null?void 0:V.title)??"Meter")+"")&&N(i,n),Q&8&&f!==(f=(((ce=(ie=B[3].status)==null?void 0:ie.meter)==null?void 0:ce.manufacturer)??"Manufacturer")+"")&&N(r,f),Q&2&&m!==(m=pi(B[1].meter.mfg)+"")&&N(_,m),Q&8&&w!==(w=(((x=(oe=B[3].status)==null?void 0:oe.meter)==null?void 0:x.model)??"Model")+"")&&N(v,w),Q&2&&g!==(g=(B[1].meter.model?B[1].meter.model:"unknown")+"")&&N(A,g),Q&8&&P!==(P=(((Z=(re=B[3].status)==null?void 0:re.meter)==null?void 0:Z.id)??"ID")+"")&&N(U,P),Q&2&&K!==(K=(B[1].meter.id?B[1].meter.id:"unknown")+"")&&N(X,K)},d(B){B&&y(e)}}}function nr(t){var F,B,Q,ne,V,ie,ce,oe;let e,l,n=(((B=(F=t[3].status)==null?void 0:F.network)==null?void 0:B.title)??"Network")+"",i,s,o,f=(((ne=(Q=t[3].conf)==null?void 0:Q.network)==null?void 0:ne.ip)??"IP")+"",r,c,m=t[1].net.ip+"",_,d,b,w=(((ie=(V=t[3].conf)==null?void 0:V.network)==null?void 0:ie.mask)??"Mask")+"",v,M,g=t[1].net.mask+"",A,L,j,P=(((oe=(ce=t[3].conf)==null?void 0:ce.network)==null?void 0:oe.gw)??"Gateway")+"",U,q,K=t[1].net.gw+"",X,W,R,H,D,E=t[1].net.dns1&&ir(t),Y=t[1].net.dns2&&sr(t),z=t[1].net.ipv6&&or(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("div"),r=k(f),c=k(": "),_=k(m),d=h(),b=p("div"),v=k(w),M=k(": "),A=k(g),L=h(),j=p("div"),U=k(P),q=k(": "),X=k(K),W=h(),R=p("div"),E&&E.c(),H=h(),Y&&Y.c(),D=h(),z&&z.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(b,"class","my-2"),u(j,"class","my-2"),u(R,"class","my-2"),u(e,"class","cnt")},m(x,re){C(x,e,re),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,_),a(e,d),a(e,b),a(b,v),a(b,M),a(b,A),a(e,L),a(e,j),a(j,U),a(j,q),a(j,X),a(e,W),a(e,R),E&&E.m(R,null),a(R,H),Y&&Y.m(R,null),a(e,D),z&&z.m(e,null)},p(x,re){var Z,$,ee,he,ge,T,S,I;re&8&&n!==(n=((($=(Z=x[3].status)==null?void 0:Z.network)==null?void 0:$.title)??"Network")+"")&&N(i,n),re&8&&f!==(f=(((he=(ee=x[3].conf)==null?void 0:ee.network)==null?void 0:he.ip)??"IP")+"")&&N(r,f),re&2&&m!==(m=x[1].net.ip+"")&&N(_,m),re&8&&w!==(w=(((T=(ge=x[3].conf)==null?void 0:ge.network)==null?void 0:T.mask)??"Mask")+"")&&N(v,w),re&2&&g!==(g=x[1].net.mask+"")&&N(A,g),re&8&&P!==(P=(((I=(S=x[3].conf)==null?void 0:S.network)==null?void 0:I.gw)??"Gateway")+"")&&N(U,P),re&2&&K!==(K=x[1].net.gw+"")&&N(X,K),x[1].net.dns1?E?E.p(x,re):(E=ir(x),E.c(),E.m(R,H)):E&&(E.d(1),E=null),x[1].net.dns2?Y?Y.p(x,re):(Y=sr(x),Y.c(),Y.m(R,null)):Y&&(Y.d(1),Y=null),x[1].net.ipv6?z?z.p(x,re):(z=or(x),z.c(),z.m(e,null)):z&&(z.d(1),z=null)},d(x){x&&y(e),E&&E.d(),Y&&Y.d(),z&&z.d()}}}function ir(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&N(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&N(s,i)},d(r){r&&(y(l),y(n),y(s))}}}function sr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=k(e),n=k(": "),s=k(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,_;c&8&&e!==(e=(((_=(m=r[3].conf)==null?void 0:m.network)==null?void 0:_.dns)??"DNS")+"")&&N(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&N(s,i)},d(r){r&&(y(l),y(n),y(s))}}}function or(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&ar(t),m=t[1].net.dns2v6&&rr(t);return{c(){e=p("div"),l=k("IPv6: "),n=p("span"),s=k(i),o=h(),f=p("div"),c&&c.c(),r=h(),m&&m.c(),tn(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(_,d){C(_,e,d),a(e,l),a(e,n),a(n,s),C(_,o,d),C(_,f,d),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(_,d){d&2&&i!==(i=_[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(s,i),_[1].net.dns1v6?c?c.p(_,d):(c=ar(_),c.c(),c.m(f,r)):c&&(c.d(1),c=null),_[1].net.dns2v6?m?m.p(_,d):(m=rr(_),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(_){_&&(y(e),y(o),y(f)),c&&c.d(),m&&m.d()}}}function ar(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),tn(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(i,n)},d(s){s&&(y(e),y(l))}}}function rr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=k("DNSv6: "),l=p("span"),i=k(n),tn(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&N(i,n)},d(s){s&&(y(e),y(l))}}}function fr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","my-2 text-green-600")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&N(n,l)},d(o){o&&y(e)}}}function ur(t){var r,c,m,_;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((_=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:_[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=k(n),s=h(),f=k(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(d,b){C(d,e,b),a(e,l),a(l,i),a(l,s),a(l,f)},p(d,b){var w,v,M,g;b&10&&n!==(n=(((v=(w=d[3].status)==null?void 0:w.firmware)==null?void 0:v.failed)??"Upgrade from {0} to {1} failed").replace("{0}",d[1].upgrade.f).replace("{1}",d[1].upgrade.t)+"")&&N(i,n),b&10&&o!==(o=(((g=(M=d[3].errors)==null?void 0:M.upgrade)==null?void 0:g[d[1].upgrade.e])??d[1].upgrade.e)+"")&&N(f,o)},d(d){d&&y(e)}}}function cr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=k("Last HTTP status: "),s=k(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){C(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&N(s,i)},d(o){o&&y(e)}}}function mr(t){var w,v;let e,l=(((v=(w=t[3].status)==null?void 0:w.firmware)==null?void 0:v.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,_,d=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&_r(t),b=t[1].fwconsent===2&&pr(t);return{c(){e=p("div"),n=k(l),i=k(`: 
                `),s=p("a"),f=k(o),c=h(),d&&d.c(),m=h(),b&&b.c(),_=$t(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(M,g){C(M,e,g),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),d&&d.m(e,null),C(M,m,g),b&&b.m(M,g),C(M,_,g)},p(M,g){var A,L;g&8&&l!==(l=(((L=(A=M[3].status)==null?void 0:A.firmware)==null?void 0:L.latest)??"Latest")+"")&&N(n,l),g&2&&o!==(o=M[1].upgrade.n+"")&&N(f,o),g&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+M[1].upgrade.n)&&u(s,"href",r),(M[1].security==0||M[0].a)&&M[1].fwconsent===1&&M[1].upgrade.n&&M[1].upgrade.n!=M[1].version?d?d.p(M,g):(d=_r(M),d.c(),d.m(e,null)):d&&(d.d(1),d=null),M[1].fwconsent===2?b?b.p(M,g):(b=pr(M),b.c(),b.m(_.parentNode,_)):b&&(b.d(1),b=null)},d(M){M&&(y(e),y(m),y(_)),d&&d.d(),b&&b.d(M)}}}function _r(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){C(o,e,f),a(e,l),i||(s=pe(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&y(e),i=!1,s()}}}function pr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=k(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&N(i,n)},d(f){f&&y(e)}}}function dr(t){let e,l=$s(ze(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=k(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=$s(ze(i[1].chip,i[1].board))+"")&&N(n,l)},d(i){i&&y(e)}}}function hr(t){let e,l,n,i,s,o;function f(m,_){return m[5].length==0?_m:mm}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=h(),c.c(),tn(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,_){C(m,e,_),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[pe(n,"change",t[14]),pe(l,"submit",t[16])],s=!0)},p(m,_){r===(r=f(m))&&c?c.p(m,_):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&y(e),t[13](null),c.d(),s=!1,zt(o)}}}function mm(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&N(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&N(o,s)},d(r){r&&(y(l),y(n),y(i))}}}function _m(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),a(e,n),i||(s=pe(e,"click",t[15]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:_.btn_select_file)??"Select file")+"")&&N(n,l)},d(r){r&&y(e),i=!1,s()}}}function br(t){var Y,z,F,B,Q,ne;let e,l,n=(((z=(Y=t[3].status)==null?void 0:Y.backup)==null?void 0:z.title)??"Backup")+"",i,s,o,f,r,c,m,_,d=(((B=(F=t[3].status)==null?void 0:F.backup)==null?void 0:B.secrets)??"Include secrets")+"",b,w,v,M=(((ne=(Q=t[3].status)==null?void 0:Q.backup)==null?void 0:ne.secrets_desc)??"")+"",g,A,L,j,P,U,q,K,X=xe(t[9]),W=[];for(let V=0;V<X.length;V+=1)W[V]=vr($a(t,X,V));let R=t[2].length==0&&gr(t);function H(V,ie){return V[2].length==0?dm:pm}let D=H(t),E=D(t);return{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("form"),f=p("div");for(let V=0;V<W.length;V+=1)W[V].c();r=h(),c=p("label"),m=p("input"),_=h(),b=k(d),w=p("br"),v=p("small"),g=k(M),A=h(),R&&R.c(),L=h(),j=p("form"),P=p("input"),U=h(),E.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),tn(P,"display","none"),u(P,"name","file"),u(P,"type","file"),u(P,"accept",".cfg"),u(j,"autocomplete","off"),u(e,"class","cnt")},m(V,ie){C(V,e,ie),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let ce=0;ce<W.length;ce+=1)W[ce]&&W[ce].m(f,null);a(f,r),a(f,c),a(c,m),a(c,_),a(c,b),a(c,w),a(c,v),a(v,g),a(o,A),R&&R.m(o,null),a(e,L),a(e,j),a(j,P),t[17](P),a(j,U),E.m(j,null),q||(K=[pe(P,"change",t[18]),pe(j,"submit",mn(t[12]))],q=!0)},p(V,ie){var ce,oe,x,re,Z,$;if(ie&8&&n!==(n=(((oe=(ce=V[3].status)==null?void 0:ce.backup)==null?void 0:oe.title)??"Backup")+"")&&N(i,n),ie&520){X=xe(V[9]);let ee;for(ee=0;ee<X.length;ee+=1){const he=$a(V,X,ee);W[ee]?W[ee].p(he,ie):(W[ee]=vr(he),W[ee].c(),W[ee].m(f,r))}for(;ee<W.length;ee+=1)W[ee].d(1);W.length=X.length}ie&8&&d!==(d=(((re=(x=V[3].status)==null?void 0:x.backup)==null?void 0:re.secrets)??"Include secrets")+"")&&N(b,d),ie&8&&M!==(M=((($=(Z=V[3].status)==null?void 0:Z.backup)==null?void 0:$.secrets_desc)??"")+"")&&N(g,M),V[2].length==0?R?R.p(V,ie):(R=gr(V),R.c(),R.m(o,null)):R&&(R.d(1),R=null),D===(D=H(V))&&E?E.p(V,ie):(E.d(1),E=D(V),E&&(E.c(),E.m(j,null)))},d(V){V&&y(e),Zt(W,V),R&&R.d(),t[17](null),E.d(),q=!1,zt(K)}}}function vr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=h(),s=k(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,_;c&8&&i!==(i=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_[r[21].key])??r[21].name)+"")&&N(s,i)},d(r){r&&y(e)}}}function gr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=k(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&N(n,l)},d(o){o&&y(e)}}}function pm(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=k(e),n=h(),i=p("button"),o=k(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&N(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&N(o,s)},d(r){r&&(y(l),y(n),y(i))}}}function dm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),a(e,n),i||(s=pe(e,"click",t[19]),i=!0)},p(r,c){var m,_;c&8&&l!==(l=(((_=(m=r[3].status)==null?void 0:m.backup)==null?void 0:_.btn_select_file)??"Select file")+"")&&N(n,l)},d(r){r&&y(e),i=!1,s()}}}function hm(t){var rt,qt,vt,ft,dt,tt,ct,Xt,_t,yt,Ct,Ft,lt,ut,Pe,Ae,$e,Je;let e,l,n,i=(((rt=t[3].status)==null?void 0:rt.device.title)??"Device")+"",s,o,f,r=(((vt=(qt=t[3].status)==null?void 0:qt.device)==null?void 0:vt.chip)??"Chip")+"",c,m,_=t[1].chip+"",d,b,w,v,M=(((dt=(ft=t[3].status)==null?void 0:ft.device)==null?void 0:dt.device)??"Device")+"",g,A,L,j,P,U=(((ct=(tt=t[3].status)==null?void 0:tt.device)==null?void 0:ct.mac)??"MAC")+"",q,K,X=t[1].mac+"",W,R,H,D,E,Y,z,F,B=(((_t=(Xt=t[3].status)==null?void 0:Xt.firmware)==null?void 0:_t.title)??"Firmware")+"",Q,ne,V,ie=(((Ct=(yt=t[3].status)==null?void 0:yt.firmware)==null?void 0:Ct.installed)??"Installed")+"",ce,oe,x=t[1].version+"",re,Z,$,ee,he,ge,T=(t[1].security==0||t[0].a)&&Hn(t[1].board),S,I,O,G,le,ae,fe,ue=t[1].cpu&&xa(t);L=new vl({props:{to:"/vendor",$$slots:{default:[rm]},$$scope:{ctx:t}}});let me=t[1].apmac&&t[1].apmac!=t[1].mac&&er(t),Se=((Ft=t[0])==null?void 0:Ft.a)&&tr(t),ke=t[1].meter&&lr(t),qe=t[1].net&&nr(t),De=((lt=t[1].upgrade)==null?void 0:lt.m)===!0&&fr(t),We=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&ur(t),Ge=((ut=t[1].upgrade)==null?void 0:ut.x)!==void 0&&t[1].upgrade.x!==-1&&cr(t),Ze=t[1].upgrade.n&&mr(t),ve=T&&dr(t),we=(t[1].security==0||t[0].a)&&hr(t),ot=(t[1].security==0||t[0].a)&&br(t);return G=new pl({props:{active:t[6],message:((Ae=(Pe=t[3].status)==null?void 0:Pe.mask)==null?void 0:Ae.firmware)??"Uploading"}}),ae=new pl({props:{active:t[8],message:((Je=($e=t[3].status)==null?void 0:$e.mask)==null?void 0:Je.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=p("div"),c=k(r),m=k(": "),d=k(_),b=h(),ue&&ue.c(),w=h(),v=p("div"),g=k(M),A=k(": "),Ne(L.$$.fragment),j=h(),P=p("div"),q=k(U),K=k(": "),W=k(X),R=h(),me&&me.c(),H=h(),Se&&Se.c(),D=h(),ke&&ke.c(),E=h(),qe&&qe.c(),Y=h(),z=p("div"),F=p("strong"),Q=k(B),ne=h(),V=p("div"),ce=k(ie),oe=k(": "),re=k(x),Z=h(),De&&De.c(),$=h(),We&&We.c(),ee=h(),Ge&&Ge.c(),he=h(),Ze&&Ze.c(),ge=h(),ve&&ve.c(),S=h(),we&&we.c(),I=h(),ot&&ot.c(),O=h(),Ne(G.$$.fragment),le=h(),Ne(ae.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(v,"class","my-2"),u(P,"class","my-2"),u(l,"class","cnt"),u(F,"class","text-sm"),u(V,"class","my-2"),u(z,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(be,Re){C(be,e,Re),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,d),a(f,b),ue&&ue.m(f,null),a(l,w),a(l,v),a(v,g),a(v,A),ye(L,v,null),a(l,j),a(l,P),a(P,q),a(P,K),a(P,W),a(l,R),me&&me.m(l,null),a(l,H),Se&&Se.m(l,null),a(e,D),ke&&ke.m(e,null),a(e,E),qe&&qe.m(e,null),a(e,Y),a(e,z),a(z,F),a(F,Q),a(z,ne),a(z,V),a(V,ce),a(V,oe),a(V,re),a(z,Z),De&&De.m(z,null),a(z,$),We&&We.m(z,null),a(z,ee),Ge&&Ge.m(z,null),a(z,he),Ze&&Ze.m(z,null),a(z,ge),ve&&ve.m(z,null),a(z,S),we&&we.m(z,null),a(e,I),ot&&ot.m(e,null),C(be,O,Re),ye(G,be,Re),C(be,le,Re),ye(ae,be,Re),fe=!0},p(be,[Re]){var Oe,it,He,Te,Ue,Le,Ie,Ye,nt,Lt,Bt,tl,xt,jt,Ot,sl,Dt,Qe;(!fe||Re&8)&&i!==(i=(((Oe=be[3].status)==null?void 0:Oe.device.title)??"Device")+"")&&N(s,i),(!fe||Re&8)&&r!==(r=(((He=(it=be[3].status)==null?void 0:it.device)==null?void 0:He.chip)??"Chip")+"")&&N(c,r),(!fe||Re&2)&&_!==(_=be[1].chip+"")&&N(d,_),be[1].cpu?ue?ue.p(be,Re):(ue=xa(be),ue.c(),ue.m(f,null)):ue&&(ue.d(1),ue=null),(!fe||Re&8)&&M!==(M=(((Ue=(Te=be[3].status)==null?void 0:Te.device)==null?void 0:Ue.device)??"Device")+"")&&N(g,M);const St={};Re&16777218&&(St.$$scope={dirty:Re,ctx:be}),L.$set(St),(!fe||Re&8)&&U!==(U=(((Ie=(Le=be[3].status)==null?void 0:Le.device)==null?void 0:Ie.mac)??"MAC")+"")&&N(q,U),(!fe||Re&2)&&X!==(X=be[1].mac+"")&&N(W,X),be[1].apmac&&be[1].apmac!=be[1].mac?me?(me.p(be,Re),Re&2&&te(me,1)):(me=er(be),me.c(),te(me,1),me.m(l,H)):me&&(Nt(),se(me,1,1,()=>{me=null}),Pt()),(Ye=be[0])!=null&&Ye.a?Se?(Se.p(be,Re),Re&1&&te(Se,1)):(Se=tr(be),Se.c(),te(Se,1),Se.m(l,null)):Se&&(Nt(),se(Se,1,1,()=>{Se=null}),Pt()),be[1].meter?ke?ke.p(be,Re):(ke=lr(be),ke.c(),ke.m(e,E)):ke&&(ke.d(1),ke=null),be[1].net?qe?qe.p(be,Re):(qe=nr(be),qe.c(),qe.m(e,Y)):qe&&(qe.d(1),qe=null),(!fe||Re&8)&&B!==(B=(((Lt=(nt=be[3].status)==null?void 0:nt.firmware)==null?void 0:Lt.title)??"Firmware")+"")&&N(Q,B),(!fe||Re&8)&&ie!==(ie=(((tl=(Bt=be[3].status)==null?void 0:Bt.firmware)==null?void 0:tl.installed)??"Installed")+"")&&N(ce,ie),(!fe||Re&2)&&x!==(x=be[1].version+"")&&N(re,x),((xt=be[1].upgrade)==null?void 0:xt.m)===!0?De?De.p(be,Re):(De=fr(be),De.c(),De.m(z,$)):De&&(De.d(1),De=null),be[1].upgrade.t&&be[1].upgrade.t!=be[1].version&&be[1].upgrade.e!=0&&be[1].upgrade.e!=123?We?We.p(be,Re):(We=ur(be),We.c(),We.m(z,ee)):We&&(We.d(1),We=null),((jt=be[1].upgrade)==null?void 0:jt.x)!==void 0&&be[1].upgrade.x!==-1?Ge?Ge.p(be,Re):(Ge=cr(be),Ge.c(),Ge.m(z,he)):Ge&&(Ge.d(1),Ge=null),be[1].upgrade.n?Ze?Ze.p(be,Re):(Ze=mr(be),Ze.c(),Ze.m(z,ge)):Ze&&(Ze.d(1),Ze=null),Re&3&&(T=(be[1].security==0||be[0].a)&&Hn(be[1].board)),T?ve?ve.p(be,Re):(ve=dr(be),ve.c(),ve.m(z,S)):ve&&(ve.d(1),ve=null),be[1].security==0||be[0].a?we?we.p(be,Re):(we=hr(be),we.c(),we.m(z,null)):we&&(we.d(1),we=null),be[1].security==0||be[0].a?ot?ot.p(be,Re):(ot=br(be),ot.c(),ot.m(e,null)):ot&&(ot.d(1),ot=null);const gt={};Re&64&&(gt.active=be[6]),Re&8&&(gt.message=((sl=(Ot=be[3].status)==null?void 0:Ot.mask)==null?void 0:sl.firmware)??"Uploading"),G.$set(gt);const et={};Re&256&&(et.active=be[8]),Re&8&&(et.message=((Qe=(Dt=be[3].status)==null?void 0:Dt.mask)==null?void 0:Qe.config)??"Uploading"),ae.$set(et)},i(be){fe||(te(L.$$.fragment,be),te(me),te(Se),te(G.$$.fragment,be),te(ae.$$.fragment,be),fe=!0)},o(be){se(L.$$.fragment,be),se(me),se(Se),se(G.$$.fragment,be),se(ae.$$.fragment,be),fe=!1},d(be){be&&(y(e),y(O),y(le)),ue&&ue.d(),Ce(L),me&&me.d(),Se&&Se.d(),ke&&ke.d(),qe&&qe.d(),De&&De.d(),We&&We.d(),Ge&&Ge.d(),Ze&&Ze.d(),ve&&ve.d(),we&&we.d(),ot&&ot.d(),Ce(G,be),Ce(ae,be)}}}async function bm(){await(await fetch("reboot",{method:"POST"})).json()}function vm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Sl.subscribe(K=>{l(3,o=K)});function f(){var K;confirm((((K=o.header)==null?void 0:K.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(nu(i.upgrade.n),ml.update(X=>(X.upgrade.t=i.upgrade.n,X.upgrade.p=0,X.upgrading=!0,X)))}const r=function(){var K;confirm(((K=o.device)==null?void 0:K.reboot_confirm)??"Reboot?")&&(ml.update(X=>(X.booting=!0,X)),bm())};let c,m=[],_=!1,d,b=[],w=!1;gi();let v={hostname:"",ip:""};function M(K){l(8,w=!0);const X=new FormData;X.append("file",b[0]),fetch("configfile",{method:"POST",body:X}).then(W=>W.json()).then(W=>{ml.update(R=>(v&&v.hostname&&(R.hostname=v.hostname),R.booting=W.reboot,v&&v.ip&&(R.net.ip=v.ip),setTimeout(fn,5e3,i),R))}).catch(W=>{console.error("Error:",W),setTimeout(fn,5e3,i)})}function g(K){mi[K?"unshift":"push"](()=>{c=K,l(4,c)})}function A(){m=this.files,l(5,m)}const L=()=>{c.click()},j=()=>l(6,_=!0);function P(K){mi[K?"unshift":"push"](()=>{d=K,l(7,d)})}function U(){b=this.files,l(2,b)}const q=()=>{d.click()};return t.$$set=K=>{"data"in K&&l(0,n=K.data),"sysinfo"in K&&l(1,i=K.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&b.length==1){let K=b[0],X=new FileReader,W=R=>{let H=R.target.result.split(`
`);for(let D in H){let E=H[D];E.startsWith("hostname ")?v.hostname=E.split(" ")[1]:E.startsWith("ip ")&&(v.ip=E.split(" ")[1])}};X.onload=W,X.readAsText(K)}},[n,i,b,o,c,m,_,d,w,s,f,r,M,g,A,L,j,P,U,q]}class gm extends At{constructor(e){super(),Et(this,e,vm,hm,Tt,{data:0,sysinfo:1})}}function kr(t){let e,l,n=ze(t[0],7)+"",i,s,o=ze(t[0],5)+"",f,r,c=ze(t[0],4)+"",m,_,d=ze(t[0],3)+"",b,w,v,M,g=ze(t[0],2)+"",A,L,j=ze(t[0],1)+"",P,U,q=ze(t[0],0)+"",K,X,W,R,H=ze(t[0],101)+"",D,E,Y=ze(t[0],100)+"",z;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=p("option"),b=k(d),w=h(),v=p("optgroup"),M=p("option"),A=k(g),L=p("option"),P=k(j),U=p("option"),K=k(q),X=h(),W=p("optgroup"),R=p("option"),D=k(H),E=p("option"),z=k(Y),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),_.__value=3,J(_,_.__value),u(e,"label","amsleser.no"),M.__value=2,J(M,M.__value),L.__value=1,J(L,L.__value),U.__value=0,J(U,U.__value),u(v,"label","Custom hardware"),R.__value=101,J(R,R.__value),E.__value=100,J(E,E.__value),u(W,"label","Generic hardware")},m(F,B){C(F,e,B),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,_),a(_,b),C(F,w,B),C(F,v,B),a(v,M),a(M,A),a(v,L),a(L,P),a(v,U),a(U,K),C(F,X,B),C(F,W,B),a(W,R),a(R,D),a(W,E),a(E,z)},p(F,B){B&1&&n!==(n=ze(F[0],7)+"")&&N(i,n),B&1&&o!==(o=ze(F[0],5)+"")&&N(f,o),B&1&&c!==(c=ze(F[0],4)+"")&&N(m,c),B&1&&d!==(d=ze(F[0],3)+"")&&N(b,d),B&1&&g!==(g=ze(F[0],2)+"")&&N(A,g),B&1&&j!==(j=ze(F[0],1)+"")&&N(P,j),B&1&&q!==(q=ze(F[0],0)+"")&&N(K,q),B&1&&H!==(H=ze(F[0],101)+"")&&N(D,H),B&1&&Y!==(Y=ze(F[0],100)+"")&&N(z,Y)},d(F){F&&(y(e),y(w),y(v),y(X),y(W))}}}function wr(t){let e,l,n=ze(t[0],201)+"",i,s,o=ze(t[0],202)+"",f,r,c=ze(t[0],203)+"",m,_,d=ze(t[0],241)+"",b,w,v=ze(t[0],242)+"",M,g,A=ze(t[0],243)+"",L,j,P=ze(t[0],245)+"",U,q,K=ze(t[0],200)+"",X;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=p("option"),b=k(d),w=p("option"),M=k(v),g=p("option"),L=k(A),j=p("option"),U=k(P),q=p("option"),X=k(K),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),_.__value=241,J(_,_.__value),w.__value=242,J(w,w.__value),g.__value=243,J(g,g.__value),j.__value=245,J(j,j.__value),q.__value=200,J(q,q.__value),u(e,"label","Generic hardware")},m(W,R){C(W,e,R),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,_),a(_,b),a(e,w),a(w,M),a(e,g),a(g,L),a(e,j),a(j,U),a(e,q),a(q,X)},p(W,R){R&1&&n!==(n=ze(W[0],201)+"")&&N(i,n),R&1&&o!==(o=ze(W[0],202)+"")&&N(f,o),R&1&&c!==(c=ze(W[0],203)+"")&&N(m,c),R&1&&d!==(d=ze(W[0],241)+"")&&N(b,d),R&1&&v!==(v=ze(W[0],242)+"")&&N(M,v),R&1&&A!==(A=ze(W[0],243)+"")&&N(L,A),R&1&&P!==(P=ze(W[0],245)+"")&&N(U,P),R&1&&K!==(K=ze(W[0],200)+"")&&N(X,K)},d(W){W&&y(e)}}}function Sr(t){let e,l,n=ze(t[0],7)+"",i,s,o=ze(t[0],6)+"",f,r,c=ze(t[0],5)+"",m,_,d,b,w=ze(t[0],51)+"",v,M,g=ze(t[0],50)+"",A;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=p("option"),f=k(o),r=p("option"),m=k(c),_=h(),d=p("optgroup"),b=p("option"),v=k(w),M=p("option"),A=k(g),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),u(e,"label","amsleser.no"),b.__value=51,J(b,b.__value),M.__value=50,J(M,M.__value),u(d,"label","Generic hardware")},m(L,j){C(L,e,j),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),C(L,_,j),C(L,d,j),a(d,b),a(b,v),a(d,M),a(M,A)},p(L,j){j&1&&n!==(n=ze(L[0],7)+"")&&N(i,n),j&1&&o!==(o=ze(L[0],6)+"")&&N(f,o),j&1&&c!==(c=ze(L[0],5)+"")&&N(m,c),j&1&&w!==(w=ze(L[0],51)+"")&&N(v,w),j&1&&g!==(g=ze(L[0],50)+"")&&N(A,g)},d(L){L&&(y(e),y(_),y(d))}}}function Mr(t){let e,l,n=ze(t[0],8)+"",i,s,o,f,r=ze(t[0],71)+"",c,m,_=ze(t[0],70)+"",d;return{c(){e=p("optgroup"),l=p("option"),i=k(n),s=h(),o=p("optgroup"),f=p("option"),c=k(r),m=p("option"),d=k(_),l.__value=8,J(l,l.__value),u(e,"label","Custom hardware"),f.__value=71,J(f,f.__value),m.__value=70,J(m,m.__value),u(o,"label","Generic hardware")},m(b,w){C(b,e,w),a(e,l),a(l,i),C(b,s,w),C(b,o,w),a(o,f),a(f,c),a(o,m),a(m,d)},p(b,w){w&1&&n!==(n=ze(b[0],8)+"")&&N(i,n),w&1&&r!==(r=ze(b[0],71)+"")&&N(c,r),w&1&&_!==(_=ze(b[0],70)+"")&&N(d,_)},d(b){b&&(y(e),y(s),y(o))}}}function yr(t){let e,l,n=ze(t[0],200)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=k(n),l.__value=200,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=ze(s[0],200)+"")&&N(i,n)},d(s){s&&y(e)}}}function Cr(t){let e,l,n=ze(t[0],80)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=k(n),l.__value=80,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=ze(s[0],80)+"")&&N(i,n)},d(s){s&&y(e)}}}function km(t){let e,l,n,i,s,o,f,r,c=t[0]=="esp8266"&&kr(t),m=t[0]=="esp32"&&wr(t),_=t[0]=="esp32s2"&&Sr(t),d=t[0]=="esp32c3"&&Mr(t),b=t[0]=="esp32solo"&&yr(t),w=t[0]=="esp32s3"&&Cr(t);return{c(){e=p("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),_&&_.c(),s=h(),d&&d.c(),o=h(),b&&b.c(),f=h(),w&&w.c(),r=$t(),e.__value=-1,J(e,e.__value)},m(v,M){C(v,e,M),C(v,l,M),c&&c.m(v,M),C(v,n,M),m&&m.m(v,M),C(v,i,M),_&&_.m(v,M),C(v,s,M),d&&d.m(v,M),C(v,o,M),b&&b.m(v,M),C(v,f,M),w&&w.m(v,M),C(v,r,M)},p(v,[M]){v[0]=="esp8266"?c?c.p(v,M):(c=kr(v),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),v[0]=="esp32"?m?m.p(v,M):(m=wr(v),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),v[0]=="esp32s2"?_?_.p(v,M):(_=Sr(v),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),v[0]=="esp32c3"?d?d.p(v,M):(d=Mr(v),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),v[0]=="esp32solo"?b?b.p(v,M):(b=yr(v),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null),v[0]=="esp32s3"?w?w.p(v,M):(w=Cr(v),w.c(),w.m(r.parentNode,r)):w&&(w.d(1),w=null)},i:Ve,o:Ve,d(v){v&&(y(e),y(l),y(n),y(i),y(s),y(o),y(f),y(r)),c&&c.d(v),m&&m.d(v),_&&_.d(v),d&&d.d(v),b&&b.d(v),w&&w.d(v)}}}function wm(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class Sm extends At{constructor(e){super(),Et(this,e,wm,km,Tt,{chip:0})}}function Nr(t){let e;return{c(){e=p("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Pr(t){let e,l,n,i,s,o,f;return o=new M1({props:{chip:t[0].chip}}),{c(){e=p("div"),l=k("HAN GPIO"),n=p("br"),i=h(),s=p("select"),Ne(o.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),ye(o,s,null),f=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){f||(te(o.$$.fragment,r),f=!0)},o(r){se(o.$$.fragment,r),f=!1},d(r){r&&y(e),Ce(o)}}}function Mm(t){let e,l,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W,R,H,D,E=t[0].usrcfg&&Nr();w=new Sm({props:{chip:t[0].chip}});let Y=t[0].board&&t[0].board>20&&Pr(t);return W=new pl({props:{active:t[1],message:"Saving"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("strong"),o.textContent="Initial configuration",f=h(),E&&E.c(),r=h(),c=p("div"),m=k("Board type"),_=p("br"),d=h(),b=p("select"),Ne(w.$$.fragment),v=h(),Y&&Y.c(),M=h(),g=p("div"),A=p("label"),L=p("input"),j=k(" Clear all other configuration"),P=h(),U=p("div"),U.innerHTML='<button type="submit" class="btn-pri">Save</button>',q=h(),K=p("span"),K.textContent=" ",X=h(),Ne(W.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(o,"class","text-sm"),u(b,"name","vb"),u(b,"class","in-s"),t[0].board===void 0&&Kt(()=>t[5].call(b)),u(c,"class","my-3"),u(L,"type","checkbox"),u(L,"name","vr"),L.__value="true",J(L,L.__value),u(L,"class","rounded mb-1"),u(g,"class","my-3"),u(U,"class","my-3"),u(K,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(z,F){C(z,e,F),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),E&&E.m(n,null),a(n,r),a(n,c),a(c,m),a(c,_),a(c,d),a(c,b),ye(w,b,null),st(b,t[0].board,!0),a(n,v),Y&&Y.m(n,null),a(n,M),a(n,g),a(g,A),a(A,L),L.checked=t[2],a(A,j),a(n,P),a(n,U),a(n,q),a(n,K),C(z,X,F),ye(W,z,F),R=!0,H||(D=[pe(b,"change",t[5]),pe(L,"change",t[6]),pe(n,"submit",mn(t[3]))],H=!0)},p(z,[F]){z[0].usrcfg?E||(E=Nr(),E.c(),E.m(n,r)):E&&(E.d(1),E=null);const B={};F&1&&(B.chip=z[0].chip),w.$set(B),F&1&&st(b,z[0].board),z[0].board&&z[0].board>20?Y?(Y.p(z,F),F&1&&te(Y,1)):(Y=Pr(z),Y.c(),te(Y,1),Y.m(n,M)):Y&&(Nt(),se(Y,1,1,()=>{Y=null}),Pt()),F&4&&(L.checked=z[2]);const Q={};F&2&&(Q.active=z[1]),W.$set(Q)},i(z){R||(te(w.$$.fragment,z),te(Y),te(W.$$.fragment,z),R=!0)},o(z){se(w.$$.fragment,z),se(Y),se(W.$$.fragment,z),R=!1},d(z){z&&(y(e),y(X)),E&&E.d(),Ce(w),Y&&Y.d(),Ce(W,z),H=!1,zt(D)}}}function ym(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const _=new FormData(m.target),d=new URLSearchParams;for(let v of _){const[M,g]=v;d.append(M,g)}let w=await(await fetch("save",{method:"POST",body:d})).json();l(1,s=!1),ml.update(v=>(v.vndcfg=w.success,v.booting=w.reboot,v.if.eth=v.boardType>240&&v.boardType<250,v)),Ol(n+(i.usrcfg?"":"setup"))}let f=!0;ml.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,f=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){f=this.checked,l(2,f)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,f,o,n,r,c]}class Cm extends At{constructor(e){super(),Et(this,e,ym,Mm,Tt,{basepath:4,sysinfo:0})}}function Tr(t,e,l){const n=t.slice();return n[30]=e[l],n}function Er(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ar(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.eth)??"Ethernet")+"",n;return{c(){e=p("option"),n=k(l),e.__value=3,J(e,e.__value)},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.eth)??"Ethernet")+"")&&N(n,l)},d(o){o&&y(e)}}}function qr(t){var A,L,j,P;let e,l=(((L=(A=t[3].conf)==null?void 0:A.connection)==null?void 0:L.ssid)??"SSID")+"",n,i,s,o,f,r,c=(((P=(j=t[3].conf)==null?void 0:j.connection)==null?void 0:P.psk)??"Password")+"",m,_,d,b,w;function v(U,q){return Nm}let g=v()(t);return{c(){e=p("div"),n=k(l),i=h(),s=p("br"),o=h(),g.c(),f=h(),r=p("div"),m=k(c),_=p("br"),d=h(),b=p("input"),u(e,"class","my-3"),u(b,"name","sp"),u(b,"type","password"),u(b,"pattern",di),u(b,"class","in-s"),u(b,"autocomplete","off"),b.required=w=t[4]==2,u(r,"class","my-3")},m(U,q){C(U,e,q),a(e,n),a(e,i),a(e,s),a(e,o),g.m(e,null),C(U,f,q),C(U,r,q),a(r,m),a(r,_),a(r,d),a(r,b)},p(U,q){var K,X,W,R;q[0]&8&&l!==(l=(((X=(K=U[3].conf)==null?void 0:K.connection)==null?void 0:X.ssid)??"SSID")+"")&&N(n,l),g.p(U,q),q[0]&8&&c!==(c=(((R=(W=U[3].conf)==null?void 0:W.connection)==null?void 0:R.psk)??"Password")+"")&&N(m,c),q[0]&16&&w!==(w=U[4]==2)&&(b.required=w)},d(U){U&&(y(e),y(f),y(r)),g.d()}}}function Nm(t){var f;let e,l,n=((f=t[1])==null?void 0:f.c)==-1&&Lr(t);function i(r,c){var m,_,d;if((_=(m=r[1])==null?void 0:m.n)!=null&&_.length)return Tm;if(((d=r[1])==null?void 0:d.c)!=-1)return Pm}let s=i(t),o=s&&s(t);return{c(){n&&n.c(),e=h(),o&&o.c(),l=$t()},m(r,c){n&&n.m(r,c),C(r,e,c),o&&o.m(r,c),C(r,l,c)},p(r,c){var m;((m=r[1])==null?void 0:m.c)==-1?n?n.p(r,c):(n=Lr(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s===(s=i(r))&&o?o.p(r,c):(o&&o.d(1),o=s&&s(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&(y(e),y(l)),n&&n.d(r),o&&o.d(r)}}}function Lr(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("p"),n=k(l),u(e,"class","text-sm italic")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&N(n,l)},d(o){o&&y(e)}}}function Pm(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("p"),n=k(l),u(e,"class","text-sm italic")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&N(n,l)},d(o){o&&y(e)}}}function Tm(t){let e,l=[],n=new Map,i=xe(t[1].n);const s=o=>o[33].s??o[35];for(let o=0;o<i.length;o+=1){let f=Er(t,i,o),r=s(f);n.set(r,l[o]=Or(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&474&&(i=xe(o[1].n),l=kf(l,f,s,1,o,i,n,e,gf,Or,null,Er))},d(o){o&&y(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Dr(t){var i,s;let e,l=(((s=(i=t[3].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&8&&l!==(l=(((c=(r=o[3].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&N(n,l)},d(o){o&&y(e)}}}function Or(t,e){var D,E,Y,z,F;let l,n,i,s,o=!1,f,r,c,m,_=(e[33].s||(((E=(D=e[3].conf)==null?void 0:D.connection)==null?void 0:E.hidden_ssid)??"Hidden network"))+"",d,b,w,v=(((Y=e[6][e[35]])==null?void 0:Y.title)??((F=(z=e[3].conf)==null?void 0:z.connection)==null?void 0:F.wifi_offline)??"Signal unavailable")+"",M,g,A,L,j,P,U,q,K,X,W,R,H=e[7]===e[33].s&&Dr(e);return X=ci(e[14][0]),{key:t,first:null,c(){var B,Q,ne;l=p("label"),n=p("span"),i=p("input"),r=h(),c=p("span"),m=p("span"),d=k(_),b=h(),w=p("span"),M=k(v),g=h(),A=p("div"),L=p("img"),q=h(),H&&H.c(),K=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ss"),i.__value=s=e[33].s,J(i,i.__value),i.required=f=e[4]==1||e[4]==2,u(m,"class","font-medium text-slate-800 dark:text-slate-100"),u(w,"class","text-xs text-slate-500 dark:text-slate-400"),u(c,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(L,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),un(L.src,j=((B=e[6][e[35]])==null?void 0:B.icon)??e[8].off)||u(L,"src",j),u(L,"alt",P=((Q=e[6][e[35]])==null?void 0:Q.title)??"Wi-Fi offline"),u(L,"title",U=((ne=e[6][e[35]])==null?void 0:ne.title)??"Wi-Fi offline"),u(A,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),X.p(i),this.first=l},m(B,Q){C(B,l,Q),a(l,n),a(n,i),i.checked=i.__value===e[7],a(n,r),a(n,c),a(c,m),a(m,d),a(c,b),a(c,w),a(w,M),a(l,g),a(l,A),a(A,L),a(A,q),H&&H.m(A,null),a(l,K),W||(R=pe(i,"change",e[13]),W=!0)},p(B,Q){var ne,V,ie,ce,oe,x,re,Z;e=B,Q[0]&2&&s!==(s=e[33].s)&&(i.__value=s,J(i,i.__value),o=!0),Q[0]&16&&f!==(f=e[4]==1||e[4]==2)&&(i.required=f),(o||Q[0]&130)&&(i.checked=i.__value===e[7]),Q[0]&10&&_!==(_=(e[33].s||(((V=(ne=e[3].conf)==null?void 0:ne.connection)==null?void 0:V.hidden_ssid)??"Hidden network"))+"")&&N(d,_),Q[0]&74&&v!==(v=(((ie=e[6][e[35]])==null?void 0:ie.title)??((oe=(ce=e[3].conf)==null?void 0:ce.connection)==null?void 0:oe.wifi_offline)??"Signal unavailable")+"")&&N(M,v),Q[0]&66&&!un(L.src,j=((x=e[6][e[35]])==null?void 0:x.icon)??e[8].off)&&u(L,"src",j),Q[0]&66&&P!==(P=((re=e[6][e[35]])==null?void 0:re.title)??"Wi-Fi offline")&&u(L,"alt",P),Q[0]&66&&U!==(U=((Z=e[6][e[35]])==null?void 0:Z.title)??"Wi-Fi offline")&&u(L,"title",U),e[7]===e[33].s?H?H.p(e,Q):(H=Dr(e),H.c(),H.m(A,null)):H&&(H.d(1),H=null)},d(B){B&&y(l),H&&H.d(),X.r(),W=!1,R()}}}function Ir(t){var c,m;let e,l,n=(((m=(c=t[3].setup)==null?void 0:c.reconnect)==null?void 0:m.info)??"Device will reboot now. Try these addresses to reconnect:")+"",i,s,o,f=xe(t[5]),r=[];for(let _=0;_<f.length;_+=1)r[_]=Fr(Tr(t,f,_));return{c(){e=p("div"),l=p("p"),i=k(n),s=h(),o=p("ul");for(let _=0;_<r.length;_+=1)r[_].c();u(o,"class","list-disc pl-5 space-y-1 mt-2"),u(e,"class","mt-4 text-sm text-gray-600 dark:text-gray-300")},m(_,d){C(_,e,d),a(e,l),a(l,i),a(e,s),a(e,o);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(o,null)},p(_,d){var b,w;if(d[0]&8&&n!==(n=(((w=(b=_[3].setup)==null?void 0:b.reconnect)==null?void 0:w.info)??"Device will reboot now. Try these addresses to reconnect:")+"")&&N(i,n),d[0]&32){f=xe(_[5]);let v;for(v=0;v<f.length;v+=1){const M=Tr(_,f,v);r[v]?r[v].p(M,d):(r[v]=Fr(M),r[v].c(),r[v].m(o,null))}for(;v<r.length;v+=1)r[v].d(1);r.length=f.length}},d(_){_&&y(e),Zt(r,_)}}}function Fr(t){let e,l,n=(t[30].startsWith("http://")||t[30].startsWith("https://")?t[30]:`http://${t[30]}`)+"",i;return{c(){e=p("li"),l=p("code"),i=k(n)},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o[0]&32&&n!==(n=(s[30].startsWith("http://")||s[30].startsWith("https://")?s[30]:`http://${s[30]}`)+"")&&N(i,n)},d(s){s&&y(e)}}}function Em(t){var he,ge,T,S,I,O,G,le,ae;let e,l,n,i,s,o,f,r,c=(((he=t[3].setup)==null?void 0:he.title)??"Setup")+"",m,_,d,b=(((T=(ge=t[3].conf)==null?void 0:ge.connection)==null?void 0:T.title)??"Connection")+"",w,v,M,g,A,L=(((I=(S=t[3].conf)==null?void 0:S.connection)==null?void 0:I.wifi)??"Connect to WiFi")+"",j,P,U,q,K=(((G=(O=t[3].conf)==null?void 0:O.general)==null?void 0:G.hostname)??"Hostname")+"",X,W,R,H,D,E,Y,z,F,B=(((le=t[3].btn)==null?void 0:le.save)??"Save")+"",Q,ne,V,ie,ce,oe,x,re=t[0].if&&t[0].if.eth&&Ar(t),Z=(t[4]==1||t[4]==2)&&qr(t),$=Am,ee=t[5].length&&Ir(t);return ie=new pl({props:{active:t[2],message:((ae=t[3].setup)==null?void 0:ae.mask)??"Lagrer"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("input"),f=h(),r=p("strong"),m=k(c),_=h(),d=p("div"),w=k(b),v=p("br"),M=h(),g=p("select"),A=p("option"),j=k(L),re&&re.c(),P=h(),Z&&Z.c(),U=h(),q=p("div"),X=k(K),W=h(),R=p("input"),H=h(),D=p("div"),E=h(),Y=h(),z=p("div"),F=p("button"),Q=k(B),ne=h(),ee&&ee.c(),V=h(),Ne(ie.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(o,"type","hidden"),u(o,"name","fw"),o.value="true",u(r,"class","text-sm"),A.__value=1,J(A,A.__value),u(g,"name","sc"),u(g,"class","in-s"),t[4]===void 0&&Kt(()=>t[12].call(g)),u(d,"class","my-3"),u(R,"name","sh"),u(R,"type","text"),u(R,"class","in-s"),u(R,"maxlength","32"),u(R,"pattern",Yn),u(R,"placeholder","Optional, ex.: ams-reader"),u(R,"autocomplete","off"),u(D,"class","my-3"),u(F,"type","submit"),u(F,"class","btn-pri"),u(z,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(fe,ue){C(fe,e,ue),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),a(n,r),a(r,m),a(n,_),a(n,d),a(d,w),a(d,v),a(d,M),a(d,g),a(g,A),a(A,j),re&&re.m(g,null),st(g,t[4],!0),a(n,P),Z&&Z.m(n,null),a(n,U),a(n,q),a(q,X),a(q,W),a(q,R),J(R,t[0].hostname),a(n,H),a(n,D),a(n,E),a(n,Y),a(n,z),a(z,F),a(F,Q),a(n,ne),ee&&ee.m(n,null),C(fe,V,ue),ye(ie,fe,ue),ce=!0,oe||(x=[pe(g,"change",t[12]),pe(R,"input",t[15]),pe(n,"submit",mn(t[9]))],oe=!0)},p(fe,ue){var Se,ke,qe,De,We,Ge,Ze,ve,we;(!ce||ue[0]&8)&&c!==(c=(((Se=fe[3].setup)==null?void 0:Se.title)??"Setup")+"")&&N(m,c),(!ce||ue[0]&8)&&b!==(b=(((qe=(ke=fe[3].conf)==null?void 0:ke.connection)==null?void 0:qe.title)??"Connection")+"")&&N(w,b),(!ce||ue[0]&8)&&L!==(L=(((We=(De=fe[3].conf)==null?void 0:De.connection)==null?void 0:We.wifi)??"Connect to WiFi")+"")&&N(j,L),fe[0].if&&fe[0].if.eth?re?re.p(fe,ue):(re=Ar(fe),re.c(),re.m(g,null)):re&&(re.d(1),re=null),ue[0]&16&&st(g,fe[4]),fe[4]==1||fe[4]==2?Z?Z.p(fe,ue):(Z=qr(fe),Z.c(),Z.m(n,U)):Z&&(Z.d(1),Z=null),(!ce||ue[0]&8)&&K!==(K=(((Ze=(Ge=fe[3].conf)==null?void 0:Ge.general)==null?void 0:Ze.hostname)??"Hostname")+"")&&N(X,K),ue[0]&1&&R.value!==fe[0].hostname&&J(R,fe[0].hostname),(!ce||ue[0]&8)&&B!==(B=(((ve=fe[3].btn)==null?void 0:ve.save)??"Save")+"")&&N(Q,B),fe[5].length?ee?ee.p(fe,ue):(ee=Ir(fe),ee.c(),ee.m(n,null)):ee&&(ee.d(1),ee=null);const me={};ue[0]&4&&(me.active=fe[2]),ue[0]&8&&(me.message=((we=fe[3].setup)==null?void 0:we.mask)??"Lagrer"),ie.$set(me)},i(fe){ce||(te($),te(ie.$$.fragment,fe),ce=!0)},o(fe){se($),se(ie.$$.fragment,fe),ce=!1},d(fe){fe&&(y(e),y(V)),re&&re.d(),Z&&Z.d(),ee&&ee.d(),Ce(ie,fe),oe=!1,zt(x)}}}let Am=!1;function qm(t,e,l){const n={high:cs,medium:us,low:fs,off:ms};n.off;let i={};Sl.subscribe(W=>{l(3,i=W)});let s,o,f=!1;const r=gn.subscribe(W=>{s=W,W!=null&&W.m&&!f&&(o=Tl(W.m),f=!0)});ts(()=>{au()}),ls(()=>{typeof r=="function"&&r()});function c(){!f&&(s!=null&&s.m)&&(o=Tl(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=Tl(s.m))}function m(){var H,D,E,Y,z,F,B,Q,ne,V,ie;c();const W=o??Tl(s==null?void 0:s.m);if(!W)return null;const R=(s==null?void 0:s.m)??{};return{source:W.source??R.o??1,parser:W.parser??R.a??0,baud:W.baud??R.b??0,parity:W.parity??R.p??3,invert:W.invert??R.i??!1,distributionSystem:W.distributionSystem??R.d??2,mainFuse:W.mainFuse??R.f??0,production:W.production??R.r??0,buffer:W.buffer??R.s??256,encrypted:W.encrypted??((H=R==null?void 0:R.e)==null?void 0:H.e)??!1,encryptionKey:W.encryptionKey??((D=R==null?void 0:R.e)==null?void 0:D.k)??"",authenticationKey:W.authenticationKey??((E=R==null?void 0:R.e)==null?void 0:E.a)??"",multipliers:{watt:((Y=W.multipliers)==null?void 0:Y.watt)??((z=R==null?void 0:R.m)==null?void 0:z.w)??1,volt:((F=W.multipliers)==null?void 0:F.volt)??((B=R==null?void 0:R.m)==null?void 0:B.v)??1,amp:((Q=W.multipliers)==null?void 0:Q.amp)??((ne=R==null?void 0:R.m)==null?void 0:ne.a)??1,kwh:((V=W.multipliers)==null?void 0:V.kwh)??((ie=R==null?void 0:R.m)==null?void 0:ie.c)??1}}}let _={};lu.subscribe(W=>{l(1,_=W)});let{sysinfo:d={}}=e,{data:b={}}=e,w=1,v=!1,M=[],g=[],A="",L;function j(W){ml.update(R=>(R.trying=W,R))}async function P(W){var ee,he,ge,T;l(2,v=!0);const R=new FormData(W.target),H=new URLSearchParams;for(let S of R){const[I,O]=S;H.append(I,typeof O=="string"?O:String(O))}const D=m();D&&(H.set("m","true"),H.set("mo",String(D.source??1)),H.set("ma",String(D.parser??0)),H.set("mb",String(D.baud??0)),H.set("mp",String(D.parity??3)),H.set("mi",D.invert?"true":"false"),H.set("md",String(D.distributionSystem??2)),H.set("mf",String(D.mainFuse??0)),H.set("mr",String(D.production??0)),H.set("ms",String(D.buffer??256)),D.encrypted&&(H.set("me","true"),H.set("mek",D.encryptionKey??""),H.set("mea",D.authenticationKey??"")),H.set("mmw",String(((ee=D.multipliers)==null?void 0:ee.watt)??1)),H.set("mmv",String(((he=D.multipliers)==null?void 0:he.volt)??1)),H.set("mma",String(((ge=D.multipliers)==null?void 0:ge.amp)??1)),H.set("mmc",String(((T=D.multipliers)==null?void 0:T.kwh)??1)));const Y=R.get("fwa")==="true";let F=await(await fetch("save",{method:"POST",body:H})).json();l(2,v=!1);const B=String(R.get("sh")??"").trim(),ne=(typeof F.message=="string"?F.message:"").split("|").map(S=>S.trim()),V=ne[0]??"",ie=ne[1]??"",ce=ne[2]??"",oe=V||B||d.hostname||(d!=null&&d.chipId?`ams-${d.chipId}`:"ams-reader"),x=ie||(oe&&oe.indexOf(".")===-1&&oe.indexOf(":")===-1?`${oe}.local`:oe),re=ce,Z=Array.from(new Set([re,oe,x].filter(S=>S&&S.length>0)));l(5,M=F.reboot?[...Z]:[]),ml.update(S=>{S.net||(S.net={});const I=oe||S.hostname||B;return S.hostname=I,(!S.upgrade||typeof S.upgrade!="object")&&(S.upgrade={x:-1,e:0,f:null,t:null,m:!1}),S.upgrade.auto=Y,ce&&(S.net.ip=ce),S.targets=[...Z],S.usrcfg=F.success,S.booting=F.reboot,S});const $=en(ml);l(0,d=$),F.reboot&&setTimeout(()=>fn($,j),5e3)}const U=[[]];function q(){w=nl(this),l(4,w)}function K(){A=this.__value,l(7,A)}function X(){d.hostname=this.value,l(0,d)}return t.$$set=W=>{"sysinfo"in W&&l(0,d=W.sysinfo),"data"in W&&l(10,b=W.data)},t.$$.update=()=>{var W;if(t.$$.dirty[0]&2053){const R=(W=d==null?void 0:d.upgrade)==null?void 0:W.auto;!v&&R!==L&&l(11,L=R)}if(t.$$.dirty[0]&1024){const{level:R,label:H}=Vn(b==null?void 0:b.r);n[R]??n.off}t.$$.dirty[0]&2&&l(6,g=Array.isArray(_==null?void 0:_.n)?_.n.map(R=>{const{level:H,label:D}=Vn(R==null?void 0:R.r);return{icon:n[H]??n.off,title:D}}):[])},[d,_,v,i,w,M,g,A,n,P,b,L,q,K,U,X]}class Lm extends At{constructor(e){super(),Et(this,e,qm,Em,Tt,{sysinfo:0,data:10},null,[-1,-1])}}function Dm(t){let e;return{c(){e=k("Kopier til utklippstavlen")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Om(t){let e;return{c(){e=k("Kopier mislyktes")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Im(t){let e;return{c(){e=k("Kopiert!")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Fm(t){let e;return{c(){e=k("Kopierer…")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Rm(t){let e;return{c(){e=k("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Um(t){let e;return{c(){e=k("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Bm(t){let e;return{c(){e=k("Lim adressen inn i nettleserens adresselinje.")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Rr(t){let e;return{c(){e=p("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Ur(t){let e;return{c(){e=p("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function jm(t){let e;return{c(){e=p("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Hm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Wm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Km(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Br(t){let e;return{c(){e=p("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function zm(t){let e,l,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W,R,H,D,E,Y,z,F,B,Q,ne,V,ie,ce,oe;function x(le,ae){return le[5]==="pending"?Fm:le[5]==="success"?Im:le[5]==="error"?Om:Dm}let re=x(t),Z=re(t);function $(le,ae){return le[5]==="success"?Bm:le[5]==="error"?Um:Rm}let ee=$(t),he=ee(t),ge=t[7]&&!t[8]&&Rr(),T=t[8]&&Ur();function S(le,ae){return le[2]?Km:le[3]?Wm:le[4]?Hm:jm}let I=S(t),O=I(t),G=t[1]&&t[6]&&Br();return{c(){e=p("section"),l=p("div"),n=p("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=p("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",o=h(),f=p("div"),r=p("div"),c=p("p"),c.textContent="1. Kopier adressen",m=h(),_=p("p"),d=k("Adressen er "),b=p("code"),w=k(t[0]),v=k(" og virker mens du er tilkoblet "),M=p("strong"),M.textContent="NEAS-WATTUP",g=k("."),A=h(),L=p("div"),j=p("button"),Z.c(),P=h(),U=p("span"),he.c(),q=h(),ge&&ge.c(),K=h(),T&&T.c(),X=h(),W=p("div"),R=p("p"),R.textContent="2. Åpne den i nettleseren",H=h(),D=p("div"),O.c(),E=h(),G&&G.c(),Y=h(),z=p("div"),F=p("p"),F.textContent="3. Start selve oppsettet",B=h(),Q=p("a"),ne=k("Åpne oppsettet i nettleseren"),V=h(),ie=p("p"),ie.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",u(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),u(s,"class","mt-3 text-slate-600 dark:text-slate-300"),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(b,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),u(_,"class","mt-2"),u(j,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),u(U,"class","text-xs text-slate-500 dark:text-slate-400"),u(L,"class","mt-3 flex flex-wrap items-center gap-2"),u(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(R,"class","font-medium"),u(D,"class","mt-2 space-y-2"),u(W,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),u(F,"class","font-medium text-slate-800 dark:text-slate-100"),u(Q,"class","btn-pri inline-block"),u(Q,"href",t[0]),u(Q,"target","_blank"),u(Q,"rel","noreferrer"),u(ie,"class","text-xs text-slate-500 dark:text-slate-400"),u(z,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(f,"class","mt-5 space-y-5"),u(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),u(e,"class","mt-6")},m(le,ae){C(le,e,ae),a(e,l),a(l,n),a(l,i),a(l,s),a(l,o),a(l,f),a(f,r),a(r,c),a(r,m),a(r,_),a(_,d),a(_,b),a(b,w),a(_,v),a(_,M),a(_,g),a(r,A),a(r,L),a(L,j),Z.m(j,null),a(L,P),a(L,U),he.m(U,null),a(L,q),ge&&ge.m(L,null),a(L,K),T&&T.m(L,null),a(f,X),a(f,W),a(W,R),a(W,H),a(W,D),O.m(D,null),a(f,E),G&&G.m(f,null),a(f,Y),a(f,z),a(z,F),a(z,B),a(z,Q),a(Q,ne),a(z,V),a(z,ie),ce||(oe=pe(j,"click",t[9]),ce=!0)},p(le,[ae]){ae&1&&N(w,le[0]),re!==(re=x(le))&&(Z.d(1),Z=re(le),Z&&(Z.c(),Z.m(j,null))),ee!==(ee=$(le))&&(he.d(1),he=ee(le),he&&(he.c(),he.m(U,null))),le[7]&&!le[8]?ge||(ge=Rr(),ge.c(),ge.m(L,K)):ge&&(ge.d(1),ge=null),le[8]?T||(T=Ur(),T.c(),T.m(L,null)):T&&(T.d(1),T=null),I!==(I=S(le))&&(O.d(1),O=I(le),O&&(O.c(),O.m(D,null))),le[1]&&le[6]?G||(G=Br(),G.c(),G.m(f,Y)):G&&(G.d(1),G=null),ae&1&&u(Q,"href",le[0])},i:Ve,o:Ve,d(le){le&&y(e),Z.d(),he.d(),ge&&ge.d(),T&&T.d(),O.d(),G&&G.d(),ce=!1,oe()}}}function Vm(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,_=!1,d=!1;ts(()=>{l(0,i=b()),w()}),ls(()=>{});function b(){const g="http://192.168.4.1/setup";try{const A=new URL(n||"/",window.location.href);return new URL("./setup",A).href}catch{return g}}function w(){if(typeof navigator>"u")return!1;const g=navigator.userAgent||"",A=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(g)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(g)),l(4,r=/Android/.test(g)),l(1,s=A.some(L=>L.test(g))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function v(g){var L,j;(L=g==null?void 0:g.preventDefault)==null||L.call(g),l(5,c="pending");const A=()=>{try{const P=document.createElement("textarea");P.value=i,P.setAttribute("readonly",""),P.style.position="absolute",P.style.left="-9999px",document.body.appendChild(P),P.select();const U=document.execCommand("copy");return document.body.removeChild(P),U}catch{return!1}};try{(j=navigator.clipboard)!=null&&j.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):A()?l(5,c="success"):l(5,c="error")}catch{A()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(M(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function M(){if(!s||_)return;l(7,_=!0);let g=!1;try{window.close(),g=window.closed}catch{g=!1}if(!g)try{window.open("","_self"),window.close(),g=window.closed}catch{g=!1}if(g){l(8,d=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,d=!0)},400)}return t.$$set=g=>{"basepath"in g&&l(10,n=g.basepath)},[i,s,o,f,r,c,m,_,d,v,n]}class Gm extends At{constructor(e){super(),Et(this,e,Vm,zm,Tt,{basepath:10})}}function Ym(t){var W,R,H,D;let e,l,n,i=(((W=t[2].upload)==null?void 0:W.title)??"Upload")+"",s,o,f,r,c,m=(((R=t[2].upload)==null?void 0:R.desc)??"")+"",_,d,b,w,v,M,g,A,L=(((H=t[2].btn)==null?void 0:H.upload)??"Upload")+"",j,P,U,q,K,X;return U=new pl({props:{active:t[3],message:((D=t[2].upload)==null?void 0:D.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=k(i),o=h(),f=k(t[1]),r=h(),c=p("p"),_=k(m),d=h(),b=p("form"),w=p("input"),v=h(),M=p("div"),g=p("button"),A=p("p"),j=k(L),P=h(),Ne(U.$$.fragment),u(c,"class","mb-4"),u(w,"name","file"),u(w,"type","file"),u(A,"class","mb-4"),u(g,"type","submit"),u(g,"class","btn-pri"),u(M,"class","w-full text-right mt-4"),u(b,"action",t[0]),u(b,"enctype","multipart/form-data"),u(b,"method","post"),u(b,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(E,Y){C(E,e,Y),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,_),a(l,d),a(l,b),a(b,w),a(b,v),a(b,M),a(M,g),a(g,A),a(A,j),C(E,P,Y),ye(U,E,Y),q=!0,K||(X=pe(b,"submit",t[4]),K=!0)},p(E,[Y]){var F,B,Q,ne;(!q||Y&4)&&i!==(i=(((F=E[2].upload)==null?void 0:F.title)??"Upload")+"")&&N(s,i),(!q||Y&2)&&N(f,E[1]),(!q||Y&4)&&m!==(m=(((B=E[2].upload)==null?void 0:B.desc)??"")+"")&&N(_,m),(!q||Y&4)&&L!==(L=(((Q=E[2].btn)==null?void 0:Q.upload)??"Upload")+"")&&N(j,L),(!q||Y&1)&&u(b,"action",E[0]);const z={};Y&8&&(z.active=E[3]),Y&4&&(z.message=((ne=E[2].upload)==null?void 0:ne.mask)??"Uploading"),U.$set(z)},i(E){q||(te(U.$$.fragment,E),q=!0)},o(E){se(U.$$.fragment,E),q=!1},d(E){E&&(y(e),y(P)),Ce(U,E),K=!1,X()}}}function Xm(t,e,l){let{action:n}=e,{title:i}=e,s={};Sl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class bs extends At{constructor(e){super(),Et(this,e,Xm,Ym,Tt,{action:0,title:1})}}function jr(t,e,l){const n=t.slice();return n[25]=e[l],n}function Jm(t,e,l){const n=t.slice();return n[28]=e[l],n}function Qm(t){let e;return{c(){e=p("option"),e.textContent=`${t[28].label}`,e.__value=t[28].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function Hr(t){var o,f,r;let e,l=(((r=(f=(o=t[0].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=k(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=pe(e,"click",t[11]),i=!0)},p(c,m){var _,d,b;m&1&&l!==(l=(((b=(d=(_=c[0].conf)==null?void 0:_.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear")+"")&&N(n,l)},d(c){c&&y(e),i=!1,s()}}}function Wr(t){let e,l=bi(t[8])+"",n,i,s=t[8].notes&&Kr(t);return{c(){e=p("div"),n=k(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f&256&&l!==(l=bi(o[8])+"")&&N(n,l),o[8].notes?s?s.p(o,f):(s=Kr(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&y(e),s&&s.d()}}}function Kr(t){let e,l=t[8].notes+"",n;return{c(){e=p("span"),n=k(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&256&&l!==(l=i[8].notes+"")&&N(n,l)},d(i){i&&y(e)}}}function zr(t){let e,l=t[25].name+"",n,i;return{c(){e=p("option"),n=k(l),e.__value=i=t[25].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&32&&l!==(l=s[25].name+"")&&N(n,l),o&32&&i!==(i=s[25].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&y(e)}}}function Zm(t){var Te,Ue,Le,Ie,Ye,nt,Lt,Bt,tl,xt,jt,Ot,sl,Dt,Qe,Rt,Ht,ht;let e,l,n,i,s=(((Te=t[0].consent)==null?void 0:Te.title)??"Consents")+"",o,f,r,c,m,_=(((Ue=t[0].consent)==null?void 0:Ue.one_click)??"One-click")+"",d,b,w,v,M=(((Le=t[0].consent)==null?void 0:Le.read_more)??"Read more")+"",g,A,L,j,P,U,q=(((Ie=t[0].consent)==null?void 0:Ie.yes)??"Yes")+"",K,X,W,R,H,D=(((Ye=t[0].consent)==null?void 0:Ye.no)??"No")+"",E,Y,z,F,B,Q,ne=(((nt=t[0].consent)==null?void 0:nt.auto_update)??"Automatic firmware updates")+"",V,ie,ce,oe,x,re,Z=(((Lt=t[0].consent)==null?void 0:Lt.yes)??"Yes")+"",$,ee,he,ge,T,S=(((Bt=t[0].consent)==null?void 0:Bt.no)??"No")+"",I,O,G,le,ae,fe=(((jt=(xt=(tl=t[0].conf)==null?void 0:tl.meter)==null?void 0:xt.preset)==null?void 0:jt.title)??"Meter preset")+"",ue,me,Se,ke,qe,De=(((Dt=(sl=(Ot=t[0].conf)==null?void 0:Ot.meter)==null?void 0:sl.preset)==null?void 0:Dt.manual)??"Manual configuration")+"",We,Ge,Ze,ve,we,ot=(((Qe=t[0].consent)==null?void 0:Qe.language)??"Language")+"",rt,qt,vt,ft,dt,tt=(((Rt=t[0].consent)==null?void 0:Rt.load_from_server)??"Load from server")+"",ct,Xt,_t,yt,Ct=(((Ht=t[0].btn)==null?void 0:Ht.save)??"Save")+"",Ft,lt,ut,Pe,Ae,$e,Je,be,Re,St=xe(hs),gt=[];for(let Me=0;Me<St.length;Me+=1)gt[Me]=Qm(Jm(t,St,Me));let et=t[7]&&Hr(t),Oe=t[8]&&Wr(t),it=xe(t[5]),He=[];for(let Me=0;Me<it.length;Me+=1)He[Me]=zr(jr(t,it,Me));return Pe=new pl({props:{active:t[1],message:((ht=t[0].consent)==null?void 0:ht.mask_saving)??"Saving"}}),$e=ci(t[16][0]),Je=ci(t[16][1]),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("div"),o=k(s),f=h(),r=p("hr"),c=h(),m=p("div"),d=k(_),b=p("br"),w=h(),v=p("a"),g=k(M),A=p("br"),L=h(),j=p("label"),P=p("input"),U=h(),K=k(q),X=h(),W=p("label"),R=p("input"),H=h(),E=k(D),Y=p("br"),z=h(),F=p("input"),B=h(),Q=p("div"),V=k(ne),ie=p("br"),ce=h(),oe=p("label"),x=p("input"),re=h(),$=k(Z),ee=h(),he=p("label"),ge=p("input"),T=h(),I=k(S),O=p("br"),G=h(),le=p("div"),ae=p("label"),ue=k(fe),me=h(),Se=p("div"),ke=p("select"),qe=p("option"),We=k(De);for(let Me=0;Me<gt.length;Me+=1)gt[Me].c();Ge=h(),et&&et.c(),Ze=h(),Oe&&Oe.c(),ve=h(),we=p("div"),rt=k(ot),qt=p("br"),vt=h(),ft=p("select");for(let Me=0;Me<He.length;Me+=1)He[Me].c();dt=p("option"),ct=k(tt),Xt=h(),_t=p("div"),yt=p("button"),Ft=k(Ct),ut=h(),Ne(Pe.$$.fragment),u(v,"href",Al("Data-collection-on-one-click-firmware-upgrade")),u(v,"target","_blank"),u(v,"class","text-blue-600 hover:text-blue-800"),u(P,"type","radio"),u(P,"name","sf"),P.__value="1",J(P,P.__value),u(P,"class","rounded m-2"),P.required=!0,u(R,"type","radio"),u(R,"name","sf"),R.__value="2",J(R,R.__value),u(R,"class","rounded m-2"),R.required=!0,u(m,"class","my-3"),u(F,"type","hidden"),u(F,"name","fw"),F.value="true",u(x,"type","radio"),u(x,"name","fwa"),x.__value="true",J(x,x.__value),u(x,"class","rounded m-2"),x.required=!0,u(ge,"type","radio"),u(ge,"name","fwa"),ge.__value="false",J(ge,ge.__value),u(ge,"class","rounded m-2"),ge.required=!0,u(Q,"class","my-3"),u(ae,"class","block text-sm font-medium text-slate-700 dark:text-slate-200"),u(ae,"for","consent-meter-preset"),qe.__value="",J(qe,qe.__value),u(ke,"id","consent-meter-preset"),u(ke,"class","in-s w-full"),t[7]===void 0&&Kt(()=>t[20].call(ke)),u(Se,"class","mt-2 flex gap-2"),u(le,"class","my-3"),dt.__value="hub",J(dt,dt.__value),u(ft,"name","ulang"),u(ft,"class","in-s"),t[4]===void 0&&Kt(()=>t[22].call(ft)),u(we,"class","my-3"),u(yt,"type","submit"),u(yt,"class","btn-pri"),yt.disabled=lt=!t[6],u(_t,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2"),$e.p(x,ge),Je.p(P,R)},m(Me,Fe){C(Me,e,Fe),a(e,l),a(l,n),a(n,i),a(i,o),a(n,f),a(n,r),a(n,c),a(n,m),a(m,d),a(m,b),a(m,w),a(m,v),a(v,g),a(m,A),a(m,L),a(m,j),a(j,P),P.checked=P.__value===t[2],a(j,U),a(j,K),a(m,X),a(m,W),a(W,R),R.checked=R.__value===t[2],a(W,H),a(W,E),a(m,Y),a(n,z),a(n,F),a(n,B),a(n,Q),a(Q,V),a(Q,ie),a(Q,ce),a(Q,oe),a(oe,x),x.checked=x.__value===t[3],a(oe,re),a(oe,$),a(Q,ee),a(Q,he),a(he,ge),ge.checked=ge.__value===t[3],a(he,T),a(he,I),a(Q,O),a(n,G),a(n,le),a(le,ae),a(ae,ue),a(le,me),a(le,Se),a(Se,ke),a(ke,qe),a(qe,We);for(let pt=0;pt<gt.length;pt+=1)gt[pt]&&gt[pt].m(ke,null);st(ke,t[7],!0),a(Se,Ge),et&&et.m(Se,null),a(le,Ze),Oe&&Oe.m(le,null),a(n,ve),a(n,we),a(we,rt),a(we,qt),a(we,vt),a(we,ft);for(let pt=0;pt<He.length;pt+=1)He[pt]&&He[pt].m(ft,null);a(ft,dt),a(dt,ct),st(ft,t[4],!0),a(n,Xt),a(n,_t),a(_t,yt),a(yt,Ft),C(Me,ut,Fe),ye(Pe,Me,Fe),Ae=!0,be||(Re=[pe(P,"change",t[15]),pe(R,"change",t[17]),pe(x,"change",t[18]),pe(ge,"change",t[19]),pe(ke,"change",t[20]),pe(ke,"change",t[21]),pe(ft,"change",t[22]),pe(ft,"change",t[9]),pe(n,"submit",mn(t[12]))],be=!0)},p(Me,[Fe]){var de,at,Xe,ol,Wt,Jt,cl,rl,Vt,Gt,ul,Ee,_e,Ut,Be,kt,fl,dl;if((!Ae||Fe&1)&&s!==(s=(((de=Me[0].consent)==null?void 0:de.title)??"Consents")+"")&&N(o,s),(!Ae||Fe&1)&&_!==(_=(((at=Me[0].consent)==null?void 0:at.one_click)??"One-click")+"")&&N(d,_),(!Ae||Fe&1)&&M!==(M=(((Xe=Me[0].consent)==null?void 0:Xe.read_more)??"Read more")+"")&&N(g,M),Fe&4&&(P.checked=P.__value===Me[2]),(!Ae||Fe&1)&&q!==(q=(((ol=Me[0].consent)==null?void 0:ol.yes)??"Yes")+"")&&N(K,q),Fe&4&&(R.checked=R.__value===Me[2]),(!Ae||Fe&1)&&D!==(D=(((Wt=Me[0].consent)==null?void 0:Wt.no)??"No")+"")&&N(E,D),(!Ae||Fe&1)&&ne!==(ne=(((Jt=Me[0].consent)==null?void 0:Jt.auto_update)??"Automatic firmware updates")+"")&&N(V,ne),Fe&8&&(x.checked=x.__value===Me[3]),(!Ae||Fe&1)&&Z!==(Z=(((cl=Me[0].consent)==null?void 0:cl.yes)??"Yes")+"")&&N($,Z),Fe&8&&(ge.checked=ge.__value===Me[3]),(!Ae||Fe&1)&&S!==(S=(((rl=Me[0].consent)==null?void 0:rl.no)??"No")+"")&&N(I,S),(!Ae||Fe&1)&&fe!==(fe=(((ul=(Gt=(Vt=Me[0].conf)==null?void 0:Vt.meter)==null?void 0:Gt.preset)==null?void 0:ul.title)??"Meter preset")+"")&&N(ue,fe),(!Ae||Fe&1)&&De!==(De=(((Ut=(_e=(Ee=Me[0].conf)==null?void 0:Ee.meter)==null?void 0:_e.preset)==null?void 0:Ut.manual)??"Manual configuration")+"")&&N(We,De),Fe&128&&st(ke,Me[7]),Me[7]?et?et.p(Me,Fe):(et=Hr(Me),et.c(),et.m(Se,null)):et&&(et.d(1),et=null),Me[8]?Oe?Oe.p(Me,Fe):(Oe=Wr(Me),Oe.c(),Oe.m(le,null)):Oe&&(Oe.d(1),Oe=null),(!Ae||Fe&1)&&ot!==(ot=(((Be=Me[0].consent)==null?void 0:Be.language)??"Language")+"")&&N(rt,ot),Fe&32){it=xe(Me[5]);let ll;for(ll=0;ll<it.length;ll+=1){const hl=jr(Me,it,ll);He[ll]?He[ll].p(hl,Fe):(He[ll]=zr(hl),He[ll].c(),He[ll].m(ft,dt))}for(;ll<He.length;ll+=1)He[ll].d(1);He.length=it.length}(!Ae||Fe&1)&&tt!==(tt=(((kt=Me[0].consent)==null?void 0:kt.load_from_server)??"Load from server")+"")&&N(ct,tt),Fe&48&&st(ft,Me[4]),(!Ae||Fe&1)&&Ct!==(Ct=(((fl=Me[0].btn)==null?void 0:fl.save)??"Save")+"")&&N(Ft,Ct),(!Ae||Fe&64&&lt!==(lt=!Me[6]))&&(yt.disabled=lt);const pt={};Fe&2&&(pt.active=Me[1]),Fe&1&&(pt.message=((dl=Me[0].consent)==null?void 0:dl.mask_saving)??"Saving"),Pe.$set(pt)},i(Me){Ae||(te(Pe.$$.fragment,Me),Ae=!0)},o(Me){se(Pe.$$.fragment,Me),Ae=!1},d(Me){Me&&(y(e),y(ut)),Zt(gt,Me),et&&et.d(),Oe&&Oe.d(),Zt(He,Me),Ce(Pe,Me),$e.r(),Je.r(),be=!1,zt(Re)}}}function $m(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s={};Sl.subscribe(H=>{l(0,s=H)});let o=!1,f="",r="",c="",m=[{code:"en",name:"English"},{code:"no",name:"Norsk"}],_=!1,d=Tl(),b="",w=null;async function v(H){const D=H.target.value;if(D==="hub"){try{const E=await wl("http://hub.amsleser.no/hub/language/list.json");l(5,m=await E.json()),l(4,c=s.language.code)}catch(E){console.error("Failed to load languages from hub",E),l(4,c=s.language.code)}return}l(4,c=D),c&&await ki(c)}function M(H){l(7,b=H);const D=fu(H);l(8,w=D??null),D?d=uu(Tl(),D):d=Tl()}function g(){l(7,b=""),l(8,w=null),d=Tl()}function A(){var D,E,Y,z;if(!w)return null;const H=d??Tl();return{source:H.source??1,parser:H.parser??0,baud:H.baud??0,parity:H.parity??3,invert:H.invert??!1,distributionSystem:H.distributionSystem??2,mainFuse:H.mainFuse??0,production:H.production??0,buffer:H.buffer??256,encrypted:H.encrypted??!1,encryptionKey:H.encryptionKey??"",authenticationKey:H.authenticationKey??"",multipliers:{watt:((D=H.multipliers)==null?void 0:D.watt)??1,volt:((E=H.multipliers)==null?void 0:E.volt)??1,amp:((Y=H.multipliers)==null?void 0:Y.amp)??1,kwh:((z=H.multipliers)==null?void 0:z.kwh)??1}}}async function L(H){var V,ie,ce,oe;l(1,o=!0);const D=new FormData(H.target),E=new URLSearchParams;for(let x of D){const[re,Z]=x;E.append(re,typeof Z=="string"?Z:String(Z))}const Y=D.get("sf"),z=D.get("fwa"),F=z==="true"?!0:z==="false"?!1:null,B=A();B&&(E.set("m","true"),E.set("mo",String(B.source??1)),E.set("ma",String(B.parser??0)),E.set("mb",String(B.baud??0)),E.set("mp",String(B.parity??3)),E.set("mi",B.invert?"true":"false"),E.set("md",String(B.distributionSystem??2)),E.set("mf",String(B.mainFuse??0)),E.set("mr",String(B.production??0)),E.set("ms",String(B.buffer??256)),B.encrypted&&(E.set("me","true"),E.set("mek",B.encryptionKey??""),E.set("mea",B.authenticationKey??"")),E.set("mmw",String(((V=B.multipliers)==null?void 0:V.watt)??1)),E.set("mmv",String(((ie=B.multipliers)==null?void 0:ie.volt)??1)),E.set("mma",String(((ce=B.multipliers)==null?void 0:ce.amp)??1)),E.set("mmc",String(((oe=B.multipliers)==null?void 0:oe.kwh)??1)));let ne=await(await fetch("save",{method:"POST",body:E})).json();l(1,o=!1),ml.update(x=>{if(x.fwconsent=Y==="1"?1:Y==="2"?2:0,(!x.ui||typeof x.ui!="object")&&(x.ui={}),c&&(x.ui.lang=c),(!x.upgrade||typeof x.upgrade!="object")&&(x.upgrade={x:-1,e:0,f:null,t:null,m:!1}),F!==null&&(x.upgrade.auto=F),B){const re=cu(x.m??{},d);re.appliedPresetId=d.appliedPresetId,x.m=re}return x.booting=ne.reboot,x}),Ol(n)}const j=[[],[]];function P(){f=this.__value,l(2,f),l(14,i),l(5,m),l(0,s),l(4,c)}function U(){f=this.__value,l(2,f),l(14,i),l(5,m),l(0,s),l(4,c)}function q(){r=this.__value,l(3,r),l(14,i),l(5,m),l(0,s),l(4,c)}function K(){r=this.__value,l(3,r),l(14,i),l(5,m),l(0,s),l(4,c)}function X(){b=nl(this),l(7,b)}const W=H=>M(H.target.value);function R(){c=nl(this),l(4,c),l(14,i),l(5,m),l(0,s),l(5,m),l(0,s),l(14,i),l(4,c)}return t.$$set=H=>{"basepath"in H&&l(13,n=H.basepath),"sysinfo"in H&&l(14,i=H.sysinfo)},t.$$.update=()=>{var H,D,E,Y,z;if(t.$$.dirty&33&&(H=s==null?void 0:s.language)!=null&&H.code&&!m.find(F=>F.code===s.language.code)&&l(5,m=[...m,{code:s.language.code,name:s.language.name??s.language.code}]),t.$$.dirty&16433&&i){(i.fwconsent===1||i.fwconsent===2)&&l(2,f=String(i.fwconsent));const F=(D=i==null?void 0:i.upgrade)==null?void 0:D.auto;F===!0?l(3,r="true"):F===!1&&l(3,r="false");const B=(E=i==null?void 0:i.ui)==null?void 0:E.lang;B&&!m.find(Q=>Q.code===B)&&l(5,m=[...m,{code:B,name:((Y=s.language)==null?void 0:Y.name)??B.toUpperCase()}]),!c&&B&&l(4,c=B)}t.$$.dirty&17&&!c&&(z=s==null?void 0:s.language)!=null&&z.code&&l(4,c=s.language.code),t.$$.dirty&14&&l(6,_=f!==""&&r!==""&&!o)},[s,o,f,r,c,m,_,b,w,v,M,g,L,n,i,P,j,U,q,K,X,W,R]}class xm extends At{constructor(e){super(),Et(this,e,$m,Zm,Tt,{basepath:13,sysinfo:14})}}function Vr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Gr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function e_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Yr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function t_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Jr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function $r(t){let e,l=xe(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=of(Vr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=$t()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=xe(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Vr(i,l,o);n[o]?n[o].p(f,s):(n[o]=of(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&y(e),Zt(n,i)}}}function xr(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=pe(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&y(e),s=!1,o()}}}function ef(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=pe(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&y(e),s=!1,o()}}}function tf(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=pe(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&y(e),s=!1,o()}}}function lf(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=k(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=pe(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&y(e),s=!1,o()}}}function l_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function nf(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:bt(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:bt(s[35]+1))+"")&&N(n,l)},d(s){s&&y(e)}}}function n_(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ve,d(l){l&&y(e)}}}function sf(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:bt(t[35]+1))+"",n;return{c(){e=p("option"),n=k(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:bt(s[35]+1))+"")&&N(n,l)},d(s){s&&y(e)}}}function of(t){var Ot,sl,Dt,Qe,Rt,Ht,ht,Me,Fe,pt;let e,l,n,i,s,o,f,r=(((sl=(Ot=t[0].conf)==null?void 0:Ot.common)==null?void 0:sl.import)??"Import")+"",c,m,_=(((Qe=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:Qe.export)??"Export")+"",d,b,w=(((Ht=(Rt=t[0].conf)==null?void 0:Rt.price)==null?void 0:Ht.both)??"Both")+"",v,M,g,A,L=(((Me=(ht=t[0].conf)==null?void 0:ht.price)==null?void 0:Me.fixed)??"Fixed")+"",j,P,U,q,K,X,W,R,H,D=(((Fe=t[0].common)==null?void 0:Fe.days)??"Days")+"",E,Y,z,F,B,Q,ne,V=(((pt=t[0].common)==null?void 0:pt.hours)??"Hours")+"",ie,ce,oe,x,re,Z,$,ee,he,ge,T,S,I,O,G,le,ae,fe,ue,me,Se,ke,qe,De,We,Ge,Ze,ve,we,ot,rt,qt,vt,ft,dt,tt,ct;function Xt(){t[12].call(n,t[31],t[32])}function _t(){t[13].call(o,t[31],t[32])}function yt(){t[14].call(g,t[31],t[32])}function Ct(){t[15].call(X,t[31],t[32])}let Ft=xe({length:7}),lt=[];for(let de=0;de<Ft.length;de+=1)lt[de]=xr(Zr(t,Ft,de));let ut=xe({length:8}),Pe=[];for(let de=0;de<ut.length;de+=1)Pe[de]=ef(Qr(t,ut,de));let Ae=xe({length:8}),$e=[];for(let de=0;de<Ae.length;de+=1)$e[de]=tf(Jr(t,Ae,de));let Je=xe({length:8}),be=[];for(let de=0;de<Je.length;de+=1)be[de]=lf(Xr(t,Je,de));let Re=xe({length:31}),St=[];for(let de=0;de<Re.length;de+=1)St[de]=l_(t_(t,Re,de));function gt(){t[20].call(S,t[31],t[32])}let et=xe({length:12}),Oe=[];for(let de=0;de<et.length;de+=1)Oe[de]=nf(Yr(t,et,de));function it(){t[21].call(G,t[31],t[32])}let He=xe({length:31}),Te=[];for(let de=0;de<He.length;de+=1)Te[de]=n_(e_(t,He,de));function Ue(){t[22].call(me,t[31],t[32])}let Le=xe({length:12}),Ie=[];for(let de=0;de<Le.length;de+=1)Ie[de]=sf(Gr(t,Le,de));function Ye(){t[23].call(qe,t[31],t[32])}function nt(){return t[24](t[32])}function Lt(){return t[25](t[32])}function Bt(){return t[26](t[32])}function tl(){return t[27](t[32])}function xt(){return t[28](t[32])}function jt(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=h(),s=p("div"),o=p("select"),f=p("option"),c=k(r),m=p("option"),d=k(_),b=p("option"),v=k(w),M=h(),g=p("select"),A=p("option"),j=k(L),P=p("option"),P.textContent="+",U=p("option"),U.textContent="-",q=p("option"),q.textContent="%",K=h(),X=p("input"),W=h(),R=p("div"),H=p("span"),E=k(D),Y=k(":"),z=h(),F=p("div");for(let de=0;de<lt.length;de+=1)lt[de].c();B=h(),Q=p("div"),ne=p("span"),ie=k(V),ce=k(":"),oe=h(),x=p("div"),re=p("div");for(let de=0;de<Pe.length;de+=1)Pe[de].c();Z=h(),$=p("div");for(let de=0;de<$e.length;de+=1)$e[de].c();ee=h(),he=p("div");for(let de=0;de<be.length;de+=1)be[de].c();ge=h(),T=p("div"),S=p("select"),I=p("option"),I.textContent="-";for(let de=0;de<St.length;de+=1)St[de].c();O=h(),G=p("select"),le=p("option"),le.textContent="-";for(let de=0;de<Oe.length;de+=1)Oe[de].c();ae=h(),fe=p("input"),ue=h(),me=p("select"),Se=p("option"),Se.textContent="-";for(let de=0;de<Te.length;de+=1)Te[de].c();ke=h(),qe=p("select"),De=p("option"),De.textContent="-";for(let de=0;de<Ie.length;de+=1)Ie[de].c();We=h(),Ge=p("div"),Ze=p("span"),Ze.textContent="⇧",ve=h(),we=p("span"),ot=k("⇩"),qt=h(),vt=p("span"),vt.textContent="🗑",ft=h(),dt=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,J(f,f.__value),m.__value=2,J(m,m.__value),b.__value=3,J(b,b.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Kt(_t),A.__value=0,J(A,A.__value),P.__value=1,J(P,P.__value),U.__value=3,J(U,U.__value),q.__value=2,J(q,q.__value),u(g,"name","rt"),u(g,"class","in-m"),t[30].t===void 0&&Kt(yt),u(X,"name","rv"),u(X,"type","number"),u(X,"class","in-l tr"),tn(X,"width","100px"),u(X,"min","0.0001"),u(X,"max","99.9999"),u(X,"step","0.0001"),u(s,"class","flex mr-3"),u(H,"class","mr-2"),u(R,"class","flex flex-wrap mr-3"),u(ne,"class","mr-2"),u(Q,"class","flex flex-wrap mr-3"),I.__value=0,J(I,I.__value),u(S,"name","rsd"),u(S,"class","in-f"),t[30].s.d===void 0&&Kt(gt),le.__value=0,J(le,le.__value),u(G,"name","rsm"),u(G,"class","in-m"),t[30].s.m===void 0&&Kt(it),u(fe,"class","in-m"),fe.disabled=!0,fe.value="to",tn(fe,"width","20px"),tn(fe,"color","#888"),Se.__value=0,J(Se,Se.__value),u(me,"name","red"),u(me,"class","in-m"),t[30].e.d===void 0&&Kt(Ue),De.__value=0,J(De,De.__value),u(qe,"name","rem"),u(qe,"class","in-l"),t[30].e.m===void 0&&Kt(Ye),u(T,"class","flex flex-wrap mr-3"),u(Ze,"class",t[32]>0?"text-green-600":"text-gray-300"),u(we,"class",rt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(vt,"class","text-red-500 text-xs"),u(Ge,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(dt,"class","m-3")},m(de,at){C(de,e,at),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,d),a(o,b),a(b,v),st(o,t[30].d,!0),a(s,M),a(s,g),a(g,A),a(A,j),a(g,P),a(g,U),a(g,q),st(g,t[30].t,!0),a(s,K),a(s,X),J(X,t[30].v),a(e,W),a(e,R),a(R,H),a(H,E),a(H,Y),a(R,z),a(R,F);for(let Xe=0;Xe<lt.length;Xe+=1)lt[Xe]&&lt[Xe].m(F,null);a(e,B),a(e,Q),a(Q,ne),a(ne,ie),a(ne,ce),a(Q,oe),a(Q,x),a(x,re);for(let Xe=0;Xe<Pe.length;Xe+=1)Pe[Xe]&&Pe[Xe].m(re,null);a(x,Z),a(x,$);for(let Xe=0;Xe<$e.length;Xe+=1)$e[Xe]&&$e[Xe].m($,null);a(x,ee),a(x,he);for(let Xe=0;Xe<be.length;Xe+=1)be[Xe]&&be[Xe].m(he,null);a(e,ge),a(e,T),a(T,S),a(S,I);for(let Xe=0;Xe<St.length;Xe+=1)St[Xe]&&St[Xe].m(S,null);st(S,t[30].s.d,!0),a(T,O),a(T,G),a(G,le);for(let Xe=0;Xe<Oe.length;Xe+=1)Oe[Xe]&&Oe[Xe].m(G,null);st(G,t[30].s.m,!0),a(T,ae),a(T,fe),a(T,ue),a(T,me),a(me,Se);for(let Xe=0;Xe<Te.length;Xe+=1)Te[Xe]&&Te[Xe].m(me,null);st(me,t[30].e.d,!0),a(T,ke),a(T,qe),a(qe,De);for(let Xe=0;Xe<Ie.length;Xe+=1)Ie[Xe]&&Ie[Xe].m(qe,null);st(qe,t[30].e.m,!0),a(e,We),a(e,Ge),a(Ge,Ze),a(Ge,ve),a(Ge,we),a(we,ot),a(Ge,qt),a(Ge,vt),C(de,ft,at),C(de,dt,at),tt||(ct=[pe(n,"input",Xt),pe(o,"change",_t),pe(g,"change",yt),pe(X,"input",Ct),pe(S,"change",gt),pe(G,"change",it),pe(me,"change",Ue),pe(qe,"change",Ye),pe(Ze,"click",nt),pe(Ze,"keypress",Lt),pe(we,"click",Bt),pe(we,"keypress",tl),pe(vt,"click",xt),pe(vt,"keypress",jt)],tt=!0)},p(de,at){var Xe,ol,Wt,Jt,cl,rl,Vt,Gt,ul,Ee;if(t=de,at[0]&2&&n.value!==t[30].n&&J(n,t[30].n),at[0]&1&&r!==(r=(((ol=(Xe=t[0].conf)==null?void 0:Xe.common)==null?void 0:ol.import)??"Import")+"")&&N(c,r),at[0]&1&&_!==(_=(((Jt=(Wt=t[0].conf)==null?void 0:Wt.common)==null?void 0:Jt.export)??"Export")+"")&&N(d,_),at[0]&1&&w!==(w=(((rl=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:rl.both)??"Both")+"")&&N(v,w),at[0]&2&&st(o,t[30].d),at[0]&1&&L!==(L=(((Gt=(Vt=t[0].conf)==null?void 0:Vt.price)==null?void 0:Gt.fixed)??"Fixed")+"")&&N(j,L),at[0]&2&&st(g,t[30].t),at[0]&2&&wt(X.value)!==t[30].v&&J(X,t[30].v),at[0]&1&&D!==(D=(((ul=t[0].common)==null?void 0:ul.days)??"Days")+"")&&N(E,D),at[0]&82){Ft=xe({length:7});let _e;for(_e=0;_e<Ft.length;_e+=1){const Ut=Zr(t,Ft,_e);lt[_e]?lt[_e].p(Ut,at):(lt[_e]=xr(Ut),lt[_e].c(),lt[_e].m(F,null))}for(;_e<lt.length;_e+=1)lt[_e].d(1);lt.length=Ft.length}if(at[0]&1&&V!==(V=(((Ee=t[0].common)==null?void 0:Ee.hours)??"Hours")+"")&&N(ie,V),at[0]&66){ut=xe({length:8});let _e;for(_e=0;_e<ut.length;_e+=1){const Ut=Qr(t,ut,_e);Pe[_e]?Pe[_e].p(Ut,at):(Pe[_e]=ef(Ut),Pe[_e].c(),Pe[_e].m(re,null))}for(;_e<Pe.length;_e+=1)Pe[_e].d(1);Pe.length=ut.length}if(at[0]&66){Ae=xe({length:8});let _e;for(_e=0;_e<Ae.length;_e+=1){const Ut=Jr(t,Ae,_e);$e[_e]?$e[_e].p(Ut,at):($e[_e]=tf(Ut),$e[_e].c(),$e[_e].m($,null))}for(;_e<$e.length;_e+=1)$e[_e].d(1);$e.length=Ae.length}if(at[0]&66){Je=xe({length:8});let _e;for(_e=0;_e<Je.length;_e+=1){const Ut=Xr(t,Je,_e);be[_e]?be[_e].p(Ut,at):(be[_e]=lf(Ut),be[_e].c(),be[_e].m(he,null))}for(;_e<be.length;_e+=1)be[_e].d(1);be.length=Je.length}if(at[0]&2&&st(S,t[30].s.d),at[0]&1){et=xe({length:12});let _e;for(_e=0;_e<et.length;_e+=1){const Ut=Yr(t,et,_e);Oe[_e]?Oe[_e].p(Ut,at):(Oe[_e]=nf(Ut),Oe[_e].c(),Oe[_e].m(G,null))}for(;_e<Oe.length;_e+=1)Oe[_e].d(1);Oe.length=et.length}if(at[0]&2&&st(G,t[30].s.m),at[0]&2&&st(me,t[30].e.d),at[0]&1){Le=xe({length:12});let _e;for(_e=0;_e<Le.length;_e+=1){const Ut=Gr(t,Le,_e);Ie[_e]?Ie[_e].p(Ut,at):(Ie[_e]=sf(Ut),Ie[_e].c(),Ie[_e].m(qe,null))}for(;_e<Ie.length;_e+=1)Ie[_e].d(1);Ie.length=Le.length}at[0]&2&&st(qe,t[30].e.m),at[0]&2&&rt!==(rt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(we,"class",rt)},d(de){de&&(y(e),y(ft),y(dt)),Zt(lt,de),Zt(Pe,de),Zt($e,de),Zt(be,de),Zt(St,de),Zt(Oe,de),Zt(Te,de),Zt(Ie,de),tt=!1,zt(ct)}}}function i_(t){var B,Q,ne,V,ie,ce,oe,x,re;let e,l,n=(((Q=(B=t[0].conf)==null?void 0:B.price)==null?void 0:Q.title)??"Price")+"",i,s,o,f,r,c,m,_,d,b,w,v,M,g=(((V=(ne=t[0].conf)==null?void 0:ne.price)==null?void 0:V.btn_add)??"Add")+"",A,L,j,P,U,q,K=(((ie=t[0].btn)==null?void 0:ie.save)??"Save")+"",X,W,R,H,D,E,Y,z,F=t[1].o&&$r(t);return R=new pl({props:{active:t[2],message:((oe=(ce=t[0].conf)==null?void 0:ce.price)==null?void 0:oe.mask_loading)??"Loading"}}),D=new pl({props:{active:t[3],message:((re=(x=t[0].conf)==null?void 0:x.price)==null?void 0:re.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=k(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("hr"),c=h(),m=p("form"),_=p("input"),d=h(),F&&F.c(),b=h(),w=p("div"),v=p("div"),M=p("button"),A=k(g),L=h(),j=p("div"),j.innerHTML="",P=h(),U=p("div"),q=p("button"),X=k(K),W=h(),Ne(R.$$.fragment),H=h(),Ne(D.$$.fragment),u(l,"class","text-sm"),u(o,"href",Al("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(_,"type","hidden"),u(_,"name","r"),_.value="true",u(M,"type","button"),u(M,"class","btn-pri"),u(j,"class","text-center"),u(q,"type","submit"),u(q,"class","btn-pri"),u(U,"class","text-right"),u(w,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(Z,$){C(Z,e,$),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,d),F&&F.m(m,null),a(m,b),a(m,w),a(w,v),a(v,M),a(M,A),a(w,L),a(w,j),a(w,P),a(w,U),a(U,q),a(q,X),C(Z,W,$),ye(R,Z,$),C(Z,H,$),ye(D,Z,$),E=!0,Y||(z=[pe(M,"click",t[7]),pe(m,"submit",mn(t[5]))],Y=!0)},p(Z,$){var ge,T,S,I,O,G,le,ae,fe;(!E||$[0]&1)&&n!==(n=(((T=(ge=Z[0].conf)==null?void 0:ge.price)==null?void 0:T.title)??"Price")+"")&&N(i,n),Z[1].o?F?F.p(Z,$):(F=$r(Z),F.c(),F.m(m,b)):F&&(F.d(1),F=null),(!E||$[0]&1)&&g!==(g=(((I=(S=Z[0].conf)==null?void 0:S.price)==null?void 0:I.btn_add)??"Add")+"")&&N(A,g),(!E||$[0]&1)&&K!==(K=(((O=Z[0].btn)==null?void 0:O.save)??"Save")+"")&&N(X,K);const ee={};$[0]&4&&(ee.active=Z[2]),$[0]&1&&(ee.message=((le=(G=Z[0].conf)==null?void 0:G.price)==null?void 0:le.mask_loading)??"Loading"),R.$set(ee);const he={};$[0]&8&&(he.active=Z[3]),$[0]&1&&(he.message=((fe=(ae=Z[0].conf)==null?void 0:ae.price)==null?void 0:fe.mask_saving)??"Saving"),D.$set(he)},i(Z){E||(te(R.$$.fragment,Z),te(D.$$.fragment,Z),E=!0)},o(Z){se(R.$$.fragment,Z),se(D.$$.fragment,Z),E=!1},d(Z){Z&&(y(e),y(W),y(H)),F&&F.d(),Ce(R,Z),Ce(D,Z),Y=!1,zt(z)}}}function s_(t,e,l){let{basepath:n="/"}=e,i={};Sl.subscribe(F=>{l(0,i=F)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;ru.subscribe(F=>{F.o&&(l(1,o=F),l(2,f=!1))}),k1();async function c(F){l(3,r=!0);const B=new URLSearchParams;B.append("r","true"),B.append("rc",o.o.length),o.o.forEach(function(ne,V){B.append("rt"+V,ne.t),B.append("rn"+V,ne.n),B.append("rd"+V,ne.d),B.append("ra"+V,ne.a),B.append("rh"+V,ne.h),B.append("rv"+V,ne.v),B.append("rsm"+V,ne.s.m),B.append("rsd"+V,ne.s.d),B.append("rem"+V,ne.e.m),B.append("red"+V,ne.e.d)}),await(await fetch("save",{method:"POST",body:B})).json(),l(3,r=!1),Ol(n+"configuration")}let m=function(F,B){return F.includes(B)?F=F.filter(function(Q){return Q!==B}):F.push(B),F},_=function(){let F=o.o;F.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=F,o)},d=function(F){let B=o.o;B.splice(F,1),l(1,o.o=B,o)},b=function(F){if(F<=0)return;let B=o.o;var Q=B[F];B[F]=B[F-1],B[F-1]=Q,l(1,o.o=B,o)},w=function(F){let B=o.o;if(!(F>=B.length-1)){var Q=B[F];B[F]=B[F+1],B[F+1]=Q,l(1,o.o=B,o)}};function v(F,B){F[B].n=this.value,l(1,o)}function M(F,B){F[B].d=nl(this),l(1,o)}function g(F,B){F[B].t=nl(this),l(1,o)}function A(F,B){F[B].v=wt(this.value),l(1,o)}const L=(F,B,Q,ne)=>l(1,Q[ne].a=m(F.a,B),o),j=(F,B,Q,ne)=>l(1,Q[ne].h=m(F.h,B),o),P=(F,B,Q,ne)=>l(1,Q[ne].h=m(F.h,B+8),o),U=(F,B,Q,ne)=>l(1,Q[ne].h=m(F.h,B+16),o);function q(F,B){F[B].s.d=nl(this),l(1,o)}function K(F,B){F[B].s.m=nl(this),l(1,o)}function X(F,B){F[B].e.d=nl(this),l(1,o)}function W(F,B){F[B].e.m=nl(this),l(1,o)}const R=F=>b(F),H=F=>b(F),D=F=>w(F),E=F=>w(F),Y=F=>d(F),z=F=>d(F);return t.$$set=F=>{"basepath"in F&&l(11,n=F.basepath)},[i,o,f,r,s,c,m,_,d,b,w,n,v,M,g,A,L,j,P,U,q,K,X,W,R,H,D,E,Y,z]}class o_ extends At{constructor(e){super(),Et(this,e,s_,i_,Tt,{basepath:11},null,[-1,-1])}}function af(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function rf(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function ff(t){let e,l,n,i=xe(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=uf(rf(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=xe(o[1]);let r;for(r=0;r<i.length;r+=1){const c=rf(o,i,r);s[r]?s[r].p(c,f):(s[r]=uf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(y(e),y(l),y(n)),Zt(s,o)}}}function uf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function b(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,v){C(w,e,v),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=pe(o,"input",b),_=!0)},p(w,v){t=w,v&2&&n!==(n=t[13].name+"")&&N(i,n),v&2&&f!==(f=t[13].key)&&u(o,"name",f),v&3&&wt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&y(e),_=!1,d()}}}function cf(t){let e,l,n,i=xe(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=mf(af(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=xe(o[2]);let r;for(r=0;r<i.length;r+=1){const c=af(o,i,r);s[r]?s[r].p(c,f):(s[r]=mf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(y(e),y(l),y(n)),Zt(s,o)}}}function mf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,_,d;function b(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=k(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,v){C(w,e,v),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),_||(d=pe(o,"input",b),_=!0)},p(w,v){t=w,v&4&&n!==(n=t[13].name+"")&&N(i,n),v&4&&f!==(f=t[13].key)&&u(o,"name",f),v&5&&wt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&y(e),_=!1,d()}}}function a_(t){var j,P,U;let e,l,n,i,s,o,f,r,c,m,_=(((j=t[3].btn)==null?void 0:j.save)??"Save")+"",d,b,w,v,M,g,A=t[1]&&ff(t),L=t[2]&&t[4]&&cf(t);return w=new pl({props:{active:t[5],message:((U=(P=t[3].conf)==null?void 0:P.mask)==null?void 0:U.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),A&&A.c(),n=h(),L&&L.c(),i=h(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=h(),c=p("div"),m=p("button"),d=k(_),b=h(),Ne(w.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(q,K){C(q,e,K),a(e,l),A&&A.m(l,null),a(l,n),L&&L.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,d),C(q,b,K),ye(w,q,K),v=!0,M||(g=[pe(f,"click",t[6]),pe(e,"submit",mn(t[7]))],M=!0)},p(q,[K]){var W,R,H;q[1]?A?A.p(q,K):(A=ff(q),A.c(),A.m(l,n)):A&&(A.d(1),A=null),q[2]&&q[4]?L?L.p(q,K):(L=cf(q),L.c(),L.m(l,i)):L&&(L.d(1),L=null),(!v||K&8)&&_!==(_=(((W=q[3].btn)==null?void 0:W.save)??"Save")+"")&&N(d,_);const X={};K&32&&(X.active=q[5]),K&8&&(X.message=((H=(R=q[3].conf)==null?void 0:R.mask)==null?void 0:H.saving)??"Saving"),w.$set(X)},i(q){v||(te(w.$$.fragment,q),v=!0)},o(q){se(w.$$.fragment,q),v=!1},d(q){q&&(y(e),y(b)),A&&A.d(),L&&L.d(),Ce(w,q),M=!1,zt(g)}}}function r_(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Sl.subscribe(M=>{l(3,f=M)});let r=!1,c,m;async function _(){if(confirm("Clear all data?"))for(let M in i)(M.startsWith("i")||M.startsWith("e"))&&l(0,i[M]=0,i)}let d=!1;async function b(M){l(5,d=!0);const g=new FormData(M.target),A=new URLSearchParams;for(let j of g){const[P,U]=j;A.append(P,U)}await(await fetch(s,{method:"POST",body:A})).json(),l(5,d=!1),Ol(o)}function w(M){i[M.key]=wt(this.value),l(0,i)}function v(M){i[M.key]=wt(this.value),l(0,i)}return t.$$set=M=>{"prefix"in M&&l(8,n=M.prefix),"data"in M&&l(0,i=M.data),"url"in M&&l(9,s=M.url),"basepath"in M&&l(10,o=M.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let M in i){let g=[];M.startsWith("i")?g=c:M.startsWith("e")&&(g=m,i[M]&&l(4,r=!0)),g.push({key:M,name:n+" "+M.substring(1),value:i[M]})}}},[i,c,m,f,r,d,_,b,n,s,o,w,v]}class mu extends At{constructor(e){super(),Et(this,e,r_,a_,Tt,{prefix:8,data:0,url:9,basepath:10})}}function f_(t){let e,l;return e=new Gm({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function u_(t){let e,l;return e=new g1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function c_(t){let e,l;return e=new am({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function m_(t){let e,l;return e=new o_({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function __(t){let e,l;return e=new gm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function p_(t){let e,l;return e=new bs({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ve,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function d_(t){let e,l;return e=new bs({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ve,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h_(t){let e,l;return e=new bs({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ve,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function b_(t){let e,l;return e=new xm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function v_(t){let e,l;return e=new Lm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function g_(t){let e,l;return e=new Cm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function k_(t){let e,l;return e=new mu({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function w_(t){let e,l;return e=new mu({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function S_(t){let e,l,n,i,s,o,f,r,c,m,_,d,b,w,v,M,g,A,L,j,P,U,q,K,X,W,R,H;return e=new S0({props:{data:t[6],basepath:t[0]}}),n=new bl({props:{path:"/welcome",$$slots:{default:[f_]},$$scope:{ctx:t}}}),s=new bl({props:{path:"/",$$slots:{default:[u_]},$$scope:{ctx:t}}}),f=new bl({props:{path:"/configuration",$$slots:{default:[c_]},$$scope:{ctx:t}}}),c=new bl({props:{path:"/priceconfig",$$slots:{default:[m_]},$$scope:{ctx:t}}}),_=new bl({props:{path:"/status",$$slots:{default:[__]},$$scope:{ctx:t}}}),b=new bl({props:{path:"/mqtt-ca",$$slots:{default:[p_]},$$scope:{ctx:t}}}),v=new bl({props:{path:"/mqtt-cert",$$slots:{default:[d_]},$$scope:{ctx:t}}}),g=new bl({props:{path:"/mqtt-key",$$slots:{default:[h_]},$$scope:{ctx:t}}}),L=new bl({props:{path:"/consent",$$slots:{default:[b_]},$$scope:{ctx:t}}}),P=new bl({props:{path:"/setup",$$slots:{default:[v_]},$$scope:{ctx:t}}}),q=new bl({props:{path:"/vendor",$$slots:{default:[g_]},$$scope:{ctx:t}}}),X=new bl({props:{path:"/edit-day",$$slots:{default:[k_]},$$scope:{ctx:t}}}),R=new bl({props:{path:"/edit-month",$$slots:{default:[w_]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment),l=h(),Ne(n.$$.fragment),i=h(),Ne(s.$$.fragment),o=h(),Ne(f.$$.fragment),r=h(),Ne(c.$$.fragment),m=h(),Ne(_.$$.fragment),d=h(),Ne(b.$$.fragment),w=h(),Ne(v.$$.fragment),M=h(),Ne(g.$$.fragment),A=h(),Ne(L.$$.fragment),j=h(),Ne(P.$$.fragment),U=h(),Ne(q.$$.fragment),K=h(),Ne(X.$$.fragment),W=h(),Ne(R.$$.fragment)},m(D,E){ye(e,D,E),C(D,l,E),ye(n,D,E),C(D,i,E),ye(s,D,E),C(D,o,E),ye(f,D,E),C(D,r,E),ye(c,D,E),C(D,m,E),ye(_,D,E),C(D,d,E),ye(b,D,E),C(D,w,E),ye(v,D,E),C(D,M,E),ye(g,D,E),C(D,A,E),ye(L,D,E),C(D,j,E),ye(P,D,E),C(D,U,E),ye(q,D,E),C(D,K,E),ye(X,D,E),C(D,W,E),ye(R,D,E),H=!0},p(D,E){const Y={};E&64&&(Y.data=D[6]),E&1&&(Y.basepath=D[0]),e.$set(Y);const z={};E&2049&&(z.$$scope={dirty:E,ctx:D}),n.$set(z);const F={};E&2558&&(F.$$scope={dirty:E,ctx:D}),s.$set(F);const B={};E&2241&&(B.$$scope={dirty:E,ctx:D}),f.$set(B);const Q={};E&2049&&(Q.$$scope={dirty:E,ctx:D}),c.$set(Q);const ne={};E&2240&&(ne.$$scope={dirty:E,ctx:D}),_.$set(ne);const V={};E&2048&&(V.$$scope={dirty:E,ctx:D}),b.$set(V);const ie={};E&2048&&(ie.$$scope={dirty:E,ctx:D}),v.$set(ie);const ce={};E&2048&&(ce.$$scope={dirty:E,ctx:D}),g.$set(ce);const oe={};E&2177&&(oe.$$scope={dirty:E,ctx:D}),L.$set(oe);const x={};E&2240&&(x.$$scope={dirty:E,ctx:D}),P.$set(x);const re={};E&2177&&(re.$$scope={dirty:E,ctx:D}),q.$set(re);const Z={};E&2053&&(Z.$$scope={dirty:E,ctx:D}),X.$set(Z);const $={};E&2057&&($.$$scope={dirty:E,ctx:D}),R.$set($)},i(D){H||(te(e.$$.fragment,D),te(n.$$.fragment,D),te(s.$$.fragment,D),te(f.$$.fragment,D),te(c.$$.fragment,D),te(_.$$.fragment,D),te(b.$$.fragment,D),te(v.$$.fragment,D),te(g.$$.fragment,D),te(L.$$.fragment,D),te(P.$$.fragment,D),te(q.$$.fragment,D),te(X.$$.fragment,D),te(R.$$.fragment,D),H=!0)},o(D){se(e.$$.fragment,D),se(n.$$.fragment,D),se(s.$$.fragment,D),se(f.$$.fragment,D),se(c.$$.fragment,D),se(_.$$.fragment,D),se(b.$$.fragment,D),se(v.$$.fragment,D),se(g.$$.fragment,D),se(L.$$.fragment,D),se(P.$$.fragment,D),se(q.$$.fragment,D),se(X.$$.fragment,D),se(R.$$.fragment,D),H=!1},d(D){D&&(y(l),y(i),y(o),y(r),y(m),y(d),y(w),y(M),y(A),y(j),y(U),y(K),y(W)),Ce(e,D),Ce(n,D),Ce(s,D),Ce(f,D),Ce(c,D),Ce(_,D),Ce(b,D),Ce(v,D),Ce(g,D),Ce(L,D),Ce(P,D),Ce(q,D),Ce(X,D),Ce(R,D)}}}function _f(t){let e,l,n,i;const s=[y_,M_],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=$t()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(Nt(),se(o[m],1,1,()=>{o[m]=null}),Pt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),te(l,1),l.m(n.parentNode,n))},i(r){i||(te(l),i=!0)},o(r){se(l),i=!1},d(r){r&&y(n),o[e].d(r)}}}function M_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ve,i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function y_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ne(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(te(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function C_(t){let e,l,n,i;l=new Hf({props:{basepath:t[0],$$slots:{default:[S_]},$$scope:{ctx:t}}});let s=t[7].booting&&_f(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){C(o,e,f),ye(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&2559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&te(s,1)):(s=_f(o),s.c(),te(s,1),s.m(e,null)):s&&(Nt(),se(s,1,1,()=>{s=null}),Pt())},i(o){i||(te(l.$$.fragment,o),te(s),i=!0)},o(o){se(l.$$.fragment,o),se(s),i=!1},d(o){o&&y(e),Ce(l),s&&s.d()}}}function N_(t,e,l){let n=document.getElementsByTagName("base")[0].getAttribute("href");n||(n="/");let i;rs.subscribe(w=>{l(1,i=w)});let s;Zf.subscribe(w=>{l(2,s=w)});let o;$f.subscribe(w=>{l(3,o=w)});let f;xf.subscribe(w=>{l(4,f=w)});let r={};Sl.subscribe(w=>{l(5,r=w)});let c,m={},_={},d;ml.subscribe(w=>{var M;l(7,_=w);const v=(()=>{if(typeof window>"u")return"";const g=window.location.pathname??"/";return g.startsWith(n)?g.slice(n.length).replace(/^\/+/,""):g.replace(/^\/+/,"")})();_.vndcfg===!1?v==="setup"?Ol(n+"vendor"):v!=="welcome"&&v!=="vendor"&&Ol(n+"welcome"):_.usrcfg===!1?v!=="welcome"&&v!=="setup"&&Ol(n+"welcome"):_.fwconsent===0&&v!=="consent"&&Ol(n+"consent"),_.ui.k===1?document.documentElement.classList.add("dark"):_.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),_.ui.lang&&_.ui.lang!=((M=r==null?void 0:r.language)==null?void 0:M.code)&&ki(_.ui.lang),_.version&&d&&_.version!=d&&window.location.reload(),d=_.version,c&&clearTimeout(c),c=setTimeout(gi,!m||!m.u||m.u<30||_!=null&&_.upgrading?1e4:3e5)}),zc.subscribe(w=>{l(6,m=w),f1(w)});let b={};return tu.subscribe(w=>{l(8,b=w)}),eu(),[n,i,s,o,f,r,m,_,b]}class P_ extends At{constructor(e){super(),Et(this,e,N_,C_,Tt,{})}}new P_({target:document.getElementById("app")});
