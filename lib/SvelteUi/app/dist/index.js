var bf=Object.defineProperty;var gf=(t,e,l)=>e in t?bf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(gf(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ke(){}function Cl(t,e){for(const l in e)t[l]=e[l];return t}function bu(t){return t()}function Bs(){return Object.create(null)}function Vt(t){t.forEach(bu)}function Ji(t){return typeof t=="function"}function Lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ti;function fn(t,e){return t===e?!0:(ti||(ti=document.createElement("a")),ti.href=e,t===ti.href)}function vf(t){return Object.keys(t).length===0}function Qi(t,...e){if(t==null){for(const n of e)n(void 0);return Ke}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function en(t){let e;return Qi(t,l=>e=l)(),e}function Dl(t,e,l){t.$$.on_destroy.push(Qi(e,l))}function Zi(t,e,l,n){if(t){const i=gu(t,e,l,n);return t[0](i)}}function gu(t,e,l,n){return t[1]&&n?Cl(l.ctx.slice(),t[1](n(e))):l.ctx}function $i(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let u=0;u<a;u+=1)s[u]=e.dirty[u]|i[u];return s}return e.dirty|i}return e.dirty}function xi(t,e,l,n,i,s){if(i){const a=gu(e,l,n,s);t.p(a,i)}}function es(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ci(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function mi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const kf=["",!0,1,"true","contenteditable"];function o(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function el(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function Pt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function h(){return S(" ")}function tl(){return S("")}function pe(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function mn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const wf=["width","height"];function wn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&wf.indexOf(n)===-1?t[n]=e[n]:f(t,n,e[n])}function _i(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function St(t){return t===""?null:+t}function Sf(t){return Array.from(t.childNodes)}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function yf(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Cf(t,e,l){~kf.indexOf(l)?yf(t,e):T(t,e)}function J(t,e){t.value=e??""}function tn(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ft(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let li;function Mf(){if(li===void 0){li=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{li=!0}}return li}function ts(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Mf();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=pe(window,"message",a=>{a.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=pe(n.contentWindow,"resize",e),e()}),o(t,n),()=>{(i||s&&n.contentWindow)&&s(),M(n)}}function Nf(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function js(t,e){return new t(e)}let zn;function Bn(t){zn=t}function Zn(){if(!zn)throw new Error("Function called outside component initialization");return zn}function ls(t){Zn().$$.on_mount.push(t)}function ns(t){Zn().$$.on_destroy.push(t)}function Pf(){const t=Zn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Nf(e,l,{cancelable:n});return i.slice().forEach(a=>{a.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Zn().$$.context.set(t,e),e}function nn(t){return Zn().$$.context.get(t)}const hn=[],pi=[];let kn=[];const Hs=[],vu=Promise.resolve();let qi=!1;function ku(){qi||(qi=!0,vu.then(wu))}function Tf(){return ku(),vu}function Jt(t){kn.push(t)}const Si=new Set;let pn=0;function wu(){if(pn!==0)return;const t=zn;do{try{for(;pn<hn.length;){const e=hn[pn];pn++,Bn(e),Ef(e.$$)}}catch(e){throw hn.length=0,pn=0,e}for(Bn(null),hn.length=0,pn=0;pi.length;)pi.pop()();for(let e=0;e<kn.length;e+=1){const l=kn[e];Si.has(l)||(Si.add(l),l())}kn.length=0}while(hn.length);for(;Hs.length;)Hs.pop()();qi=!1,Si.clear(),Bn(t)}function Ef(t){if(t.fragment!==null){t.update(),Vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}function Af(t){const e=[],l=[];kn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),kn=e}const ri=new Set;let on;function At(){on={r:0,c:[],p:on}}function qt(){on.r||Vt(on.c),on=on.p}function ee(t,e){t&&t.i&&(ri.delete(t),t.i(e))}function se(t,e,l,n){if(t&&t.o){if(ri.has(t))return;ri.add(t),on.c.push(()=>{ri.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function st(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Su(t,e){t.d(1),e.delete(t.key)}function yu(t,e,l,n,i,s,a,u,r,c,m,p){let d=t.length,b=s.length,k=d;const g={};for(;k--;)g[t[k].key]=k;const w=[],v=new Map,E=new Map,D=[];for(k=b;k--;){const q=p(i,s,k),j=l(q);let K=a.get(j);K?n&&D.push(()=>K.p(q,e)):(K=c(j,q),K.c()),v.set(j,w[k]=K),j in g&&E.set(j,Math.abs(k-g[j]))}const B=new Set,A=new Set;function U(q){ee(q,1),q.m(u,m),a.set(q.key,q),m=q.first,b--}for(;d&&b;){const q=w[b-1],j=t[d-1],K=q.key,G=j.key;q===j?(m=q.first,d--,b--):v.has(G)?!a.has(K)||B.has(K)?U(q):A.has(G)?d--:E.get(K)>E.get(G)?(A.add(K),U(q)):(B.add(G),d--):(r(j,a),d--)}for(;d--;){const q=t[d];v.has(q.key)||r(q,a)}for(;b;)U(w[b-1]);return Vt(D),w}function Li(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],u=e[s];if(u){for(const r in a)r in u||(n[r]=1);for(const r in u)i[r]||(l[r]=u[r],i[r]=1);t[s]=u}else for(const r in a)i[r]=1}for(const a in n)a in l||(l[a]=void 0);return l}function ni(t){return typeof t=="object"&&t!==null?t:{}}function Me(t){t&&t.c()}function ye(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Jt(()=>{const s=t.$$.on_mount.map(bu).filter(Ji);t.$$.on_destroy?t.$$.on_destroy.push(...s):Vt(s),t.$$.on_mount=[]}),i.forEach(Jt)}function Ce(t,e){const l=t.$$;l.fragment!==null&&(Af(l.after_update),Vt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function qf(t,e){t.$$.dirty[0]===-1&&(hn.push(t),ku(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function It(t,e,l,n,i,s,a=null,u=[-1]){const r=zn;Bn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ke,not_equal:i,bound:Bs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Bs(),dirty:u,skip_bound:!1,root:e.target||r.$$.root};a&&a(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(p,d,...b)=>{const k=b.length?b[0]:d;return c.ctx&&i(c.ctx[p],c.ctx[p]=k)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](k),m&&qf(t,p)),d}):[],c.update(),m=!0,Vt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const p=Sf(e.target);c.fragment&&c.fragment.l(p),p.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&ee(t.$$.fragment),ye(t,e.target,e.anchor),wu()}Bn(r)}class Ot{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Ke}$on(e,l){if(!Ji(l))return Ke;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!vf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Lf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Lf);const Ws=t=>typeof t>"u",Cu=t=>typeof t=="function",Mu=t=>typeof t=="number";function Df(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Nu(){let t=0;return()=>t++}function If(){return Math.random().toString(36).substring(2)}const Hl=typeof window>"u";function Pu(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Tu=(t,e)=>t?{}:{style:e},Di=t=>({"aria-hidden":"true",...Tu(t,"display:none;")}),dn=[];function Eu(t,e){return{subscribe:rl(t,e).subscribe}}function rl(t,e=Ke){let l;const n=new Set;function i(u){if(Lt(t,u)&&(t=u,l)){const r=!dn.length;for(const c of n)c[1](),dn.push(c,t);if(r){for(let c=0;c<dn.length;c+=2)dn[c][0](dn[c+1]);dn.length=0}}}function s(u){i(u(t))}function a(u,r=Ke){const c=[u,r];return n.add(c),n.size===1&&(l=e(i,s)||Ke),u(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:a}}function Of(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Eu(l,(a,u)=>{let r=!1;const c=[];let m=0,p=Ke;const d=()=>{if(m)return;p();const k=e(n?c[0]:c,a,u);s?a(k):p=Ji(k)?k:Ke},b=i.map((k,g)=>Qi(k,w=>{c[g]=w,m&=~(1<<g),r&&d()},()=>{m|=1<<g}));return r=!0,d(),function(){Vt(b),p(),r=!1}})}const $n=t=>`@@svnav-ctx__${t}`,Ii=$n("LOCATION"),Sn=$n("ROUTER"),Au=$n("ROUTE"),Ff=$n("ROUTE_PARAMS"),Rf=$n("FOCUS_ELEM"),qu=/^:(.+)/,Rn=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>Rn(t,0,e.length)===e,Uf=t=>t==="",Bf=t=>qu.test(t),Lu=t=>t[0]==="*",jf=t=>t.replace(/\*.*$/,""),Du=t=>t.replace(/(^\/+|\/+$)/g,"");function Ol(t,e=!1){const l=Du(t).split("/");return e?l.filter(Boolean):l}const yi=(t,e)=>t+(e?`?${e}`:""),is=t=>`/${Du(t)}`;function xn(...t){const e=n=>Ol(n,!0).join("/"),l=t.map(e).join("/");return is(l)}const ss=1,vi=2,cn=3,Hf=4,Iu=5,Wf=6,Ou=7,zf=8,Kf=9,Fu=10,Ru=11,Vf={[ss]:"Link",[vi]:"Route",[cn]:"Router",[Hf]:"useFocus",[Iu]:"useLocation",[Wf]:"useMatch",[Ou]:"useNavigate",[zf]:"useParams",[Kf]:"useResolvable",[Fu]:"useResolve",[Ru]:"navigate"},os=t=>Vf[t];function Gf(t,e){let l;return t===vi?l=e.path?`path="${e.path}"`:"default":t===ss?l=`to="${e.to}"`:t===cn&&(l=`basepath="${e.basepath||""}"`),`<${os(t)} ${l||""} />`}function Yf(t,e,l,n){const i=l&&Gf(n||t,l),s=i?`

Occurred in: ${i}`:"",a=os(t),u=Cu(e)?e(a):e;return`<${a}> ${u}${s}`}const Uu=t=>(...e)=>t(Yf(...e)),Bu=Uu(t=>{throw new Error(t)}),di=Uu(console.warn),zs=4,Xf=3,Jf=2,Qf=1,Zf=1;function $f(t,e){const l=t.default?0:Ol(t.fullPath).reduce((n,i)=>{let s=n;return s+=zs,Uf(i)?s+=Zf:Bf(i)?s+=Jf:Lu(i)?s-=zs+Qf:s+=Xf,s},0);return{route:t,score:l,index:e}}function xf(t){return t.map($f).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function ju(t,e){let l,n;const[i]=e.split("?"),s=Ol(i),a=s[0]==="",u=xf(t);for(let r=0,c=u.length;r<c;r++){const{route:m}=u[r];let p=!1;const d={},b=v=>({...m,params:d,uri:v});if(m.default){n=b(e);continue}const k=Ol(m.fullPath),g=Math.max(s.length,k.length);let w=0;for(;w<g;w++){const v=k[w],E=s[w];if(!Ws(v)&&Lu(v)){const B=v==="*"?"*":v.slice(1);d[B]=s.slice(w).map(decodeURIComponent).join("/");break}if(Ws(E)){p=!0;break}const D=qu.exec(v);if(D&&!a){const B=decodeURIComponent(E);d[D[1]]=B}else if(v!==E){p=!0;break}}if(!p){l=b(xn(...s.slice(0,w)));break}}return l||n||null}function Hu(t,e){return ju([t],e)}function e0(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Ol(l),a=Ol(i);if(s[0]==="")return yi(i,n);if(!Oi(s[0],".")){const c=a.concat(s).join("/");return yi((i==="/"?"":"/")+c,n)}const u=a.concat(s),r=[];return u.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),yi(`/${r.join("/")}`,n)}function Ks(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,a=Ol(e,!0),u=Ol(l,!0);for(;a.length;)a[0]!==u[0]&&Bu(cn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),a.shift(),u.shift();return{pathname:xn(...u),hash:n,search:i,state:s}}const Vs=t=>t.length===1?"":t,as=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Vs(Rn(t,l)):"",a=i?Rn(t,0,l):t,u=n?Vs(Rn(a,e)):"";return{pathname:(n?Rn(a,0,e):a)||"/",search:u,hash:s}},t0=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function l0(t,e,l){return xn(l,e0(t,e))}function n0(t,e){const l=is(jf(t)),n=Ol(l,!0),i=Ol(e,!0).slice(0,n.length),s=Hu({fullPath:l},xn(...i));return s&&s.uri}const Ci="POP",i0="PUSH",s0="REPLACE";function Mi(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function o0(t){let e=[],l=Mi(t),n=Ci;const i=(s=e)=>s.forEach(a=>a({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const a=()=>{l=Mi(t),n=Ci,i([s])};i([s]);const u=Pu(t,"popstate",a);return()=>{u(),e=e.filter(r=>r!==s)}},navigate(s,a){const{state:u={},replace:r=!1}=a||{};if(n=r?s0:i0,Mu(s))a&&di(Ru,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Ci,t.history.go(s);else{const c={...u,_key:If()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Mi(t),i()}}}function Ni(t,e){return{...as(e),state:t}}function a0(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const r0=!!(!Hl&&window.document&&window.document.createElement),u0=!Hl&&window.location.origin==="null",Wu=o0(r0&&!u0?window:a0()),{navigate:jl}=Wu;let Rl=null,zu=!0;function f0(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function c0(t){(!Rl||t.level>Rl.level||t.level===Rl.level&&f0(t.routerId,Rl.routerId))&&(Rl=t)}function m0(){Rl=null}function _0(){zu=!1}function Gs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Pu(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function p0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function d0(t){return/^H[1-6]$/i.test(t.tagName)}function Ys(t,e=document){return e.querySelector(t)}function h0(t){let l=Ys(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!p0(l,t);){if(d0(l))return l;const n=Ys("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function b0(t){Promise.resolve(en(t.focusElement)).then(e=>{const l=e||h0(t.id);l||di(cn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,vi),!Gs(l)&&Gs(document.documentElement)})}const g0=(t,e,l)=>(n,i)=>Tf().then(()=>{if(!Rl||zu){_0();return}if(n&&b0(Rl.route),t.announcements&&i){const{path:s,fullPath:a,meta:u,params:r,uri:c}=Rl.route,m=t.createAnnouncement({path:s,fullPath:a,meta:u,params:r,uri:c},en(l));Promise.resolve(m).then(p=>{e.set(p)})}m0()}),v0="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function k0(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Tu(t[6],v0)],i={};for(let s=0;s<n.length;s+=1)i=Cl(i,n[s]);return{c(){e=_("div"),l=S(t[0]),wn(e,i)},m(s,a){N(s,e,a),o(e,l)},p(s,a){a[0]&1&&Cf(l,s[0],i.contenteditable)},d(s){s&&M(e)}}}function w0(t){let e,l,n,i,s,a=[Di(t[6]),{"data-svnav-router":t[3]}],u={};for(let p=0;p<a.length;p+=1)u=Cl(u,a[p]);const r=t[22].default,c=Zi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&k0(t);return{c(){e=_("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=tl(),wn(e,u)},m(p,d){N(p,e,d),N(p,l,d),c&&c.m(p,d),N(p,n,d),m&&m.m(p,d),N(p,i,d),s=!0},p(p,d){c&&c.p&&(!s||d[0]&2097152)&&xi(c,r,p,p[21],s?$i(r,p[21],d,null):es(p[21]),null),p[2]&&p[4]&&p[1].announcements&&m.p(p,d)},i(p){s||(ee(c,p),s=!0)},o(p){se(c,p),s=!1},d(p){p&&(M(e),M(l),M(n),M(i)),c&&c.d(p),m&&m.d(p)}}}const S0=Nu(),Xs="/";function y0(t,e,l){let n,i,s,a,u,{$$slots:r={},$$scope:c}=e,{basepath:m=Xs}=e,{url:p=null}=e,{history:d=Wu}=e,{primary:b=!0}=e,{a11y:k={}}=e,{disableInlineStyles:g=!1}=e;const w={createAnnouncement:V=>`Navigated to ${V.uri}`,announcements:!0,...k},v=m,E=is(m),D=nn(Ii),B=nn(Sn),A=!D,U=S0(),q=b&&!(B&&!B.manageFocus),j=rl("");Dl(t,j,V=>l(0,u=V));const K=B?B.disableInlineStyles:g,G=rl([]);Dl(t,G,V=>l(20,a=V));const Y=rl(null);Dl(t,Y,V=>l(18,i=V));let X=!1;const L=A?0:B.level+1,W=A?rl((()=>Ks(Hl?as(p):d.location,E))()):D;Dl(t,W,V=>l(17,n=V));const R=rl(n);Dl(t,R,V=>l(19,s=V));const I=g0(w,j,W),z=V=>ne=>ne.filter(fe=>fe.id!==V);function Q(V){if(Hl){if(X)return;const ne=Hu(V,n.pathname);if(ne)return X=!0,ne}else G.update(ne=>{const fe=z(V.id)(ne);return fe.push(V),fe})}function Z(V){G.update(z(V))}return!A&&m!==Xs&&di(cn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),A&&(ls(()=>d.listen(ne=>{const fe=Ks(ne.location,E);R.set(n),W.set(fe)})),jn(Ii,W)),jn(Sn,{activeRoute:Y,registerRoute:Q,unregisterRoute:Z,manageFocus:q,level:L,id:U,history:A?d:B.history,basepath:A?E:B.basepath,disableInlineStyles:K}),t.$$set=V=>{"basepath"in V&&l(11,m=V.basepath),"url"in V&&l(12,p=V.url),"history"in V&&l(13,d=V.history),"primary"in V&&l(14,b=V.primary),"a11y"in V&&l(15,k=V.a11y),"disableInlineStyles"in V&&l(16,g=V.disableInlineStyles),"$$scope"in V&&l(21,c=V.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==v&&di(cn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const V=ju(a,n.pathname);Y.set(V)}if(t.$$.dirty[0]&655360&&A){const V=!!n.hash,ne=!V&&q,fe=!V||n.pathname!==s.pathname;I(ne,fe)}t.$$.dirty[0]&262144&&q&&i&&i.primary&&c0({level:L,routerId:U,route:i})},[u,w,A,U,q,j,K,G,Y,W,R,m,p,d,b,k,g,n,i,s,a,c,r]}class C0 extends Ot{constructor(e){super(),It(this,e,y0,w0,Lt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Ku=C0;function ei(t,e,l=Sn,n=cn){nn(l)||Bu(t,s=>`You cannot use ${s} outside of a ${os(n)}.`,e)}const M0=t=>{const{subscribe:e}=nn(t);return{subscribe:e}};function Vu(){return ei(Iu),M0(Ii)}function Gu(){const{history:t}=nn(Sn);return t}function Yu(){const t=nn(Au);return t?Of(t,e=>e.base):rl("/")}function Xu(){ei(Fu);const t=Yu(),{basepath:e}=nn(Sn);return n=>l0(n,en(t),e)}function N0(){ei(Ou);const t=Xu(),{navigate:e}=Gu();return(n,i)=>{const s=Mu(n)?n:t(n);return e(s,i)}}const P0=t=>({params:t&16,location:t&8}),Js=t=>({params:Hl?en(t[10]):t[4],location:t[3],navigate:t[11]});function Qs(t){let e,l;return e=new Ku({props:{primary:t[1],$$slots:{default:[A0]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function T0(t){let e;const l=t[18].default,n=Zi(l,t,t[19],Js);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&xi(n,l,i,i[19],e?$i(l,i[19],s,P0):es(i[19]),Js)},i(i){e||(ee(n,i),e=!0)},o(i){se(n,i),e=!1},d(i){n&&n.d(i)}}}function E0(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Hl?en(t[10]):t[4],t[12]];var s=t[0];function a(u,r){let c={};for(let m=0;m<i.length;m+=1)c=Cl(c,i[m]);return r!==void 0&&r&7192&&(c=Cl(c,Li(i,[r&8&&{location:u[3]},r&2048&&{navigate:u[11]},r&1040&&ni(Hl?en(u[10]):u[4]),r&4096&&ni(u[12])]))),{props:c}}return s&&(e=js(s,a(t))),{c(){e&&Me(e.$$.fragment),l=tl()},m(u,r){e&&ye(e,u,r),N(u,l,r),n=!0},p(u,r){if(r&1&&s!==(s=u[0])){if(e){At();const c=e;se(c.$$.fragment,1,0,()=>{Ce(c,1)}),qt()}s?(e=js(s,a(u,r)),Me(e.$$.fragment),ee(e.$$.fragment,1),ye(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?Li(i,[r&8&&{location:u[3]},r&2048&&{navigate:u[11]},r&1040&&ni(Hl?en(u[10]):u[4]),r&4096&&ni(u[12])]):{};e.$set(c)}},i(u){n||(e&&ee(e.$$.fragment,u),n=!0)},o(u){e&&se(e.$$.fragment,u),n=!1},d(u){u&&M(l),e&&Ce(e,u)}}}function A0(t){let e,l,n,i;const s=[E0,T0],a=[];function u(r,c){return r[0]!==null?0:1}return e=u(t),l=a[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){a[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=u(r),e===m?a[e].p(r,c):(At(),se(a[m],1,1,()=>{a[m]=null}),qt(),l=a[e],l?l.p(r,c):(l=a[e]=s[e](r),l.c()),ee(l,1),l.m(n.parentNode,n))},i(r){i||(ee(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),a[e].d(r)}}}function q0(t){let e,l,n,i,s,a=[Di(t[7]),{"data-svnav-route-start":t[5]}],u={};for(let p=0;p<a.length;p+=1)u=Cl(u,a[p]);let r=t[2]&&Qs(t),c=[Di(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let p=0;p<c.length;p+=1)m=Cl(m,c[p]);return{c(){e=_("div"),l=h(),r&&r.c(),n=h(),i=_("div"),wn(e,u),wn(i,m)},m(p,d){N(p,e,d),N(p,l,d),r&&r.m(p,d),N(p,n,d),N(p,i,d),s=!0},p(p,[d]){p[2]?r?(r.p(p,d),d&4&&ee(r,1)):(r=Qs(p),r.c(),ee(r,1),r.m(n.parentNode,n)):r&&(At(),se(r,1,1,()=>{r=null}),qt())},i(p){s||(ee(r),s=!0)},o(p){se(r),s=!1},d(p){p&&(M(e),M(l),M(n),M(i)),r&&r.d(p)}}}const L0=Nu();function D0(t,e,l){let n;const i=["path","component","meta","primary"];let s=mi(e,i),a,u,r,c,{$$slots:m={},$$scope:p}=e,{path:d=""}=e,{component:b=null}=e,{meta:k={}}=e,{primary:g=!0}=e;ei(vi,e);const w=L0(),{registerRoute:v,unregisterRoute:E,activeRoute:D,disableInlineStyles:B}=nn(Sn);Dl(t,D,X=>l(16,a=X));const A=Yu();Dl(t,A,X=>l(17,r=X));const U=Vu();Dl(t,U,X=>l(3,u=X));const q=rl(null);let j;const K=rl(),G=rl({});Dl(t,G,X=>l(4,c=X)),jn(Au,K),jn(Ff,G),jn(Rf,q);const Y=N0();return Hl||ns(()=>E(w)),t.$$set=X=>{l(24,e=Cl(Cl({},e),ci(X))),l(12,s=mi(e,i)),"path"in X&&l(13,d=X.path),"component"in X&&l(0,b=X.component),"meta"in X&&l(14,k=X.meta),"primary"in X&&l(1,g=X.primary),"$$scope"in X&&l(19,p=X.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const X=d==="",L=xn(r,d),y={id:w,path:d,meta:k,default:X,fullPath:X?"":L,base:X?r:n0(L,u.pathname),primary:g,focusElement:q};K.set(y),l(15,j=v(y))}if(t.$$.dirty&98304&&l(2,n=!!(j||a&&a.id===w)),t.$$.dirty&98308&&n){const{params:X}=j||a;G.set(X)}},e=ci(e),[b,g,n,u,c,w,D,B,A,U,G,Y,s,d,k,j,a,r,m,p]}class I0 extends Ot{constructor(e){super(),It(this,e,D0,q0,Lt,{path:13,component:0,meta:14,primary:1})}}const wl=I0;function O0(t){let e,l,n,i;const s=t[13].default,a=Zi(s,t,t[12],null);let u=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<u.length;c+=1)r=Cl(r,u[c]);return{c(){e=_("a"),a&&a.c(),wn(e,r)},m(c,m){N(c,e,m),a&&a.m(e,null),l=!0,n||(i=pe(e,"click",t[4]),n=!0)},p(c,[m]){a&&a.p&&(!l||m&4096)&&xi(a,s,c,c[12],l?$i(s,c[12],m,null):es(c[12]),null),wn(e,r=Li(u,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(ee(a,c),l=!0)},o(c){se(a,c),l=!1},d(c){c&&M(e),a&&a.d(c),n=!1,i()}}}function F0(t,e,l){let n,i,s,a,u,r;const c=["to","replace","state","getProps"];let m=mi(e,c),p,{$$slots:d={},$$scope:b}=e,{to:k}=e,{replace:g=!1}=e,{state:w={}}=e,{getProps:v=null}=e;ei(ss,e);const E=Vu();Dl(t,E,q=>l(11,p=q));const D=Pf(),B=Xu(),{navigate:A}=Gu();function U(q){D("click",q),Df(q)&&(q.preventDefault(),A(n,{state:w,replace:a||g}))}return t.$$set=q=>{l(19,e=Cl(Cl({},e),ci(q))),l(18,m=mi(e,c)),"to"in q&&l(5,k=q.to),"replace"in q&&l(6,g=q.replace),"state"in q&&l(7,w=q.state),"getProps"in q&&l(8,v=q.getProps),"$$scope"in q&&l(12,b=q.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=B(k,p)),t.$$.dirty&2049&&l(10,i=Oi(p.pathname,n)),t.$$.dirty&2049&&l(9,s=n===p.pathname),t.$$.dirty&2049&&(a=as(n)===t0(p)),t.$$.dirty&512&&l(2,u=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(Cu(v)){const q=v({location:p,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...q}}return m})())},e=ci(e),[n,r,u,E,U,k,g,w,v,s,i,p,b,d]}class R0 extends Ot{constructor(e){super(),It(this,e,F0,O0,Lt,{to:5,replace:6,state:7,getProps:8})}}const Sl=R0;function ii(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function U0(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function rs(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Kn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function hi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function Ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Vn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function $e(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Hn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function xt(t,e){return t==1||t==2&&e}function Fl(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Qt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Wl(t,e){return t.setTime(t.getTime()+e*36e5),t}function B0(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function j0(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Zs=0;function un(t,e){Zs++;const l=H0(t);if(!l.length){e&&e(""),setTimeout(un,1500,t,e);return}const n=l[(Zs-1)%l.length];if(!n){setTimeout(un,1e3,t,e);return}const i=W0(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(un,1e3,t,e)},a=new XMLHttpRequest;a.timeout=5e3,a.addEventListener("abort",s),a.addEventListener("error",s),a.addEventListener("timeout",s),a.addEventListener("load",function(){window.location.href=i||"/"});const u=i.replace(/\/$/,"")+"/is-alive";a.open("GET",u,!0),a.send()}function H0(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const a=s.toString().trim();a&&(i.includes(a)||i.push(a))}return i}function W0(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function il(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $s(t){return t.startsWith("esp32")?"esp32":t}function _l(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Gn(t,e){let l=[Qt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Qt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let Pi="((25[0-5]|(2[0-4]|1\\d|[1-9]|)\\d)\\.?\\b){4}",ln="[\\x20-\\x7E]+",Yn="[\\x20-\\xFF]+",Xn="[A-Za-z0-9_\\-]+",Ju="[0-9A-Fa-f]+",Fn="[0-9]+",ui={},Fi=[];async function z0(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Ti;async function Qu(){if(Fi.length){let t=Fi.shift();delete ui[t.resource];try{let e=await z0(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Ti&&clearTimeout(Ti),Ti=setTimeout(Qu,100)}Qu();async function Ml(t,e={}){let l;return ui[t]?l=ui[t]:(l={resource:t,options:e,callbacks:[]},ui[t]=l,Fi.push(l)),new Promise(i=>l.callbacks.push(i))}let Ll={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Ll=await(await Ml("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ml.set(Ll)}const ml=rl(Ll,t=>(ki(),function(){}));function K0(t){ml.update(e=>(e.trying=t,e))}let Wn={c:-1,n:[]};const xs=new Map;let V0=0,an=null,bi=!1,bn=null,fi=null;async function G0(){try{const e=await(await Ml("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let a=xs.get(s.s);a===void 0&&(a=V0++,xs.set(s.s,a)),l.set(s.s,{...s,_order:a})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);Wn={c:n.length,n},bn&&bn(Wn)}catch{Wn.c<0&&bn&&bn({c:-1,n:[]})}finally{fi=null}}function Y0(){return fi||(fi=G0()),fi}function Zu(t=0){bi&&(an&&clearTimeout(an),an=setTimeout(()=>{an=null,Y0()},Math.max(0,t)))}let si=0,eo=-127,to=null,X0={};const J0=Eu(X0,t=>{let e,l,n=!1;async function i(){Ml("data.json").then(s=>s.json()).then(s=>{t(s),eo!=s.t&&(eo=s.t,setTimeout(Q0,2e3)),to==null&&s.pe&&s.p!=null&&(to=s.p,xu()),(!Ll||!Ll.chip||Ll.booting||si>1&&!Hn(Ll.board))&&(ki(),Ul&&clearTimeout(Ul),Ul=setTimeout(Bi,2e3),Bl&&clearTimeout(Bl),Bl=setTimeout(Hi,3e3)),s.u,Ul||(Ul=Bi()),Bl||(Bl=Hi());let a=5e3;if(Hn(Ll.board)&&s.v>2.5){let u=3.3-Math.min(3.3,s.v);u>0&&(a=Math.max(u,.1)*10*5e3)}a>5e3&&console.log("Next in "+a+"ms"),e&&clearTimeout(e),e=setTimeout(i,a),si=0,bi&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Zu(0)}))}).catch(s=>{si++,si>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(un,5e3,Ll,K0))):e=setTimeout(i,Hn(Ll.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Ri={},Un;const us=rl(Ri);async function $u(){let t=!1;us.update(e=>{for(var l=0;l<36;l++){if(e[Ct(l)]==null){t=l<12;break}e[Ct(l)]=e[Ct(l+1)]}return e}),t?xu():Un=setTimeout($u,(60-new Date().getMinutes())*6e4)}async function xu(){Un&&(clearTimeout(Un),Un=0),Ri=await(await Ml("energyprice.json")).json(),us.set(Ri),Un=setTimeout($u,(60-new Date().getMinutes())*6e4)}let Ui={},Ul;async function Bi(){Ul&&(clearTimeout(Ul),Ul=0),Ui=await(await Ml("dayplot.json")).json(),ef.set(Ui),Ul=setTimeout(Bi,(60-new Date().getMinutes())*6e4+20)}const ef=rl(Ui,t=>function(){});let ji={},Bl;async function Hi(){Bl&&(clearTimeout(Bl),Bl=0),ji=await(await Ml("monthplot.json")).json(),tf.set(ji),Bl=setTimeout(Hi,(24-new Date().getHours())*36e5+40)}const tf=rl(ji,t=>function(){});let Wi={};async function Q0(){Wi=await(await Ml("temperature.json")).json(),lf.set(Wi)}const lf=rl(Wi,t=>function(){});let zi={},oi;async function nf(){oi&&(clearTimeout(oi),oi=0),zi=await(await Ml("tariff.json")).json(),sf.set(zi),oi=setTimeout(nf,(60-new Date().getMinutes())*6e4+30)}const sf=rl(zi,t=>function(){}),of=rl(Wn,t=>(bn=t,bi=!0,t(Wn),Zu(0),function(){bi=!1,bn=null,an&&(clearTimeout(an),an=null)}));let Ki=!1;const Nl=rl(Ki);async function Jn(t){Ki=await(await Ml("translations.json"+(t?"?lang="+t:""))).json(),Nl.set(Ki)}Jn();const fs="/neas_logotype_white.svg",cs="/wifi-low-light.svg",ms="/wifi-medium-light.svg",_s="/wifi-high-light.svg",ps="/wifi-off-light.svg";function lo(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function af(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function no(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?nc:c[2]>0?lc:c[3]>1?tc:c[3]>0?ec:c[4]>1?x0:c[4]>0?$0:Z0}let a=s(t),u=a(t);return{c(){l=S(e),n=h(),u.c(),i=tl()},m(c,m){N(c,l,m),N(c,n,m),u.m(c,m),N(c,i,m)},p(c,m){var p;m&2&&e!==(e=(((p=c[1].header)==null?void 0:p.uptime)??"Up")+"")&&T(l,e),a===(a=s(c))&&u?u.p(c,m):(u.d(1),u=a(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(M(l),M(n),M(i)),u.d(c)}}}function Z0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=S(t[0]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&1&&T(e,a[0]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.seconds)??"s")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function $0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&16&&T(e,a[4]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.minute)??"m")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function x0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&16&&T(e,a[4]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.minutes)??"m")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function ec(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&8&&T(e,a[3]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.hour)??"h")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function tc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&8&&T(e,a[3]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.hours)??"h")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function lc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&4&&T(e,a[2]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.day)??"d")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function nc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(a,u){N(a,e,u),N(a,l,u),N(a,i,u)},p(a,u){var r;u&4&&T(e,a[2]),u&2&&n!==(n=(((r=a[1].common)==null?void 0:r.days)??"d")+"")&&T(i,n)},d(a){a&&(M(e),M(l),M(i))}}}function ic(t){let e,l=t[0]&&no(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=no(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ke,o:Ke,d(n){n&&M(e),l&&l.d(n)}}}function sc(t,e,l){let{epoch:n}=e,i={};Nl.subscribe(r=>{l(1,i=r)});let s=0,a=0,u=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,a=Math.floor(n/3600)),l(4,u=Math.floor(n/60)))},[n,i,s,a,u]}class oc extends Ot{constructor(e){super(),It(this,e,sc,ic,Lt,{epoch:0})}}function ac(t){let e,l,n;return{c(){e=_("span"),l=S(t[2]),f(e,"title",t[1]),f(e,"class",n="bd-"+t[0])},m(i,s){N(i,e,s),o(e,l)},p(i,[s]){s&4&&T(l,i[2]),s&2&&f(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&f(e,"class",n)},i:Ke,o:Ke,d(i){i&&M(e)}}}function rc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=a=>{"color"in a&&l(0,n=a.color),"title"in a&&l(1,i=a.title),"text"in a&&l(2,s=a.text)},[n,i,s]}class Qn extends Ot{constructor(e){super(),It(this,e,rc,ac,Lt,{color:0,title:1,text:2})}}function uc(t){let e,l=`${Ct(t[0].getDate())}.${Ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ct(t[0].getHours())}:${Ct(t[0].getMinutes())}`,n;return{c(){e=_("span"),n=S(l),f(e,"class",t[1])},m(i,s){N(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=`${Ct(i[0].getDate())}.${Ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ct(i[0].getHours())}:${Ct(i[0].getMinutes())}`)&&T(n,l),s&2&&f(e,"class",i[1])},d(i){i&&M(e)}}}function fc(t){var n;let e=`${Ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:Ct(t[0].getMonth()+1)} ${Ct(t[0].getHours())}:${Ct(t[0].getMinutes())}`,l;return{c(){l=S(e)},m(i,s){N(i,l,s)},p(i,s){var a;s&5&&e!==(e=`${Ct(i[0].getDate())}. ${i[2].months?(a=i[2].months)==null?void 0:a[i[0].getMonth()]:Ct(i[0].getMonth()+1)} ${Ct(i[0].getHours())}:${Ct(i[0].getMinutes())}`)&&T(l,e)},d(i){i&&M(l)}}}function cc(t){let e;function l(s,a){return s[3]?fc:uc}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,a){i.m(s,a),N(s,e,a)},p(s,[a]){n===(n=l(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(s){s&&M(e),i.d(s)}}}function mc(t,e,l){let n={};Nl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:a}=e,u;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,a=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,u=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(a)||Wl(i,a-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,u,a]}class rf extends Ot{constructor(e){super(),It(this,e,mc,cc,Lt,{timestamp:0,fullTimeColor:1,offset:4})}}function _c(t){let e,l,n;return{c(){e=Pt("svg"),l=Pt("path"),n=Pt("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","w-6 h-6")},m(i,s){N(i,e,s),o(e,l),o(e,n)},p:Ke,i:Ke,o:Ke,d(i){i&&M(e)}}}class pc extends Ot{constructor(e){super(),It(this,e,null,_c,Lt,{})}}function dc(t){let e,l;return{c(){e=Pt("svg"),l=Pt("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","w-6 h-6")},m(n,i){N(n,e,i),o(e,l)},p:Ke,i:Ke,o:Ke,d(n){n&&M(e)}}}class hc extends Ot{constructor(e){super(),It(this,e,null,dc,Lt,{})}}function bc(t){let e,l;return{c(){e=_("img"),f(e,"class","p-1"),f(e,"alt","Neas logo"),fn(e.src,l=fs)||f(e,"src",l)},m(n,i){N(n,e,i)},p:Ke,d(n){n&&M(e)}}}function io(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=_("div"),n=S(l),i=S("°C"),f(e,"class","flex-none my-auto")},m(s,a){N(s,e,a),o(e,n),o(e,i)},p(s,a){a&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&T(n,l)},d(s){s&&M(e)}}}function so(t){var i,s,a;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((a=(s=t[5].errors)==null?void 0:s.han)==null?void 0:a[t[0].he])??t[0].he),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),o(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.han)??"Han-port")+": "+(((p=(m=u[5].errors)==null?void 0:m.han)==null?void 0:p[u[0].he])??u[0].he))&&T(n,l)},d(u){u&&M(e)}}}function oo(t){var i,s,a;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((a=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:a[t[0].me])??t[0].me),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),o(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((p=(m=u[5].errors)==null?void 0:m.mqtt)==null?void 0:p[u[0].me])??u[0].me))&&T(n,l)},d(u){u&&M(e)}}}function ao(t){var i,s,a;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((a=(s=t[5].errors)==null?void 0:s.price)==null?void 0:a[t[0].ee])??t[0].ee),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),o(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.price)??"PS")+": "+(((p=(m=u[5].errors)==null?void 0:m.price)==null?void 0:p[u[0].ee])??u[0].ee))&&T(n,l)},d(u){u&&M(e)}}}function ro(t){let e,l,n,i,s,a,u,r;return l=new Sl({props:{to:"/configuration",$$slots:{default:[gc]},$$scope:{ctx:t}}}),a=new Sl({props:{to:"/status",$$slots:{default:[vc]},$$scope:{ctx:t}}}),{c(){var c,m;e=_("div"),Me(l.$$.fragment),i=h(),s=_("div"),Me(a.$$.fragment),f(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),f(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),f(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),f(s,"title",u=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){N(c,e,m),ye(l,e,null),N(c,i,m),N(c,s,m),ye(a,s,null),r=!0},p(c,m){var b,k;const p={};m&512&&(p.$$scope={dirty:m,ctx:c}),l.$set(p),(!r||m&32&&n!==(n=((b=c[5].header)==null?void 0:b.config)??""))&&f(e,"title",n);const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),a.$set(d),(!r||m&32&&u!==(u=((k=c[5].header)==null?void 0:k.status)??""))&&f(s,"title",u)},i(c){r||(ee(l.$$.fragment,c),ee(a.$$.fragment,c),r=!0)},o(c){se(l.$$.fragment,c),se(a.$$.fragment,c),r=!1},d(c){c&&(M(e),M(i),M(s)),Ce(l),Ce(a)}}}function gc(t){let e,l;return e=new pc({}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function vc(t){let e,l;return e=new hc({}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function kc(t){let e,l;function n(a,u){return a[1].security==0||a[0].a?yc:Sc}let i=n(t),s=i(t);return{c(){var a;e=_("div"),s.c(),f(e,"class","flex-none mr-3 text-yellow-500"),f(e,"title",l=(((a=t[5].header)==null?void 0:a.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(a,u){N(a,e,u),s.m(e,null)},p(a,u){var r;i===(i=n(a))&&s?s.p(a,u):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null))),u&34&&l!==(l=(((r=a[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+a[1].upgrade.n)&&f(e,"title",l)},d(a){a&&M(e),s.d()}}}function wc(t){let e,l,n=t[1].upgrade.t+"",i,s,a=t[4].toFixed(1)+"",u,r;return{c(){e=_("div"),l=S("Oppdaterer til "),i=S(n),s=S(", "),u=S(a),r=S("%"),f(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){N(c,e,m),o(e,l),o(e,i),o(e,s),o(e,u),o(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&T(i,n),m&16&&a!==(a=c[4].toFixed(1)+"")&&T(u,a)},d(c){c&&M(e)}}}function Sc(t){var u;let e,l=(((u=t[5].header)==null?void 0:u.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",a;return{c(){e=_("span"),n=S(l),i=S(": "),a=S(s)},m(r,c){N(r,e,c),o(e,n),o(e,i),o(e,a)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&T(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&T(a,s)},d(r){r&&M(e)}}}function yc(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,a=t[1].upgrade.n+"",u,r,c;return{c(){e=_("button"),l=_("span"),i=S(n),s=S(": "),u=S(a),f(l,"class","mt-1"),f(e,"class","flex")},m(p,d){N(p,e,d),o(e,l),o(l,i),o(l,s),o(l,u),r||(c=pe(e,"click",t[6]),r=!0)},p(p,d){var b;d&32&&n!==(n=(((b=p[5].header)==null?void 0:b.new_version)??"Ny oppdatering")+"")&&T(i,n),d&2&&a!==(a=p[1].upgrade.n+"")&&T(u,a)},d(p){p&&M(e),r=!1,c()}}}function Cc(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X;i=new Sl({props:{to:"/",class:"flex space-x-2",$$slots:{default:[bc]},$$scope:{ctx:t}}}),r=new oc({props:{epoch:t[0].u}});let L=t[0].t>-50&&io(t);d=new Qn({props:{title:"Han-port",text:"Han-port",color:ii(t[1].booting?9:t[0].hm)}}),k=new Qn({props:{title:"Minside",text:"Minside",color:ii(t[1].booting?9:t[0].mm)}});let y=(t[0].he<0||t[0].he>0)&&so(t),W=t[0].me<0&&oo(t),R=(t[0].ee>0||t[0].ee<0)&&ao(t);K=new rf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let I=t[1].vndcfg&&t[1].usrcfg&&ro(t);function z(V,ne){if(V[1].upgrading)return wc;if(V[1].fwconsent===1&&V[1].upgrade.n)return kc}let Q=z(t),Z=Q&&Q(t);return{c(){e=_("nav"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),a=_("div"),u=_("div"),Me(r.$$.fragment),c=h(),L&&L.c(),m=h(),p=_("div"),Me(d.$$.fragment),b=h(),Me(k.$$.fragment),g=h(),y&&y.c(),w=h(),W&&W.c(),v=h(),R&&R.c(),E=h(),D=_("div"),B=_("div"),A=_("img"),q=h(),j=_("div"),Me(K.$$.fragment),G=h(),I&&I.c(),Y=h(),Z&&Z.c(),f(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),f(u,"class","flex-none my-auto"),f(a,"class","flex-none my-auto p-2 flex space-x-4"),f(p,"class","flex-auto flex-wrap my-auto justify-center p-2"),f(A,"class","h-10 w-10"),fn(A.src,U=t[2])||f(A,"src",U),f(A,"alt",t[3]),f(B,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),f(j,"class","flex-none my-auto px-2"),f(D,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),f(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),f(e,"class","bg-neas-green-90 rounded-md")},m(V,ne){N(V,e,ne),o(e,l),o(l,n),ye(i,n,null),o(l,s),o(l,a),o(a,u),ye(r,u,null),o(a,c),L&&L.m(a,null),o(l,m),o(l,p),ye(d,p,null),o(p,b),ye(k,p,null),o(l,g),y&&y.m(l,null),o(l,w),W&&W.m(l,null),o(l,v),R&&R.m(l,null),o(l,E),o(l,D),o(D,B),o(B,A),o(D,q),o(D,j),ye(K,j,null),o(D,G),I&&I.m(D,null),o(D,Y),Z&&Z.m(D,null),X=!0},p(V,[ne]){const fe={};ne&512&&(fe.$$scope={dirty:ne,ctx:V}),i.$set(fe);const oe={};ne&1&&(oe.epoch=V[0].u),r.$set(oe),V[0].t>-50?L?L.p(V,ne):(L=io(V),L.c(),L.m(a,null)):L&&(L.d(1),L=null);const ie={};ne&3&&(ie.color=ii(V[1].booting?9:V[0].hm)),d.$set(ie);const re={};ne&3&&(re.color=ii(V[1].booting?9:V[0].mm)),k.$set(re),V[0].he<0||V[0].he>0?y?y.p(V,ne):(y=so(V),y.c(),y.m(l,w)):y&&(y.d(1),y=null),V[0].me<0?W?W.p(V,ne):(W=oo(V),W.c(),W.m(l,v)):W&&(W.d(1),W=null),V[0].ee>0||V[0].ee<0?R?R.p(V,ne):(R=ao(V),R.c(),R.m(l,E)):R&&(R.d(1),R=null),(!X||ne&4&&!fn(A.src,U=V[2]))&&f(A,"src",U),(!X||ne&8)&&f(A,"alt",V[3]);const x={};ne&1&&(x.timestamp=V[0].c?new Date(V[0].c*1e3):new Date(0)),ne&2&&(x.offset=V[1].clock_offset),K.$set(x),V[1].vndcfg&&V[1].usrcfg?I?(I.p(V,ne),ne&2&&ee(I,1)):(I=ro(V),I.c(),ee(I,1),I.m(D,Y)):I&&(At(),se(I,1,1,()=>{I=null}),qt()),Q===(Q=z(V))&&Z?Z.p(V,ne):(Z&&Z.d(1),Z=Q&&Q(V),Z&&(Z.c(),Z.m(D,null)))},i(V){X||(ee(i.$$.fragment,V),ee(r.$$.fragment,V),ee(d.$$.fragment,V),ee(k.$$.fragment,V),ee(K.$$.fragment,V),ee(I),X=!0)},o(V){se(i.$$.fragment,V),se(r.$$.fragment,V),se(d.$$.fragment,V),se(k.$$.fragment,V),se(K.$$.fragment,V),se(I),X=!1},d(V){V&&M(e),Ce(i),Ce(r),L&&L.d(),Ce(d),Ce(k),y&&y.d(),W&&W.d(),R&&R.d(),Ce(K),I&&I.d(),Z&&Z.d()}}}function Mc(t,e,l){const n={high:_s,medium:ms,low:cs,off:ps};let i=n.off,s="Wi-Fi offline",{basepath:a="/"}=e,{data:u={}}=e,r={};function c(){var d;confirm((((d=p.header)==null?void 0:d.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(af(r.upgrade.n),ml.update(b=>(b.upgrade.t=r.upgrade.n,b.upgrade.p=0,b.upgrading=!0,b)))}let m;ml.subscribe(d=>{l(1,r=d)});let p={};return Nl.subscribe(d=>{l(5,p=d)}),t.$$set=d=>{"basepath"in d&&l(7,a=d.basepath),"data"in d&&l(0,u=d.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:d,label:b}=Vn(u==null?void 0:u.r);l(2,i=n[d]??n.off),l(3,s=b)}},[u,r,i,s,m,p,c,a]}class Nc extends Ot{constructor(e){super(),It(this,e,Mc,Cc,Lt,{basepath:7,data:0})}}function Pc(t){let e,l,n,i;return{c(){e=Pt("svg"),l=Pt("path"),n=Pt("path"),f(l,"d",Ei(150,150,115,210,510)),f(l,"stroke","rgba(128, 128, 128, 0.15)"),f(l,"fill","none"),f(l,"stroke-width","55"),f(n,"d",i=Ei(150,150,115,210,210+300*t[0]/100)),f(n,"stroke",t[1]),f(n,"fill","none"),f(n,"stroke-width","55"),f(e,"viewBox","0 0 300 300"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"height","100%")},m(s,a){N(s,e,a),o(e,l),o(e,n)},p(s,[a]){a&1&&i!==(i=Ei(150,150,115,210,210+300*s[0]/100))&&f(n,"d",i),a&2&&f(n,"stroke",s[1])},i:Ke,o:Ke,d(s){s&&M(e)}}}function uo(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ei(t,e,l,n,i){var s=uo(t,e,l,i),a=uo(t,e,l,n),u=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,u,0,a.x,a.y].join(" ");return r}function Tc(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Ec extends Ot{constructor(e){super(),It(this,e,Tc,Pc,Lt,{pct:0,color:1})}}function fo(t){let e,l,n,i=t[1][0]+"",s,a,u,r=t[1][1]+"",c,m;return{c(){e=_("br"),l=h(),n=_("span"),s=S(i),a=h(),u=_("span"),c=S(r),m=S("/kWh"),f(n,"class","pl-sub"),f(u,"class","pl-snt")},m(p,d){N(p,e,d),N(p,l,d),N(p,n,d),o(n,s),N(p,a,d),N(p,u,d),o(u,c),o(u,m)},p(p,d){d&2&&i!==(i=p[1][0]+"")&&T(s,i),d&2&&r!==(r=p[1][1]+"")&&T(c,r)},d(p){p&&(M(e),M(l),M(n),M(a),M(u))}}}function Ac(t){let e,l,n,i,s,a,u,r,c,m,p=t[3][0]+"",d,b,k,g=t[3][1]+"",w,v,E;l=new Ec({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let D=t[1]&&fo(t);return{c(){e=_("div"),Me(l.$$.fragment),n=h(),i=_("span"),s=_("span"),a=S(t[0]),u=h(),r=_("br"),c=h(),m=_("span"),d=S(p),b=h(),k=_("span"),w=S(g),v=h(),D&&D.c(),f(s,"class","pl-lab"),f(m,"class","pl-val"),f(k,"class","pl-unt"),f(i,"class","pl-ov"),f(e,"class","pl-root")},m(B,A){N(B,e,A),ye(l,e,null),o(e,n),o(e,i),o(i,s),o(s,a),o(i,u),o(i,r),o(i,c),o(i,m),o(m,d),o(i,b),o(i,k),o(k,w),o(i,v),D&&D.m(i,null),E=!0},p(B,[A]){const U={};A&16&&(U.pct=B[4]),A&20&&(U.color=B[2](B[4],document.documentElement.classList.contains("dark"))),l.$set(U),(!E||A&1)&&T(a,B[0]),(!E||A&8)&&p!==(p=B[3][0]+"")&&T(d,p),(!E||A&8)&&g!==(g=B[3][1]+"")&&T(w,g),B[1]?D?D.p(B,A):(D=fo(B),D.c(),D.m(i,null)):D&&(D.d(1),D=null)},i(B){E||(ee(l.$$.fragment,B),E=!0)},o(B){se(l.$$.fragment,B),E=!1},d(B){B&&M(e),Ce(l),D&&D.d()}}}function qc(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:a}=e,{sub:u=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=p=>{"val"in p&&l(5,n=p.val),"max"in p&&l(6,i=p.max),"unit"in p&&l(7,s=p.unit),"label"in p&&l(0,a=p.label),"sub"in p&&l(1,u=p.sub),"colorFn"in p&&l(2,r=p.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=_l(n,s)),l(4,m=Math.min(n,i)/i*100))},[a,u,r,c,m,n,i,s]}class uf extends Ot{constructor(e){super(),It(this,e,qc,Ac,Lt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function co(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function mo(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function _o(t,e,l){const n=t.slice();return n[15]=e[l],n}function po(t){let e,l,n,i,s,a,u,r=(t[0].title||t[0].link)&&ho(t),c=st(t[0].y.ticks),m=[];for(let g=0;g<c.length;g+=1)m[g]=ko(_o(t,c,g));let p=st(t[0].x.ticks),d=[];for(let g=0;g<p.length;g+=1)d[g]=yo(mo(t,p,g));let b=st(t[0].points),k=[];for(let g=0;g<b.length;g+=1)k[g]=qo(co(t,b,g));return{c(){r&&r.c(),e=h(),l=Pt("svg"),n=Pt("g");for(let g=0;g<m.length;g+=1)m[g].c();i=Pt("g");for(let g=0;g<d.length;g+=1)d[g].c();s=Pt("g");for(let g=0;g<k.length;g+=1)k[g].c();f(n,"class","axis y-axis"),f(i,"class","axis x-axis"),f(s,"class","bars"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"viewBox",a="0 0 "+t[1]+" "+t[4])},m(g,w){r&&r.m(g,w),N(g,e,w),N(g,l,w),o(l,n);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(n,null);o(l,i);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(i,null);o(l,s);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(s,null);u=!0},p(g,w){if(g[0].title||g[0].link?r?(r.p(g,w),w&1&&ee(r,1)):(r=ho(g),r.c(),ee(r,1),r.m(e.parentNode,e)):r&&(At(),se(r,1,1,()=>{r=null}),qt()),w&129){c=st(g[0].y.ticks);let v;for(v=0;v<c.length;v+=1){const E=_o(g,c,v);m[v]?m[v].p(E,w):(m[v]=ko(E),m[v].c(),m[v].m(n,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=c.length}if(w&89){p=st(g[0].x.ticks);let v;for(v=0;v<p.length;v+=1){const E=mo(g,p,v);d[v]?d[v].p(E,w):(d[v]=yo(E),d[v].c(),d[v].m(i,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=p.length}if(w&457){b=st(g[0].points);let v;for(v=0;v<b.length;v+=1){const E=co(g,b,v);k[v]?k[v].p(E,w):(k[v]=qo(E),k[v].c(),k[v].m(s,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=b.length}(!u||w&18&&a!==(a="0 0 "+g[1]+" "+g[4]))&&f(l,"viewBox",a)},i(g){u||(ee(r),u=!0)},o(g){se(r),u=!1},d(g){g&&(M(e),M(l)),r&&r.d(g),el(m,g),el(d,g),el(k,g)}}}function ho(t){let e,l,n,i=t[0].title&&bo(t),s=t[0].link&&go(t);return{c(){e=_("div"),i&&i.c(),l=h(),s&&s.c(),f(e,"class","grid grid-cols-2")},m(a,u){N(a,e,u),i&&i.m(e,null),o(e,l),s&&s.m(e,null),n=!0},p(a,u){a[0].title?i?i.p(a,u):(i=bo(a),i.c(),i.m(e,l)):i&&(i.d(1),i=null),a[0].link?s?(s.p(a,u),u&1&&ee(s,1)):(s=go(a),s.c(),ee(s,1),s.m(e,null)):s&&(At(),se(s,1,1,()=>{s=null}),qt())},i(a){n||(ee(s),n=!0)},o(a){se(s),n=!1},d(a){a&&M(e),i&&i.d(),s&&s.d()}}}function bo(t){let e,l=t[0].title+"",n,i;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm font-bold"),Jt(()=>t[9].call(e))},m(s,a){N(s,e,a),o(e,n),i=ts(e,t[9].bind(e))},p(s,a){a&1&&l!==(l=s[0].title+"")&&T(n,l)},d(s){s&&M(e),i()}}}function go(t){let e,l,n,i;const s=[Dc,Lc],a=[];function u(r,c){return r[0].link.route?0:1}return l=u(t),n=a[l]=s[l](t),{c(){e=_("div"),n.c(),f(e,"class","text-xs text-right")},m(r,c){N(r,e,c),a[l].m(e,null),i=!0},p(r,c){let m=l;l=u(r),l===m?a[l].p(r,c):(At(),se(a[m],1,1,()=>{a[m]=null}),qt(),n=a[l],n?n.p(r,c):(n=a[l]=s[l](r),n.c()),ee(n,1),n.m(e,null))},i(r){i||(ee(n),i=!0)},o(r){se(n),i=!1},d(r){r&&M(e),a[l].d()}}}function Lc(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=_("a"),n=S(l),f(e,"href",i=t[0].link.url),f(e,"target",s=t[0].link.target)},m(a,u){N(a,e,u),o(e,n)},p(a,u){u&1&&l!==(l=a[0].link.text+"")&&T(n,l),u&1&&i!==(i=a[0].link.url)&&f(e,"href",i),u&1&&s!==(s=a[0].link.target)&&f(e,"target",s)},i:Ke,o:Ke,d(a){a&&M(e)}}}function Dc(t){let e,l;return e=new Sl({props:{to:t[0].link.url,$$slots:{default:[Ic]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Ic(t){let e=t[0].link.text+"",l;return{c(){l=S(e)},m(n,i){N(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&T(l,e)},d(n){n&&M(l)}}}function vo(t){let e,l,n,i=t[15].label+"",s,a,u,r;return{c(){e=Pt("g"),l=Pt("line"),n=Pt("text"),s=S(i),f(l,"x2","100%"),f(n,"y","-4"),f(n,"x",a=t[15].align=="right"?"85%":""),f(e,"class",u="tick tick-"+t[15].value+" tick-"+t[15].color),f(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){N(c,e,m),o(e,l),o(e,n),o(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&T(s,i),m&1&&a!==(a=c[15].align=="right"?"85%":"")&&f(n,"x",a),m&1&&u!==(u="tick tick-"+c[15].value+" tick-"+c[15].color)&&f(e,"class",u),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&f(e,"transform",r)},d(c){c&&M(e)}}}function ko(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&vo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=vo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function wo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&So(t);return{c(){e=Pt("g"),n&&n.c(),f(e,"class","tick"),f(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){N(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=So(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&f(e,"transform",l)},d(i){i&&M(e),n&&n.d()}}}function So(t){let e,l=t[11].label+"",n,i;return{c(){e=Pt("text"),n=S(l),f(e,"x",i=t[3]/2),f(e,"y","-4")},m(s,a){N(s,e,a),o(e,n)},p(s,a){a&1&&l!==(l=s[11].label+"")&&T(n,l),a&8&&i!==(i=s[3]/2)&&f(e,"x",i)},d(s){s&&M(e)}}}function yo(t){let e=!isNaN(t[6](t[13])),l,n=e&&wo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=wo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Co(t){let e,l,n=t[11].value!==void 0&&Mo(t),i=t[11].value2>1e-4&&To(t);return{c(){e=Pt("g"),n&&n.c(),l=Pt("g"),i&&i.c()},m(s,a){N(s,e,a),n&&n.m(e,null),N(s,l,a),i&&i.m(l,null)},p(s,a){s[11].value!==void 0?n?n.p(s,a):(n=Mo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,a):(i=To(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(M(e),M(l)),n&&n.d(),i&&i.d()}}}function Mo(t){let e,l,n,i,s,a,u,r=t[3]>15&&No(t);return{c(){e=Pt("rect"),r&&r.c(),u=tl(),f(e,"x",l=t[6](t[13])+2),f(e,"y",n=t[7](t[11].value)),f(e,"width",i=t[3]-4),f(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),f(e,"fill",a=t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&f(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&f(e,"y",n),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&f(e,"height",s),m&1&&a!==(a=c[11].color)&&f(e,"fill",a),c[3]>15?r?r.p(c,m):(r=No(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function No(t){let e,l=t[11].label+"",n,i,s,a,u,r,c=t[11].title&&Po(t);return{c(){e=Pt("text"),n=S(l),c&&c.c(),r=tl(),f(e,"width",i=t[3]-4),f(e,"dominant-baseline","middle"),f(e,"text-anchor",s=t[3]<rn||t[11].labelAngle?"left":"middle"),f(e,"fill",a=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),f(e,"transform",u="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<rn?90:0)+")")},m(m,p){N(m,e,p),o(e,n),c&&c.m(m,p),N(m,r,p)},p(m,p){p&1&&l!==(l=m[11].label+"")&&T(n,l),p&8&&i!==(i=m[3]-4)&&f(e,"width",i),p&9&&s!==(s=m[3]<rn||m[11].labelAngle?"left":"middle")&&f(e,"text-anchor",s),p&385&&a!==(a=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&f(e,"fill",a),p&457&&u!==(u="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<rn?90:0)+")")&&f(e,"transform",u),m[11].title?c?c.p(m,p):(c=Po(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(r)),c&&c.d(m)}}}function Po(t){let e,l=t[11].title+"",n;return{c(){e=Pt("title"),n=S(l)},m(i,s){N(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&T(n,l)},d(i){i&&M(e)}}}function To(t){let e,l,n,i,s,a,u,r=t[3]>15&&Eo(t);return{c(){e=Pt("rect"),r&&r.c(),u=tl(),f(e,"x",l=t[6](t[13])+2),f(e,"y",n=t[7](0)),f(e,"width",i=t[3]-4),f(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),f(e,"fill",a=t[11].color2?t[11].color2:t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&f(e,"x",l),m&128&&n!==(n=c[7](0))&&f(e,"y",n),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&f(e,"height",s),m&1&&a!==(a=c[11].color2?c[11].color2:c[11].color)&&f(e,"fill",a),c[3]>15?r?r.p(c,m):(r=Eo(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function Eo(t){let e,l=t[11].label2+"",n,i,s,a,u,r=t[11].title2&&Ao(t);return{c(){e=Pt("text"),n=S(l),r&&r.c(),u=tl(),f(e,"width",i=t[3]-4),f(e,"dominant-baseline","middle"),f(e,"text-anchor","middle"),f(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),f(e,"transform",a="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<rn?90:0)+")")},m(c,m){N(c,e,m),o(e,n),r&&r.m(c,m),N(c,u,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&T(n,l),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&f(e,"fill",s),m&201&&a!==(a="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<rn?90:0)+")")&&f(e,"transform",a),c[11].title2?r?r.p(c,m):(r=Ao(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function Ao(t){let e,l=t[11].title2+"",n;return{c(){e=Pt("title"),n=S(l)},m(i,s){N(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&T(n,l)},d(i){i&&M(e)}}}function qo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&Co(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=Co(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Oc(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&po(t);return{c(){e=_("div"),i&&i.c(),f(e,"class","chart"),Jt(()=>t[10].call(e))},m(s,a){N(s,e,a),i&&i.m(e,null),l=ts(e,t[10].bind(e)),n=!0},p(s,[a]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,a),a&17&&ee(i,1)):(i=po(s),i.c(),ee(i,1),i.m(e,null)):i&&(At(),se(i,1,1,()=>{i=null}),qt())},i(s){n||(ee(i),n=!0)},o(s){se(i),n=!1},d(s){s&&M(e),i&&i.d(),l()}}}let rn=30;function Fc(t,e,l){let{config:n}=e,i,s,a,u,r,c,m,p=0;function d(){p=this.clientHeight,l(5,p)}function b(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=k=>{"config"in k&&l(0,n=k.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-p);let k=i-(n.padding.left+n.padding.right);l(3,a=k/n.points.length),l(8,m=a<rn?30:15);let g=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,u=function(w){return w*a+n.padding.left}),l(7,r=function(w){let v=0;return w>n.y.max?v=n.padding.bottom:w<n.y.min?v=c-n.padding.bottom:v=c-n.padding.bottom-(w-n.y.min)*g,v>c||v<0?0:v})}},[n,i,s,a,c,p,u,r,m,d,b]}class _n extends Ot{constructor(e){super(),It(this,e,Fc,Oc,Lt,{config:0})}}function Rc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Uc(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:a}=e,{ds:u}=e,r={};function c(m){return{label:Qt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:U0(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,a=m.u3),"ds"in m&&l(5,u=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],p=[];i>0&&(m.push({label:u===1?"L1-L2":"L1"}),p.push(c(i))),s>0&&(m.push({label:u===1?"L1-L3":"L2"}),p.push(c(s))),a>0&&(m.push({label:u===1?"L2-L3":"L3"}),p.push(c(a))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:p})}},[r,n,i,s,a,u]}class Bc extends Ot{constructor(e){super(),It(this,e,Uc,Rc,Lt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function jc(t){var O,H,le,ae,ce;let e,l,n=(((O=t[0].reactive)==null?void 0:O.title)??"Reactive")+"",i,s,a,u,r=(((H=t[0].reactive)==null?void 0:H.instant_in)??"Instant in")+"",c,m,p,d=t[1][0]+"",b,k,g=t[1][1]+"",w,v,E,D=(((le=t[0].reactive)==null?void 0:le.instant_out)??"Instant out")+"",B,A,U,q=t[2][0]+"",j,K,G=t[2][1]+"",Y,X,L,y,W=(((ae=t[0].reactive)==null?void 0:ae.total_in)??"Total in")+"",R,I,z,Q=t[3][0]+"",Z,V,ne=t[3][1]+"",fe,oe,ie,re=(((ce=t[0].reactive)==null?void 0:ce.total_out)??"Total out")+"",x,$,te,ge=t[4][0]+"",ke,P,C=t[4][1]+"",F;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("div"),u=_("div"),c=S(r),m=h(),p=_("div"),b=S(d),k=h(),w=S(g),v=h(),E=_("div"),B=S(D),A=h(),U=_("div"),j=S(q),K=h(),Y=S(G),X=h(),L=_("div"),y=_("div"),R=S(W),I=h(),z=_("div"),Z=S(Q),V=h(),fe=S(ne),oe=h(),ie=_("div"),x=S(re),$=h(),te=_("div"),ke=S(ge),P=h(),F=S(C),f(p,"class","text-right"),f(U,"class","text-right"),f(a,"class","grid grid-cols-2 mt-4"),f(z,"class","text-right"),f(te,"class","text-right"),f(L,"class","grid grid-cols-2 mt-4"),f(e,"class","mx-2 text-sm")},m(ue,me){N(ue,e,me),o(e,l),o(l,i),o(e,s),o(e,a),o(a,u),o(u,c),o(a,m),o(a,p),o(p,b),o(p,k),o(p,w),o(a,v),o(a,E),o(E,B),o(a,A),o(a,U),o(U,j),o(U,K),o(U,Y),o(e,X),o(e,L),o(L,y),o(y,R),o(L,I),o(L,z),o(z,Z),o(z,V),o(z,fe),o(L,oe),o(L,ie),o(ie,x),o(L,$),o(L,te),o(te,ke),o(te,P),o(te,F)},p(ue,[me]){var Se,we,Te,Ie,Ue;me&1&&n!==(n=(((Se=ue[0].reactive)==null?void 0:Se.title)??"Reactive")+"")&&T(i,n),me&1&&r!==(r=(((we=ue[0].reactive)==null?void 0:we.instant_in)??"Instant in")+"")&&T(c,r),me&2&&d!==(d=ue[1][0]+"")&&T(b,d),me&2&&g!==(g=ue[1][1]+"")&&T(w,g),me&1&&D!==(D=(((Te=ue[0].reactive)==null?void 0:Te.instant_out)??"Instant out")+"")&&T(B,D),me&4&&q!==(q=ue[2][0]+"")&&T(j,q),me&4&&G!==(G=ue[2][1]+"")&&T(Y,G),me&1&&W!==(W=(((Ie=ue[0].reactive)==null?void 0:Ie.total_in)??"Total in")+"")&&T(R,W),me&8&&Q!==(Q=ue[3][0]+"")&&T(Z,Q),me&8&&ne!==(ne=ue[3][1]+"")&&T(fe,ne),me&1&&re!==(re=(((Ue=ue[0].reactive)==null?void 0:Ue.total_out)??"Total out")+"")&&T(x,re),me&16&&ge!==(ge=ue[4][0]+"")&&T(ke,ge),me&16&&C!==(C=ue[4][1]+"")&&T(F,C)},i:Ke,o:Ke,d(ue){ue&&M(e)}}}function Hc(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:a}=e,{translations:u={}}=e,r,c,m,p;return t.$$set=d=>{"importInstant"in d&&l(5,n=d.importInstant),"exportInstant"in d&&l(6,i=d.exportInstant),"importTotal"in d&&l(7,s=d.importTotal),"exportTotal"in d&&l(8,a=d.exportTotal),"translations"in d&&l(0,u=d.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=_l(n,"VAr")),l(2,c=_l(i,"VAr")),l(3,m=_l(s*1e3,"VArh")),l(4,p=_l(a*1e3,"VArh")))},[u,r,c,m,p,n,i,s,a]}class Wc extends Ot{constructor(e){super(),It(this,e,Hc,jc,Lt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function Lo(t){let e;function l(s,a){return s[3]?Kc:zc}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,a){i.m(s,a),N(s,e,a)},p(s,a){n===(n=l(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&M(e),i.d(s)}}}function zc(t){var H,le,ae,ce,ue;let e,l=(((H=t[4].realtime)==null?void 0:H.consumption)??"Consumption")+"",n,i,s,a,u=il(((le=t[4].common)==null?void 0:le.hour)??"Hour")+"",r,c,m,p=t[6][0]+"",d,b,k=t[6][1]+"",g,w,v,E=il(((ae=t[4].common)==null?void 0:ae.day)??"Day")+"",D,B,A,U=t[7][0]+"",q,j,K=t[7][1]+"",G,Y,X,L=il(((ce=t[4].common)==null?void 0:ce.month)??"Month")+"",y,W,R,I=t[8][0]+"",z,Q,Z=t[8][1]+"",V,ne,fe,oe=(((ue=t[4].realtime)==null?void 0:ue.last_month)??"Last month")+"",ie,re,x,$=t[9][0]+"",te,ge,ke=t[9][1]+"",P,C,F,O=t[5]&&Do(t);return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),a=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(k),w=h(),v=_("div"),D=S(E),B=h(),A=_("div"),q=S(U),j=h(),G=S(K),Y=h(),X=_("div"),y=S(L),W=h(),R=_("div"),z=S(I),Q=h(),V=S(Z),ne=h(),fe=_("div"),ie=S(oe),re=h(),x=_("div"),te=S($),ge=h(),P=S(ke),C=h(),O&&O.c(),F=tl(),f(m,"class","text-right"),f(A,"class","text-right"),f(R,"class","text-right"),f(x,"class","text-right"),f(s,"class","grid grid-cols-2 mb-3")},m(me,Se){N(me,e,Se),o(e,n),N(me,i,Se),N(me,s,Se),o(s,a),o(a,r),o(s,c),o(s,m),o(m,d),o(m,b),o(m,g),o(s,w),o(s,v),o(v,D),o(s,B),o(s,A),o(A,q),o(A,j),o(A,G),o(s,Y),o(s,X),o(X,y),o(s,W),o(s,R),o(R,z),o(R,Q),o(R,V),o(s,ne),o(s,fe),o(fe,ie),o(s,re),o(s,x),o(x,te),o(x,ge),o(x,P),N(me,C,Se),O&&O.m(me,Se),N(me,F,Se)},p(me,Se){var we,Te,Ie,Ue,Ve;Se&16&&l!==(l=(((we=me[4].realtime)==null?void 0:we.consumption)??"Consumption")+"")&&T(n,l),Se&16&&u!==(u=il(((Te=me[4].common)==null?void 0:Te.hour)??"Hour")+"")&&T(r,u),Se&64&&p!==(p=me[6][0]+"")&&T(d,p),Se&64&&k!==(k=me[6][1]+"")&&T(g,k),Se&16&&E!==(E=il(((Ie=me[4].common)==null?void 0:Ie.day)??"Day")+"")&&T(D,E),Se&128&&U!==(U=me[7][0]+"")&&T(q,U),Se&128&&K!==(K=me[7][1]+"")&&T(G,K),Se&16&&L!==(L=il(((Ue=me[4].common)==null?void 0:Ue.month)??"Month")+"")&&T(y,L),Se&256&&I!==(I=me[8][0]+"")&&T(z,I),Se&256&&Z!==(Z=me[8][1]+"")&&T(V,Z),Se&16&&oe!==(oe=(((Ve=me[4].realtime)==null?void 0:Ve.last_month)??"Last month")+"")&&T(ie,oe),Se&512&&$!==($=me[9][0]+"")&&T(te,$),Se&512&&ke!==(ke=me[9][1]+"")&&T(P,ke),me[5]?O?O.p(me,Se):(O=Do(me),O.c(),O.m(F.parentNode,F)):O&&(O.d(1),O=null)},d(me){me&&(M(e),M(i),M(s),M(C),M(F)),O&&O.d(me)}}}function Kc(t){var mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t;let e,l=(((mt=t[4].common)==null?void 0:mt.import)??"Import")+"",n,i,s,a,u=il(((tt=t[4].common)==null?void 0:tt.hour)??"Hour")+"",r,c,m,p=t[6][0]+"",d,b,k=t[6][1]+"",g,w,v,E,D=il(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",B,A,U,q=t[7][0]+"",j,K,G=t[7][1]+"",Y,X,L,y,W=il(((Xt=t[4].common)==null?void 0:Xt.month)??"Month")+"",R,I,z,Q=t[8][0]+"",Z,V,ne=t[8][1]+"",fe,oe,ie,re,x=(((Zt=t[4].realtime)==null?void 0:Zt.last_mo)??"Last mo.")+"",$,te,ge,ke=t[9][0]+"",P,C,F=t[9][1]+"",O,H,le,ae,ce,ue=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",me,Se,we,Te,Ie=il(((ul=t[4].common)==null?void 0:ul.hour)??"Hour")+"",Ue,Ve,Ye,he=t[10][0]+"",ve,He,lt=t[10][1]+"",gt,pt,Dt,Tt,ot=il(((Pe=t[4].common)==null?void 0:Pe.day)??"Day")+"",dt,Ht,ct,Oe=t[11][0]+"",Xe,Ft,at=t[11][1]+"",xe,Ne,We,Je,Qe=il(((Ze=t[4].common)==null?void 0:Ze.month)??"Month")+"",de,qe,bt,Ut=t[12][0]+"",vt,Ge,rt=t[12][1]+"",Fe,Ee,Re,Le,De=((($t=t[4].realtime)==null?void 0:$t.last_mo)??"Last mo.")+"",et,it,ut,wt=t[13][0]+"",Rt,Gt,kt=t[13][1]+"",jt,sl,Bt,nt=t[5]&&Io(t),Wt=t[5]&&Oo(t),Yt=t[5]&&Fo(t),yt=t[5]&&Ro(t),ht=t[5]&&Uo(t),Mt=t[5]&&Bo(t),Kt=t[5]&&jo(t),be=t[5]&&Ho(t);return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),a=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(k),w=h(),nt&&nt.c(),v=h(),E=_("div"),B=S(D),A=h(),U=_("div"),j=S(q),K=h(),Y=S(G),X=h(),Wt&&Wt.c(),L=h(),y=_("div"),R=S(W),I=h(),z=_("div"),Z=S(Q),V=h(),fe=S(ne),oe=h(),Yt&&Yt.c(),ie=h(),re=_("div"),$=S(x),te=h(),ge=_("div"),P=S(ke),C=h(),O=S(F),H=h(),yt&&yt.c(),ae=h(),ce=_("strong"),me=S(ue),Se=h(),we=_("div"),Te=_("div"),Ue=S(Ie),Ve=h(),Ye=_("div"),ve=S(he),He=h(),gt=S(lt),pt=h(),ht&&ht.c(),Dt=h(),Tt=_("div"),dt=S(ot),Ht=h(),ct=_("div"),Xe=S(Oe),Ft=h(),xe=S(at),Ne=h(),Mt&&Mt.c(),We=h(),Je=_("div"),de=S(Qe),qe=h(),bt=_("div"),vt=S(Ut),Ge=h(),Fe=S(rt),Ee=h(),Kt&&Kt.c(),Re=h(),Le=_("div"),et=S(De),it=h(),ut=_("div"),Rt=S(wt),Gt=h(),jt=S(kt),sl=h(),be&&be.c(),f(m,"class","text-right"),f(U,"class","text-right"),f(z,"class","text-right"),f(ge,"class","text-right"),f(s,"class",le="grid grid-cols-"+t[14]+" mb-3"),f(Ye,"class","text-right"),f(ct,"class","text-right"),f(bt,"class","text-right"),f(ut,"class","text-right"),f(we,"class",Bt="grid grid-cols-"+t[14])},m(Ae,_e){N(Ae,e,_e),o(e,n),N(Ae,i,_e),N(Ae,s,_e),o(s,a),o(a,r),o(s,c),o(s,m),o(m,d),o(m,b),o(m,g),o(s,w),nt&&nt.m(s,null),o(s,v),o(s,E),o(E,B),o(s,A),o(s,U),o(U,j),o(U,K),o(U,Y),o(s,X),Wt&&Wt.m(s,null),o(s,L),o(s,y),o(y,R),o(s,I),o(s,z),o(z,Z),o(z,V),o(z,fe),o(s,oe),Yt&&Yt.m(s,null),o(s,ie),o(s,re),o(re,$),o(s,te),o(s,ge),o(ge,P),o(ge,C),o(ge,O),o(s,H),yt&&yt.m(s,null),N(Ae,ae,_e),N(Ae,ce,_e),o(ce,me),N(Ae,Se,_e),N(Ae,we,_e),o(we,Te),o(Te,Ue),o(we,Ve),o(we,Ye),o(Ye,ve),o(Ye,He),o(Ye,gt),o(we,pt),ht&&ht.m(we,null),o(we,Dt),o(we,Tt),o(Tt,dt),o(we,Ht),o(we,ct),o(ct,Xe),o(ct,Ft),o(ct,xe),o(we,Ne),Mt&&Mt.m(we,null),o(we,We),o(we,Je),o(Je,de),o(we,qe),o(we,bt),o(bt,vt),o(bt,Ge),o(bt,Fe),o(we,Ee),Kt&&Kt.m(we,null),o(we,Re),o(we,Le),o(Le,et),o(we,it),o(we,ut),o(ut,Rt),o(ut,Gt),o(ut,jt),o(we,sl),be&&be.m(we,null)},p(Ae,_e){var zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl;_e&16&&l!==(l=(((zt=Ae[4].common)==null?void 0:zt.import)??"Import")+"")&&T(n,l),_e&16&&u!==(u=il(((Be=Ae[4].common)==null?void 0:Be.hour)??"Hour")+"")&&T(r,u),_e&64&&p!==(p=Ae[6][0]+"")&&T(d,p),_e&64&&k!==(k=Ae[6][1]+"")&&T(g,k),Ae[5]?nt?nt.p(Ae,_e):(nt=Io(Ae),nt.c(),nt.m(s,v)):nt&&(nt.d(1),nt=null),_e&16&&D!==(D=il(((Nt=Ae[4].common)==null?void 0:Nt.day)??"Day")+"")&&T(B,D),_e&128&&q!==(q=Ae[7][0]+"")&&T(j,q),_e&128&&G!==(G=Ae[7][1]+"")&&T(Y,G),Ae[5]?Wt?Wt.p(Ae,_e):(Wt=Oo(Ae),Wt.c(),Wt.m(s,L)):Wt&&(Wt.d(1),Wt=null),_e&16&&W!==(W=il(((fl=Ae[4].common)==null?void 0:fl.month)??"Month")+"")&&T(R,W),_e&256&&Q!==(Q=Ae[8][0]+"")&&T(Z,Q),_e&256&&ne!==(ne=Ae[8][1]+"")&&T(fe,ne),Ae[5]?Yt?Yt.p(Ae,_e):(Yt=Fo(Ae),Yt.c(),Yt.m(s,ie)):Yt&&(Yt.d(1),Yt=null),_e&16&&x!==(x=(((dl=Ae[4].realtime)==null?void 0:dl.last_mo)??"Last mo.")+"")&&T($,x),_e&512&&ke!==(ke=Ae[9][0]+"")&&T(P,ke),_e&512&&F!==(F=Ae[9][1]+"")&&T(O,F),Ae[5]?yt?yt.p(Ae,_e):(yt=Ro(Ae),yt.c(),yt.m(s,null)):yt&&(yt.d(1),yt=null),_e&16384&&le!==(le="grid grid-cols-"+Ae[14]+" mb-3")&&f(s,"class",le),_e&16&&ue!==(ue=(((hl=Ae[4].common)==null?void 0:hl.export)??"Export")+"")&&T(me,ue),_e&16&&Ie!==(Ie=il(((bl=Ae[4].common)==null?void 0:bl.hour)??"Hour")+"")&&T(Ue,Ie),_e&1024&&he!==(he=Ae[10][0]+"")&&T(ve,he),_e&1024&&lt!==(lt=Ae[10][1]+"")&&T(gt,lt),Ae[5]?ht?ht.p(Ae,_e):(ht=Uo(Ae),ht.c(),ht.m(we,Dt)):ht&&(ht.d(1),ht=null),_e&16&&ot!==(ot=il(((gl=Ae[4].common)==null?void 0:gl.day)??"Day")+"")&&T(dt,ot),_e&2048&&Oe!==(Oe=Ae[11][0]+"")&&T(Xe,Oe),_e&2048&&at!==(at=Ae[11][1]+"")&&T(xe,at),Ae[5]?Mt?Mt.p(Ae,_e):(Mt=Bo(Ae),Mt.c(),Mt.m(we,We)):Mt&&(Mt.d(1),Mt=null),_e&16&&Qe!==(Qe=il(((vl=Ae[4].common)==null?void 0:vl.month)??"Month")+"")&&T(de,Qe),_e&4096&&Ut!==(Ut=Ae[12][0]+"")&&T(vt,Ut),_e&4096&&rt!==(rt=Ae[12][1]+"")&&T(Fe,rt),Ae[5]?Kt?Kt.p(Ae,_e):(Kt=jo(Ae),Kt.c(),Kt.m(we,Re)):Kt&&(Kt.d(1),Kt=null),_e&16&&De!==(De=(((kl=Ae[4].realtime)==null?void 0:kl.last_mo)??"Last mo.")+"")&&T(et,De),_e&8192&&wt!==(wt=Ae[13][0]+"")&&T(Rt,wt),_e&8192&&kt!==(kt=Ae[13][1]+"")&&T(jt,kt),Ae[5]?be?be.p(Ae,_e):(be=Ho(Ae),be.c(),be.m(we,null)):be&&(be.d(1),be=null),_e&16384&&Bt!==(Bt="grid grid-cols-"+Ae[14])&&f(we,"class",Bt)},d(Ae){Ae&&(M(e),M(i),M(s),M(ae),M(ce),M(Se),M(we)),nt&&nt.d(),Wt&&Wt.d(),Yt&&Yt.d(),yt&&yt.d(),ht&&ht.d(),Mt&&Mt.d(),Kt&&Kt.d(),be&&be.d()}}}function Do(t){var te,ge,ke,P,C,F;let e,l=(((te=t[4].realtime)==null?void 0:te.cost)??"Cost")+"",n,i,s,a,u=il(((ge=t[4].common)==null?void 0:ge.hour)??"Hour")+"",r,c,m,p=Qt(t[1].h.c,2)+"",d,b,k,g,w,v=il(((ke=t[4].common)==null?void 0:ke.day)??"Day")+"",E,D,B,A=Qt(t[1].d.c,1)+"",U,q,j,K,G,Y=il(((P=t[4].common)==null?void 0:P.month)??"Month")+"",X,L,y,W=Qt(t[1].m.c)+"",R,I,z,Q,Z,V=(((C=t[4].realtime)==null?void 0:C.last_month)??"Last month")+"",ne,fe,oe,ie=Qt((F=t[0].last_month)==null?void 0:F.c)+"",re,x,$;return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),a=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),k=S(t[2]),g=h(),w=_("div"),E=S(v),D=h(),B=_("div"),U=S(A),q=h(),j=S(t[2]),K=h(),G=_("div"),X=S(Y),L=h(),y=_("div"),R=S(W),I=h(),z=S(t[2]),Q=h(),Z=_("div"),ne=S(V),fe=h(),oe=_("div"),re=S(ie),x=h(),$=S(t[2]),f(m,"class","text-right"),f(B,"class","text-right"),f(y,"class","text-right"),f(oe,"class","text-right"),f(s,"class","grid grid-cols-2")},m(O,H){N(O,e,H),o(e,n),N(O,i,H),N(O,s,H),o(s,a),o(a,r),o(s,c),o(s,m),o(m,d),o(m,b),o(m,k),o(s,g),o(s,w),o(w,E),o(s,D),o(s,B),o(B,U),o(B,q),o(B,j),o(s,K),o(s,G),o(G,X),o(s,L),o(s,y),o(y,R),o(y,I),o(y,z),o(s,Q),o(s,Z),o(Z,ne),o(s,fe),o(s,oe),o(oe,re),o(oe,x),o(oe,$)},p(O,H){var le,ae,ce,ue,me,Se;H&16&&l!==(l=(((le=O[4].realtime)==null?void 0:le.cost)??"Cost")+"")&&T(n,l),H&16&&u!==(u=il(((ae=O[4].common)==null?void 0:ae.hour)??"Hour")+"")&&T(r,u),H&2&&p!==(p=Qt(O[1].h.c,2)+"")&&T(d,p),H&4&&T(k,O[2]),H&16&&v!==(v=il(((ce=O[4].common)==null?void 0:ce.day)??"Day")+"")&&T(E,v),H&2&&A!==(A=Qt(O[1].d.c,1)+"")&&T(U,A),H&4&&T(j,O[2]),H&16&&Y!==(Y=il(((ue=O[4].common)==null?void 0:ue.month)??"Month")+"")&&T(X,Y),H&2&&W!==(W=Qt(O[1].m.c)+"")&&T(R,W),H&4&&T(z,O[2]),H&16&&V!==(V=(((me=O[4].realtime)==null?void 0:me.last_month)??"Last month")+"")&&T(ne,V),H&1&&ie!==(ie=Qt((Se=O[0].last_month)==null?void 0:Se.c)+"")&&T(re,ie),H&4&&T($,O[2])},d(O){O&&(M(e),M(i),M(s))}}}function Io(t){let e,l=Qt(t[1].h.c,2)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].h.c,2)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function Oo(t){let e,l=Qt(t[1].d.c,1)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].d.c,1)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function Fo(t){let e,l=Qt(t[1].m.c)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].m.c)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function Ro(t){var a;let e,l=Qt((a=t[0].last_month)==null?void 0:a.c)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(u,r){N(u,e,r),o(e,n),o(e,i),o(e,s)},p(u,r){var c;r&1&&l!==(l=Qt((c=u[0].last_month)==null?void 0:c.c)+"")&&T(n,l),r&4&&T(s,u[2])},d(u){u&&M(e)}}}function Uo(t){let e,l=Qt(t[1].h.i,2)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].h.i,2)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function Bo(t){let e,l=Qt(t[1].d.i,1)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].d.i,1)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function jo(t){let e,l=Qt(t[1].m.i)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,n),o(e,i),o(e,s)},p(a,u){u&2&&l!==(l=Qt(a[1].m.i)+"")&&T(n,l),u&4&&T(s,a[2])},d(a){a&&M(e)}}}function Ho(t){var a;let e,l=Qt((a=t[0].last_month)==null?void 0:a.i)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(u,r){N(u,e,r),o(e,n),o(e,i),o(e,s)},p(u,r){var c;r&1&&l!==(l=Qt((c=u[0].last_month)==null?void 0:c.i)+"")&&T(n,l),r&4&&T(s,u[2])},d(u){u&&M(e)}}}function Vc(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,a,u,r,c=t[1]&&Lo(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("br"),u=_("br"),r=h(),c&&c.c(),f(e,"class","mx-2 text-sm neas-green")},m(p,d){N(p,e,d),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),c&&c.m(e,null)},p(p,[d]){var b;d&16&&n!==(n=(((b=p[4].realtime)==null?void 0:b.title)??"Real time calculations")+"")&&T(i,n),p[1]?c?c.p(p,d):(c=Lo(p),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ke,o:Ke,d(p){p&&M(e),c&&c.d()}}}function Gc(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:a}=e,{translations:u={}}=e,r,c,m,p,d,b,k,g,w=!1,v=3;return t.$$set=E=>{"sysinfo"in E&&l(0,n=E.sysinfo),"data"in E&&l(1,i=E.data),"currency"in E&&l(2,s=E.currency),"hasExport"in E&&l(3,a=E.hasExport),"translations"in E&&l(4,u=E.translations)},t.$$.update=()=>{var E,D,B,A,U,q,j,K;t.$$.dirty&35&&(l(5,w=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,v=w?3:2),l(6,r=_l(((E=i==null?void 0:i.h)==null?void 0:E.u)*1e3,"Wh")),l(7,c=_l(((D=i==null?void 0:i.d)==null?void 0:D.u)*1e3,"Wh")),l(8,m=_l(((B=i==null?void 0:i.m)==null?void 0:B.u)*1e3,"Wh")),l(9,p=_l(((A=n==null?void 0:n.last_month)==null?void 0:A.u)*1e3,"Wh")),l(10,d=_l(((U=i==null?void 0:i.h)==null?void 0:U.p)*1e3,"Wh")),l(11,b=_l(((q=i==null?void 0:i.d)==null?void 0:q.p)*1e3,"Wh")),l(12,k=_l(((j=i==null?void 0:i.m)==null?void 0:j.p)*1e3,"Wh")),l(13,g=_l(((K=n==null?void 0:n.last_month)==null?void 0:K.p)*1e3,"Wh")))},[n,i,s,a,u,w,r,c,m,p,d,b,k,g,v]}class Yc extends Ot{constructor(e){super(),It(this,e,Gc,Vc,Lt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function Xc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Jc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,p=new Date().getUTCHours(),d=0,b=0,k=0,g=[],w=[],v=[];l(5,r=l(4,u=0));let E=new Date;for(Wl(E,s.clock_offset-(24+E.getHours()-E.getUTCHours())%24),d=p;d<24&&(b=i[Ct(k++)],b!=null);d++)w.push({label:Ct(E.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,u=Math.max(u,b*100)),Wl(E,1);for(d=0;d<24&&(b=i[Ct(k++)],b!=null);d++)w.push({label:Ct(E.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,u=Math.max(u,b*100)),Wl(E,1);let D=Gn(Math.max(Math.abs(r)/100,Math.abs(u)/100),m);if(D&&D[1]&&D[1]!=m)for(m=D[1],l(5,r*=100),l(4,u*=100),d=0;d<v.length;d++)v[d]*=100;let B=[];for(d=0;d<v.length;d++){b=v[d];let j=b*.01,K=Math.abs(b)<1e3?2:0;B.push({label:j>=0?j.toFixed(K):"",title:j>=0?j.toFixed(2)+" "+m:"",value:b>=0?Math.abs(b):0,label2:j<0?j.toFixed(K):"",title2:j<0?j.toFixed(2)+" "+m:"",value2:b<0?Math.abs(b):0,color:c?"#5c2da5":"#7c3aed"})}let A=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(A/4*-1,r));let j=Math.ceil(Math.abs(r)/A*4),K=r/j;for(d=1;d<j+1;d++){let G=K*d;g.push({value:G,label:(G/100).toFixed(2)})}}l(4,u=Math.max(A/4,u));let U=Math.ceil(u/A*4),q=u/U;for(d=0;d<U+1;d++){let j=q*d;g.push({value:j,label:(j/100).toFixed(2)})}l(0,a={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:g},x:{ticks:w},points:B,link:{text:"Provided by: "+B0(i.source),url:j0(i.source),target:"_blank"}})}},[a,n,i,s,u,r]}class Qc extends Ot{constructor(e){super(),It(this,e,Jc,Xc,Lt,{title:1,json:2,sysinfo:3})}}function Zc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function $c(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,p=[],d=[],b=[];l(5,r=l(4,u=0));let k=new Date,g=new Date;g.setDate(0),g.setHours(12);let w=(g.getHours()-g.getUTCHours())%24-s.clock_offset,v=k.getUTCHours();for(Wl(k,-w-24),m=v;m<24;m++){let A=i["i"+Ct(m)],U=i["e"+Ct(m)];A===void 0&&(A=0),U===void 0&&(U=0),d.push({label:Ct(k.getHours())}),b.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,u=Math.max(u,A*10)),Wl(k,1)}for(m=0;m<v;m++){let A=i["i"+Ct(m)],U=i["e"+Ct(m)];A===void 0&&(A=0),U===void 0&&(U=0),d.push({label:Ct(k.getHours())}),b.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:U.toFixed(1),title2:U.toFixed(2)+" kWh",value2:U*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,U*10)),l(4,u=Math.max(u,A*10)),Wl(k,1)}l(5,r*=-1);let E=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(E/4*-1,r));let A=Math.ceil(Math.abs(r)/E*4),U=r/A;for(m=1;m<A+1;m++){let q=U*m;p.push({value:q,label:(q/10).toFixed(1)})}}l(4,u=Math.max(E/4,u));let D=Math.ceil(u/E*4),B=u/D;for(m=0;m<D+1;m++){let A=B*m;p.push({value:A,label:(A/10).toFixed(1)})}l(0,a={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[a,n,i,s,u,r]}class xc extends Ot{constructor(e){super(),It(this,e,$c,Zc,Lt,{title:1,json:2,sysinfo:3})}}function e1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function t1(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,a={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,p=[],d=[],b=[];l(5,r=l(4,u=0));let k=new Date,g=new Date;g.setDate(0),g.setHours(12);let w=(g.getHours()-g.getUTCHours())%24-s.clock_offset;for(Wl(k,-w),Wl(g,-w),m=k.getDate();m<=g.getDate();m++){let B=i["i"+Ct(m)],A=i["e"+Ct(m)];B===void 0&&(B=0),A===void 0&&(A=0),d.push({label:Ct(m)}),b.push({label:B.toFixed(B<10?1:0),title:B.toFixed(2)+" kWh",value:B,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,u=Math.max(u,B))}for(m=1;m<k.getDate();m++){let B=i["i"+Ct(m)],A=i["e"+Ct(m)];B===void 0&&(B=0),A===void 0&&(A=0),d.push({label:Ct(m)}),b.push({label:B.toFixed(B<10?1:0),title:B.toFixed(2)+" kWh",value:B,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,u=Math.max(u,B))}l(5,r*=-1);let v=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(v/4*-1,r));let B=Math.ceil(Math.abs(r)/v*4),A=r/B;for(m=1;m<B+1;m++){let U=A*m;p.push({value:U,label:U.toFixed(0)})}}l(4,u=Math.max(v/4,u));let E=Math.ceil(u/v*4),D=u/E;for(m=0;m<E+1;m++){let B=D*m;p.push({value:B,label:B.toFixed(0)})}l(0,a={title:n.replace("{0}",g.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[a,n,i,s,u,r]}class l1 extends Ot{constructor(e){super(),It(this,e,t1,e1,Lt,{title:1,json:2,sysinfo:3})}}function n1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function i1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),a={},u=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,p=[],d=[],b=[];i.s&&i.s.forEach((w,v)=>{var E=w.n?w.n:w.a;m=w.v,m==-127&&(m=0),d.push({label:E.slice(-4)}),b.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,u=Math.max(u,m))}),l(3,u=Math.ceil(u)),l(4,r=Math.floor(r));let k=u;r<0&&(k+=Math.abs(r));let g=k/4;for(c=0;c<5;c++)m=r+g*c,p.push({value:m,label:m.toFixed(1)});l(0,a={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b})}},[a,n,i,u,r]}class s1 extends Ot{constructor(e){super(),It(this,e,i1,n1,Lt,{title:1,json:2})}}function o1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}let a1=0;function r1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),a={},u=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,p=[],d=[],b=[];if(p.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let k=r.p[m];b.push({label:k.v.toFixed(2),value:k.v,color:s?"#5c2da5":"#7c3aed"}),d.push({label:k.d>0?Ct(k.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:Ct(new Date().getMonth()+1)):"-"}),l(4,u=Math.max(u,k.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let k=r.t[m];if(k>=u)break;p.push({value:k,label:k})}p.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(p.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,u=Math.max(u,r.c))),l(4,u=Math.ceil(u)),l(0,a={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:a1,max:u,ticks:p},x:{ticks:d},points:b})}},[a,n,i,r,u]}class u1 extends Ot{constructor(e){super(),It(this,e,r1,o1,Lt,{title:1,translations:2,tariffData:3})}}let sn=0,f1={data:[]};async function ds(){let e=await(await Ml(sn<0?"realtime.json":"realtime.json?offset="+sn)).json();hs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),sn>=0&&(sn+=e.size,sn<e.total?setTimeout(ds,2e3):sn=-1)}function c1(){return sn==-1}const hs=rl(f1);let gn=0,ff=0,Vi=0,Ai=0,Wo=!1;function m1(){Ai==60||Vi>gn||Vi-gn>300?(ds(),Ai=0):hs.update(t=>{if(t.lastUpdate)for(;gn>t.lastUpdate;)t.data.unshift(ff),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ai++;else t.lastUpdate=gn;return t})}function _1(t){if(ff=t.i-t.e,gn=t.u,!Wo){ds(),Wo=!0,Vi=gn;return}c1()&&m1()}function zo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Ko(t,e,l){const n=t.slice();return n[21]=e[l],n}function p1(t){let e,l,n;return{c(){e=_("strong"),l=S(t[0]),n=S(" not available"),f(e,"class","text-sm")},m(i,s){N(i,e,s),o(e,l),o(e,n)},p(i,s){s&1&&T(l,i[0])},d(i){i&&M(e)}}}function d1(t){let e,l,n,i,s,a,u,r=t[8]&&Vo(t);return{c(){e=_("strong"),l=S(t[0]),n=S(" ("),i=S(t[12]),s=S(")"),a=h(),r&&r.c(),u=tl(),f(e,"class","text-sm")},m(c,m){N(c,e,m),o(e,l),o(e,n),o(e,i),o(e,s),N(c,a,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&1&&T(l,c[0]),m&4096&&T(i,c[12]),c[8]?r?r.p(c,m):(r=Vo(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(a),M(u)),r&&r.d(c)}}}function Vo(t){let e,l,n,i,s,a=st(t[8]),u=[];for(let m=0;m<a.length;m+=1)u[m]=Yo(Ko(t,a,m));let r=st(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Jo(zo(t,r,m));return{c(){e=Pt("svg"),l=Pt("g");for(let m=0;m<u.length;m+=1)u[m].c();n=Pt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=Pt("polyline"),f(l,"class","axis y-axis"),f(n,"class","axis x-axis"),f(i,"opacity","0.9"),f(i,"fill",t[13]?"#5c2da5":"#7c3aed"),f(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),f(i,"stroke-width","1"),f(i,"points",t[7]),f(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),f(e,"height","100%")},m(m,p){N(m,e,p),o(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(l,null);o(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);o(e,i)},p(m,p){if(p&16646){a=st(m[8]);let d;for(d=0;d<a.length;d+=1){const b=Ko(m,a,d);u[d]?u[d].p(b,p):(u[d]=Yo(b),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}if(p&34336){r=st(m[9]);let d;for(d=0;d<r.length;d+=1){const b=zo(m,r,d);c[d]?c[d].p(b,p):(c[d]=Jo(b),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}p&128&&f(i,"points",m[7]),p&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&f(e,"viewBox",s)},d(m){m&&M(e),el(u,m),el(c,m)}}}function Go(t){let e,l,n,i=t[21].label+"",s,a,u;return{c(){e=Pt("g"),l=Pt("line"),n=Pt("text"),s=S(i),f(l,"x2","100%"),f(n,"y","-4"),f(e,"class",a="tick tick-"+t[21].value),f(e,"transform",u="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){N(r,e,c),o(e,l),o(e,n),o(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&T(s,i),c&256&&a!==(a="tick tick-"+r[21].value)&&f(e,"class",a),c&262&&u!==(u="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&f(e,"transform",u)},d(r){r&&M(e)}}}function Yo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Go(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Go(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Xo(t){let e,l,n=t[18].label+"",i,s,a;return{c(){e=Pt("g"),l=Pt("text"),i=S(n),f(l,"x",s=t[10]/2),f(l,"y","-4"),f(e,"class","tick"),f(e,"transform",a="translate("+t[15](t[18].value)+","+t[5]+")")},m(u,r){N(u,e,r),o(e,l),o(l,i)},p(u,r){r&512&&n!==(n=u[18].label+"")&&T(i,n),r&1024&&s!==(s=u[10]/2)&&f(l,"x",s),r&544&&a!==(a="translate("+u[15](u[18].value)+","+u[5]+")")&&f(e,"transform",a)},d(u){u&&M(e)}}}function Jo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Xo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Xo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function h1(t){let e,l;function n(a,u){return a[11]?d1:p1}let i=n(t),s=i(t);return{c(){e=_("div"),s.c(),f(e,"class","chart"),Jt(()=>t[17].call(e))},m(a,u){N(a,e,u),s.m(e,null),l=ts(e,t[17].bind(e))},p(a,[u]){i===(i=n(a))&&s?s.p(a,u):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},i:Ke,o:Ke,d(a){a&&M(e),s.d(),l()}}}function b1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;hs.subscribe(A=>{l(16,s=A)});let a=!1,u,r,c,m,p,d,b,k=function(A,U,q){return Math.ceil(p-(A-U)/(q-U)*p)-25},g=function(A){return 30+Math.ceil(A/s.size*(d-35))},w,v,E,D;function B(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=A=>{"title"in A&&l(0,n=A.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,p=parseInt(m)-50),l(6,d=c-35),l(10,E=d/s.size),l(2,r=0),l(1,u=0),s.data&&p>10&&d>100&&E>.1){l(11,a=!0);for(let q in s.data){let j=s.data[q];isNaN(j)&&(j=0),l(1,u=Math.max(Math.ceil(j/1e3)*1e3,u)),l(2,r=Math.min(Math.floor(j/1e3)*1e3,r))}let A=u-r;l(12,D=u>2500?"kW":"W"),l(8,w=[]);for(let q=r;q<u&&(w.push({value:q,label:u>2500?(q/1e3).toFixed(1):q}),!(w.length>6));q+=A/5);l(9,v=[]);for(let q=0;q<s.size&&(v.push({value:q,label:"-"+Math.round((s.size-q)/6)+" min"}),!(v.length>12));q+=Math.round(s.size/Math.round(d/120)));let U=s.size;l(7,b=g(s.size)+","+k(0,r,u)+" "+g(1)+","+k(0,r,u));for(let q in s.data){if(U<0)break;let j=s.data[q];isNaN(j)&&(j=0),l(7,b=g(U--)+","+k(j,r,u)+" "+b)}}else l(11,a=!1)},[n,u,r,c,m,p,d,b,w,v,E,a,D,i,k,g,s,B]}class g1 extends Ot{constructor(e){super(),It(this,e,b1,h1,Lt,{title:0})}}function v1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function k1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:a=!1}=e,{l2x:u=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:p=0}=e,{l1e:d=0}=e,{l2e:b=0}=e,{l3e:k=0}=e,{maxImport:g=0}=e,{maxExport:w=0}=e,{importColorFn:v}=e,{exportColorFn:E}=e,D={};function B(A,U){return{label:Qt(A>900?A/1e3:A)+(A>900?"k":"")+i,title:A.toFixed(2)+" "+i,value:isNaN(A)?0:A,color:v(A?A/g*100:0,document.documentElement.classList.contains("dark")),label2:Qt(U>900?U/1e3:U)+(U>900?"k":"")+i,title2:U.toFixed(2)+" "+i,value2:isNaN(U)?0:U,color2:E(U?U/w*100:0)}}return t.$$set=A=>{"title"in A&&l(1,n=A.title),"unit"in A&&l(2,i=A.unit),"l1"in A&&l(3,s=A.l1),"l2"in A&&l(4,a=A.l2),"l2x"in A&&l(5,u=A.l2x),"l3"in A&&l(6,r=A.l3),"l1i"in A&&l(7,c=A.l1i),"l2i"in A&&l(8,m=A.l2i),"l3i"in A&&l(9,p=A.l3i),"l1e"in A&&l(10,d=A.l1e),"l2e"in A&&l(11,b=A.l2e),"l3e"in A&&l(12,k=A.l3e),"maxImport"in A&&l(13,g=A.maxImport),"maxExport"in A&&l(14,w=A.maxExport),"importColorFn"in A&&l(15,v=A.importColorFn),"exportColorFn"in A&&l(16,E=A.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let A=[],U=[];s&&(A.push({label:"L1"}),U.push(B(c,d))),a&&(u?(A.push({label:"L2"}),U.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(A.push({label:"L2"}),U.push(B(m,b)))),r&&(A.push({label:"L3"}),U.push(B(p,k)));let q=[];if(w){let j=w>g?4:w*4/g;q.push({value:-w,label:"-100%"}),j>=4&&q.push({value:-w/4*3,label:"-75%"}),j>=2&&q.push({value:-w/2,label:"-50%"}),j>=4&&q.push({value:-w/4,label:"-25%"})}if(q.push({value:0,label:"0%"}),g){let j=g>w?4:g*4/w;q.push({value:g/4,label:"25%"}),j>=4&&q.push({value:g/2,label:"50%"}),j>=2&&q.push({value:g/4*3,label:"75%"}),j>=4&&q.push({value:g,label:"100%"})}l(0,D={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-w,max:g,ticks:q},x:{ticks:A},points:U})}},[D,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E]}class bs extends Ot{constructor(e){super(),It(this,e,k1,v1,Lt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Qo(t){var v;let e,l,n,i,s,a,u=(t[0].mt?hi(t[0].mt):"-")+"",r,c,m,p=t[11][0]+"",d,b,k=t[11][1]+"",g,w;return i=new uf({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((v=t[6].common)==null?void 0:v.import)??"Import",sub:Gn(t[0].p,t[0].pc),colorFn:rs}}),{c(){e=_("div"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),a=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(k),f(n,"class","col-span-2"),f(m,"class","text-right"),f(l,"class","grid grid-cols-2"),f(e,"class","cnt")},m(E,D){N(E,e,D),o(e,l),o(l,n),ye(i,n,null),o(l,s),o(l,a),o(a,r),o(l,c),o(l,m),o(m,d),o(m,b),o(m,g),w=!0},p(E,D){var A;const B={};D&1&&(B.val=E[0].i?E[0].i:0),D&1&&(B.max=E[0].im?E[0].im:15e3),D&64&&(B.label=((A=E[6].common)==null?void 0:A.import)??"Import"),D&1&&(B.sub=Gn(E[0].p,E[0].pc)),i.$set(B),(!w||D&1)&&u!==(u=(E[0].mt?hi(E[0].mt):"-")+"")&&T(r,u),(!w||D&2048)&&p!==(p=E[11][0]+"")&&T(d,p),(!w||D&2048)&&k!==(k=E[11][1]+"")&&T(g,k)},i(E){w||(ee(i.$$.fragment,E),w=!0)},o(E){se(i.$$.fragment,E),w=!1},d(E){E&&M(e),Ce(i)}}}function Zo(t){var g;let e,l,n,i,s,a,u,r,c=t[12][0]+"",m,p,d=t[12][1]+"",b,k;return i=new uf({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((g=t[6].common)==null?void 0:g.export)??"Export",sub:Gn(t[0].px,t[0].pc),colorFn:Kn}}),{c(){e=_("div"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),a=_("div"),u=h(),r=_("div"),m=S(c),p=h(),b=S(d),f(n,"class","col-span-2"),f(r,"class","text-right"),f(l,"class","grid grid-cols-2"),f(e,"class","cnt")},m(w,v){N(w,e,v),o(e,l),o(l,n),ye(i,n,null),o(l,s),o(l,a),o(l,u),o(l,r),o(r,m),o(r,p),o(r,b),k=!0},p(w,v){var D;const E={};v&1&&(E.val=w[0].e?w[0].e:0),v&1&&(E.max=w[0].om?w[0].om*1e3:1e4),v&64&&(E.label=((D=w[6].common)==null?void 0:D.export)??"Export"),v&1&&(E.sub=Gn(w[0].px,w[0].pc)),i.$set(E),(!k||v&4096)&&c!==(c=w[12][0]+"")&&T(m,c),(!k||v&4096)&&d!==(d=w[12][1]+"")&&T(b,d)},i(w){k||(ee(i.$$.fragment,w),k=!0)},o(w){se(i.$$.fragment,w),k=!1},d(w){w&&M(e),Ce(i)}}}function $o(t){let e,l,n=t[0].l1&&xo(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=xo(i),n.c(),ee(n,1),n.m(e,null)):n&&(At(),se(n,1,1,()=>{n=null}),qt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function xo(t){var n;let e,l;return e=new Bc({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const a={};s&64&&(a.title=((u=i[6].common)==null?void 0:u.voltage)??"Volt"),s&1&&(a.u1=i[0].l1.u),s&1&&(a.u2=i[0].l2.u),s&1&&(a.u3=i[0].l3.u),s&1&&(a.ds=i[0].ds),e.$set(a)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function ea(t){let e,l,n=t[0].l1&&ta(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=ta(i),n.c(),ee(n,1),n.m(e,null)):n&&(At(),se(n,1,1,()=>{n=null}),qt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function ta(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:rs,exportColorFn:Kn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const a={};s&64&&(a.title=((u=i[6].common)==null?void 0:u.amperage)??"Amp"),s&1&&(a.maxImport=i[0].mf),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l2x=i[0].l2.e),s&1&&(a.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(a.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(a.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(a)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function la(t){let e,l,n=t[0].l1&&na(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=na(i),n.c(),ee(n,1),n.m(e,null)):n&&(At(),se(n,1,1,()=>{n=null}),qt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function na(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:rs,exportColorFn:Kn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const a={};s&64&&(a.title=((u=i[6].dashboard)==null?void 0:u.phase)??"Phase"),s&1&&(a.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(a.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l1i=i[0].l1.p),s&1&&(a.l2i=i[0].l2.p),s&1&&(a.l3i=i[0].l3.p),s&1&&(a.l1e=i[0].l1.q),s&1&&(a.l2e=i[0].l2.q),s&1&&(a.l3e=i[0].l3.q),e.$set(a)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function ia(t){let e,l,n=t[0].l1&&sa(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=sa(i),n.c(),ee(n,1),n.m(e,null)):n&&(At(),se(n,1,1,()=>{n=null}),qt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function sa(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Kn,exportColorFn:Kn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const a={};s&64&&(a.title=((u=i[6].dashboard)==null?void 0:u.pf)??"Pf"),s&256&&(a.l1=i[8]),s&512&&(a.l2=i[9]),s&1024&&(a.l3=i[10]),s&1&&(a.l1i=i[0].l1.f),s&1&&(a.l2i=i[0].l2.f),s&1&&(a.l3i=i[0].l3.f),e.$set(a)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function oa(t){let e,l,n;return l=new Wc({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const a={};s&1&&(a.importInstant=i[0].ri),s&1&&(a.exportInstant=i[0].re),s&1&&(a.importTotal=i[0].ric),s&1&&(a.exportTotal=i[0].rec),s&64&&(a.translations=i[6]),l.$set(a)},i(i){n||(ee(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function aa(t){let e,l,n;return l=new Yc({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const a={};s&2&&(a.sysinfo=i[1]),s&1&&(a.data=i[0].ea),s&1&&(a.currency=i[0].pc),s&1&&(a.hasExport=i[0].om>0||i[0].e>0),s&64&&(a.translations=i[6]),l.$set(a)},i(i){n||(ee(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function ra(t){var i;let e,l,n;return l=new u1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt h-64")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),a&128&&(u.tariffData=s[7]),a&64&&(u.translations=s[6]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ua(t){var i;let e,l,n;return l=new g1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function fa(t){var i;let e,l,n;return l=new Qc({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),a&4&&(u.json=s[2]),a&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ca(t){var i;let e,l,n;return l=new xc({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),a&8&&(u.json=s[3]),a&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ma(t){var i;let e,l,n;return l=new l1({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),a&16&&(u.json=s[4]),a&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function _a(t){var i;let e,l,n;return l=new s1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,a){N(s,e,a),ye(l,e,null),n=!0},p(s,a){var r;const u={};a&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),a&32&&(u.json=s[5]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function w1(t){let e,l=xt(t[1].ui.i,t[0].i),n,i=xt(t[1].ui.e,t[0].om||t[0].e>0),s,a=xt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),u,r=xt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=xt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),p,d=xt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),b,k=xt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,w=xt(t[1].ui.c,t[0].ea),v,E=xt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),D,B=xt(t[1].ui.l,t[0].hm==1),A,U=xt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),q,j=xt(t[1].ui.d,t[3]),K,G=xt(t[1].ui.m,t[4]),Y,X=xt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),L,y=l&&Qo(t),W=i&&Zo(t),R=a&&$o(t),I=r&&ea(t),z=m&&la(t),Q=d&&ia(t),Z=k&&oa(t),V=w&&aa(t),ne=E&&ra(t),fe=B&&ua(t),oe=U&&fa(t),ie=j&&ca(t),re=G&&ma(t),x=X&&_a(t);return{c(){e=_("div"),y&&y.c(),n=h(),W&&W.c(),s=h(),R&&R.c(),u=h(),I&&I.c(),c=h(),z&&z.c(),p=h(),Q&&Q.c(),b=h(),Z&&Z.c(),g=h(),V&&V.c(),v=h(),ne&&ne.c(),D=h(),fe&&fe.c(),A=h(),oe&&oe.c(),q=h(),ie&&ie.c(),K=h(),re&&re.c(),Y=h(),x&&x.c(),f(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m($,te){N($,e,te),y&&y.m(e,null),o(e,n),W&&W.m(e,null),o(e,s),R&&R.m(e,null),o(e,u),I&&I.m(e,null),o(e,c),z&&z.m(e,null),o(e,p),Q&&Q.m(e,null),o(e,b),Z&&Z.m(e,null),o(e,g),V&&V.m(e,null),o(e,v),ne&&ne.m(e,null),o(e,D),fe&&fe.m(e,null),o(e,A),oe&&oe.m(e,null),o(e,q),ie&&ie.m(e,null),o(e,K),re&&re.m(e,null),o(e,Y),x&&x.m(e,null),L=!0},p($,[te]){te&3&&(l=xt($[1].ui.i,$[0].i)),l?y?(y.p($,te),te&3&&ee(y,1)):(y=Qo($),y.c(),ee(y,1),y.m(e,n)):y&&(At(),se(y,1,1,()=>{y=null}),qt()),te&3&&(i=xt($[1].ui.e,$[0].om||$[0].e>0)),i?W?(W.p($,te),te&3&&ee(W,1)):(W=Zo($),W.c(),ee(W,1),W.m(e,s)):W&&(At(),se(W,1,1,()=>{W=null}),qt()),te&3&&(a=xt($[1].ui.v,$[0].l1&&($[0].l1.u>100||$[0].l2.u>100||$[0].l3.u>100))),a?R?(R.p($,te),te&3&&ee(R,1)):(R=$o($),R.c(),ee(R,1),R.m(e,u)):R&&(At(),se(R,1,1,()=>{R=null}),qt()),te&3&&(r=xt($[1].ui.a,$[0].l1&&($[0].l1.i>.01||$[0].l2.i>.01||$[0].l3.i>.01))),r?I?(I.p($,te),te&3&&ee(I,1)):(I=ea($),I.c(),ee(I,1),I.m(e,c)):I&&(At(),se(I,1,1,()=>{I=null}),qt()),te&3&&(m=xt($[1].ui.h,$[0].l1&&($[0].l1.p>.01||$[0].l2.p>.01||$[0].l3.p>.01||$[0].l1.q>.01||$[0].l2.q>.01||$[0].l3.q>.01))),m?z?(z.p($,te),te&3&&ee(z,1)):(z=la($),z.c(),ee(z,1),z.m(e,p)):z&&(At(),se(z,1,1,()=>{z=null}),qt()),te&3&&(d=xt($[1].ui.f,$[0].l1&&($[0].l1.f>.01||$[0].l2.f>.01||$[0].l3.f>.01))),d?Q?(Q.p($,te),te&3&&ee(Q,1)):(Q=ia($),Q.c(),ee(Q,1),Q.m(e,b)):Q&&(At(),se(Q,1,1,()=>{Q=null}),qt()),te&3&&(k=xt($[1].ui.r,$[0].ri>0||$[0].re>0||$[0].ric>0||$[0].rec>0)),k?Z?(Z.p($,te),te&3&&ee(Z,1)):(Z=oa($),Z.c(),ee(Z,1),Z.m(e,g)):Z&&(At(),se(Z,1,1,()=>{Z=null}),qt()),te&3&&(w=xt($[1].ui.c,$[0].ea)),w?V?(V.p($,te),te&3&&ee(V,1)):(V=aa($),V.c(),ee(V,1),V.m(e,v)):V&&(At(),se(V,1,1,()=>{V=null}),qt()),te&3&&(E=xt($[1].ui.t,$[0].pr&&($[0].pr.startsWith("NO")||$[0].pr.startsWith("10YNO")||$[0].pr.startsWith("10Y1001A1001A4")))),E?ne?(ne.p($,te),te&3&&ee(ne,1)):(ne=ra($),ne.c(),ee(ne,1),ne.m(e,D)):ne&&(At(),se(ne,1,1,()=>{ne=null}),qt()),te&3&&(B=xt($[1].ui.l,$[0].hm==1)),B?fe?(fe.p($,te),te&3&&ee(fe,1)):(fe=ua($),fe.c(),ee(fe,1),fe.m(e,A)):fe&&(At(),se(fe,1,1,()=>{fe=null}),qt()),te&3&&(U=xt($[1].ui.p,$[0].pe&&!Number.isNaN($[0].p))),U?oe?(oe.p($,te),te&3&&ee(oe,1)):(oe=fa($),oe.c(),ee(oe,1),oe.m(e,q)):oe&&(At(),se(oe,1,1,()=>{oe=null}),qt()),te&10&&(j=xt($[1].ui.d,$[3])),j?ie?(ie.p($,te),te&10&&ee(ie,1)):(ie=ca($),ie.c(),ee(ie,1),ie.m(e,K)):ie&&(At(),se(ie,1,1,()=>{ie=null}),qt()),te&18&&(G=xt($[1].ui.m,$[4])),G?re?(re.p($,te),te&18&&ee(re,1)):(re=ma($),re.c(),ee(re,1),re.m(e,Y)):re&&(At(),se(re,1,1,()=>{re=null}),qt()),te&35&&(X=xt($[1].ui.s,$[0].t&&$[0].t!=-127&&$[5].c>1)),X?x?(x.p($,te),te&35&&ee(x,1)):(x=_a($),x.c(),ee(x,1),x.m(e,null)):x&&(At(),se(x,1,1,()=>{x=null}),qt())},i($){L||(ee(y),ee(W),ee(R),ee(I),ee(z),ee(Q),ee(Z),ee(V),ee(ne),ee(fe),ee(oe),ee(ie),ee(re),ee(x),L=!0)},o($){se(y),se(W),se(R),se(I),se(z),se(Q),se(Z),se(V),se(ne),se(fe),se(oe),se(ie),se(re),se(x),L=!1},d($){$&&M(e),y&&y.d(),W&&W.d(),R&&R.d(),I&&I.d(),z&&z.d(),Q&&Q.d(),Z&&Z.d(),V&&V.d(),ne&&ne.d(),fe&&fe.d(),oe&&oe.d(),ie&&ie.d(),re&&re.d(),x&&x.d()}}}function S1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:a={}}=e,{monthPlot:u={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,p,d,b,k,g,w;return t.$$set=v=>{"data"in v&&l(0,n=v.data),"sysinfo"in v&&l(1,i=v.sysinfo),"prices"in v&&l(2,s=v.prices),"dayPlot"in v&&l(3,a=v.dayPlot),"monthPlot"in v&&l(4,u=v.monthPlot),"temperatures"in v&&l(5,r=v.temperatures),"translations"in v&&l(6,c=v.translations),"tariffData"in v&&l(7,m=v.tariffData)},t.$$.update=()=>{var v,E,D,B,A,U,q,j,K,G,Y,X,L,y,W;t.$$.dirty&1793&&(l(11,p=_l((n==null?void 0:n.ic)*1e3,"Wh")),l(12,d=_l((n==null?void 0:n.ec)*1e3,"Wh")),((v=n==null?void 0:n.l1)==null?void 0:v.u)==0&&((E=n==null?void 0:n.l2)==null?void 0:E.u)==0&&((D=n==null?void 0:n.l3)==null?void 0:D.u)==0?l(8,k=l(9,g=l(10,w=l(13,b=!0)))):(l(8,k=((B=n==null?void 0:n.l1)==null?void 0:B.u)>0||((A=n==null?void 0:n.l1)==null?void 0:A.i)>0||((U=n==null?void 0:n.l1)==null?void 0:U.p)>0||((q=n==null?void 0:n.l1)==null?void 0:q.q)>0),l(9,g=((j=n==null?void 0:n.l2)==null?void 0:j.u)>0||((K=n==null?void 0:n.l2)==null?void 0:K.i)>0||((G=n==null?void 0:n.l2)==null?void 0:G.p)>0||((Y=n==null?void 0:n.l2)==null?void 0:Y.q)>0),l(10,w=((X=n==null?void 0:n.l3)==null?void 0:X.u)>0||((L=n==null?void 0:n.l3)==null?void 0:L.i)>0||((y=n==null?void 0:n.l3)==null?void 0:y.p)>0||((W=n==null?void 0:n.l3)==null?void 0:W.q)>0),l(13,b=k&&g&&w)))},[n,i,s,a,u,r,c,m,k,g,w,p,d,b]}class y1 extends Ot{constructor(e){super(),It(this,e,S1,w1,Lt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Gi={};const vn=rl(Gi);async function cf(){Gi=await(await fetch("configuration.json")).json(),vn.set(Gi)}let Yi={};const mf=rl(Yi);async function C1(){Yi=await(await fetch("priceconfig.json")).json(),mf.set(Yi)}function pa(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function da(t){let e,l,n;return{c(){e=_("option"),e.textContent="UART0",l=h(),n=_("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){N(i,e,s),N(i,l,s),N(i,n,s)},d(i){i&&(M(e),M(l),M(n))}}}function ha(t){let e;return{c(){e=_("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function ba(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&ha(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=ha(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&M(e),l&&l.d(n)}}}function M1(t){let e,l,n,i,s=t[0]=="esp8266"&&da(),a=st({length:t[1]+1}),u=[];for(let r=0;r<a.length;r+=1)u[r]=ba(pa(t,a,r));return{c(){e=_("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<u.length;r+=1)u[r].c();i=tl(),e.__value=-1,J(e,e.__value)},m(r,c){N(r,e,c),N(r,l,c),s&&s.m(r,c),N(r,n,c);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,c);N(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=da(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){a=st({length:r[1]+1});let m;for(m=0;m<a.length;m+=1){const p=pa(r,a,m);u[m]?u[m].p(p,c):(u[m]=ba(p),u[m].c(),u[m].m(i.parentNode,i))}for(;m<u.length;m+=1)u[m].d(1);u.length=a.length}},i:Ke,o:Ke,d(r){r&&(M(e),M(l),M(n),M(i)),s&&s.d(r),el(u,r)}}}function N1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class P1 extends Ot{constructor(e){super(),It(this,e,N1,M1,Lt,{chip:0})}}function ga(t){let e,l,n=t[1]&&va(t);return{c(){e=_("div"),l=_("div"),n&&n.c(),f(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),f(e,"class","z-50"),f(e,"aria-modal","true")},m(i,s){N(i,e,s),o(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=va(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&M(e),n&&n.d()}}}function va(t){let e,l;return{c(){e=_("div"),l=S(t[1]),f(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){N(n,e,i),o(e,l)},p(n,i){i&2&&T(l,n[1])},d(n){n&&M(e)}}}function T1(t){let e,l=t[0]&&ga(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ga(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ke,o:Ke,d(n){n&&M(e),l&&l.d(n)}}}function E1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class pl extends Ot{constructor(e){super(),It(this,e,E1,T1,Lt,{active:0,message:1})}}function ka(t,e,l){const n=t.slice();return n[1]=e[l],n}function wa(t){let e,l,n=t[1]+"",i;return{c(){e=_("option"),l=S("Europe/"),i=S(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,a){N(s,e,a),o(e,l),o(e,i)},p:Ke,d(s){s&&M(e)}}}function A1(t){let e,l,n,i=st(t[0]),s=[];for(let a=0;a<i.length;a+=1)s[a]=wa(ka(t,i,a));return{c(){e=_("option"),e.textContent="GMT",l=h();for(let a=0;a<s.length;a+=1)s[a].c();n=tl(),e.__value="GMT",J(e,e.__value)},m(a,u){N(a,e,u),N(a,l,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(a,u);N(a,n,u)},p(a,[u]){if(u&1){i=st(a[0]);let r;for(r=0;r<i.length;r+=1){const c=ka(a,i,r);s[r]?s[r].p(c,u):(s[r]=wa(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ke,o:Ke,d(a){a&&(M(e),M(l),M(n)),el(s,a)}}}function q1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class L1 extends Ot{constructor(e){super(),It(this,e,q1,A1,Lt,{})}}function D1(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k;return{c(){e=_("optgroup"),l=_("option"),l.textContent="/24",n=h(),i=_("optgroup"),s=_("option"),s.textContent="/25",a=_("option"),a.textContent="/26",u=_("option"),u.textContent="/27",r=_("option"),r.textContent="/28",c=_("option"),c.textContent="/29",m=h(),p=_("optgroup"),d=_("option"),d.textContent="/23",b=_("option"),b.textContent="/22",k=_("option"),k.textContent="/16",l.__value="255.255.255.0",J(l,l.__value),f(e,"label","Most common is /24 (255.255.255.0)"),s.__value="255.255.255.128",J(s,s.__value),a.__value="255.255.255.192",J(a,a.__value),u.__value="255.255.255.224",J(u,u.__value),r.__value="255.255.255.240",J(r,r.__value),c.__value="255.255.255.248",J(c,c.__value),f(i,"label","Smaller subnets"),d.__value="255.255.254.0",J(d,d.__value),b.__value="255.255.252.0",J(b,b.__value),k.__value="255.255.0.0",J(k,k.__value),f(p,"label","Larger subnets")},m(g,w){N(g,e,w),o(e,l),N(g,n,w),N(g,i,w),o(i,s),o(i,a),o(i,u),o(i,r),o(i,c),N(g,m,w),N(g,p,w),o(p,d),o(p,b),o(p,k)},p:Ke,i:Ke,o:Ke,d(g){g&&(M(e),M(n),M(i),M(m),M(p))}}}class I1 extends Ot{constructor(e){super(),It(this,e,null,D1,Lt,{})}}var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(O1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(P,C){var F;return typeof Object.create=="function"?F=Object.create(P):(l.prototype=P,F=new l,l.prototype=null),C&&u(!0,F,C),F}function a(P,C,F,O){var H=this;return typeof P!="string"&&(O=F,F=C,C=P,P=null),typeof C!="function"&&(O=F,F=C,C=function(){return H.apply(this,arguments)}),u(!1,C,H,O),C.prototype=s(H.prototype,F),C.prototype.constructor=C,C.class_=P||H.class_,C.super_=H,C}function u(P,C,F){F=i.call(arguments,2);for(var O,H,le=0,ae=F.length;le<ae;le++){H=F[le];for(O in H)(!P||n.call(H,O))&&(C[O]=H[O])}}var r=a;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,p=m,d=p.extend(function(P,C,F){this.qrious=P,this.element=C,this.element.qrious=P,this.enabled=!!F},{draw:function(P){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(P){var C=this.qrious,F=C.padding||0,O=Math.floor((C.size-F*2)/P.width);return Math.max(1,O)},getOffset:function(P){var C=this.qrious,F=C.padding;if(F!=null)return F;var O=this.getModuleSize(P),H=Math.floor((C.size-O*P.width)/2);return Math.max(0,H)},render:function(P){this.enabled&&(this.resize(),this.reset(),this.draw(P))},reset:function(){},resize:function(){}}),b=d,k=b.extend({draw:function(P){var C,F,O=this.qrious,H=this.getModuleSize(P),le=this.getOffset(P),ae=this.element.getContext("2d");for(ae.fillStyle=O.foreground,ae.globalAlpha=O.foregroundAlpha,C=0;C<P.width;C++)for(F=0;F<P.width;F++)P.buffer[F*P.width+C]&&ae.fillRect(H*C+le,H*F+le,H,H)},reset:function(){var P=this.qrious,C=this.element.getContext("2d"),F=P.size;C.lineWidth=1,C.clearRect(0,0,F,F),C.fillStyle=P.background,C.globalAlpha=P.backgroundAlpha,C.fillRect(0,0,F,F)},resize:function(){var P=this.element;P.width=P.height=this.qrious.size}}),g=k,w=p.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),v=w,E=p.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),D=E,B=p.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),A=B,U=p.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),q=U,j=p.extend(function(P){var C,F,O,H,le,ae=P.value.length;for(this._badness=[],this._level=D.LEVELS[P.level],this._polynomial=[],this._value=P.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,O=(this._level-1)*4+(this._version-1)*16,H=D.BLOCKS[O++],le=D.BLOCKS[O++],C=D.BLOCKS[O++],F=D.BLOCKS[O],O=C*(H+le)+le-3+(this._version<=9),!(ae<=O)););this._dataBlock=C,this._eccBlock=F,this._neccBlock1=H,this._neccBlock2=le;var ce=this.width=17+4*this._version;this.buffer=j._createArray(ce*ce),this._ecc=j._createArray(C+(C+F)*(H+le)+le),this._mask=j._createArray((ce*(ce+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+ce*(ce-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ae),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(P,C){var F,O=this.buffer,H=this.width;for(O[P+H*C]=1,F=-2;F<2;F++)O[P+F+H*(C-2)]=1,O[P-2+H*(C+F+1)]=1,O[P+2+H*(C+F)]=1,O[P+F+1+H*(C+2)]=1;for(F=0;F<2;F++)this._setMask(P-1,C+F),this._setMask(P+1,C-F),this._setMask(P-F,C-1),this._setMask(P+F,C+1)},_appendData:function(P,C,F,O){var H,le,ae,ce=this._polynomial,ue=this._stringBuffer;for(le=0;le<O;le++)ue[F+le]=0;for(le=0;le<C;le++){if(H=A.LOG[ue[P+le]^ue[F]],H!==255)for(ae=1;ae<O;ae++)ue[F+ae-1]=ue[F+ae]^A.EXPONENT[j._modN(H+ce[O-ae])];else for(ae=F;ae<F+O;ae++)ue[ae]=ue[ae+1];ue[F+O-1]=H===255?0:A.EXPONENT[j._modN(H+ce[0])]}},_appendEccToData:function(){var P,C=0,F=this._dataBlock,O=this._calculateMaxLength(),H=this._eccBlock;for(P=0;P<this._neccBlock1;P++)this._appendData(C,F,O,H),C+=F,O+=H;for(P=0;P<this._neccBlock2;P++)this._appendData(C,F+1,O,H),C+=F+1,O+=H},_applyMask:function(P){var C,F,O,H,le=this.buffer,ae=this.width;switch(P){case 0:for(H=0;H<ae;H++)for(O=0;O<ae;O++)!(O+H&1)&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 1:for(H=0;H<ae;H++)for(O=0;O<ae;O++)!(H&1)&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 2:for(H=0;H<ae;H++)for(C=0,O=0;O<ae;O++,C++)C===3&&(C=0),!C&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 3:for(F=0,H=0;H<ae;H++,F++)for(F===3&&(F=0),C=F,O=0;O<ae;O++,C++)C===3&&(C=0),!C&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 4:for(H=0;H<ae;H++)for(C=0,F=H>>1&1,O=0;O<ae;O++,C++)C===3&&(C=0,F=!F),!F&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 5:for(F=0,H=0;H<ae;H++,F++)for(F===3&&(F=0),C=0,O=0;O<ae;O++,C++)C===3&&(C=0),!((O&H&1)+!(!C|!F))&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 6:for(F=0,H=0;H<ae;H++,F++)for(F===3&&(F=0),C=0,O=0;O<ae;O++,C++)C===3&&(C=0),!((O&H&1)+(C&&C===F)&1)&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break;case 7:for(F=0,H=0;H<ae;H++,F++)for(F===3&&(F=0),C=0,O=0;O<ae;O++,C++)C===3&&(C=0),!((C&&C===F)+(O+H&1)&1)&&!this._isMasked(O,H)&&(le[O+H*ae]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var P,C,F=this._eccBlock,O=this._polynomial;for(O[0]=1,P=0;P<F;P++){for(O[P+1]=1,C=P;C>0;C--)O[C]=O[C]?O[C-1]^A.EXPONENT[j._modN(A.LOG[O[C]]+P)]:O[C-1];O[0]=A.EXPONENT[j._modN(A.LOG[O[0]]+P)]}for(P=0;P<=F;P++)O[P]=A.LOG[O[P]]},_checkBadness:function(){var P,C,F,O,H,le=0,ae=this._badness,ce=this.buffer,ue=this.width;for(H=0;H<ue-1;H++)for(O=0;O<ue-1;O++)(ce[O+ue*H]&&ce[O+1+ue*H]&&ce[O+ue*(H+1)]&&ce[O+1+ue*(H+1)]||!(ce[O+ue*H]||ce[O+1+ue*H]||ce[O+ue*(H+1)]||ce[O+1+ue*(H+1)]))&&(le+=j.N2);var me=0;for(H=0;H<ue;H++){for(F=0,ae[0]=0,P=0,O=0;O<ue;O++)C=ce[O+ue*H],P===C?ae[F]++:ae[++F]=1,P=C,me+=P?1:-1;le+=this._getBadness(F)}me<0&&(me=-me);var Se=0,we=me;for(we+=we<<2,we<<=1;we>ue*ue;)we-=ue*ue,Se++;for(le+=Se*j.N4,O=0;O<ue;O++){for(F=0,ae[0]=0,P=0,H=0;H<ue;H++)C=ce[O+ue*H],P===C?ae[F]++:ae[++F]=1,P=C;le+=this._getBadness(F)}return le},_convertBitStream:function(P){var C,F,O=this._ecc,H=this._version;for(F=0;F<P;F++)O[F]=this._value.charCodeAt(F);var le=this._stringBuffer=O.slice(),ae=this._calculateMaxLength();P>=ae-2&&(P=ae-2,H>9&&P--);var ce=P;if(H>9){for(le[ce+2]=0,le[ce+3]=0;ce--;)C=le[ce],le[ce+3]|=255&C<<4,le[ce+2]=C>>4;le[2]|=255&P<<4,le[1]=P>>4,le[0]=64|P>>12}else{for(le[ce+1]=0,le[ce+2]=0;ce--;)C=le[ce],le[ce+2]|=255&C<<4,le[ce+1]=C>>4;le[1]|=255&P<<4,le[0]=64|P>>4}for(ce=P+3-(H<10);ce<ae;)le[ce++]=236,le[ce++]=17},_getBadness:function(P){var C,F=0,O=this._badness;for(C=0;C<=P;C++)O[C]>=5&&(F+=j.N1+O[C]-5);for(C=3;C<P-1;C+=2)O[C-2]===O[C+2]&&O[C+2]===O[C-1]&&O[C-1]===O[C+1]&&O[C-1]*3===O[C]&&(O[C-3]===0||C+3>P||O[C-3]*3>=O[C]*4||O[C+3]*3>=O[C]*4)&&(F+=j.N3);return F},_finish:function(){this._stringBuffer=this.buffer.slice();var P,C,F=0,O=3e4;for(C=0;C<8&&(this._applyMask(C),P=this._checkBadness(),P<O&&(O=P,F=C),F!==7);C++)this.buffer=this._stringBuffer.slice();F!==C&&this._applyMask(F),O=D.FINAL_FORMAT[F+(this._level-1<<3)];var H=this.buffer,le=this.width;for(C=0;C<8;C++,O>>=1)O&1&&(H[le-1-C+le*8]=1,C<6?H[8+le*C]=1:H[8+le*(C+1)]=1);for(C=0;C<7;C++,O>>=1)O&1&&(H[8+le*(le-7+C)]=1,C?H[6-C+le*8]=1:H[7+le*8]=1)},_interleaveBlocks:function(){var P,C,F=this._dataBlock,O=this._ecc,H=this._eccBlock,le=0,ae=this._calculateMaxLength(),ce=this._neccBlock1,ue=this._neccBlock2,me=this._stringBuffer;for(P=0;P<F;P++){for(C=0;C<ce;C++)O[le++]=me[P+C*F];for(C=0;C<ue;C++)O[le++]=me[ce*F+P+C*(F+1)]}for(C=0;C<ue;C++)O[le++]=me[ce*F+P+C*(F+1)];for(P=0;P<H;P++)for(C=0;C<ce+ue;C++)O[le++]=me[ae+P+C*H];this._stringBuffer=O},_insertAlignments:function(){var P,C,F,O=this._version,H=this.width;if(O>1)for(P=v.BLOCK[O],F=H-7;;){for(C=H-7;C>P-3&&(this._addAlignment(C,F),!(C<P));)C-=P;if(F<=P+9)break;F-=P,this._addAlignment(6,F),this._addAlignment(F,6)}},_insertFinders:function(){var P,C,F,O,H=this.buffer,le=this.width;for(P=0;P<3;P++){for(C=0,O=0,P===1&&(C=le-7),P===2&&(O=le-7),H[O+3+le*(C+3)]=1,F=0;F<6;F++)H[O+F+le*C]=1,H[O+le*(C+F+1)]=1,H[O+6+le*(C+F)]=1,H[O+F+1+le*(C+6)]=1;for(F=1;F<5;F++)this._setMask(O+F,C+1),this._setMask(O+1,C+F+1),this._setMask(O+5,C+F),this._setMask(O+F+1,C+5);for(F=2;F<4;F++)H[O+F+le*(C+2)]=1,H[O+2+le*(C+F+1)]=1,H[O+4+le*(C+F)]=1,H[O+F+1+le*(C+4)]=1}},_insertTimingGap:function(){var P,C,F=this.width;for(C=0;C<7;C++)this._setMask(7,C),this._setMask(F-8,C),this._setMask(7,C+F-7);for(P=0;P<8;P++)this._setMask(P,7),this._setMask(P+F-8,7),this._setMask(P,F-8)},_insertTimingRowAndColumn:function(){var P,C=this.buffer,F=this.width;for(P=0;P<F-14;P++)P&1?(this._setMask(8+P,6),this._setMask(6,8+P)):(C[8+P+F*6]=1,C[6+F*(8+P)]=1)},_insertVersion:function(){var P,C,F,O,H=this.buffer,le=this._version,ae=this.width;if(le>6)for(P=q.BLOCK[le-7],C=17,F=0;F<6;F++)for(O=0;O<3;O++,C--)1&(C>11?le>>C-12:P>>C)?(H[5-F+ae*(2-O+ae-11)]=1,H[2-O+ae-11+ae*(5-F)]=1):(this._setMask(5-F,2-O+ae-11),this._setMask(2-O+ae-11,5-F))},_isMasked:function(P,C){var F=j._getMaskBit(P,C);return this._mask[F]===1},_pack:function(){var P,C,F,O=1,H=1,le=this.width,ae=le-1,ce=le-1,ue=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(C=0;C<ue;C++)for(P=this._stringBuffer[C],F=0;F<8;F++,P<<=1){128&P&&(this.buffer[ae+le*ce]=1);do H?ae--:(ae++,O?ce!==0?ce--:(ae-=2,O=!O,ae===6&&(ae--,ce=9)):ce!==le-1?ce++:(ae-=2,O=!O,ae===6&&(ae--,ce-=8))),H=!H;while(this._isMasked(ae,ce))}},_reverseMask:function(){var P,C,F=this.width;for(P=0;P<9;P++)this._setMask(P,8);for(P=0;P<8;P++)this._setMask(P+F-8,8),this._setMask(8,P);for(C=0;C<7;C++)this._setMask(8,C+F-7)},_setMask:function(P,C){var F=j._getMaskBit(P,C);this._mask[F]=1},_syncMask:function(){var P,C,F=this.width;for(C=0;C<F;C++)for(P=0;P<=C;P++)this.buffer[P+F*C]&&this._setMask(P,C)}},{_createArray:function(P){var C,F=[];for(C=0;C<P;C++)F[C]=0;return F},_getMaskBit:function(P,C){var F;return P>C&&(F=P,P=C,C=F),F=C,F+=C*C,F>>=1,F+=P,F},_modN:function(P){for(;P>=255;)P-=255,P=(P>>8)+(P&255);return P},N1:3,N2:3,N3:40,N4:10}),K=j,G=b.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var P=this.element;P.width=P.height=this.qrious.size}}),Y=G,X=p.extend(function(P,C,F,O){this.name=P,this.modifiable=!!C,this.defaultValue=F,this._valueTransformer=O},{transform:function(P){var C=this._valueTransformer;return typeof C=="function"?C(P,this):P}}),L=X,y=p.extend(null,{abs:function(P){return P!=null?Math.abs(P):null},hasOwn:function(P,C){return Object.prototype.hasOwnProperty.call(P,C)},noop:function(){},toUpperCase:function(P){return P!=null?P.toUpperCase():null}}),W=y,R=p.extend(function(P){this.options={},P.forEach(function(C){this.options[C.name]=C},this)},{exists:function(P){return this.options[P]!=null},get:function(P,C){return R._get(this.options[P],C)},getAll:function(P){var C,F=this.options,O={};for(C in F)W.hasOwn(F,C)&&(O[C]=R._get(F[C],P));return O},init:function(P,C,F){typeof F!="function"&&(F=W.noop);var O,H;for(O in this.options)W.hasOwn(this.options,O)&&(H=this.options[O],R._set(H,H.defaultValue,C),R._createAccessor(H,C,F));this._setAll(P,C,!0)},set:function(P,C,F){return this._set(P,C,F)},setAll:function(P,C){return this._setAll(P,C)},_set:function(P,C,F,O){var H=this.options[P];if(!H)throw new Error("Invalid option: "+P);if(!H.modifiable&&!O)throw new Error("Option cannot be modified: "+P);return R._set(H,C,F)},_setAll:function(P,C,F){if(!P)return!1;var O,H=!1;for(O in P)W.hasOwn(P,O)&&this._set(O,P[O],C,F)&&(H=!0);return H}},{_createAccessor:function(P,C,F){var O={get:function(){return R._get(P,C)}};P.modifiable&&(O.set=function(H){R._set(P,H,C)&&F(H,P)}),Object.defineProperty(C,P.name,O)},_get:function(P,C){return C["_"+P.name]},_set:function(P,C,F){var O="_"+P.name,H=F[O],le=P.transform(C??P.defaultValue);return F[O]=le,le!==H}}),I=R,z=p.extend(function(){this._services={}},{getService:function(P){var C=this._services[P];if(!C)throw new Error("Service is not being managed with name: "+P);return C},setService:function(P,C){if(this._services[P])throw new Error("Service is already managed with name: "+P);C&&(this._services[P]=C)}}),Q=z,Z=new I([new L("background",!0,"white"),new L("backgroundAlpha",!0,1,W.abs),new L("element"),new L("foreground",!0,"black"),new L("foregroundAlpha",!0,1,W.abs),new L("level",!0,"L",W.toUpperCase),new L("mime",!0,"image/png"),new L("padding",!0,null,W.abs),new L("size",!0,100,W.abs),new L("value",!0,"")]),V=new Q,ne=p.extend(function(P){Z.init(P,this,this.update.bind(this));var C=Z.get("element",this),F=V.getService("element"),O=C&&F.isCanvas(C)?C:F.createCanvas(),H=C&&F.isImage(C)?C:F.createImage();this._canvasRenderer=new g(this,O,!0),this._imageRenderer=new Y(this,H,H===C),this.update()},{get:function(){return Z.getAll(this)},set:function(P){Z.setAll(P,this)&&this.update()},toDataURL:function(P){return this.canvas.toDataURL(P||this.mime)},update:function(){var P=new K({level:this.level,value:this.value});this._canvasRenderer.render(P),this._imageRenderer.render(P)}},{use:function(P){V.setService(P.getName(),P)}});Object.defineProperties(ne.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var fe=ne,oe=fe,ie=p.extend({getName:function(){}}),re=ie,x=re.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(P){},isImage:function(P){}}),$=x,te=$.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(P){return P instanceof HTMLCanvasElement},isImage:function(P){return P instanceof HTMLImageElement}}),ge=te;oe.use(new ge);var ke=oe;return ke})})(F1);const Xi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function R1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const gs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function _f(t){return gs.find(e=>e.id===t)}function pf(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Xi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=R1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function Il(t){var e,l,n,i,s,a,u,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Xi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((a=t==null?void 0:t.m)==null?void 0:a.v)??1,amp:((u=t==null?void 0:t.m)==null?void 0:u.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Xi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function df(t,e){var n,i,s,a,u;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((a=e.multipliers)==null?void 0:a.amp)??1,c:((u=e.multipliers)==null?void 0:u.kwh)??1},l}function gi(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function Sa(t,e,l){const n=t.slice();return n[97]=e[l],n[98]=e,n[99]=l,n}function ya(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function Ca(t,e,l){const n=t.slice();return n[103]=e[l],n[105]=l,n}function U1(t,e,l){const n=t.slice();return n[106]=e[l],n}function B1(t,e,l){const n=t.slice();return n[109]=e[l],n}function j1(t,e,l){const n=t.slice();return n[112]=e[l],n}function Ma(t,e,l){const n=t.slice();return n[115]=e[l],n}function Na(t){var $t,Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl;let e,l,n=(((Ae=($t=t[2].conf)==null?void 0:$t.general)==null?void 0:Ae.title)??"General")+"",i,s,a,u,r,c,m,p,d,b=(((zt=(_e=t[2].conf)==null?void 0:_e.general)==null?void 0:zt.hostname)??"Hostname")+"",k,g,w,v,E,D,B=(((Nt=(Be=t[2].conf)==null?void 0:Be.general)==null?void 0:Nt.timezone)??"Time zone")+"",A,U,q,j,K,G,Y,X=(((dl=(fl=t[2].conf)==null?void 0:fl.general)==null?void 0:dl.language)??((bl=(hl=t[2].conf)==null?void 0:hl.ui)==null?void 0:bl.lang)??"Language")+"",L,y,W,R,I,z,Q,Z,V,ne,fe=(((vl=(gl=t[2].conf)==null?void 0:gl.price)==null?void 0:vl.region)??"Price region")+"",oe,ie,re,x,$,te,ge,ke,P,C,F,O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,Tt,ot,dt=(((Pl=(kl=t[2].conf)==null?void 0:kl.price)==null?void 0:Pl.currency)??"Currency")+"",Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe=(((El=(Tl=t[2].conf)==null?void 0:Tl.price)==null?void 0:El.enabled)??"Enabled")+"",bt,Ut,vt,Ge,rt=(((Al=(_t=(ze=t[2].conf)==null?void 0:ze.general)==null?void 0:_t.security)==null?void 0:Al.title)??"Security")+"",Fe,Ee,Re,Le,De,et=(((zl=(ql=(al=t[2].conf)==null?void 0:al.general)==null?void 0:ql.security)==null?void 0:zl.none)??"None")+"",it,ut,wt=(((Gl=(Vl=(Kl=t[2].conf)==null?void 0:Kl.general)==null?void 0:Vl.security)==null?void 0:Gl.conf)??"Conf")+"",Rt,Gt,kt=(((Jl=(Xl=(Yl=t[2].conf)==null?void 0:Yl.general)==null?void 0:Xl.security)==null?void 0:Jl.all)??"All")+"",jt,sl,Bt,nt,Wt=(((Zl=(Ql=t[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.context)??"Context")+"",Yt,yt,ht,Mt,Kt,be,mt,tt;K=new L1({});let ol=st(t[3]),Xt=[];for(let je=0;je<ol.length;je+=1)Xt[je]=Pa(Ma(t,ol,je));let Zt=!t[7].p.t&&Ta(),cl=st(["NOK","SEK","DKK","EUR","CHF"]),ul=[];for(let je=0;je<5;je+=1)ul[je]=H1(j1(t,cl,je));xe=new Sl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[W1]},$$scope:{ctx:t}}});let Pe=t[7].p.e&&t[0].chip!="esp8266"&&Ea(t),Ze=t[7].g.s>0&&Aa(t);return{c(){var je,Et;e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),p=_("div"),d=_("div"),k=S(b),g=_("br"),w=h(),v=_("input"),E=h(),D=_("div"),A=S(B),U=_("br"),q=h(),j=_("select"),Me(K.$$.fragment),G=h(),Y=_("div"),L=S(X),y=_("br"),W=h(),R=_("select");for(let ll=0;ll<Xt.length;ll+=1)Xt[ll].c();I=h(),z=_("input"),Q=h(),Z=_("div"),V=_("div"),ne=_("div"),oe=S(fe),ie=_("br"),re=h(),x=_("select"),$=_("optgroup"),Zt&&Zt.c(),te=_("option"),te.textContent="NO1",ge=_("option"),ge.textContent="NO2",ke=_("option"),ke.textContent="NO3",P=_("option"),P.textContent="NO4",C=_("option"),C.textContent="NO5",F=_("optgroup"),O=_("option"),O.textContent="SE1",H=_("option"),H.textContent="SE2",le=_("option"),le.textContent="SE3",ae=_("option"),ae.textContent="SE4",ce=_("optgroup"),ue=_("option"),ue.textContent="DK1",me=_("option"),me.textContent="DK2",Se=_("option"),Se.textContent="Austria",we=_("option"),we.textContent="Belgium",Te=_("option"),Te.textContent="Czech Republic",Ie=_("option"),Ie.textContent="Estonia",Ue=_("option"),Ue.textContent="Finland",Ve=_("option"),Ve.textContent="France",Ye=_("option"),Ye.textContent="Germany",he=_("option"),he.textContent="Great Britain",ve=_("option"),ve.textContent="Latvia",He=_("option"),He.textContent="Lithuania",lt=_("option"),lt.textContent="Netherland",gt=_("option"),gt.textContent="Poland",pt=_("option"),pt.textContent="Slovenia",Dt=_("option"),Dt.textContent="Switzerland",Tt=h(),ot=_("div"),Ht=S(dt),ct=_("br"),Oe=h(),Xe=_("select");for(let ll=0;ll<5;ll+=1)ul[ll].c();Ft=h(),at=_("div"),Me(xe.$$.fragment),Ne=h(),We=_("div"),Je=_("label"),Qe=_("input"),de=h(),bt=S(qe),Ut=h(),Pe&&Pe.c(),vt=h(),Ge=_("div"),Fe=S(rt),Ee=_("br"),Re=h(),Le=_("select"),De=_("option"),it=S(et),ut=_("option"),Rt=S(wt),Gt=_("option"),jt=S(kt),sl=h(),Ze&&Ze.c(),Bt=h(),nt=_("div"),Yt=S(Wt),yt=_("br"),ht=h(),Mt=_("input"),f(l,"class","text-sm"),f(a,"href",Fl("General-configuration")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","g"),r.value="true",f(v,"name","gh"),f(v,"type","text"),f(v,"class","in-f w-full"),f(v,"pattern",Xn),f(j,"name","gt"),f(j,"class","in-l w-full"),t[7].g.t===void 0&&Jt(()=>t[28].call(j)),f(p,"class","flex"),f(m,"class","my-1"),f(R,"name","ulang"),f(R,"class","in-s"),t[7].u.lang===void 0&&Jt(()=>t[29].call(R)),f(Y,"class","my-1"),f(z,"type","hidden"),f(z,"name","p"),z.value="true",te.__value="10YNO-1--------2",J(te,te.__value),ge.__value="10YNO-2--------T",J(ge,ge.__value),ke.__value="10YNO-3--------J",J(ke,ke.__value),P.__value="10YNO-4--------9",J(P,P.__value),C.__value="10Y1001A1001A48H",J(C,C.__value),f($,"label","Norway"),O.__value="10Y1001A1001A44P",J(O,O.__value),H.__value="10Y1001A1001A45N",J(H,H.__value),le.__value="10Y1001A1001A46L",J(le,le.__value),ae.__value="10Y1001A1001A47J",J(ae,ae.__value),f(F,"label","Sweden"),ue.__value="10YDK-1--------W",J(ue,ue.__value),me.__value="10YDK-2--------M",J(me,me.__value),f(ce,"label","Denmark"),Se.__value="10YAT-APG------L",J(Se,Se.__value),we.__value="10YBE----------2",J(we,we.__value),Te.__value="10YCZ-CEPS-----N",J(Te,Te.__value),Ie.__value="10Y1001A1001A39I",J(Ie,Ie.__value),Ue.__value="10YFI-1--------U",J(Ue,Ue.__value),Ve.__value="10YFR-RTE------C",J(Ve,Ve.__value),Ye.__value="10Y1001A1001A83F",J(Ye,Ye.__value),he.__value="10YGB----------A",J(he,he.__value),ve.__value="10YLV-1001A00074",J(ve,ve.__value),He.__value="10YLT-1001A0008Q",J(He,He.__value),lt.__value="10YNL----------L",J(lt,lt.__value),gt.__value="10YPL-AREA-----S",J(gt,gt.__value),pt.__value="10YSI-ELES-----O",J(pt,pt.__value),Dt.__value="10YCH-SWISSGRIDZ",J(Dt,Dt.__value),f(x,"name","pr"),f(x,"class","in-f w-full"),t[7].p.r===void 0&&Jt(()=>t[30].call(x)),f(ne,"class","w-full"),f(Xe,"name","pc"),f(Xe,"class","in-l"),t[7].p.c===void 0&&Jt(()=>t[31].call(Xe)),f(V,"class","flex"),f(Z,"class","my-1"),f(at,"class","my-1"),f(Qe,"type","checkbox"),f(Qe,"name","pe"),Qe.__value="true",J(Qe,Qe.__value),f(Qe,"class","rounded mb-1"),f(We,"class","my-1"),De.__value=0,J(De,De.__value),ut.__value=1,J(ut,ut.__value),Gt.__value=2,J(Gt,Gt.__value),f(Le,"name","gs"),f(Le,"class","in-s"),t[7].g.s===void 0&&Jt(()=>t[34].call(Le)),f(Ge,"class","my-1"),f(Mt,"name","gc"),f(Mt,"type","text"),f(Mt,"pattern",Xn),f(Mt,"placeholder",Kt=((Et=(je=t[2].conf)==null?void 0:je.general)==null?void 0:Et.context_placeholder)??"/"),f(Mt,"class","in-s"),f(Mt,"maxlength","36"),f(nt,"class","my-1"),f(e,"class","cnt")},m(je,Et){N(je,e,Et),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(m,p),o(p,d),o(d,k),o(d,g),o(d,w),o(d,v),J(v,t[7].g.h),o(p,E),o(p,D),o(D,A),o(D,U),o(D,q),o(D,j),ye(K,j,null),ft(j,t[7].g.t,!0),o(e,G),o(e,Y),o(Y,L),o(Y,y),o(Y,W),o(Y,R);for(let ll=0;ll<Xt.length;ll+=1)Xt[ll]&&Xt[ll].m(R,null);ft(R,t[7].u.lang,!0),o(e,I),o(e,z),o(e,Q),o(e,Z),o(Z,V),o(V,ne),o(ne,oe),o(ne,ie),o(ne,re),o(ne,x),o(x,$),Zt&&Zt.m($,null),o($,te),o($,ge),o($,ke),o($,P),o($,C),o(x,F),o(F,O),o(F,H),o(F,le),o(F,ae),o(x,ce),o(ce,ue),o(ce,me),o(x,Se),o(x,we),o(x,Te),o(x,Ie),o(x,Ue),o(x,Ve),o(x,Ye),o(x,he),o(x,ve),o(x,He),o(x,lt),o(x,gt),o(x,pt),o(x,Dt),ft(x,t[7].p.r,!0),o(V,Tt),o(V,ot),o(ot,Ht),o(ot,ct),o(ot,Oe),o(ot,Xe);for(let ll=0;ll<5;ll+=1)ul[ll]&&ul[ll].m(Xe,null);ft(Xe,t[7].p.c,!0),o(e,Ft),o(e,at),ye(xe,at,null),o(e,Ne),o(e,We),o(We,Je),o(Je,Qe),Qe.checked=t[7].p.e,o(Je,de),o(Je,bt),o(We,Ut),Pe&&Pe.m(We,null),o(e,vt),o(e,Ge),o(Ge,Fe),o(Ge,Ee),o(Ge,Re),o(Ge,Le),o(Le,De),o(De,it),o(Le,ut),o(ut,Rt),o(Le,Gt),o(Gt,jt),ft(Le,t[7].g.s,!0),o(e,sl),Ze&&Ze.m(e,null),o(e,Bt),o(e,nt),o(nt,Yt),o(nt,yt),o(nt,ht),o(nt,Mt),J(Mt,t[7].g.c),be=!0,mt||(tt=[pe(v,"input",t[27]),pe(j,"change",t[28]),pe(R,"change",t[29]),pe(R,"change",t[22]),pe(x,"change",t[30]),pe(x,"change",t[25]),pe(Xe,"change",t[31]),pe(Qe,"change",t[32]),pe(Le,"change",t[34]),pe(Mt,"input",t[37])],mt=!0)},p(je,Et){var $l,xl,yn,Cn,Mn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On,ws,Ss,ys,Cs,Ms,Ns,Ps,Ts,Es,As,qs,Ls,Ds,Is,Os,Fs,Rs;if((!be||Et[0]&4)&&n!==(n=(((xl=($l=je[2].conf)==null?void 0:$l.general)==null?void 0:xl.title)??"General")+"")&&T(i,n),(!be||Et[0]&4)&&b!==(b=(((Cn=(yn=je[2].conf)==null?void 0:yn.general)==null?void 0:Cn.hostname)??"Hostname")+"")&&T(k,b),Et[0]&128&&v.value!==je[7].g.h&&J(v,je[7].g.h),(!be||Et[0]&4)&&B!==(B=(((Nn=(Mn=je[2].conf)==null?void 0:Mn.general)==null?void 0:Nn.timezone)??"Time zone")+"")&&T(A,B),Et[0]&128&&ft(j,je[7].g.t),(!be||Et[0]&4)&&X!==(X=(((Tn=(Pn=je[2].conf)==null?void 0:Pn.general)==null?void 0:Tn.language)??((An=(En=je[2].conf)==null?void 0:En.ui)==null?void 0:An.lang)??"Language")+"")&&T(L,X),Et[0]&8){ol=st(je[3]);let yl;for(yl=0;yl<ol.length;yl+=1){const Us=Ma(je,ol,yl);Xt[yl]?Xt[yl].p(Us,Et):(Xt[yl]=Pa(Us),Xt[yl].c(),Xt[yl].m(R,null))}for(;yl<Xt.length;yl+=1)Xt[yl].d(1);Xt.length=ol.length}Et[0]&128&&ft(R,je[7].u.lang),(!be||Et[0]&4)&&fe!==(fe=(((Ln=(qn=je[2].conf)==null?void 0:qn.price)==null?void 0:Ln.region)??"Price region")+"")&&T(oe,fe),je[7].p.t?Zt&&(Zt.d(1),Zt=null):Zt||(Zt=Ta(),Zt.c(),Zt.m($,te)),Et[0]&128&&ft(x,je[7].p.r),(!be||Et[0]&4)&&dt!==(dt=(((In=(Dn=je[2].conf)==null?void 0:Dn.price)==null?void 0:In.currency)??"Currency")+"")&&T(Ht,dt),Et[0]&128&&ft(Xe,je[7].p.c);const ll={};Et[0]&4|Et[3]&33554432&&(ll.$$scope={dirty:Et,ctx:je}),xe.$set(ll),Et[0]&128&&(Qe.checked=je[7].p.e),(!be||Et[0]&4)&&qe!==(qe=(((ws=(On=je[2].conf)==null?void 0:On.price)==null?void 0:ws.enabled)??"Enabled")+"")&&T(bt,qe),je[7].p.e&&je[0].chip!="esp8266"?Pe?Pe.p(je,Et):(Pe=Ea(je),Pe.c(),Pe.m(We,null)):Pe&&(Pe.d(1),Pe=null),(!be||Et[0]&4)&&rt!==(rt=(((Cs=(ys=(Ss=je[2].conf)==null?void 0:Ss.general)==null?void 0:ys.security)==null?void 0:Cs.title)??"Security")+"")&&T(Fe,rt),(!be||Et[0]&4)&&et!==(et=(((Ps=(Ns=(Ms=je[2].conf)==null?void 0:Ms.general)==null?void 0:Ns.security)==null?void 0:Ps.none)??"None")+"")&&T(it,et),(!be||Et[0]&4)&&wt!==(wt=(((As=(Es=(Ts=je[2].conf)==null?void 0:Ts.general)==null?void 0:Es.security)==null?void 0:As.conf)??"Conf")+"")&&T(Rt,wt),(!be||Et[0]&4)&&kt!==(kt=(((Ds=(Ls=(qs=je[2].conf)==null?void 0:qs.general)==null?void 0:Ls.security)==null?void 0:Ds.all)??"All")+"")&&T(jt,kt),Et[0]&128&&ft(Le,je[7].g.s),je[7].g.s>0?Ze?Ze.p(je,Et):(Ze=Aa(je),Ze.c(),Ze.m(e,Bt)):Ze&&(Ze.d(1),Ze=null),(!be||Et[0]&4)&&Wt!==(Wt=(((Os=(Is=je[2].conf)==null?void 0:Is.general)==null?void 0:Os.context)??"Context")+"")&&T(Yt,Wt),(!be||Et[0]&4&&Kt!==(Kt=((Rs=(Fs=je[2].conf)==null?void 0:Fs.general)==null?void 0:Rs.context_placeholder)??"/"))&&f(Mt,"placeholder",Kt),Et[0]&128&&Mt.value!==je[7].g.c&&J(Mt,je[7].g.c)},i(je){be||(ee(K.$$.fragment,je),ee(xe.$$.fragment,je),be=!0)},o(je){se(K.$$.fragment,je),se(xe.$$.fragment,je),be=!1},d(je){je&&M(e),Ce(K),el(Xt,je),Zt&&Zt.d(),el(ul,je),Ce(xe),Pe&&Pe.d(),Ze&&Ze.d(),mt=!1,Vt(tt)}}}function Pa(t){let e,l=t[115].name+"",n,i;return{c(){e=_("option"),n=S(l),e.__value=i=t[115].code,J(e,e.__value)},m(s,a){N(s,e,a),o(e,n)},p(s,a){a[0]&8&&l!==(l=s[115].name+"")&&T(n,l),a[0]&8&&i!==(i=s[115].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function Ta(t){let e,l,n,i,s;return{c(){e=_("option"),e.textContent="NO1 with support",l=_("option"),l.textContent="NO2 with support",n=_("option"),n.textContent="NO3 with support",i=_("option"),i.textContent="NO4 with support",s=_("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(a,u){N(a,e,u),N(a,l,u),N(a,n,u),N(a,i,u),N(a,s,u)},d(a){a&&(M(e),M(l),M(n),M(i),M(s))}}}function H1(t){let e;return{c(){e=_("option"),e.textContent=`${t[112]}`,e.__value=t[112],J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function W1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=S(e)},m(s,a){N(s,l,a)},p(s,a){var u,r;a[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.price)==null?void 0:r.conf)??"Configure")+"")&&T(l,e)},d(s){s&&M(l)}}}function Ea(t){let e,l,n,i,s;return{c(){var a,u;e=_("br"),l=_("input"),f(l,"name","pt"),f(l,"type","text"),f(l,"class","in-s"),f(l,"placeholder",n=((u=(a=t[2].conf)==null?void 0:a.price)==null?void 0:u.api_key_placeholder)??""),f(l,"pattern",Xn)},m(a,u){N(a,e,u),N(a,l,u),J(l,t[7].p.t),i||(s=pe(l,"input",t[33]),i=!0)},p(a,u){var r,c;u[0]&4&&n!==(n=((c=(r=a[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&f(l,"placeholder",n),u[0]&128&&l.value!==a[7].p.t&&J(l,a[7].p.t)},d(a){a&&(M(e),M(l)),i=!1,s()}}}function Aa(t){var w,v,E,D,B,A;let e,l=(((E=(v=(w=t[2].conf)==null?void 0:w.general)==null?void 0:v.security)==null?void 0:E.username)??"Username")+"",n,i,s,a,u,r,c=(((A=(B=(D=t[2].conf)==null?void 0:D.general)==null?void 0:B.security)==null?void 0:A.password)??"Password")+"",m,p,d,b,k,g;return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),a=_("input"),u=h(),r=_("div"),m=S(c),p=_("br"),d=h(),b=_("input"),f(a,"name","gu"),f(a,"type","text"),f(a,"class","in-s"),f(a,"maxlength","36"),f(a,"pattern",ln),f(e,"class","my-1"),f(b,"name","gp"),f(b,"type","password"),f(b,"class","in-s"),f(b,"maxlength","36"),f(b,"pattern",ln),f(r,"class","my-1")},m(U,q){N(U,e,q),o(e,n),o(e,i),o(e,s),o(e,a),J(a,t[7].g.u),N(U,u,q),N(U,r,q),o(r,m),o(r,p),o(r,d),o(r,b),J(b,t[7].g.p),k||(g=[pe(a,"input",t[35]),pe(b,"input",t[36])],k=!0)},p(U,q){var j,K,G,Y,X,L;q[0]&4&&l!==(l=(((G=(K=(j=U[2].conf)==null?void 0:j.general)==null?void 0:K.security)==null?void 0:G.username)??"Username")+"")&&T(n,l),q[0]&128&&a.value!==U[7].g.u&&J(a,U[7].g.u),q[0]&4&&c!==(c=(((L=(X=(Y=U[2].conf)==null?void 0:Y.general)==null?void 0:X.security)==null?void 0:L.password)??"Password")+"")&&T(m,c),q[0]&128&&b.value!==U[7].g.p&&J(b,U[7].g.p)},d(U){U&&(M(e),M(u),M(r)),k=!1,Vt(g)}}}function qa(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X=ai(t[7].fw.s)+"",L,y,W=ai(t[7].fw.e)+"",R,I,z,Q,Z,V;function ne(ie,re){var x,$,te,ge;return(($=(x=ie[0])==null?void 0:x.upgrade)==null?void 0:$.m)===!0?V1:(ge=(te=ie[0])==null?void 0:te.upgrade)!=null&&ge.n?K1:z1}let fe=ne(t),oe=fe(t);return{c(){e=_("div"),l=_("strong"),l.textContent="Firmware updates",n=h(),i=_("input"),s=h(),a=_("div"),u=_("label"),r=_("input"),c=S(`
                    Enable nightly auto-updates`),m=h(),p=_("div"),d=_("div"),b=S("Start hour"),k=_("br"),g=h(),w=_("input"),E=h(),D=_("div"),B=S("End hour"),A=_("br"),U=h(),q=_("input"),K=h(),G=_("div"),Y=S("When enabled, the device will install available updates once per night between "),L=S(X),y=S(" and "),R=S(W),I=S(" using its local time zone."),z=h(),Q=_("div"),oe.c(),f(l,"class","text-sm"),f(i,"type","hidden"),f(i,"name","fw"),i.value="true",f(r,"type","checkbox"),f(r,"name","fwa"),r.__value="true",J(r,r.__value),f(r,"class","rounded mb-1"),f(a,"class","my-1"),f(w,"name","fws"),f(w,"type","number"),f(w,"min","0"),f(w,"max","23"),f(w,"class","in-s w-full"),w.disabled=v=!t[7].fw.a,f(q,"name","fwe"),f(q,"type","number"),f(q,"min","0"),f(q,"max","23"),f(q,"class","in-s w-full"),q.disabled=j=!t[7].fw.a,f(p,"class","my-1 grid grid-cols-2 gap-2"),f(G,"class","my-1 text-xs text-gray-500"),f(Q,"class","my-1 text-xs"),f(e,"class","cnt")},m(ie,re){N(ie,e,re),o(e,l),o(e,n),o(e,i),o(e,s),o(e,a),o(a,u),o(u,r),r.checked=t[7].fw.a,o(u,c),o(e,m),o(e,p),o(p,d),o(d,b),o(d,k),o(d,g),o(d,w),J(w,t[7].fw.s),o(p,E),o(p,D),o(D,B),o(D,A),o(D,U),o(D,q),J(q,t[7].fw.e),o(e,K),o(e,G),o(G,Y),o(G,L),o(G,y),o(G,R),o(G,I),o(e,z),o(e,Q),oe.m(Q,null),Z||(V=[pe(r,"change",t[38]),pe(w,"input",t[39]),pe(q,"input",t[40])],Z=!0)},p(ie,re){re[0]&128&&(r.checked=ie[7].fw.a),re[0]&128&&v!==(v=!ie[7].fw.a)&&(w.disabled=v),re[0]&128&&St(w.value)!==ie[7].fw.s&&J(w,ie[7].fw.s),re[0]&128&&j!==(j=!ie[7].fw.a)&&(q.disabled=j),re[0]&128&&St(q.value)!==ie[7].fw.e&&J(q,ie[7].fw.e),re[0]&128&&X!==(X=ai(ie[7].fw.s)+"")&&T(L,X),re[0]&128&&W!==(W=ai(ie[7].fw.e)+"")&&T(R,W),fe===(fe=ne(ie))&&oe?oe.p(ie,re):(oe.d(1),oe=fe(ie),oe&&(oe.c(),oe.m(Q,null)))},d(ie){ie&&M(e),oe.d(),Z=!1,Vt(V)}}}function z1(t){let e;return{c(){e=S("Checking for updates…")},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function K1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=S("Latest available: "),n=S(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&T(n,l)},d(i){i&&(M(e),M(n))}}}function V1(t){let e;return{c(){e=_("span"),e.textContent="Latest firmware already installed.",f(e,"class","text-green-600")},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function La(t){var ut,wt,Rt,Gt,kt,jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae,_e,zt;let e,l,n=(((wt=(ut=t[2].conf)==null?void 0:ut.meter)==null?void 0:wt.title)??"Meter")+"",i,s,a,u,r,c,m,p,d,b,k=(((kt=(Gt=(Rt=t[2].conf)==null?void 0:Rt.meter)==null?void 0:Gt.preset)==null?void 0:kt.title)??"Meter preset")+"",g,w,v,E,D,B=(((Bt=(sl=(jt=t[2].conf)==null?void 0:jt.meter)==null?void 0:sl.preset)==null?void 0:Bt.manual)??"Manual configuration")+"",A,U,q,j,K,G=(((Yt=(Wt=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:Wt.comm)==null?void 0:Yt.title)??"Communication")+"",Y,X,L,y,W,R=(((Mt=(ht=(yt=t[2].conf)==null?void 0:yt.meter)==null?void 0:ht.comm)==null?void 0:Mt.passive)??"Passive")+"",I,z,Q=(((mt=(be=(Kt=t[2].conf)==null?void 0:Kt.meter)==null?void 0:be.comm)==null?void 0:mt.pulse)??"Pulse")+"",Z,V=(ol=(tt=t[0])==null?void 0:tt.features)==null?void 0:ol.includes("kmp"),ne,fe,oe,ie=(((Xt=t[2].common)==null?void 0:Xt.voltage)??"Voltage")+"",re,x,$,te,ge,ke,P,C,F,O=(((cl=(Zt=t[2].conf)==null?void 0:Zt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",H,le,ae,ce,ue,me,Se,we,Te,Ie=(((Pe=(ul=t[2].conf)==null?void 0:ul.meter)==null?void 0:Pe.prod)??"Production")+"",Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,Tt,ot,dt,Ht,ct=((($t=(Ze=t[2].conf)==null?void 0:Ze.meter)==null?void 0:$t.encrypted)??"Encrypted")+"",Oe,Xe,Ft,at,xe,Ne,We,Je=(((zt=(_e=(Ae=t[2].conf)==null?void 0:Ae.meter)==null?void 0:_e.multipliers)==null?void 0:zt.title)??"Multipliers")+"",Qe,de,qe,bt,Ut=st(gs),vt=[];for(let Be=0;Be<Ut.length;Be+=1)vt[Be]=G1(B1(t,Ut,Be));let Ge=t[8]&&Da(t),rt=t[9]&&Ia(t),Fe=V&&Fa();function Ee(Be,Nt){return Be[7].m.a===2?X1:Y1}let Re=Ee(t),Le=Re(t),De=t[7].m.e.e&&Ra(t),et=t[7].m.e.e&&Ua(t),it=t[7].m.m.e&&Ba(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("input"),p=h(),d=_("div"),b=_("label"),g=S(k),w=h(),v=_("div"),E=_("select"),D=_("option"),A=S(B);for(let Be=0;Be<vt.length;Be+=1)vt[Be].c();U=h(),Ge&&Ge.c(),q=h(),rt&&rt.c(),j=h(),K=_("div"),Y=S(G),X=_("br"),L=h(),y=_("select"),W=_("option"),I=S(R),z=_("option"),Z=S(Q),Fe&&Fe.c(),ne=h(),Le.c(),fe=h(),oe=_("div"),re=S(ie),x=_("br"),$=h(),te=_("select"),ge=_("option"),ge.textContent="400V (TN)",ke=_("option"),ke.textContent="230V (IT/TT)",P=h(),C=_("div"),F=_("div"),H=S(O),le=_("br"),ae=h(),ce=_("label"),ue=_("input"),me=h(),Se=_("span"),Se.textContent="A",we=h(),Te=_("div"),Ue=S(Ie),Ve=_("br"),Ye=h(),he=_("label"),ve=_("input"),He=h(),lt=_("span"),lt.textContent="kWp",gt=h(),pt=_("div"),pt.innerHTML="",Dt=h(),Tt=_("div"),ot=_("label"),dt=_("input"),Ht=h(),Oe=S(ct),Xe=h(),De&&De.c(),Ft=h(),et&&et.c(),at=h(),xe=_("label"),Ne=_("input"),We=h(),Qe=S(Je),de=h(),it&&it.c(),f(l,"class","text-sm"),f(a,"href",Fl("Meter-configuration")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","m"),r.value="true",f(m,"type","hidden"),f(m,"name","mo"),m.value="1",f(b,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),f(b,"for","meter-preset-select"),D.__value="",J(D,D.__value),f(E,"id","meter-preset-select"),f(E,"class","in-s w-full"),t[8]===void 0&&Jt(()=>t[41].call(E)),f(v,"class","mt-1 flex gap-2"),f(d,"class","my-1"),W.__value=0,J(W,W.__value),z.__value=2,J(z,z.__value),f(y,"name","ma"),f(y,"class","in-s"),t[7].m.a===void 0&&Jt(()=>t[43].call(y)),f(K,"class","my-1"),ge.__value=2,J(ge,ge.__value),ke.__value=1,J(ke,ke.__value),f(te,"name","md"),f(te,"class","in-s"),t[7].m.d===void 0&&Jt(()=>t[49].call(te)),f(oe,"class","my-1"),f(ue,"name","mf"),f(ue,"type","number"),f(ue,"min","5"),f(ue,"max","65535"),f(ue,"class","in-f tr w-full"),f(Se,"class","in-post"),f(ce,"class","flex"),f(F,"class","mx-1"),f(ve,"name","mr"),f(ve,"type","number"),f(ve,"min","0"),f(ve,"max","65535"),f(ve,"class","in-f tr w-full"),f(lt,"class","in-post"),f(he,"class","flex"),f(Te,"class","mx-1"),f(C,"class","my-1 flex"),f(pt,"class","my-1"),f(dt,"type","checkbox"),f(dt,"name","me"),dt.__value="true",J(dt,dt.__value),f(dt,"class","rounded mb-1"),f(Tt,"class","my-1"),f(Ne,"type","checkbox"),f(Ne,"name","mm"),Ne.__value="true",J(Ne,Ne.__value),f(Ne,"class","rounded mb-1"),f(e,"class","cnt")},m(Be,Nt){N(Be,e,Nt),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(e,p),o(e,d),o(d,b),o(b,g),o(d,w),o(d,v),o(v,E),o(E,D),o(D,A);for(let fl=0;fl<vt.length;fl+=1)vt[fl]&&vt[fl].m(E,null);ft(E,t[8],!0),o(v,U),Ge&&Ge.m(v,null),o(d,q),rt&&rt.m(d,null),o(e,j),o(e,K),o(K,Y),o(K,X),o(K,L),o(K,y),o(y,W),o(W,I),o(y,z),o(z,Z),Fe&&Fe.m(y,null),ft(y,t[7].m.a,!0),o(e,ne),Le.m(e,null),o(e,fe),o(e,oe),o(oe,re),o(oe,x),o(oe,$),o(oe,te),o(te,ge),o(te,ke),ft(te,t[7].m.d,!0),o(e,P),o(e,C),o(C,F),o(F,H),o(F,le),o(F,ae),o(F,ce),o(ce,ue),J(ue,t[7].m.f),o(ce,me),o(ce,Se),o(C,we),o(C,Te),o(Te,Ue),o(Te,Ve),o(Te,Ye),o(Te,he),o(he,ve),J(ve,t[7].m.r),o(he,He),o(he,lt),o(e,gt),o(e,pt),o(e,Dt),o(e,Tt),o(Tt,ot),o(ot,dt),dt.checked=t[7].m.e.e,o(ot,Ht),o(ot,Oe),o(Tt,Xe),De&&De.m(Tt,null),o(e,Ft),et&&et.m(e,null),o(e,at),o(e,xe),o(xe,Ne),Ne.checked=t[7].m.m.e,o(xe,We),o(xe,Qe),o(e,de),it&&it.m(e,null),qe||(bt=[pe(E,"change",t[41]),pe(E,"change",t[42]),pe(y,"change",t[43]),pe(te,"change",t[49]),pe(ue,"input",t[50]),pe(ve,"input",t[51]),pe(dt,"change",t[52]),pe(Ne,"change",t[55])],qe=!0)},p(Be,Nt){var fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,Et,ll,$l,xl;Nt[0]&4&&n!==(n=(((dl=(fl=Be[2].conf)==null?void 0:fl.meter)==null?void 0:dl.title)??"Meter")+"")&&T(i,n),Nt[0]&4&&k!==(k=(((gl=(bl=(hl=Be[2].conf)==null?void 0:hl.meter)==null?void 0:bl.preset)==null?void 0:gl.title)??"Meter preset")+"")&&T(g,k),Nt[0]&4&&B!==(B=(((Pl=(kl=(vl=Be[2].conf)==null?void 0:vl.meter)==null?void 0:kl.preset)==null?void 0:Pl.manual)??"Manual configuration")+"")&&T(A,B),Nt[0]&256&&ft(E,Be[8]),Be[8]?Ge?Ge.p(Be,Nt):(Ge=Da(Be),Ge.c(),Ge.m(v,null)):Ge&&(Ge.d(1),Ge=null),Be[9]?rt?rt.p(Be,Nt):(rt=Ia(Be),rt.c(),rt.m(d,null)):rt&&(rt.d(1),rt=null),Nt[0]&4&&G!==(G=(((ze=(El=(Tl=Be[2].conf)==null?void 0:Tl.meter)==null?void 0:El.comm)==null?void 0:ze.title)??"Communication")+"")&&T(Y,G),Nt[0]&4&&R!==(R=(((al=(Al=(_t=Be[2].conf)==null?void 0:_t.meter)==null?void 0:Al.comm)==null?void 0:al.passive)??"Passive")+"")&&T(I,R),Nt[0]&4&&Q!==(Q=(((Kl=(zl=(ql=Be[2].conf)==null?void 0:ql.meter)==null?void 0:zl.comm)==null?void 0:Kl.pulse)??"Pulse")+"")&&T(Z,Q),Nt[0]&1&&(V=(Gl=(Vl=Be[0])==null?void 0:Vl.features)==null?void 0:Gl.includes("kmp")),V?Fe||(Fe=Fa(),Fe.c(),Fe.m(y,null)):Fe&&(Fe.d(1),Fe=null),Nt[0]&128&&ft(y,Be[7].m.a),Re===(Re=Ee(Be))&&Le?Le.p(Be,Nt):(Le.d(1),Le=Re(Be),Le&&(Le.c(),Le.m(e,fe))),Nt[0]&4&&ie!==(ie=(((Yl=Be[2].common)==null?void 0:Yl.voltage)??"Voltage")+"")&&T(re,ie),Nt[0]&128&&ft(te,Be[7].m.d),Nt[0]&4&&O!==(O=(((Jl=(Xl=Be[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.fuse)??"Main fuse")+"")&&T(H,O),Nt[0]&128&&St(ue.value)!==Be[7].m.f&&J(ue,Be[7].m.f),Nt[0]&4&&Ie!==(Ie=(((Zl=(Ql=Be[2].conf)==null?void 0:Ql.meter)==null?void 0:Zl.prod)??"Production")+"")&&T(Ue,Ie),Nt[0]&128&&St(ve.value)!==Be[7].m.r&&J(ve,Be[7].m.r),Nt[0]&128&&(dt.checked=Be[7].m.e.e),Nt[0]&4&&ct!==(ct=(((Et=(je=Be[2].conf)==null?void 0:je.meter)==null?void 0:Et.encrypted)??"Encrypted")+"")&&T(Oe,ct),Be[7].m.e.e?De?De.p(Be,Nt):(De=Ra(Be),De.c(),De.m(Tt,null)):De&&(De.d(1),De=null),Be[7].m.e.e?et?et.p(Be,Nt):(et=Ua(Be),et.c(),et.m(e,at)):et&&(et.d(1),et=null),Nt[0]&128&&(Ne.checked=Be[7].m.m.e),Nt[0]&4&&Je!==(Je=(((xl=($l=(ll=Be[2].conf)==null?void 0:ll.meter)==null?void 0:$l.multipliers)==null?void 0:xl.title)??"Multipliers")+"")&&T(Qe,Je),Be[7].m.m.e?it?it.p(Be,Nt):(it=Ba(Be),it.c(),it.m(e,null)):it&&(it.d(1),it=null)},d(Be){Be&&M(e),el(vt,Be),Ge&&Ge.d(),rt&&rt.d(),Fe&&Fe.d(),Le.d(),De&&De.d(),et&&et.d(),it&&it.d(),qe=!1,Vt(bt)}}}function G1(t){let e;return{c(){e=_("option"),e.textContent=`${t[109].label}`,e.__value=t[109].id,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Da(t){var a,u,r;let e,l=(((r=(u=(a=t[2].conf)==null?void 0:a.meter)==null?void 0:u.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){N(c,e,m),o(e,n),i||(s=pe(e,"click",t[24]),i=!0)},p(c,m){var p,d,b;m[0]&4&&l!==(l=(((b=(d=(p=c[2].conf)==null?void 0:p.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear")+"")&&T(n,l)},d(c){c&&M(e),i=!1,s()}}}function Ia(t){let e,l=gi(t[9])+"",n,i,s=t[9].notes&&Oa(t);return{c(){e=_("div"),n=S(l),i=h(),s&&s.c(),f(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(a,u){N(a,e,u),o(e,n),o(e,i),s&&s.m(e,null)},p(a,u){u[0]&512&&l!==(l=gi(a[9])+"")&&T(n,l),a[9].notes?s?s.p(a,u):(s=Oa(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&M(e),s&&s.d()}}}function Oa(t){let e,l=t[9].notes+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","block")},m(i,s){N(i,e,s),o(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&T(n,l)},d(i){i&&M(e)}}}function Fa(t){let e;return{c(){e=_("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Y1(t){var fe,oe,ie,re,x,$;let e,l,n=(((oe=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:oe.buffer)??"Buffer size")+"",i,s,a,u=(((re=(ie=t[2].conf)==null?void 0:ie.meter)==null?void 0:re.serial)??"Serial conf.")+"",r,c,m,p,d,b=((($=(x=t[2].conf)==null?void 0:x.meter)==null?void 0:$.inverted)??"inverted")+"",k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X,L,y,W,R,I,z,Q,Z,V=st([3,12,24,48,96,192,384,576,1152]),ne=[];for(let te=0;te<9;te+=1)ne[te]=J1(U1(t,V,te));return{c(){e=_("div"),l=_("span"),i=S(n),s=h(),a=_("span"),r=S(u),c=h(),m=_("label"),p=_("input"),d=h(),k=S(b),g=h(),w=_("div"),v=_("select"),E=_("option"),D=S("Autodetect");for(let te=0;te<9;te+=1)ne[te].c();A=h(),U=_("select"),q=_("option"),j=S("-"),G=_("option"),G.textContent="7N1",Y=_("option"),Y.textContent="8N1",X=_("option"),X.textContent="8N2",L=_("option"),L.textContent="7E1",y=_("option"),y.textContent="8E1",R=h(),I=_("input"),f(l,"class","float-right"),f(p,"name","mi"),p.__value="true",J(p,p.__value),f(p,"type","checkbox"),f(p,"class","rounded mb-1"),f(m,"class","mt-2 ml-3 whitespace-nowrap"),E.__value=0,J(E,E.__value),E.disabled=B=t[7].m.b!=0,f(v,"name","mb"),f(v,"class","in-f tr w-1/2"),t[7].m.b===void 0&&Jt(()=>t[46].call(v)),q.__value=0,J(q,q.__value),q.disabled=K=t[7].m.b!=0,G.__value=2,J(G,G.__value),Y.__value=3,J(Y,Y.__value),X.__value=7,J(X,X.__value),L.__value=10,J(L,L.__value),y.__value=11,J(y,y.__value),f(U,"name","mp"),f(U,"class","in-m"),U.disabled=W=t[7].m.b==0,t[7].m.p===void 0&&Jt(()=>t[47].call(U)),f(I,"name","ms"),f(I,"type","number"),f(I,"min",64),f(I,"max",z=t[0].chip=="esp8266"?t[7].i.h.p==3||t[7].i.h.p==113?512:256:4096),f(I,"step",64),f(I,"class","in-l tr w-1/2"),f(w,"class","flex w-full"),f(e,"class","my-1")},m(te,ge){N(te,e,ge),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(e,c),o(e,m),o(m,p),p.checked=t[7].m.i,o(m,d),o(m,k),o(e,g),o(e,w),o(w,v),o(v,E),o(E,D);for(let ke=0;ke<9;ke+=1)ne[ke]&&ne[ke].m(v,null);ft(v,t[7].m.b,!0),o(w,A),o(w,U),o(U,q),o(q,j),o(U,G),o(U,Y),o(U,X),o(U,L),o(U,y),ft(U,t[7].m.p,!0),o(w,R),o(w,I),J(I,t[7].m.s),Q||(Z=[pe(p,"change",t[45]),pe(v,"change",t[46]),pe(U,"change",t[47]),pe(I,"input",t[48])],Q=!0)},p(te,ge){var ke,P,C,F,O,H;ge[0]&4&&n!==(n=(((P=(ke=te[2].conf)==null?void 0:ke.meter)==null?void 0:P.buffer)??"Buffer size")+"")&&T(i,n),ge[0]&4&&u!==(u=(((F=(C=te[2].conf)==null?void 0:C.meter)==null?void 0:F.serial)??"Serial conf.")+"")&&T(r,u),ge[0]&128&&(p.checked=te[7].m.i),ge[0]&4&&b!==(b=(((H=(O=te[2].conf)==null?void 0:O.meter)==null?void 0:H.inverted)??"inverted")+"")&&T(k,b),ge[0]&128&&B!==(B=te[7].m.b!=0)&&(E.disabled=B),ge[0]&128&&ft(v,te[7].m.b),ge[0]&128&&K!==(K=te[7].m.b!=0)&&(q.disabled=K),ge[0]&128&&W!==(W=te[7].m.b==0)&&(U.disabled=W),ge[0]&128&&ft(U,te[7].m.p),ge[0]&129&&z!==(z=te[0].chip=="esp8266"?te[7].i.h.p==3||te[7].i.h.p==113?512:256:4096)&&f(I,"max",z),ge[0]&128&&St(I.value)!==te[7].m.s&&J(I,te[7].m.s)},d(te){te&&M(e),el(ne,te),Q=!1,Vt(Z)}}}function X1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,a,u,r;return{c(){e=_("div"),l=_("span"),i=S(n),s=h(),a=_("input"),f(a,"name","mb"),f(a,"class","in-s tr"),f(a,"type","number"),f(a,"min",1),f(a,"max",3600),f(e,"class","my-1")},m(p,d){N(p,e,d),o(e,l),o(l,i),o(e,s),o(e,a),J(a,t[7].m.b),u||(r=pe(a,"input",t[44]),u=!0)},p(p,d){var b,k;d[0]&4&&n!==(n=(((k=(b=p[2].conf)==null?void 0:b.meter)==null?void 0:k.pulses)??"Pulses per kWh")+"")&&T(i,n),d[0]&128&&St(a.value)!==p[7].m.b&&J(a,p[7].m.b)},d(p){p&&M(e),u=!1,r()}}}function J1(t){let e;return{c(){e=_("option"),e.textContent=`${t[106]*100}`,e.__value=t[106]*100,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Ra(t){let e,l,n,i;return{c(){e=_("br"),l=_("input"),f(l,"name","mek"),f(l,"type","text"),f(l,"class","in-s"),f(l,"pattern",Ju)},m(s,a){N(s,e,a),N(s,l,a),J(l,t[7].m.e.k),n||(i=pe(l,"input",t[53]),n=!0)},p(s,a){a[0]&128&&l.value!==s[7].m.e.k&&J(l,s[7].m.e.k)},d(s){s&&(M(e),M(l)),n=!1,i()}}}function Ua(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,a,u,r;return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),a=_("input"),f(a,"name","mea"),f(a,"type","text"),f(a,"class","in-s"),f(a,"pattern",Ju),f(e,"class","my-1")},m(p,d){N(p,e,d),o(e,n),o(e,i),o(e,s),o(e,a),J(a,t[7].m.e.a),u||(r=pe(a,"input",t[54]),u=!0)},p(p,d){var b,k;d[0]&4&&l!==(l=(((k=(b=p[2].conf)==null?void 0:b.meter)==null?void 0:k.authkey)??"Authentication key")+"")&&T(n,l),d[0]&128&&a.value!==p[7].m.e.a&&J(a,p[7].m.e.a)},d(p){p&&M(e),u=!1,r()}}}function Ba(t){var W,R,I,z,Q,Z,V,ne,fe,oe,ie,re;let e,l,n=(((I=(R=(W=t[2].conf)==null?void 0:W.meter)==null?void 0:R.multipliers)==null?void 0:I.watt)??"Watt")+"",i,s,a,u,r,c,m=(((Z=(Q=(z=t[2].conf)==null?void 0:z.meter)==null?void 0:Q.multipliers)==null?void 0:Z.volt)??"Volt")+"",p,d,b,k,g,w,v=(((fe=(ne=(V=t[2].conf)==null?void 0:V.meter)==null?void 0:ne.multipliers)==null?void 0:fe.amp)??"Amp")+"",E,D,B,A,U,q,j=(((re=(ie=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:ie.multipliers)==null?void 0:re.kwh)??"kWh")+"",K,G,Y,X,L,y;return{c(){e=_("div"),l=_("div"),i=S(n),s=_("br"),a=h(),u=_("input"),r=h(),c=_("div"),p=S(m),d=_("br"),b=h(),k=_("input"),g=h(),w=_("div"),E=S(v),D=_("br"),B=h(),A=_("input"),U=h(),q=_("div"),K=S(j),G=_("br"),Y=h(),X=_("input"),f(u,"name","mmw"),f(u,"type","number"),f(u,"min","0.00"),f(u,"max","1000"),f(u,"step","0.001"),f(u,"class","in-f tr w-full"),f(l,"class","w-1/4"),f(k,"name","mmv"),f(k,"type","number"),f(k,"min","0.00"),f(k,"max","1000"),f(k,"step","0.001"),f(k,"class","in-m tr w-full"),f(c,"class","w-1/4"),f(A,"name","mma"),f(A,"type","number"),f(A,"min","0.00"),f(A,"max","1000"),f(A,"step","0.001"),f(A,"class","in-m tr w-full"),f(w,"class","w-1/4"),f(X,"name","mmc"),f(X,"type","number"),f(X,"min","0.00"),f(X,"max","1000"),f(X,"step","0.001"),f(X,"class","in-l tr w-full"),f(q,"class","w-1/4"),f(e,"class","flex my-1")},m(x,$){N(x,e,$),o(e,l),o(l,i),o(l,s),o(l,a),o(l,u),J(u,t[7].m.m.w),o(e,r),o(e,c),o(c,p),o(c,d),o(c,b),o(c,k),J(k,t[7].m.m.v),o(e,g),o(e,w),o(w,E),o(w,D),o(w,B),o(w,A),J(A,t[7].m.m.a),o(e,U),o(e,q),o(q,K),o(q,G),o(q,Y),o(q,X),J(X,t[7].m.m.c),L||(y=[pe(u,"input",t[56]),pe(k,"input",t[57]),pe(A,"input",t[58]),pe(X,"input",t[59])],L=!0)},p(x,$){var te,ge,ke,P,C,F,O,H,le,ae,ce,ue;$[0]&4&&n!==(n=(((ke=(ge=(te=x[2].conf)==null?void 0:te.meter)==null?void 0:ge.multipliers)==null?void 0:ke.watt)??"Watt")+"")&&T(i,n),$[0]&128&&St(u.value)!==x[7].m.m.w&&J(u,x[7].m.m.w),$[0]&4&&m!==(m=(((F=(C=(P=x[2].conf)==null?void 0:P.meter)==null?void 0:C.multipliers)==null?void 0:F.volt)??"Volt")+"")&&T(p,m),$[0]&128&&St(k.value)!==x[7].m.m.v&&J(k,x[7].m.m.v),$[0]&4&&v!==(v=(((le=(H=(O=x[2].conf)==null?void 0:O.meter)==null?void 0:H.multipliers)==null?void 0:le.amp)??"Amp")+"")&&T(E,v),$[0]&128&&St(A.value)!==x[7].m.m.a&&J(A,x[7].m.m.a),$[0]&4&&j!==(j=(((ue=(ce=(ae=x[2].conf)==null?void 0:ae.meter)==null?void 0:ce.multipliers)==null?void 0:ue.kwh)??"kWh")+"")&&T(K,j),$[0]&128&&St(X.value)!==x[7].m.m.c&&J(X,x[7].m.m.c)},d(x){x&&M(e),L=!1,Vt(y)}}}function ja(t){var p,d;let e,l,n=(((d=(p=t[2].conf)==null?void 0:p.connection)==null?void 0:d.title)??"Connection")+"",i,s,a,u,r,c,m=(t[7].n.c==1||t[7].n.c==2)&&Ha(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m&&m.c(),f(l,"class","text-sm"),f(a,"href",Fl("Network-connection")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","w"),r.value="true",f(e,"class","cnt")},m(b,k){N(b,e,k),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),m&&m.m(e,null)},p(b,k){var g,w;k[0]&4&&n!==(n=(((w=(g=b[2].conf)==null?void 0:g.connection)==null?void 0:w.title)??"Connection")+"")&&T(i,n),b[7].n.c==1||b[7].n.c==2?m?m.p(b,k):(m=Ha(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&M(e),m&&m.d()}}}function Ha(t){var Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,Tt,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe;let e,l=(((we=(Se=t[2].conf)==null?void 0:Se.connection)==null?void 0:we.ssid)??"Network name (SSID)")+"",n,i,s,a,u,r,c,m=(((Ie=(Te=t[2].conf)==null?void 0:Te.connection)==null?void 0:Ie.psk)??"Password")+"",p,d,b,k,g,w,v,E=(((Ye=(Ve=(Ue=t[2].conf)==null?void 0:Ue.connection)==null?void 0:Ve.ps)==null?void 0:Ye.title)??"Power saving")+"",D,B,A,U,q,j=(((He=(ve=(he=t[2].conf)==null?void 0:he.connection)==null?void 0:ve.ps)==null?void 0:He.default)??"Default")+"",K,G,Y=(((pt=(gt=(lt=t[2].conf)==null?void 0:lt.connection)==null?void 0:gt.ps)==null?void 0:pt.off)??"Off")+"",X,L,y=(((ot=(Tt=(Dt=t[2].conf)==null?void 0:Dt.connection)==null?void 0:Tt.ps)==null?void 0:ot.min)??"Min")+"",W,R,I=(((ct=(Ht=(dt=t[2].conf)==null?void 0:dt.connection)==null?void 0:Ht.ps)==null?void 0:ct.max)??"Max")+"",z,Q,Z,V=(((Xe=(Oe=t[2].conf)==null?void 0:Oe.connection)==null?void 0:Xe.pwr)??"Power")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,P,C,F=(((at=(Ft=t[2].conf)==null?void 0:Ft.connection)==null?void 0:at.tick_11b)??"802.11b")+"",O,H,le,ae=((xe=t[4])==null?void 0:xe.c)==-1&&Wa(t);function ce(Ne,We){var Je,Qe,de;if((Qe=(Je=Ne[4])==null?void 0:Je.n)!=null&&Qe.length)return Z1;if(((de=Ne[4])==null?void 0:de.c)!=-1)return Q1}let ue=ce(t),me=ue&&ue(t);return{c(){e=_("div"),n=S(l),i=h(),s=_("br"),a=h(),ae&&ae.c(),u=h(),me&&me.c(),r=h(),c=_("div"),p=S(m),d=_("br"),b=h(),k=_("input"),g=h(),w=_("div"),v=_("div"),D=S(E),B=_("br"),A=h(),U=_("select"),q=_("option"),K=S(j),G=_("option"),X=S(Y),L=_("option"),W=S(y),R=_("option"),z=S(I),Q=h(),Z=_("div"),ne=S(V),fe=_("br"),oe=h(),ie=_("div"),re=_("input"),x=h(),$=_("span"),$.textContent="dBm",te=h(),ge=_("div"),ke=_("label"),P=_("input"),C=h(),O=S(F),f(e,"class","my-1"),f(k,"name","wp"),f(k,"type","password"),f(k,"class","in-s"),f(k,"pattern",Yn),f(c,"class","my-1"),q.__value=255,J(q,q.__value),G.__value=0,J(G,G.__value),L.__value=1,J(L,L.__value),R.__value=2,J(R,R.__value),f(U,"name","wz"),f(U,"class","in-s"),t[7].w.z===void 0&&Jt(()=>t[63].call(U)),f(v,"class","w-1/2"),f(re,"name","ww"),f(re,"type","number"),f(re,"min","0"),f(re,"max","20.5"),f(re,"step","0.5"),f(re,"class","in-f tr w-full"),f($,"class","in-post"),f(ie,"class","flex"),f(Z,"class","ml-2 w-1/2"),f(w,"class","my-1 flex"),f(P,"type","checkbox"),f(P,"name","wb"),P.__value="true",J(P,P.__value),f(P,"class","rounded mb-1"),f(ge,"class","my-3")},m(Ne,We){N(Ne,e,We),o(e,n),o(e,i),o(e,s),o(e,a),ae&&ae.m(e,null),o(e,u),me&&me.m(e,null),N(Ne,r,We),N(Ne,c,We),o(c,p),o(c,d),o(c,b),o(c,k),J(k,t[7].w.p),N(Ne,g,We),N(Ne,w,We),o(w,v),o(v,D),o(v,B),o(v,A),o(v,U),o(U,q),o(q,K),o(U,G),o(G,X),o(U,L),o(L,W),o(U,R),o(R,z),ft(U,t[7].w.z,!0),o(w,Q),o(w,Z),o(Z,ne),o(Z,fe),o(Z,oe),o(Z,ie),o(ie,re),J(re,t[7].w.w),o(ie,x),o(ie,$),N(Ne,te,We),N(Ne,ge,We),o(ge,ke),o(ke,P),P.checked=t[7].w.b,o(ke,C),o(ke,O),H||(le=[pe(k,"input",t[62]),pe(U,"change",t[63]),pe(re,"input",t[64]),pe(P,"change",t[65])],H=!0)},p(Ne,We){var Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et,it,ut,wt,Rt,Gt,kt,jt,sl,Bt;We[0]&4&&l!==(l=(((Qe=(Je=Ne[2].conf)==null?void 0:Je.connection)==null?void 0:Qe.ssid)??"Network name (SSID)")+"")&&T(n,l),((de=Ne[4])==null?void 0:de.c)==-1?ae?ae.p(Ne,We):(ae=Wa(Ne),ae.c(),ae.m(e,u)):ae&&(ae.d(1),ae=null),ue===(ue=ce(Ne))&&me?me.p(Ne,We):(me&&me.d(1),me=ue&&ue(Ne),me&&(me.c(),me.m(e,null))),We[0]&4&&m!==(m=(((bt=(qe=Ne[2].conf)==null?void 0:qe.connection)==null?void 0:bt.psk)??"Password")+"")&&T(p,m),We[0]&128&&k.value!==Ne[7].w.p&&J(k,Ne[7].w.p),We[0]&4&&E!==(E=(((Ge=(vt=(Ut=Ne[2].conf)==null?void 0:Ut.connection)==null?void 0:vt.ps)==null?void 0:Ge.title)??"Power saving")+"")&&T(D,E),We[0]&4&&j!==(j=(((Ee=(Fe=(rt=Ne[2].conf)==null?void 0:rt.connection)==null?void 0:Fe.ps)==null?void 0:Ee.default)??"Default")+"")&&T(K,j),We[0]&4&&Y!==(Y=(((De=(Le=(Re=Ne[2].conf)==null?void 0:Re.connection)==null?void 0:Le.ps)==null?void 0:De.off)??"Off")+"")&&T(X,Y),We[0]&4&&y!==(y=(((ut=(it=(et=Ne[2].conf)==null?void 0:et.connection)==null?void 0:it.ps)==null?void 0:ut.min)??"Min")+"")&&T(W,y),We[0]&4&&I!==(I=(((Gt=(Rt=(wt=Ne[2].conf)==null?void 0:wt.connection)==null?void 0:Rt.ps)==null?void 0:Gt.max)??"Max")+"")&&T(z,I),We[0]&128&&ft(U,Ne[7].w.z),We[0]&4&&V!==(V=(((jt=(kt=Ne[2].conf)==null?void 0:kt.connection)==null?void 0:jt.pwr)??"Power")+"")&&T(ne,V),We[0]&128&&St(re.value)!==Ne[7].w.w&&J(re,Ne[7].w.w),We[0]&128&&(P.checked=Ne[7].w.b),We[0]&4&&F!==(F=(((Bt=(sl=Ne[2].conf)==null?void 0:sl.connection)==null?void 0:Bt.tick_11b)??"802.11b")+"")&&T(O,F)},d(Ne){Ne&&(M(e),M(r),M(c),M(g),M(w),M(te),M(ge)),ae&&ae.d(),me&&me.d(),H=!1,Vt(le)}}}function Wa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm italic text-slate-500")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&T(n,l)},d(a){a&&M(e)}}}function Q1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm italic text-slate-500")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&T(n,l)},d(a){a&&M(e)}}}function Z1(t){let e,l=[],n=new Map,i=st(t[4].n);const s=a=>a[103].s??a[105];for(let a=0;a<i.length;a+=1){let u=Ca(t,i,a),r=s(u);n.set(r,l[a]=Ka(r,u))}return{c(){e=_("div");for(let a=0;a<l.length;a+=1)l[a].c();f(e,"class","mt-2 space-y-2")},m(a,u){N(a,e,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,u){u[0]&9364&&(i=st(a[4].n),l=yu(l,u,s,1,a,i,n,e,Su,Ka,null,Ca))},d(a){a&&M(e);for(let u=0;u<l.length;u+=1)l[u].d()}}}function za(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u[0]&4&&l!==(l=(((c=(r=a[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&T(n,l)},d(a){a&&M(e)}}}function Ka(t,e){var X,L,y,W,R;let l,n,i,s,a=!1,u,r,c,m=(e[103].s||(((L=(X=e[2].conf)==null?void 0:X.connection)==null?void 0:L.hidden_ssid)??"Hidden network"))+"",p,d,b,k=(((y=e[10][e[105]])==null?void 0:y.title)??((R=(W=e[2].conf)==null?void 0:W.connection)==null?void 0:R.wifi_offline)??"Signal unavailable")+"",g,w,v,E,D,B,A,U,q,j,K,G,Y=e[7].w.s===e[103].s&&za(e);return j=_i(e[61][0]),{key:t,first:null,c(){var I,z,Q;l=_("label"),n=_("span"),i=_("input"),u=h(),r=_("span"),c=_("span"),p=S(m),d=h(),b=_("span"),g=S(k),w=h(),v=_("div"),E=_("img"),U=h(),Y&&Y.c(),q=h(),f(i,"type","radio"),f(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),f(i,"name","ws"),i.__value=s=e[103].s,J(i,i.__value),f(c,"class","font-medium text-slate-800 dark:text-slate-100"),f(b,"class","text-xs text-slate-500 dark:text-slate-400"),f(r,"class","flex flex-col"),f(n,"class","flex items-center gap-3"),f(E,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),fn(E.src,D=((I=e[10][e[105]])==null?void 0:I.icon)??e[13].off)||f(E,"src",D),f(E,"alt",B=((z=e[10][e[105]])==null?void 0:z.title)??"Wi-Fi offline"),f(E,"title",A=((Q=e[10][e[105]])==null?void 0:Q.title)??"Wi-Fi offline"),f(v,"class","flex items-center gap-2"),f(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),j.p(i),this.first=l},m(I,z){N(I,l,z),o(l,n),o(n,i),i.checked=i.__value===e[7].w.s,o(n,u),o(n,r),o(r,c),o(c,p),o(r,d),o(r,b),o(b,g),o(l,w),o(l,v),o(v,E),o(v,U),Y&&Y.m(v,null),o(l,q),K||(G=pe(i,"change",e[60]),K=!0)},p(I,z){var Q,Z,V,ne,fe,oe,ie,re;e=I,z[0]&16&&s!==(s=e[103].s)&&(i.__value=s,J(i,i.__value),a=!0),(a||z[0]&144)&&(i.checked=i.__value===e[7].w.s),z[0]&20&&m!==(m=(e[103].s||(((Z=(Q=e[2].conf)==null?void 0:Q.connection)==null?void 0:Z.hidden_ssid)??"Hidden network"))+"")&&T(p,m),z[0]&1044&&k!==(k=(((V=e[10][e[105]])==null?void 0:V.title)??((fe=(ne=e[2].conf)==null?void 0:ne.connection)==null?void 0:fe.wifi_offline)??"Signal unavailable")+"")&&T(g,k),z[0]&1040&&!fn(E.src,D=((oe=e[10][e[105]])==null?void 0:oe.icon)??e[13].off)&&f(E,"src",D),z[0]&1040&&B!==(B=((ie=e[10][e[105]])==null?void 0:ie.title)??"Wi-Fi offline")&&f(E,"alt",B),z[0]&1040&&A!==(A=((re=e[10][e[105]])==null?void 0:re.title)??"Wi-Fi offline")&&f(E,"title",A),e[7].w.s===e[103].s?Y?Y.p(e,z):(Y=za(e),Y.c(),Y.m(v,null)):Y&&(Y.d(1),Y=null)},d(I){I&&M(l),Y&&Y.d(),j.r(),K=!1,G()}}}function Va(t){var Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El;let e,l,n=(((Kt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:Kt.title)??"MQTT")+"",i,s,a,u,r,c,m,p=(((mt=(be=t[2].conf)==null?void 0:be.mqtt)==null?void 0:mt.server)??"Server")+"",d,b,k,g,w,v,E,D,B,A,U,q,j=(((ol=(tt=t[2].conf)==null?void 0:tt.mqtt)==null?void 0:ol.user)??"Username")+"",K,G,Y,X,L,y,W=(((Zt=(Xt=t[2].conf)==null?void 0:Xt.mqtt)==null?void 0:Zt.pass)??"Password")+"",R,I,z,Q,Z,V,ne,fe=(((ul=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:ul.id)??"Client ID")+"",oe,ie,re,x,$,te,ge,ke=(((Ze=(Pe=t[2].conf)==null?void 0:Pe.mqtt)==null?void 0:Ze.payload)??"Payload")+"",P,C,F,O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue=(((Ae=($t=t[2].conf)==null?void 0:$t.mqtt)==null?void 0:Ae.publish)??"Publish topic")+"",Ve,Ye,he,ve,He,lt,gt=(((zt=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:zt.subscribe)??"Subscribe topic")+"",pt,Dt,Tt,ot,dt,Ht,ct,Oe=(((Nt=(Be=t[2].conf)==null?void 0:Be.mqtt)==null?void 0:Nt.update)??"Update method")+"",Xe,Ft,at,xe=(((dl=(fl=t[2].conf)==null?void 0:fl.mqtt)==null?void 0:dl.interval)??"Interval")+"",Ne,We,Je,Qe,de,qe=(((bl=(hl=t[2].conf)==null?void 0:hl.mqtt)==null?void 0:bl.realtime)??"Real time")+"",bt,Ut,vt=(((vl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Ge,rt,Fe,Ee,Re,Le,De=(((Pl=(kl=t[2].conf)==null?void 0:kl.mqtt)==null?void 0:Pl.timeout)??"Timeout")+"",et,it,ut,wt=(((El=(Tl=t[2].conf)==null?void 0:Tl.mqtt)==null?void 0:El.keepalive)??"Keep-alive")+"",Rt,Gt,kt,jt,sl,Bt,nt,Wt,Yt,yt=t[0].chip!="esp8266"&&Ga(t),ht=t[7].q.s.e&&Ya(t);return{c(){var ze,_t;e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),d=S(p),b=h(),yt&&yt.c(),k=h(),g=_("br"),w=h(),v=_("div"),E=_("input"),D=h(),B=_("input"),A=h(),ht&&ht.c(),U=h(),q=_("div"),K=S(j),G=_("br"),Y=h(),X=_("input"),L=h(),y=_("div"),R=S(W),I=_("br"),z=h(),Q=_("input"),Z=h(),V=_("div"),ne=_("div"),oe=S(fe),ie=_("br"),re=h(),x=_("input"),te=h(),ge=_("div"),P=S(ke),C=_("br"),F=h(),O=_("select"),H=_("option"),H.textContent="Raw (minimal)",le=_("option"),le.textContent="Raw (full)",ae=_("option"),ae.textContent="Domoticz",ce=_("option"),ce.textContent="Home-Assistant",ue=_("option"),ue.textContent="JSON (classic)",me=_("option"),me.textContent="JSON (multi topic)",Se=_("option"),Se.textContent="JSON (flat)",we=_("option"),we.textContent="HEX dump",Te=h(),Ie=_("div"),Ve=S(Ue),Ye=_("br"),he=h(),ve=_("input"),He=h(),lt=_("div"),pt=S(gt),Dt=_("br"),Tt=h(),ot=_("input"),Ht=h(),ct=_("div"),Xe=S(Oe),Ft=h(),at=_("span"),Ne=S(xe),We=h(),Je=_("div"),Qe=_("select"),de=_("option"),bt=S(qe),Ut=_("option"),Ge=S(vt),rt=h(),Fe=_("input"),Re=h(),Le=_("div"),et=S(De),it=h(),ut=_("span"),Rt=S(wt),Gt=h(),kt=_("div"),jt=_("input"),sl=h(),Bt=_("input"),f(l,"class","text-sm"),f(a,"href",Fl("MQTT-configuration")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","q"),r.value="true",f(E,"name","qh"),f(E,"type","text"),f(E,"class","in-f w-2/3"),f(E,"pattern",ln),f(B,"name","qp"),f(B,"type","number"),f(B,"min","1024"),f(B,"max","65535"),f(B,"class","in-l tr w-1/3"),f(v,"class","flex"),f(m,"class","my-1"),f(X,"name","qu"),f(X,"type","text"),f(X,"class","in-s"),f(X,"pattern",Yn),f(q,"class","my-1"),f(Q,"name","qa"),f(Q,"type","password"),f(Q,"class","in-s"),f(Q,"pattern",Yn),f(y,"class","my-1"),f(x,"name","qc"),f(x,"type","text"),f(x,"class","in-f w-full"),x.required=$=t[7].q.h,f(x,"pattern",Xn),H.__value=1,J(H,H.__value),le.__value=2,J(le,le.__value),ae.__value=3,J(ae,ae.__value),ce.__value=4,J(ce,ce.__value),ue.__value=0,J(ue,ue.__value),me.__value=5,J(me,me.__value),Se.__value=6,J(Se,Se.__value),we.__value=255,J(we,we.__value),f(O,"name","qm"),f(O,"class","in-l"),t[7].q.m===void 0&&Jt(()=>t[72].call(O)),f(V,"class","my-1 flex"),f(ve,"name","qb"),f(ve,"type","text"),f(ve,"class","in-s"),f(ve,"pattern",ln),f(Ie,"class","my-1"),f(ot,"name","qr"),f(ot,"type","text"),f(ot,"class","in-s"),f(ot,"pattern",ln),f(ot,"placeholder",dt=t[7].q.b+"/command"),f(lt,"class","my-1"),f(at,"class","float-right"),de.__value=0,J(de,de.__value),Ut.__value=1,J(Ut,Ut.__value),f(Qe,"name","qt"),f(Qe,"class","in-f w-1/2"),t[7].q.t===void 0&&Jt(()=>t[75].call(Qe)),f(Fe,"name","qd"),f(Fe,"type","number"),f(Fe,"min","1"),f(Fe,"max","3600"),f(Fe,"class","in-l tr w-1/2"),Fe.disabled=Ee=((_t=(ze=t[7])==null?void 0:ze.q)==null?void 0:_t.t)!=1,f(Je,"class","flex"),f(ct,"class","my-1"),f(ut,"class","float-right"),f(jt,"name","qi"),f(jt,"type","number"),f(jt,"min","500"),f(jt,"max","10000"),f(jt,"class","in-f tr w-1/2"),f(Bt,"name","qk"),f(Bt,"type","number"),f(Bt,"min","5"),f(Bt,"max","180"),f(Bt,"class","in-l tr w-1/2"),f(kt,"class","flex"),f(Le,"class","my-1"),f(e,"class","cnt")},m(ze,_t){N(ze,e,_t),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(m,d),o(m,b),yt&&yt.m(m,null),o(m,k),o(m,g),o(m,w),o(m,v),o(v,E),J(E,t[7].q.h),o(v,D),o(v,B),J(B,t[7].q.p),o(e,A),ht&&ht.m(e,null),o(e,U),o(e,q),o(q,K),o(q,G),o(q,Y),o(q,X),J(X,t[7].q.u),o(e,L),o(e,y),o(y,R),o(y,I),o(y,z),o(y,Q),J(Q,t[7].q.a),o(e,Z),o(e,V),o(V,ne),o(ne,oe),o(ne,ie),o(ne,re),o(ne,x),J(x,t[7].q.c),o(V,te),o(V,ge),o(ge,P),o(ge,C),o(ge,F),o(ge,O),o(O,H),o(O,le),o(O,ae),o(O,ce),o(O,ue),o(O,me),o(O,Se),o(O,we),ft(O,t[7].q.m,!0),o(e,Te),o(e,Ie),o(Ie,Ve),o(Ie,Ye),o(Ie,he),o(Ie,ve),J(ve,t[7].q.b),o(e,He),o(e,lt),o(lt,pt),o(lt,Dt),o(lt,Tt),o(lt,ot),J(ot,t[7].q.r),o(e,Ht),o(e,ct),o(ct,Xe),o(ct,Ft),o(ct,at),o(at,Ne),o(ct,We),o(ct,Je),o(Je,Qe),o(Qe,de),o(de,bt),o(Qe,Ut),o(Ut,Ge),ft(Qe,t[7].q.t,!0),o(Je,rt),o(Je,Fe),J(Fe,t[7].q.d),o(e,Re),o(e,Le),o(Le,et),o(Le,it),o(Le,ut),o(ut,Rt),o(Le,Gt),o(Le,kt),o(kt,jt),J(jt,t[7].q.i),o(kt,sl),o(kt,Bt),J(Bt,t[7].q.k),nt=!0,Wt||(Yt=[pe(E,"input",t[67]),pe(B,"input",t[68]),pe(X,"input",t[69]),pe(Q,"input",t[70]),pe(x,"input",t[71]),pe(O,"change",t[72]),pe(ve,"input",t[73]),pe(ot,"input",t[74]),pe(Qe,"change",t[75]),pe(Fe,"input",t[76]),pe(jt,"input",t[77]),pe(Bt,"input",t[78])],Wt=!0)},p(ze,_t){var Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,Et,ll,$l,xl,yn,Cn,Mn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On;(!nt||_t[0]&4)&&n!==(n=(((al=(Al=ze[2].conf)==null?void 0:Al.mqtt)==null?void 0:al.title)??"MQTT")+"")&&T(i,n),(!nt||_t[0]&4)&&p!==(p=(((zl=(ql=ze[2].conf)==null?void 0:ql.mqtt)==null?void 0:zl.server)??"Server")+"")&&T(d,p),ze[0].chip!="esp8266"?yt?yt.p(ze,_t):(yt=Ga(ze),yt.c(),yt.m(m,k)):yt&&(yt.d(1),yt=null),_t[0]&128&&E.value!==ze[7].q.h&&J(E,ze[7].q.h),_t[0]&128&&St(B.value)!==ze[7].q.p&&J(B,ze[7].q.p),ze[7].q.s.e?ht?(ht.p(ze,_t),_t[0]&128&&ee(ht,1)):(ht=Ya(ze),ht.c(),ee(ht,1),ht.m(e,U)):ht&&(At(),se(ht,1,1,()=>{ht=null}),qt()),(!nt||_t[0]&4)&&j!==(j=(((Vl=(Kl=ze[2].conf)==null?void 0:Kl.mqtt)==null?void 0:Vl.user)??"Username")+"")&&T(K,j),_t[0]&128&&X.value!==ze[7].q.u&&J(X,ze[7].q.u),(!nt||_t[0]&4)&&W!==(W=(((Yl=(Gl=ze[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.pass)??"Password")+"")&&T(R,W),_t[0]&128&&Q.value!==ze[7].q.a&&J(Q,ze[7].q.a),(!nt||_t[0]&4)&&fe!==(fe=(((Jl=(Xl=ze[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.id)??"Client ID")+"")&&T(oe,fe),(!nt||_t[0]&128&&$!==($=ze[7].q.h))&&(x.required=$),_t[0]&128&&x.value!==ze[7].q.c&&J(x,ze[7].q.c),(!nt||_t[0]&4)&&ke!==(ke=(((Zl=(Ql=ze[2].conf)==null?void 0:Ql.mqtt)==null?void 0:Zl.payload)??"Payload")+"")&&T(P,ke),_t[0]&128&&ft(O,ze[7].q.m),(!nt||_t[0]&4)&&Ue!==(Ue=(((Et=(je=ze[2].conf)==null?void 0:je.mqtt)==null?void 0:Et.publish)??"Publish topic")+"")&&T(Ve,Ue),_t[0]&128&&ve.value!==ze[7].q.b&&J(ve,ze[7].q.b),(!nt||_t[0]&4)&&gt!==(gt=((($l=(ll=ze[2].conf)==null?void 0:ll.mqtt)==null?void 0:$l.subscribe)??"Subscribe topic")+"")&&T(pt,gt),(!nt||_t[0]&128&&dt!==(dt=ze[7].q.b+"/command"))&&f(ot,"placeholder",dt),_t[0]&128&&ot.value!==ze[7].q.r&&J(ot,ze[7].q.r),(!nt||_t[0]&4)&&Oe!==(Oe=(((yn=(xl=ze[2].conf)==null?void 0:xl.mqtt)==null?void 0:yn.update)??"Update method")+"")&&T(Xe,Oe),(!nt||_t[0]&4)&&xe!==(xe=(((Mn=(Cn=ze[2].conf)==null?void 0:Cn.mqtt)==null?void 0:Mn.interval)??"Interval")+"")&&T(Ne,xe),(!nt||_t[0]&4)&&qe!==(qe=(((Pn=(Nn=ze[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Pn.realtime)??"Real time")+"")&&T(bt,qe),(!nt||_t[0]&4)&&vt!==(vt=(((En=(Tn=ze[2].conf)==null?void 0:Tn.mqtt)==null?void 0:En.interval)??"Interval")+"")&&T(Ge,vt),_t[0]&128&&ft(Qe,ze[7].q.t),(!nt||_t[0]&128&&Ee!==(Ee=((qn=(An=ze[7])==null?void 0:An.q)==null?void 0:qn.t)!=1))&&(Fe.disabled=Ee),_t[0]&128&&St(Fe.value)!==ze[7].q.d&&J(Fe,ze[7].q.d),(!nt||_t[0]&4)&&De!==(De=(((Dn=(Ln=ze[2].conf)==null?void 0:Ln.mqtt)==null?void 0:Dn.timeout)??"Timeout")+"")&&T(et,De),(!nt||_t[0]&4)&&wt!==(wt=(((On=(In=ze[2].conf)==null?void 0:In.mqtt)==null?void 0:On.keepalive)??"Keep-alive")+"")&&T(Rt,wt),_t[0]&128&&St(jt.value)!==ze[7].q.i&&J(jt,ze[7].q.i),_t[0]&128&&St(Bt.value)!==ze[7].q.k&&J(Bt,ze[7].q.k)},i(ze){nt||(ee(ht),nt=!0)},o(ze){se(ht),nt=!1},d(ze){ze&&M(e),yt&&yt.d(),ht&&ht.d(),Wt=!1,Vt(Yt)}}}function Ga(t){let e,l,n,i,s;return{c(){e=_("label"),l=_("input"),n=S(" SSL"),f(l,"type","checkbox"),f(l,"name","qs"),l.__value="true",J(l,l.__value),f(l,"class","rounded mb-1"),f(e,"class","float-right mr-3")},m(a,u){N(a,e,u),o(e,l),l.checked=t[7].q.s.e,o(e,n),i||(s=[pe(l,"change",t[66]),pe(l,"change",t[21])],i=!0)},p(a,u){u[0]&128&&(l.checked=a[7].q.s.e)},d(a){a&&M(e),i=!1,Vt(s)}}}function Ya(t){let e,l,n,i,s,a,u,r,c,m,p,d,b;const k=[x1,$1],g=[];function w(q,j){return q[7].q.s.c?0:1}n=w(t),i=g[n]=k[n](t);const v=[nm,lm],E=[];function D(q,j){return q[7].q.s.r?0:1}u=D(t),r=E[u]=v[u](t);const B=[am,om],A=[];function U(q,j){return q[7].q.s.k?0:1}return p=U(t),d=A[p]=B[p](t),{c(){e=_("div"),l=_("span"),i.c(),s=h(),a=_("span"),r.c(),c=h(),m=_("span"),d.c(),f(l,"class","flex pr-2"),f(a,"class","flex pr-2"),f(m,"class","flex pr-2"),f(e,"class","my-1 flex")},m(q,j){N(q,e,j),o(e,l),g[n].m(l,null),o(e,s),o(e,a),E[u].m(a,null),o(e,c),o(e,m),A[p].m(m,null),b=!0},p(q,j){let K=n;n=w(q),n===K?g[n].p(q,j):(At(),se(g[K],1,1,()=>{g[K]=null}),qt(),i=g[n],i?i.p(q,j):(i=g[n]=k[n](q),i.c()),ee(i,1),i.m(l,null));let G=u;u=D(q),u===G?E[u].p(q,j):(At(),se(E[G],1,1,()=>{E[G]=null}),qt(),r=E[u],r?r.p(q,j):(r=E[u]=v[u](q),r.c()),ee(r,1),r.m(a,null));let Y=p;p=U(q),p===Y?A[p].p(q,j):(At(),se(A[Y],1,1,()=>{A[Y]=null}),qt(),d=A[p],d?d.p(q,j):(d=A[p]=B[p](q),d.c()),ee(d,1),d.m(m,null))},i(q){b||(ee(i),ee(r),ee(d),b=!0)},o(q){se(i),se(r),se(d),b=!1},d(q){q&&M(e),g[n].d(),E[u].d(),A[p].d()}}}function $1(t){let e,l;return e=new Sl({props:{to:"/mqtt-ca",$$slots:{default:[em]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function x1(t){let e,l,n,i,s,a,u;return l=new Sl({props:{to:"/mqtt-ca",$$slots:{default:[tm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,a||(u=[pe(i,"click",t[18]),pe(i,"keypress",t[18])],a=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),a=!1,Vt(u)}}}function em(t){var n,i,s,a;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_ca)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_ca)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function tm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=S(e)},m(s,a){N(s,l,a)},p(s,a){var u,r;a[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&T(l,e)},d(s){s&&M(l)}}}function lm(t){let e,l;return e=new Sl({props:{to:"/mqtt-cert",$$slots:{default:[im]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function nm(t){let e,l,n,i,s,a,u;return l=new Sl({props:{to:"/mqtt-cert",$$slots:{default:[sm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,a||(u=[pe(i,"click",t[19]),pe(i,"keypress",t[19])],a=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),a=!1,Vt(u)}}}function im(t){var n,i,s,a;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_crt)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_crt)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function sm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=S(e)},m(s,a){N(s,l,a)},p(s,a){var u,r;a[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&T(l,e)},d(s){s&&M(l)}}}function om(t){let e,l;return e=new Sl({props:{to:"/mqtt-key",$$slots:{default:[rm]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function am(t){let e,l,n,i,s,a,u;return l=new Sl({props:{to:"/mqtt-key",$$slots:{default:[um]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,a||(u=[pe(i,"click",t[20]),pe(i,"keypress",t[20])],a=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),a=!1,Vt(u)}}}function rm(t){var n,i,s,a;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((a=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:a.title_key)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_key)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function um(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=S(e)},m(s,a){N(s,l,a)},p(s,a){var u,r;a[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&T(l,e)},d(s){s&&M(l)}}}function Xa(t){var V,ne,fe,oe,ie,re,x,$,te,ge,ke,P;let e,l,n=(((fe=(ne=(V=t[2].conf)==null?void 0:V.mqtt)==null?void 0:ne.domoticz)==null?void 0:fe.title)??"Domoticz")+"",i,s,a,u,r,c,m,p,d=(((re=(ie=(oe=t[2].conf)==null?void 0:oe.mqtt)==null?void 0:ie.domoticz)==null?void 0:re.eidx)??"Electricity IDX")+"",b,k,g,w,v,E,D=(((te=($=(x=t[2].conf)==null?void 0:x.mqtt)==null?void 0:$.domoticz)==null?void 0:te.cidx)??"Current IDX")+"",B,A,U,q,j,K,G=(((P=(ke=(ge=t[2].conf)==null?void 0:ge.mqtt)==null?void 0:ke.domoticz)==null?void 0:P.vidx)??"Voltage IDX")+"",Y,X,L,y,W,R,I,z,Q,Z;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),p=_("div"),b=S(d),k=_("br"),g=h(),w=_("input"),v=h(),E=_("div"),B=S(D),A=_("br"),U=h(),q=_("input"),j=h(),K=_("div"),Y=S(G),X=S(`: L1, L2 & L3
                    `),L=_("div"),y=_("input"),W=h(),R=_("input"),I=h(),z=_("input"),f(l,"class","text-sm"),f(a,"href",Fl("MQTT-configuration#domoticz")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","o"),r.value="true",f(w,"name","oe"),f(w,"type","text"),f(w,"class","in-f tr w-full"),f(w,"pattern",Fn),f(p,"class","w-1/2"),f(q,"name","oc"),f(q,"type","text"),f(q,"class","in-l tr w-full"),f(q,"pattern",Fn),f(E,"class","w-1/2"),f(m,"class","my-1 flex"),f(y,"name","ou1"),f(y,"type","text"),f(y,"class","in-f tr w-1/3"),f(y,"pattern",Fn),f(R,"name","ou2"),f(R,"type","text"),f(R,"class","in-m tr w-1/3"),f(R,"pattern",Fn),f(z,"name","ou3"),f(z,"type","text"),f(z,"class","in-l tr w-1/3"),f(z,"pattern",Fn),f(L,"class","flex"),f(K,"class","my-1"),f(e,"class","cnt")},m(C,F){N(C,e,F),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(m,p),o(p,b),o(p,k),o(p,g),o(p,w),J(w,t[7].o.e),o(m,v),o(m,E),o(E,B),o(E,A),o(E,U),o(E,q),J(q,t[7].o.c),o(e,j),o(e,K),o(K,Y),o(K,X),o(K,L),o(L,y),J(y,t[7].o.u1),o(L,W),o(L,R),J(R,t[7].o.u2),o(L,I),o(L,z),J(z,t[7].o.u3),Q||(Z=[pe(w,"input",t[79]),pe(q,"input",t[80]),pe(y,"input",t[81]),pe(R,"input",t[82]),pe(z,"input",t[83])],Q=!0)},p(C,F){var O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue;F[0]&4&&n!==(n=(((le=(H=(O=C[2].conf)==null?void 0:O.mqtt)==null?void 0:H.domoticz)==null?void 0:le.title)??"Domoticz")+"")&&T(i,n),F[0]&4&&d!==(d=(((ue=(ce=(ae=C[2].conf)==null?void 0:ae.mqtt)==null?void 0:ce.domoticz)==null?void 0:ue.eidx)??"Electricity IDX")+"")&&T(b,d),F[0]&128&&w.value!==C[7].o.e&&J(w,C[7].o.e),F[0]&4&&D!==(D=(((we=(Se=(me=C[2].conf)==null?void 0:me.mqtt)==null?void 0:Se.domoticz)==null?void 0:we.cidx)??"Current IDX")+"")&&T(B,D),F[0]&128&&q.value!==C[7].o.c&&J(q,C[7].o.c),F[0]&4&&G!==(G=(((Ue=(Ie=(Te=C[2].conf)==null?void 0:Te.mqtt)==null?void 0:Ie.domoticz)==null?void 0:Ue.vidx)??"Voltage IDX")+"")&&T(Y,G),F[0]&128&&y.value!==C[7].o.u1&&J(y,C[7].o.u1),F[0]&128&&R.value!==C[7].o.u2&&J(R,C[7].o.u2),F[0]&128&&z.value!==C[7].o.u3&&J(z,C[7].o.u3)},d(C){C&&M(e),Q=!1,Vt(Z)}}}function Ja(t){var I,z,Q,Z,V,ne,fe,oe,ie,re,x,$;let e,l,n=(((Q=(z=(I=t[2].conf)==null?void 0:I.mqtt)==null?void 0:z.ha)==null?void 0:Q.title)??"Home-Assistant")+"",i,s,a,u,r,c,m,p=(((ne=(V=(Z=t[2].conf)==null?void 0:Z.mqtt)==null?void 0:V.ha)==null?void 0:ne.discovery)??"Discovery topic prefix")+"",d,b,k,g,w,v,E=(((ie=(oe=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:oe.ha)==null?void 0:ie.hostname)??"Hostname for URL")+"",D,B,A,U,q,j,K,G=((($=(x=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:x.ha)==null?void 0:$.tag)??"Name tag")+"",Y,X,L,y,W,R;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),d=S(p),b=_("br"),k=h(),g=_("input"),w=h(),v=_("div"),D=S(E),B=_("br"),A=h(),U=_("input"),j=h(),K=_("div"),Y=S(G),X=_("br"),L=h(),y=_("input"),f(l,"class","text-sm"),f(a,"href",Fl("MQTT-configuration#home-assistant")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","h"),r.value="true",f(g,"name","ht"),f(g,"type","text"),f(g,"class","in-s"),f(g,"placeholder","homeassistant"),f(g,"pattern",ln),f(m,"class","my-1"),f(U,"name","hh"),f(U,"type","text"),f(U,"class","in-s"),f(U,"placeholder",q=t[7].g.h+".local"),f(U,"pattern",ln),f(v,"class","my-1"),f(y,"name","hn"),f(y,"type","text"),f(y,"class","in-s"),f(y,"pattern",ln),f(K,"class","my-1"),f(e,"class","cnt")},m(te,ge){N(te,e,ge),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(m,d),o(m,b),o(m,k),o(m,g),J(g,t[7].h.t),o(e,w),o(e,v),o(v,D),o(v,B),o(v,A),o(v,U),J(U,t[7].h.h),o(e,j),o(e,K),o(K,Y),o(K,X),o(K,L),o(K,y),J(y,t[7].h.n),W||(R=[pe(g,"input",t[84]),pe(U,"input",t[85]),pe(y,"input",t[86])],W=!0)},p(te,ge){var ke,P,C,F,O,H,le,ae,ce,ue,me,Se;ge[0]&4&&n!==(n=(((C=(P=(ke=te[2].conf)==null?void 0:ke.mqtt)==null?void 0:P.ha)==null?void 0:C.title)??"Home-Assistant")+"")&&T(i,n),ge[0]&4&&p!==(p=(((H=(O=(F=te[2].conf)==null?void 0:F.mqtt)==null?void 0:O.ha)==null?void 0:H.discovery)??"Discovery topic prefix")+"")&&T(d,p),ge[0]&128&&g.value!==te[7].h.t&&J(g,te[7].h.t),ge[0]&4&&E!==(E=(((ce=(ae=(le=te[2].conf)==null?void 0:le.mqtt)==null?void 0:ae.ha)==null?void 0:ce.hostname)??"Hostname for URL")+"")&&T(D,E),ge[0]&128&&q!==(q=te[7].g.h+".local")&&f(U,"placeholder",q),ge[0]&128&&U.value!==te[7].h.h&&J(U,te[7].h.h),ge[0]&4&&G!==(G=(((Se=(me=(ue=te[2].conf)==null?void 0:ue.mqtt)==null?void 0:me.ha)==null?void 0:Se.tag)??"Name tag")+"")&&T(Y,G),ge[0]&128&&y.value!==te[7].h.n&&J(y,te[7].h.n)},d(te){te&&M(e),W=!1,Vt(R)}}}function Qa(t){var G,Y,X,L,y;let e,l,n=(((Y=(G=t[2].conf)==null?void 0:G.thresholds)==null?void 0:Y.title)??"Thresholds")+"",i,s,a,u,r,c,m,p,d,b,k=(((L=(X=t[2].conf)==null?void 0:X.thresholds)==null?void 0:L.avg)??"Average of")+"",g,w,v,E,D,B=(((y=t[2].common)==null?void 0:y.hours)??"hours")+"",A,U,q,j=st({length:9}),K=[];for(let W=0;W<j.length;W+=1)K[W]=Za(ya(t,j,W));return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div");for(let W=0;W<K.length;W+=1)K[W].c();p=h(),d=_("label"),b=_("span"),g=S(k),w=h(),v=_("input"),E=h(),D=_("span"),A=S(B),f(l,"class","text-sm"),f(a,"href",Fl("Threshold-configuration")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","t"),r.value="true",f(m,"class","flex flex-wrap my-1"),f(b,"class","in-pre"),f(v,"name","th"),f(v,"type","number"),f(v,"min","0"),f(v,"max","255"),f(v,"class","in-txt tr w-full"),f(D,"class","in-post"),f(d,"class","flex m-1"),f(e,"class","cnt")},m(W,R){N(W,e,R),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m);for(let I=0;I<K.length;I+=1)K[I]&&K[I].m(m,null);o(e,p),o(e,d),o(d,b),o(b,g),o(d,w),o(d,v),J(v,t[7].t.h),o(d,E),o(d,D),o(D,A),U||(q=pe(v,"input",t[88]),U=!0)},p(W,R){var I,z,Q,Z,V;if(R[0]&4&&n!==(n=(((z=(I=W[2].conf)==null?void 0:I.thresholds)==null?void 0:z.title)??"Thresholds")+"")&&T(i,n),R[0]&128){j=st({length:9});let ne;for(ne=0;ne<j.length;ne+=1){const fe=ya(W,j,ne);K[ne]?K[ne].p(fe,R):(K[ne]=Za(fe),K[ne].c(),K[ne].m(m,null))}for(;ne<K.length;ne+=1)K[ne].d(1);K.length=j.length}R[0]&4&&k!==(k=(((Z=(Q=W[2].conf)==null?void 0:Q.thresholds)==null?void 0:Z.avg)??"Average of")+"")&&T(g,k),R[0]&128&&St(v.value)!==W[7].t.h&&J(v,W[7].t.h),R[0]&4&&B!==(B=(((V=W[2].common)==null?void 0:V.hours)??"hours")+"")&&T(A,B)},d(W){W&&M(e),el(K,W),U=!1,q()}}}function Za(t){let e,l,n,i,s,a,u,r,c;function m(){t[87].call(i,t[102])}return{c(){e=_("label"),l=_("span"),l.textContent=`${t[102]+1}`,n=h(),i=_("input"),s=h(),a=_("span"),a.textContent="kWh",u=h(),f(l,"class","in-pre"),f(i,"name","t"+t[102]),f(i,"type","number"),f(i,"min","0"),f(i,"max","65535"),f(i,"class","in-txt w-full"),f(a,"class","in-post"),f(e,"class","flex w-40 m-1")},m(p,d){N(p,e,d),o(e,l),o(e,n),o(e,i),J(i,t[7].t.t[t[102]]),o(e,s),o(e,a),o(e,u),r||(c=pe(i,"input",m),r=!0)},p(p,d){t=p,d[0]&128&&St(i.value)!==t[7].t.t[t[102]]&&J(i,t[7].t.t[t[102]])},d(p){p&&M(e),r=!1,c()}}}function $a(t){var b,k;let e,l,n=(((k=(b=t[2].conf)==null?void 0:b.ui)==null?void 0:k.title)??"User interface")+"",i,s,a,u,r,c,m,p=st(t[14]),d=[];for(let g=0;g<p.length;g+=1)d[g]=xa(Sa(t,p,g));return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div");for(let g=0;g<d.length;g+=1)d[g].c();f(l,"class","text-sm"),f(a,"href",Fl("User-interface")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"type","hidden"),f(r,"name","u"),r.value="true",f(m,"class","flex flex-wrap"),f(e,"class","cnt")},m(g,w){N(g,e,w),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(m,null)},p(g,w){var v,E;if(w[0]&4&&n!==(n=(((E=(v=g[2].conf)==null?void 0:v.ui)==null?void 0:E.title)??"User interface")+"")&&T(i,n),w[0]&16516){p=st(g[14]);let D;for(D=0;D<p.length;D+=1){const B=Sa(g,p,D);d[D]?d[D].p(B,w):(d[D]=xa(B),d[D].c(),d[D].m(m,null))}for(;D<d.length;D+=1)d[D].d(1);d.length=p.length}},d(g){g&&M(e),el(d,g)}}}function xa(t){var B,A,U,q,j,K,G,Y;let e,l=(((A=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:A[t[97].key])??t[97].name)+"",n,i,s,a,u,r=(((q=(U=t[2].conf)==null?void 0:U.ui)==null?void 0:q.disabled)??"Disabled")+"",c,m,p=(((K=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:K.enabled)??"Enabled")+"",d,b,k=(((Y=(G=t[2].conf)==null?void 0:G.ui)==null?void 0:Y.auto)??"Auto")+"",g,w,v,E;function D(){t[89].call(a,t[97])}return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),a=_("select"),u=_("option"),c=S(r),m=_("option"),d=S(p),b=_("option"),g=S(k),w=h(),u.__value=0,J(u,u.__value),m.__value=1,J(m,m.__value),b.__value=2,J(b,b.__value),f(a,"name","u"+t[97].key),f(a,"class","in-s"),t[7].u[t[97].key]===void 0&&Jt(D),f(e,"class","w-1/2")},m(X,L){N(X,e,L),o(e,n),o(e,i),o(e,s),o(e,a),o(a,u),o(u,c),o(a,m),o(m,d),o(a,b),o(b,g),ft(a,t[7].u[t[97].key],!0),o(e,w),v||(E=pe(a,"change",D),v=!0)},p(X,L){var y,W,R,I,z,Q,Z,V;t=X,L[0]&4&&l!==(l=(((W=(y=t[2].conf)==null?void 0:y.ui)==null?void 0:W[t[97].key])??t[97].name)+"")&&T(n,l),L[0]&4&&r!==(r=(((I=(R=t[2].conf)==null?void 0:R.ui)==null?void 0:I.disabled)??"Disabled")+"")&&T(c,r),L[0]&4&&p!==(p=(((Q=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:Q.enabled)??"Enabled")+"")&&T(d,p),L[0]&4&&k!==(k=(((V=(Z=t[2].conf)==null?void 0:Z.ui)==null?void 0:V.auto)??"Auto")+"")&&T(g,k),L[0]&16512&&ft(a,t[7].u[t[97].key])},d(X){X&&M(e),v=!1,E()}}}function er(t){var d,b;let e,l,n=(((d=t[2].conf)==null?void 0:d.btn_reset)??"Factory reset")+"",i,s,a,u,r=(((b=t[2].btn)==null?void 0:b.reboot)??"Reboot")+"",c,m,p;return{c(){e=_("div"),l=_("button"),i=S(n),s=h(),a=_("div"),u=_("button"),c=S(r),f(l,"type","button"),f(l,"class","btn-red"),f(u,"type","button"),f(u,"class","btn-yellow"),f(a,"class","text-center")},m(k,g){N(k,e,g),o(e,l),o(l,i),N(k,s,g),N(k,a,g),o(a,u),o(u,c),m||(p=[pe(l,"click",t[15]),pe(u,"click",t[17])],m=!0)},p(k,g){var w,v;g[0]&4&&n!==(n=(((w=k[2].conf)==null?void 0:w.btn_reset)??"Factory reset")+"")&&T(i,n),g[0]&4&&r!==(r=(((v=k[2].btn)==null?void 0:v.reboot)??"Reboot")+"")&&T(c,r)},d(k){k&&(M(e),M(s),M(a)),m=!1,Vt(p)}}}function tr(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=_("div"),l=_("button"),i=S(n),f(l,"type","submit"),f(l,"class","btn-pri"),f(e,"class","text-right")},m(a,u){N(a,e,u),o(e,l),o(l,i)},p(a,u){var r;u[0]&4&&n!==(n=(((r=a[2].btn)==null?void 0:r.save)??"Save")+"")&&T(i,n)},d(a){a&&M(e)}}}function fm(t){var V,ne,fe,oe,ie,re,x,$,te,ge,ke,P,C,F,O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye;let e,l,n,i,s,a,u,r,c,m=((fe=(ne=(V=t[7])==null?void 0:V.p)==null?void 0:ne.r)==null?void 0:fe.startsWith("NO"))||((re=(ie=(oe=t[7])==null?void 0:oe.p)==null?void 0:ie.r)==null?void 0:re.startsWith("10YNO"))||((te=($=(x=t[7])==null?void 0:x.p)==null?void 0:$.r)==null?void 0:te.startsWith("10Y1001A1001A4")),p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G=((ge=t[7])==null?void 0:ge.g)&&Na(t),Y=((ke=t[7])==null?void 0:ke.fw)&&qa(t),X=((P=t[7])==null?void 0:P.m)&&La(t),L=((C=t[7])==null?void 0:C.w)&&ja(t),y=((F=t[7])==null?void 0:F.q)&&Va(t),W=((H=(O=t[7])==null?void 0:O.q)==null?void 0:H.m)==3&&Xa(t),R=((ae=(le=t[7])==null?void 0:le.q)==null?void 0:ae.m)==4&&Ja(t),I=m&&Qa(t),z=((ce=t[7])==null?void 0:ce.u)&&$a(t),Q=((ue=t[1])==null?void 0:ue.a)&&er(t),Z=t[7]&&tr(t);return w=new pl({props:{active:t[5],message:((Se=(me=t[2].conf)==null?void 0:me.mask)==null?void 0:Se.loading)??"Loading"}}),E=new pl({props:{active:t[6],message:((Te=(we=t[2].conf)==null?void 0:we.mask)==null?void 0:Te.saving)??"Saving"}}),B=new pl({props:{active:t[11],message:((Ue=(Ie=t[2].conf)==null?void 0:Ie.mask)==null?void 0:Ue.reset)??"Factory reset"}}),U=new pl({props:{active:t[12],message:((Ye=(Ve=t[2].conf)==null?void 0:Ve.mask)==null?void 0:Ye.reset_done)??"Done"}}),{c(){e=_("form"),l=_("div"),G&&G.c(),n=h(),Y&&Y.c(),i=h(),X&&X.c(),s=h(),L&&L.c(),a=h(),y&&y.c(),u=h(),W&&W.c(),r=h(),R&&R.c(),c=h(),I&&I.c(),p=h(),z&&z.c(),d=h(),b=_("div"),Q&&Q.c(),k=h(),Z&&Z.c(),g=h(),Me(w.$$.fragment),v=h(),Me(E.$$.fragment),D=h(),Me(B.$$.fragment),A=h(),Me(U.$$.fragment),f(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),f(b,"class","grid grid-cols-3 mt-3"),f(e,"autocomplete","off")},m(he,ve){N(he,e,ve),o(e,l),G&&G.m(l,null),o(l,n),Y&&Y.m(l,null),o(l,i),X&&X.m(l,null),o(l,s),L&&L.m(l,null),o(l,a),y&&y.m(l,null),o(l,u),W&&W.m(l,null),o(l,r),R&&R.m(l,null),o(l,c),I&&I.m(l,null),o(l,p),z&&z.m(l,null),o(e,d),o(e,b),Q&&Q.m(b,null),o(b,k),Z&&Z.m(b,null),N(he,g,ve),ye(w,he,ve),N(he,v,ve),ye(E,he,ve),N(he,D,ve),ye(B,he,ve),N(he,A,ve),ye(U,he,ve),q=!0,j||(K=pe(e,"submit",mn(t[16])),j=!0)},p(he,ve){var Dt,Tt,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et;(Dt=he[7])!=null&&Dt.g?G?(G.p(he,ve),ve[0]&128&&ee(G,1)):(G=Na(he),G.c(),ee(G,1),G.m(l,n)):G&&(At(),se(G,1,1,()=>{G=null}),qt()),(Tt=he[7])!=null&&Tt.fw?Y?Y.p(he,ve):(Y=qa(he),Y.c(),Y.m(l,i)):Y&&(Y.d(1),Y=null),(ot=he[7])!=null&&ot.m?X?X.p(he,ve):(X=La(he),X.c(),X.m(l,s)):X&&(X.d(1),X=null),(dt=he[7])!=null&&dt.w?L?L.p(he,ve):(L=ja(he),L.c(),L.m(l,a)):L&&(L.d(1),L=null),(Ht=he[7])!=null&&Ht.q?y?(y.p(he,ve),ve[0]&128&&ee(y,1)):(y=Va(he),y.c(),ee(y,1),y.m(l,u)):y&&(At(),se(y,1,1,()=>{y=null}),qt()),((Oe=(ct=he[7])==null?void 0:ct.q)==null?void 0:Oe.m)==3?W?W.p(he,ve):(W=Xa(he),W.c(),W.m(l,r)):W&&(W.d(1),W=null),((Ft=(Xe=he[7])==null?void 0:Xe.q)==null?void 0:Ft.m)==4?R?R.p(he,ve):(R=Ja(he),R.c(),R.m(l,c)):R&&(R.d(1),R=null),ve[0]&128&&(m=((Ne=(xe=(at=he[7])==null?void 0:at.p)==null?void 0:xe.r)==null?void 0:Ne.startsWith("NO"))||((Qe=(Je=(We=he[7])==null?void 0:We.p)==null?void 0:Je.r)==null?void 0:Qe.startsWith("10YNO"))||((bt=(qe=(de=he[7])==null?void 0:de.p)==null?void 0:qe.r)==null?void 0:bt.startsWith("10Y1001A1001A4"))),m?I?I.p(he,ve):(I=Qa(he),I.c(),I.m(l,p)):I&&(I.d(1),I=null),(Ut=he[7])!=null&&Ut.u?z?z.p(he,ve):(z=$a(he),z.c(),z.m(l,null)):z&&(z.d(1),z=null),(vt=he[1])!=null&&vt.a?Q?Q.p(he,ve):(Q=er(he),Q.c(),Q.m(b,k)):Q&&(Q.d(1),Q=null),he[7]?Z?Z.p(he,ve):(Z=tr(he),Z.c(),Z.m(b,null)):Z&&(Z.d(1),Z=null);const He={};ve[0]&32&&(He.active=he[5]),ve[0]&4&&(He.message=((rt=(Ge=he[2].conf)==null?void 0:Ge.mask)==null?void 0:rt.loading)??"Loading"),w.$set(He);const lt={};ve[0]&64&&(lt.active=he[6]),ve[0]&4&&(lt.message=((Ee=(Fe=he[2].conf)==null?void 0:Fe.mask)==null?void 0:Ee.saving)??"Saving"),E.$set(lt);const gt={};ve[0]&2048&&(gt.active=he[11]),ve[0]&4&&(gt.message=((Le=(Re=he[2].conf)==null?void 0:Re.mask)==null?void 0:Le.reset)??"Factory reset"),B.$set(gt);const pt={};ve[0]&4096&&(pt.active=he[12]),ve[0]&4&&(pt.message=((et=(De=he[2].conf)==null?void 0:De.mask)==null?void 0:et.reset_done)??"Done"),U.$set(pt)},i(he){q||(ee(G),ee(y),ee(w.$$.fragment,he),ee(E.$$.fragment,he),ee(B.$$.fragment,he),ee(U.$$.fragment,he),q=!0)},o(he){se(G),se(y),se(w.$$.fragment,he),se(E.$$.fragment,he),se(B.$$.fragment,he),se(U.$$.fragment,he),q=!1},d(he){he&&(M(e),M(g),M(v),M(D),M(A)),G&&G.d(),Y&&Y.d(),X&&X.d(),L&&L.d(),y&&y.d(),W&&W.d(),R&&R.d(),I&&I.d(),z&&z.d(),Q&&Q.d(),Z&&Z.d(),Ce(w,he),Ce(E,he),Ce(B,he),Ce(U,he),j=!1,K()}}}async function cm(){await(await fetch("reboot",{method:"POST"})).json()}function ai(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function mm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const a={high:_s,medium:ms,low:cs,off:ps};a.off;let u={};Nl.subscribe(Ee=>{l(2,u=Ee)});let r=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],c=!0,m=!1,p,d=[],b="",k=null;vn.subscribe(Ee=>{var Re,Le,De,et;if(Ee.version){(Re=Ee==null?void 0:Ee.c)==null||Re.e,l(7,p=Ee),l(5,c=!1);const it=((Le=u.consent)==null?void 0:Le.load_from_server)??"Load from server";l(3,d=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),p!=null&&p.fw?l(7,p.fw={a:!!p.fw.a,s:Number(p.fw.s??2),e:Number(p.fw.e??3)},p):l(7,p={...p,fw:{a:!1,s:2,e:3}}),(De=p==null?void 0:p.u)!=null&&De.lang&&!d.find(ut=>ut.code===p.u.lang)&&d.push({code:p.u.lang,name:((et=u.language)==null?void 0:et.name)??"Unknown"}),d.push({code:"hub",name:it})}}),cf();let g={},w=[];of.subscribe(Ee=>{var Re;for(let Le=0;Le<Ee.n.length&&Ee.n[Le].s!=((Re=p==null?void 0:p.w)==null?void 0:Re.s);Le++);l(4,g=Ee)});let v=!1,E=!1;async function D(){if(confirm("Factory reset?")){l(11,v=!0);const Ee=new URLSearchParams;Ee.append("perform","true");let Le=await(await fetch("reset",{method:"POST",body:Ee})).json();l(11,v=!1),l(12,E=Le.success)}}async function B(Ee){l(6,m=!0);const Re=new FormData(Ee.target),Le=new URLSearchParams;for(let it of Re){const[ut,wt]=it;Le.append(ut,wt)}let et=await(await fetch("save",{method:"POST",body:Le})).json();ml.update(it=>(it.hostname=Re.get("gh"),it.usrcfg=et.success,it.booting=et.reboot,Re.get("nm")=="static"&&(it.net.ip=Re.get("ni"),it.net.mask=Re.get("nu"),it.net.gw=Re.get("ng"),it.net.dns1=Re.get("nd")),it.ui=p.u,it)),l(6,m=!1),jl(n)}const A=function(){confirm("Reboot?")&&(ml.update(Ee=>(Ee.booting=!0,Ee)),cm())};async function U(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.c=!1,Re)))}async function q(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.r=!1,Re)))}async function j(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.k=!1,Re)))}const K=function(){p.q.s.e?p.q.p==1883&&l(7,p.q.p=8883,p):p.q.p==8883&&l(7,p.q.p=1883,p)};async function G(){if(p.u.lang=="hub"){const Ee=await Ml("http://hub.amsleser.no/hub/language/list.json");l(3,d=await Ee.json()),l(7,p.u.lang=u.language.code,p);return}p.u.lang&&await Jn(p.u.lang)}function Y(Ee){l(8,b=Ee);const Re=_f(Ee);if(l(9,k=Re??null),!Re||!(p!=null&&p.m))return;const Le=Il(p.m),De=pf(Le,Re),et=df(p.m,De);l(7,p={...p,m:et})}function X(){l(8,b=""),l(9,k=null)}async function L(){l(7,p.p.e=!0,p)}const y=window||global;y.bindToCloud=function(){console.log("BIND CALLED")};const W=[[]];function R(){p.g.h=this.value,l(7,p)}function I(){p.g.t=nl(this),l(7,p)}function z(){p.u.lang=nl(this),l(7,p)}function Q(){p.p.r=nl(this),l(7,p)}function Z(){p.p.c=nl(this),l(7,p)}function V(){p.p.e=this.checked,l(7,p)}function ne(){p.p.t=this.value,l(7,p)}function fe(){p.g.s=nl(this),l(7,p)}function oe(){p.g.u=this.value,l(7,p)}function ie(){p.g.p=this.value,l(7,p)}function re(){p.g.c=this.value,l(7,p)}function x(){p.fw.a=this.checked,l(7,p)}function $(){p.fw.s=St(this.value),l(7,p)}function te(){p.fw.e=St(this.value),l(7,p)}function ge(){b=nl(this),l(8,b)}const ke=Ee=>Y(Ee.target.value);function P(){p.m.a=nl(this),l(7,p)}function C(){p.m.b=St(this.value),l(7,p)}function F(){p.m.i=this.checked,l(7,p)}function O(){p.m.b=nl(this),l(7,p)}function H(){p.m.p=nl(this),l(7,p)}function le(){p.m.s=St(this.value),l(7,p)}function ae(){p.m.d=nl(this),l(7,p)}function ce(){p.m.f=St(this.value),l(7,p)}function ue(){p.m.r=St(this.value),l(7,p)}function me(){p.m.e.e=this.checked,l(7,p)}function Se(){p.m.e.k=this.value,l(7,p)}function we(){p.m.e.a=this.value,l(7,p)}function Te(){p.m.m.e=this.checked,l(7,p)}function Ie(){p.m.m.w=St(this.value),l(7,p)}function Ue(){p.m.m.v=St(this.value),l(7,p)}function Ve(){p.m.m.a=St(this.value),l(7,p)}function Ye(){p.m.m.c=St(this.value),l(7,p)}function he(){p.w.s=this.__value,l(7,p)}function ve(){p.w.p=this.value,l(7,p)}function He(){p.w.z=nl(this),l(7,p)}function lt(){p.w.w=St(this.value),l(7,p)}function gt(){p.w.b=this.checked,l(7,p)}function pt(){p.q.s.e=this.checked,l(7,p)}function Dt(){p.q.h=this.value,l(7,p)}function Tt(){p.q.p=St(this.value),l(7,p)}function ot(){p.q.u=this.value,l(7,p)}function dt(){p.q.a=this.value,l(7,p)}function Ht(){p.q.c=this.value,l(7,p)}function ct(){p.q.m=nl(this),l(7,p)}function Oe(){p.q.b=this.value,l(7,p)}function Xe(){p.q.r=this.value,l(7,p)}function Ft(){p.q.t=nl(this),l(7,p)}function at(){p.q.d=St(this.value),l(7,p)}function xe(){p.q.i=St(this.value),l(7,p)}function Ne(){p.q.k=St(this.value),l(7,p)}function We(){p.o.e=this.value,l(7,p)}function Je(){p.o.c=this.value,l(7,p)}function Qe(){p.o.u1=this.value,l(7,p)}function de(){p.o.u2=this.value,l(7,p)}function qe(){p.o.u3=this.value,l(7,p)}function bt(){p.h.t=this.value,l(7,p)}function Ut(){p.h.h=this.value,l(7,p)}function vt(){p.h.n=this.value,l(7,p)}function Ge(Ee){p.t.t[Ee]=St(this.value),l(7,p)}function rt(){p.t.h=St(this.value),l(7,p)}function Fe(Ee){p.u[Ee.key]=nl(this),l(7,p)}return t.$$set=Ee=>{"basepath"in Ee&&l(26,n=Ee.basepath),"sysinfo"in Ee&&l(0,i=Ee.sysinfo),"data"in Ee&&l(1,s=Ee.data)},t.$$.update=()=>{var Ee;if(t.$$.dirty[0]&12&&d.length){const Re=((Ee=u.consent)==null?void 0:Ee.load_from_server)??"Load from server";d.some(De=>De.code==="hub")?d.find(et=>et.code==="hub"&&et.name!==Re)&&l(3,d=d.map(et=>et.code==="hub"?{...et,name:Re}:et)):l(3,d=[...d,{code:"hub",name:Re}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Re,label:Le}=Vn(s==null?void 0:s.r);a[Re]??a.off}t.$$.dirty[0]&16&&l(10,w=Array.isArray(g==null?void 0:g.n)?g.n.map(Re=>{const{level:Le,label:De}=Vn(Re==null?void 0:Re.r);return{icon:a[Le]??a.off,title:De}}):[])},[i,s,u,d,g,c,m,p,b,k,w,v,E,a,r,D,B,A,U,q,j,K,G,Y,X,L,n,R,I,z,Q,Z,V,ne,fe,oe,ie,re,x,$,te,ge,ke,P,C,F,O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,W,ve,He,lt,gt,pt,Dt,Tt,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe]}class _m extends Ot{constructor(e){super(),It(this,e,mm,fm,Lt,{basepath:26,sysinfo:0,data:1},null,[-1,-1,-1,-1])}}function lr(t,e,l){const n=t.slice();return n[21]=e[l],n}function nr(t){let e,l=t[1].cpu+"",n,i;return{c(){e=S("("),n=S(l),i=S("MHz)")},m(s,a){N(s,e,a),N(s,n,a),N(s,i,a)},p(s,a){a&2&&l!==(l=s[1].cpu+"")&&T(n,l)},d(s){s&&(M(e),M(n),M(i))}}}function pm(t){let e=$e(t[1].chip,t[1].board)+"",l;return{c(){l=S(e)},m(n,i){N(n,l,i)},p(n,i){i&2&&e!==(e=$e(n[1].chip,n[1].board)+"")&&T(l,e)},d(n){n&&M(l)}}}function ir(t){var R,I,z,Q,Z,V,ne,fe;let e,l=(((I=(R=t[3].status)==null?void 0:R.device)==null?void 0:I.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",a,u,r,c=(((Q=(z=t[3].status)==null?void 0:z.device)==null?void 0:Q.last_boot)??"Last boot")+"",m,p,d,b,k,g,w=(((V=(Z=t[3].status)==null?void 0:Z.device)==null?void 0:V.reason)??"Reason")+"",v,E,D=(((fe=(ne=t[3][$s(t[1].chip)])==null?void 0:ne.reason)==null?void 0:fe[t[1].boot_reason])??t[1].boot_reason)+"",B,A,U=t[1].boot_reason+"",q,j,K=t[1].ex_cause+"",G,Y,X;const L=[hm,dm],y=[];function W(oe,ie){return oe[0].u>0?0:1}return d=W(t),b=y[d]=L[d](t),{c(){e=_("div"),n=S(l),i=S(": "),a=S(s),u=h(),r=_("div"),m=S(c),p=S(`:
            `),b.c(),k=h(),g=_("div"),v=S(w),E=S(": "),B=S(D),A=S(" ("),q=S(U),j=S("/"),G=S(K),Y=S(")"),f(e,"class","my-2"),f(r,"class","my-2"),f(g,"class","my-2")},m(oe,ie){N(oe,e,ie),o(e,n),o(e,i),o(e,a),N(oe,u,ie),N(oe,r,ie),o(r,m),o(r,p),y[d].m(r,null),N(oe,k,ie),N(oe,g,ie),o(g,v),o(g,E),o(g,B),o(g,A),o(g,q),o(g,j),o(g,G),o(g,Y),X=!0},p(oe,ie){var x,$,te,ge,ke,P,C,F;(!X||ie&8)&&l!==(l=((($=(x=oe[3].status)==null?void 0:x.device)==null?void 0:$.apmac)??"AP MAC")+"")&&T(n,l),(!X||ie&2)&&s!==(s=oe[1].apmac+"")&&T(a,s),(!X||ie&8)&&c!==(c=(((ge=(te=oe[3].status)==null?void 0:te.device)==null?void 0:ge.last_boot)??"Last boot")+"")&&T(m,c);let re=d;d=W(oe),d===re?y[d].p(oe,ie):(At(),se(y[re],1,1,()=>{y[re]=null}),qt(),b=y[d],b?b.p(oe,ie):(b=y[d]=L[d](oe),b.c()),ee(b,1),b.m(r,null)),(!X||ie&8)&&w!==(w=(((P=(ke=oe[3].status)==null?void 0:ke.device)==null?void 0:P.reason)??"Reason")+"")&&T(v,w),(!X||ie&10)&&D!==(D=(((F=(C=oe[3][$s(oe[1].chip)])==null?void 0:C.reason)==null?void 0:F[oe[1].boot_reason])??oe[1].boot_reason)+"")&&T(B,D),(!X||ie&2)&&U!==(U=oe[1].boot_reason+"")&&T(q,U),(!X||ie&2)&&K!==(K=oe[1].ex_cause+"")&&T(G,K)},i(oe){X||(ee(b),X=!0)},o(oe){se(b),X=!1},d(oe){oe&&(M(e),M(u),M(r),M(k),M(g)),y[d].d()}}}function dm(t){let e;return{c(){e=S("-")},m(l,n){N(l,e,n)},p:Ke,i:Ke,o:Ke,d(l){l&&M(e)}}}function hm(t){let e,l;return e=new rf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function sr(t){var m;let e,l,n,i,s=(((m=t[3].btn)==null?void 0:m.reboot)??"Reboot")+"",a,u,r,c;return l=new Sl({props:{to:"/consent",$$slots:{default:[bm]},$$scope:{ctx:t}}}),{c(){e=_("div"),Me(l.$$.fragment),n=h(),i=_("button"),a=S(s),f(i,"class","btn-yellow-sm float-right"),f(e,"class","my-2")},m(p,d){N(p,e,d),ye(l,e,null),o(e,n),o(e,i),o(i,a),u=!0,r||(c=pe(i,"click",t[11]),r=!0)},p(p,d){var k;const b={};d&16777224&&(b.$$scope={dirty:d,ctx:p}),l.$set(b),(!u||d&8)&&s!==(s=(((k=p[3].btn)==null?void 0:k.reboot)??"Reboot")+"")&&T(a,s)},i(p){u||(ee(l.$$.fragment,p),u=!0)},o(p){se(l.$$.fragment,p),u=!1},d(p){p&&M(e),Ce(l),r=!1,c()}}}function bm(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.device)==null?void 0:s.btn_consents)??"Consents")+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","btn-pri-sm")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u&8&&l!==(l=(((c=(r=a[3].status)==null?void 0:r.device)==null?void 0:c.btn_consents)??"Consents")+"")&&T(n,l)},d(a){a&&M(e)}}}function or(t){var G,Y,X,L,y,W,R,I;let e,l,n=(((Y=(G=t[3].status)==null?void 0:G.meter)==null?void 0:Y.title)??"Meter")+"",i,s,a,u=(((L=(X=t[3].status)==null?void 0:X.meter)==null?void 0:L.manufacturer)??"Manufacturer")+"",r,c,m=hi(t[1].meter.mfg)+"",p,d,b,k=(((W=(y=t[3].status)==null?void 0:y.meter)==null?void 0:W.model)??"Model")+"",g,w,v=(t[1].meter.model?t[1].meter.model:"unknown")+"",E,D,B,A=(((I=(R=t[3].status)==null?void 0:R.meter)==null?void 0:I.id)??"ID")+"",U,q,j=(t[1].meter.id?t[1].meter.id:"unknown")+"",K;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("div"),r=S(u),c=S(": "),p=S(m),d=h(),b=_("div"),g=S(k),w=S(": "),E=S(v),D=h(),B=_("div"),U=S(A),q=S(": "),K=S(j),f(l,"class","text-sm"),f(a,"class","my-2"),f(b,"class","my-2"),f(B,"class","my-2"),f(e,"class","cnt")},m(z,Q){N(z,e,Q),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(a,c),o(a,p),o(e,d),o(e,b),o(b,g),o(b,w),o(b,E),o(e,D),o(e,B),o(B,U),o(B,q),o(B,K)},p(z,Q){var Z,V,ne,fe,oe,ie,re,x;Q&8&&n!==(n=(((V=(Z=z[3].status)==null?void 0:Z.meter)==null?void 0:V.title)??"Meter")+"")&&T(i,n),Q&8&&u!==(u=(((fe=(ne=z[3].status)==null?void 0:ne.meter)==null?void 0:fe.manufacturer)??"Manufacturer")+"")&&T(r,u),Q&2&&m!==(m=hi(z[1].meter.mfg)+"")&&T(p,m),Q&8&&k!==(k=(((ie=(oe=z[3].status)==null?void 0:oe.meter)==null?void 0:ie.model)??"Model")+"")&&T(g,k),Q&2&&v!==(v=(z[1].meter.model?z[1].meter.model:"unknown")+"")&&T(E,v),Q&8&&A!==(A=(((x=(re=z[3].status)==null?void 0:re.meter)==null?void 0:x.id)??"ID")+"")&&T(U,A),Q&2&&j!==(j=(z[1].meter.id?z[1].meter.id:"unknown")+"")&&T(K,j)},d(z){z&&M(e)}}}function ar(t){var I,z,Q,Z,V,ne,fe,oe;let e,l,n=(((z=(I=t[3].status)==null?void 0:I.network)==null?void 0:z.title)??"Network")+"",i,s,a,u=(((Z=(Q=t[3].conf)==null?void 0:Q.network)==null?void 0:Z.ip)??"IP")+"",r,c,m=t[1].net.ip+"",p,d,b,k=(((ne=(V=t[3].conf)==null?void 0:V.network)==null?void 0:ne.mask)??"Mask")+"",g,w,v=t[1].net.mask+"",E,D,B,A=(((oe=(fe=t[3].conf)==null?void 0:fe.network)==null?void 0:oe.gw)??"Gateway")+"",U,q,j=t[1].net.gw+"",K,G,Y,X,L,y=t[1].net.dns1&&rr(t),W=t[1].net.dns2&&ur(t),R=t[1].net.ipv6&&fr(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("div"),r=S(u),c=S(": "),p=S(m),d=h(),b=_("div"),g=S(k),w=S(": "),E=S(v),D=h(),B=_("div"),U=S(A),q=S(": "),K=S(j),G=h(),Y=_("div"),y&&y.c(),X=h(),W&&W.c(),L=h(),R&&R.c(),f(l,"class","text-sm"),f(a,"class","my-2"),f(b,"class","my-2"),f(B,"class","my-2"),f(Y,"class","my-2"),f(e,"class","cnt")},m(ie,re){N(ie,e,re),o(e,l),o(l,i),o(e,s),o(e,a),o(a,r),o(a,c),o(a,p),o(e,d),o(e,b),o(b,g),o(b,w),o(b,E),o(e,D),o(e,B),o(B,U),o(B,q),o(B,K),o(e,G),o(e,Y),y&&y.m(Y,null),o(Y,X),W&&W.m(Y,null),o(e,L),R&&R.m(e,null)},p(ie,re){var x,$,te,ge,ke,P,C,F;re&8&&n!==(n=((($=(x=ie[3].status)==null?void 0:x.network)==null?void 0:$.title)??"Network")+"")&&T(i,n),re&8&&u!==(u=(((ge=(te=ie[3].conf)==null?void 0:te.network)==null?void 0:ge.ip)??"IP")+"")&&T(r,u),re&2&&m!==(m=ie[1].net.ip+"")&&T(p,m),re&8&&k!==(k=(((P=(ke=ie[3].conf)==null?void 0:ke.network)==null?void 0:P.mask)??"Mask")+"")&&T(g,k),re&2&&v!==(v=ie[1].net.mask+"")&&T(E,v),re&8&&A!==(A=(((F=(C=ie[3].conf)==null?void 0:C.network)==null?void 0:F.gw)??"Gateway")+"")&&T(U,A),re&2&&j!==(j=ie[1].net.gw+"")&&T(K,j),ie[1].net.dns1?y?y.p(ie,re):(y=rr(ie),y.c(),y.m(Y,X)):y&&(y.d(1),y=null),ie[1].net.dns2?W?W.p(ie,re):(W=ur(ie),W.c(),W.m(Y,null)):W&&(W.d(1),W=null),ie[1].net.ipv6?R?R.p(ie,re):(R=fr(ie),R.c(),R.m(e,null)):R&&(R.d(1),R=null)},d(ie){ie&&M(e),y&&y.d(),W&&W.d(),R&&R.d()}}}function rr(t){var a,u;let e=(((u=(a=t[3].conf)==null?void 0:a.network)==null?void 0:u.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,p;c&8&&e!==(e=(((p=(m=r[3].conf)==null?void 0:m.network)==null?void 0:p.dns)??"DNS")+"")&&T(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&T(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function ur(t){var a,u;let e=(((u=(a=t[3].conf)==null?void 0:a.network)==null?void 0:u.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,p;c&8&&e!==(e=(((p=(m=r[3].conf)==null?void 0:m.network)==null?void 0:p.dns)??"DNS")+"")&&T(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&T(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function fr(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,a,u,r,c=t[1].net.dns1v6&&cr(t),m=t[1].net.dns2v6&&mr(t);return{c(){e=_("div"),l=S("IPv6: "),n=_("span"),s=S(i),a=h(),u=_("div"),c&&c.c(),r=h(),m&&m.c(),tn(n,"font-size","14px"),f(e,"class","my-2"),f(u,"class","my-2")},m(p,d){N(p,e,d),o(e,l),o(e,n),o(n,s),N(p,a,d),N(p,u,d),c&&c.m(u,null),o(u,r),m&&m.m(u,null)},p(p,d){d&2&&i!==(i=p[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&T(s,i),p[1].net.dns1v6?c?c.p(p,d):(c=cr(p),c.c(),c.m(u,r)):c&&(c.d(1),c=null),p[1].net.dns2v6?m?m.p(p,d):(m=mr(p),m.c(),m.m(u,null)):m&&(m.d(1),m=null)},d(p){p&&(M(e),M(a),M(u)),c&&c.d(),m&&m.d()}}}function cr(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=_("span"),i=S(n),tn(l,"font-size","14px")},m(s,a){N(s,e,a),N(s,l,a),o(l,i)},p(s,a){a&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&T(i,n)},d(s){s&&(M(e),M(l))}}}function mr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=_("span"),i=S(n),tn(l,"font-size","14px")},m(s,a){N(s,e,a),N(s,l,a),o(l,i)},p(s,a){a&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&T(i,n)},d(s){s&&(M(e),M(l))}}}function _r(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","my-2 text-green-600")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u&8&&l!==(l=(((c=(r=a[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&T(n,l)},d(a){a&&M(e)}}}function pr(t){var r,c,m,p;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,a=(((p=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:p[t[1].upgrade.e])??t[1].upgrade.e)+"",u;return{c(){e=_("div"),l=_("div"),i=S(n),s=h(),u=S(a),f(l,"class","bd-yellow"),f(e,"class","my-2")},m(d,b){N(d,e,b),o(e,l),o(l,i),o(l,s),o(l,u)},p(d,b){var k,g,w,v;b&10&&n!==(n=(((g=(k=d[3].status)==null?void 0:k.firmware)==null?void 0:g.failed)??"Upgrade from {0} to {1} failed").replace("{0}",d[1].upgrade.f).replace("{1}",d[1].upgrade.t)+"")&&T(i,n),b&10&&a!==(a=(((v=(w=d[3].errors)==null?void 0:w.upgrade)==null?void 0:v[d[1].upgrade.e])??d[1].upgrade.e)+"")&&T(u,a)},d(d){d&&M(e)}}}function dr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=_("div"),l=_("div"),n=S("Last HTTP status: "),s=S(i),f(l,"class","bd-gray text-xs"),f(e,"class","my-2")},m(a,u){N(a,e,u),o(e,l),o(l,n),o(l,s)},p(a,u){u&2&&i!==(i=a[1].upgrade.x+"")&&T(s,i)},d(a){a&&M(e)}}}function hr(t){var k,g;let e,l=(((g=(k=t[3].status)==null?void 0:k.firmware)==null?void 0:g.latest)??"Latest")+"",n,i,s,a=t[1].upgrade.n+"",u,r,c,m,p,d=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&br(t),b=t[1].fwconsent===2&&gr(t);return{c(){e=_("div"),n=S(l),i=S(`: 
                `),s=_("a"),u=S(a),c=h(),d&&d.c(),m=h(),b&&b.c(),p=tl(),f(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),f(s,"class","ml-2 text-blue-600 hover:text-blue-800"),f(s,"target","_blank"),f(s,"rel","noreferrer"),f(e,"class","my-2 flex")},m(w,v){N(w,e,v),o(e,n),o(e,i),o(e,s),o(s,u),o(e,c),d&&d.m(e,null),N(w,m,v),b&&b.m(w,v),N(w,p,v)},p(w,v){var E,D;v&8&&l!==(l=(((D=(E=w[3].status)==null?void 0:E.firmware)==null?void 0:D.latest)??"Latest")+"")&&T(n,l),v&2&&a!==(a=w[1].upgrade.n+"")&&T(u,a),v&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+w[1].upgrade.n)&&f(s,"href",r),(w[1].security==0||w[0].a)&&w[1].fwconsent===1&&w[1].upgrade.n&&w[1].upgrade.n!=w[1].version?d?d.p(w,v):(d=br(w),d.c(),d.m(e,null)):d&&(d.d(1),d=null),w[1].fwconsent===2?b?b.p(w,v):(b=gr(w),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},d(w){w&&(M(e),M(m),M(p)),d&&d.d(),b&&b.d(w)}}}function br(t){let e,l,n,i,s;return{c(){var a,u;e=_("div"),l=_("button"),l.textContent="⇓",f(e,"class","flex-none ml-2 text-green-500"),f(e,"title",n=((u=(a=t[3].status)==null?void 0:a.firmware)==null?void 0:u.install)??"Install")},m(a,u){N(a,e,u),o(e,l),i||(s=pe(l,"click",t[10]),i=!0)},p(a,u){var r,c;u&8&&n!==(n=((c=(r=a[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&f(e,"title",n)},d(a){a&&M(e),i=!1,s()}}}function gr(t){var s,a;let e,l,n=(((a=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:a.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=_("div"),l=_("div"),i=S(n),f(l,"class","bd-yellow"),f(e,"class","my-2")},m(u,r){N(u,e,r),o(e,l),o(l,i)},p(u,r){var c,m;r&8&&n!==(n=(((m=(c=u[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&T(i,n)},d(u){u&&M(e)}}}function vr(t){let e,l=lo($e(t[1].chip,t[1].board))+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(i,s){N(i,e,s),o(e,n)},p(i,s){s&2&&l!==(l=lo($e(i[1].chip,i[1].board))+"")&&T(n,l)},d(i){i&&M(e)}}}function kr(t){let e,l,n,i,s,a;function u(m,p){return m[5].length==0?vm:gm}let r=u(t),c=r(t);return{c(){e=_("div"),l=_("form"),n=_("input"),i=h(),c.c(),tn(n,"display","none"),f(n,"name","file"),f(n,"type","file"),f(n,"accept",".bin"),f(l,"action","firmware"),f(l,"enctype","multipart/form-data"),f(l,"method","post"),f(l,"autocomplete","off"),f(e,"class","my-2 flex")},m(m,p){N(m,e,p),o(e,l),o(l,n),t[13](n),o(l,i),c.m(l,null),s||(a=[pe(n,"change",t[14]),pe(l,"submit",t[16])],s=!0)},p(m,p){r===(r=u(m))&&c?c.p(m,p):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&M(e),t[13](null),c.d(),s=!1,Vt(a)}}}function gm(t){var u;let e=t[5][0].name+"",l,n,i,s=(((u=t[3].btn)==null?void 0:u.upload)??"Upload")+"",a;return{c(){l=S(e),n=h(),i=_("button"),a=S(s),f(i,"type","submit"),f(i,"class","btn-pri-sm float-right ml-2")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),o(i,a)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&T(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&T(a,s)},d(r){r&&(M(l),M(n),M(i))}}}function vm(t){var a,u;let e,l=(((u=(a=t[3].status)==null?void 0:a.firmware)==null?void 0:u.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","btn-pri-sm float-right")},m(r,c){N(r,e,c),o(e,n),i||(s=pe(e,"click",t[15]),i=!0)},p(r,c){var m,p;c&8&&l!==(l=(((p=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:p.btn_select_file)??"Select file")+"")&&T(n,l)},d(r){r&&M(e),i=!1,s()}}}function wr(t){var W,R,I,z,Q,Z;let e,l,n=(((R=(W=t[3].status)==null?void 0:W.backup)==null?void 0:R.title)??"Backup")+"",i,s,a,u,r,c,m,p,d=(((z=(I=t[3].status)==null?void 0:I.backup)==null?void 0:z.secrets)??"Include secrets")+"",b,k,g,w=(((Z=(Q=t[3].status)==null?void 0:Q.backup)==null?void 0:Z.secrets_desc)??"")+"",v,E,D,B,A,U,q,j,K=st(t[9]),G=[];for(let V=0;V<K.length;V+=1)G[V]=Sr(lr(t,K,V));let Y=t[2].length==0&&yr(t);function X(V,ne){return V[2].length==0?wm:km}let L=X(t),y=L(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("form"),u=_("div");for(let V=0;V<G.length;V+=1)G[V].c();r=h(),c=_("label"),m=_("input"),p=h(),b=S(d),k=_("br"),g=_("small"),v=S(w),E=h(),Y&&Y.c(),D=h(),B=_("form"),A=_("input"),U=h(),y.c(),f(l,"class","text-sm"),f(m,"type","checkbox"),f(m,"class","rounded"),f(m,"name","ic"),m.value="true",f(c,"class","my-1 mx-3 col-span-2"),f(u,"class","grid grid-cols-2"),f(a,"method","get"),f(a,"action","configfile.cfg"),f(a,"autocomplete","off"),tn(A,"display","none"),f(A,"name","file"),f(A,"type","file"),f(A,"accept",".cfg"),f(B,"autocomplete","off"),f(e,"class","cnt")},m(V,ne){N(V,e,ne),o(e,l),o(l,i),o(e,s),o(e,a),o(a,u);for(let fe=0;fe<G.length;fe+=1)G[fe]&&G[fe].m(u,null);o(u,r),o(u,c),o(c,m),o(c,p),o(c,b),o(c,k),o(c,g),o(g,v),o(a,E),Y&&Y.m(a,null),o(e,D),o(e,B),o(B,A),t[17](A),o(B,U),y.m(B,null),q||(j=[pe(A,"change",t[18]),pe(B,"submit",mn(t[12]))],q=!0)},p(V,ne){var fe,oe,ie,re,x,$;if(ne&8&&n!==(n=(((oe=(fe=V[3].status)==null?void 0:fe.backup)==null?void 0:oe.title)??"Backup")+"")&&T(i,n),ne&520){K=st(V[9]);let te;for(te=0;te<K.length;te+=1){const ge=lr(V,K,te);G[te]?G[te].p(ge,ne):(G[te]=Sr(ge),G[te].c(),G[te].m(u,r))}for(;te<G.length;te+=1)G[te].d(1);G.length=K.length}ne&8&&d!==(d=(((re=(ie=V[3].status)==null?void 0:ie.backup)==null?void 0:re.secrets)??"Include secrets")+"")&&T(b,d),ne&8&&w!==(w=((($=(x=V[3].status)==null?void 0:x.backup)==null?void 0:$.secrets_desc)??"")+"")&&T(v,w),V[2].length==0?Y?Y.p(V,ne):(Y=yr(V),Y.c(),Y.m(a,null)):Y&&(Y.d(1),Y=null),L===(L=X(V))&&y?y.p(V,ne):(y.d(1),y=L(V),y&&(y.c(),y.m(B,null)))},d(V){V&&M(e),el(G,V),Y&&Y.d(),t[17](null),y.d(),q=!1,Vt(j)}}}function Sr(t){var a,u;let e,l,n,i=(((u=(a=t[3].status)==null?void 0:a.backup)==null?void 0:u[t[21].key])??t[21].name)+"",s;return{c(){e=_("label"),l=_("input"),n=h(),s=S(i),f(l,"type","checkbox"),f(l,"class","rounded"),f(l,"name",t[21].key),l.value="true",l.checked=!0,f(e,"class","my-1 mx-3")},m(r,c){N(r,e,c),o(e,l),o(e,n),o(e,s)},p(r,c){var m,p;c&8&&i!==(i=(((p=(m=r[3].status)==null?void 0:m.backup)==null?void 0:p[r[21].key])??r[21].name)+"")&&T(s,i)},d(r){r&&M(e)}}}function yr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=_("button"),n=S(l),f(e,"type","submit"),f(e,"class","btn-pri-sm float-right")},m(a,u){N(a,e,u),o(e,n)},p(a,u){var r,c;u&8&&l!==(l=(((c=(r=a[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&T(n,l)},d(a){a&&M(e)}}}function km(t){var u;let e=t[2][0].name+"",l,n,i,s=(((u=t[3].btn)==null?void 0:u.upload)??"Upload")+"",a;return{c(){l=S(e),n=h(),i=_("button"),a=S(s),f(i,"type","submit"),f(i,"class","btn-pri-sm")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),o(i,a)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&T(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&T(a,s)},d(r){r&&(M(l),M(n),M(i))}}}function wm(t){var a,u;let e,l=(((u=(a=t[3].status)==null?void 0:a.backup)==null?void 0:u.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","btn-pri-sm")},m(r,c){N(r,e,c),o(e,n),i||(s=pe(e,"click",t[19]),i=!0)},p(r,c){var m,p;c&8&&l!==(l=(((p=(m=r[3].status)==null?void 0:m.backup)==null?void 0:p.btn_select_file)??"Select file")+"")&&T(n,l)},d(r){r&&M(e),i=!1,s()}}}function Sm(t){var lt,gt,pt,Dt,Tt,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe;let e,l,n,i=(((lt=t[3].status)==null?void 0:lt.device.title)??"Device")+"",s,a,u,r=(((pt=(gt=t[3].status)==null?void 0:gt.device)==null?void 0:pt.chip)??"Chip")+"",c,m,p=t[1].chip+"",d,b,k,g,w=(((Tt=(Dt=t[3].status)==null?void 0:Dt.device)==null?void 0:Tt.device)??"Device")+"",v,E,D,B,A,U=(((dt=(ot=t[3].status)==null?void 0:ot.device)==null?void 0:dt.mac)??"MAC")+"",q,j,K=t[1].mac+"",G,Y,X,L,y,W,R,I,z=(((ct=(Ht=t[3].status)==null?void 0:Ht.firmware)==null?void 0:ct.title)??"Firmware")+"",Q,Z,V,ne=(((Xe=(Oe=t[3].status)==null?void 0:Oe.firmware)==null?void 0:Xe.installed)??"Installed")+"",fe,oe,ie=t[1].version+"",re,x,$,te,ge,ke,P=(t[1].security==0||t[0].a)&&Hn(t[1].board),C,F,O,H,le,ae,ce,ue=t[1].cpu&&nr(t);D=new Sl({props:{to:"/vendor",$$slots:{default:[pm]},$$scope:{ctx:t}}});let me=t[1].apmac&&t[1].apmac!=t[1].mac&&ir(t),Se=((Ft=t[0])==null?void 0:Ft.a)&&sr(t),we=t[1].meter&&or(t),Te=t[1].net&&ar(t),Ie=((at=t[1].upgrade)==null?void 0:at.m)===!0&&_r(t),Ue=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&pr(t),Ve=((xe=t[1].upgrade)==null?void 0:xe.x)!==void 0&&t[1].upgrade.x!==-1&&dr(t),Ye=t[1].upgrade.n&&hr(t),he=P&&vr(t),ve=(t[1].security==0||t[0].a)&&kr(t),He=(t[1].security==0||t[0].a)&&wr(t);return H=new pl({props:{active:t[6],message:((We=(Ne=t[3].status)==null?void 0:Ne.mask)==null?void 0:We.firmware)??"Uploading"}}),ae=new pl({props:{active:t[8],message:((Qe=(Je=t[3].status)==null?void 0:Je.mask)==null?void 0:Qe.config)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=S(i),a=h(),u=_("div"),c=S(r),m=S(": "),d=S(p),b=h(),ue&&ue.c(),k=h(),g=_("div"),v=S(w),E=S(": "),Me(D.$$.fragment),B=h(),A=_("div"),q=S(U),j=S(": "),G=S(K),Y=h(),me&&me.c(),X=h(),Se&&Se.c(),L=h(),we&&we.c(),y=h(),Te&&Te.c(),W=h(),R=_("div"),I=_("strong"),Q=S(z),Z=h(),V=_("div"),fe=S(ne),oe=S(": "),re=S(ie),x=h(),Ie&&Ie.c(),$=h(),Ue&&Ue.c(),te=h(),Ve&&Ve.c(),ge=h(),Ye&&Ye.c(),ke=h(),he&&he.c(),C=h(),ve&&ve.c(),F=h(),He&&He.c(),O=h(),Me(H.$$.fragment),le=h(),Me(ae.$$.fragment),f(n,"class","text-sm"),f(u,"class","my-2"),f(g,"class","my-2"),f(A,"class","my-2"),f(l,"class","cnt"),f(I,"class","text-sm"),f(V,"class","my-2"),f(R,"class","cnt"),f(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(de,qe){N(de,e,qe),o(e,l),o(l,n),o(n,s),o(l,a),o(l,u),o(u,c),o(u,m),o(u,d),o(u,b),ue&&ue.m(u,null),o(l,k),o(l,g),o(g,v),o(g,E),ye(D,g,null),o(l,B),o(l,A),o(A,q),o(A,j),o(A,G),o(l,Y),me&&me.m(l,null),o(l,X),Se&&Se.m(l,null),o(e,L),we&&we.m(e,null),o(e,y),Te&&Te.m(e,null),o(e,W),o(e,R),o(R,I),o(I,Q),o(R,Z),o(R,V),o(V,fe),o(V,oe),o(V,re),o(R,x),Ie&&Ie.m(R,null),o(R,$),Ue&&Ue.m(R,null),o(R,te),Ve&&Ve.m(R,null),o(R,ge),Ye&&Ye.m(R,null),o(R,ke),he&&he.m(R,null),o(R,C),ve&&ve.m(R,null),o(e,F),He&&He.m(e,null),N(de,O,qe),ye(H,de,qe),N(de,le,qe),ye(ae,de,qe),ce=!0},p(de,[qe]){var Ge,rt,Fe,Ee,Re,Le,De,et,it,ut,wt,Rt,Gt,kt,jt,sl,Bt,nt;(!ce||qe&8)&&i!==(i=(((Ge=de[3].status)==null?void 0:Ge.device.title)??"Device")+"")&&T(s,i),(!ce||qe&8)&&r!==(r=(((Fe=(rt=de[3].status)==null?void 0:rt.device)==null?void 0:Fe.chip)??"Chip")+"")&&T(c,r),(!ce||qe&2)&&p!==(p=de[1].chip+"")&&T(d,p),de[1].cpu?ue?ue.p(de,qe):(ue=nr(de),ue.c(),ue.m(u,null)):ue&&(ue.d(1),ue=null),(!ce||qe&8)&&w!==(w=(((Re=(Ee=de[3].status)==null?void 0:Ee.device)==null?void 0:Re.device)??"Device")+"")&&T(v,w);const bt={};qe&16777218&&(bt.$$scope={dirty:qe,ctx:de}),D.$set(bt),(!ce||qe&8)&&U!==(U=(((De=(Le=de[3].status)==null?void 0:Le.device)==null?void 0:De.mac)??"MAC")+"")&&T(q,U),(!ce||qe&2)&&K!==(K=de[1].mac+"")&&T(G,K),de[1].apmac&&de[1].apmac!=de[1].mac?me?(me.p(de,qe),qe&2&&ee(me,1)):(me=ir(de),me.c(),ee(me,1),me.m(l,X)):me&&(At(),se(me,1,1,()=>{me=null}),qt()),(et=de[0])!=null&&et.a?Se?(Se.p(de,qe),qe&1&&ee(Se,1)):(Se=sr(de),Se.c(),ee(Se,1),Se.m(l,null)):Se&&(At(),se(Se,1,1,()=>{Se=null}),qt()),de[1].meter?we?we.p(de,qe):(we=or(de),we.c(),we.m(e,y)):we&&(we.d(1),we=null),de[1].net?Te?Te.p(de,qe):(Te=ar(de),Te.c(),Te.m(e,W)):Te&&(Te.d(1),Te=null),(!ce||qe&8)&&z!==(z=(((ut=(it=de[3].status)==null?void 0:it.firmware)==null?void 0:ut.title)??"Firmware")+"")&&T(Q,z),(!ce||qe&8)&&ne!==(ne=(((Rt=(wt=de[3].status)==null?void 0:wt.firmware)==null?void 0:Rt.installed)??"Installed")+"")&&T(fe,ne),(!ce||qe&2)&&ie!==(ie=de[1].version+"")&&T(re,ie),((Gt=de[1].upgrade)==null?void 0:Gt.m)===!0?Ie?Ie.p(de,qe):(Ie=_r(de),Ie.c(),Ie.m(R,$)):Ie&&(Ie.d(1),Ie=null),de[1].upgrade.t&&de[1].upgrade.t!=de[1].version&&de[1].upgrade.e!=0&&de[1].upgrade.e!=123?Ue?Ue.p(de,qe):(Ue=pr(de),Ue.c(),Ue.m(R,te)):Ue&&(Ue.d(1),Ue=null),((kt=de[1].upgrade)==null?void 0:kt.x)!==void 0&&de[1].upgrade.x!==-1?Ve?Ve.p(de,qe):(Ve=dr(de),Ve.c(),Ve.m(R,ge)):Ve&&(Ve.d(1),Ve=null),de[1].upgrade.n?Ye?Ye.p(de,qe):(Ye=hr(de),Ye.c(),Ye.m(R,ke)):Ye&&(Ye.d(1),Ye=null),qe&3&&(P=(de[1].security==0||de[0].a)&&Hn(de[1].board)),P?he?he.p(de,qe):(he=vr(de),he.c(),he.m(R,C)):he&&(he.d(1),he=null),de[1].security==0||de[0].a?ve?ve.p(de,qe):(ve=kr(de),ve.c(),ve.m(R,null)):ve&&(ve.d(1),ve=null),de[1].security==0||de[0].a?He?He.p(de,qe):(He=wr(de),He.c(),He.m(e,null)):He&&(He.d(1),He=null);const Ut={};qe&64&&(Ut.active=de[6]),qe&8&&(Ut.message=((sl=(jt=de[3].status)==null?void 0:jt.mask)==null?void 0:sl.firmware)??"Uploading"),H.$set(Ut);const vt={};qe&256&&(vt.active=de[8]),qe&8&&(vt.message=((nt=(Bt=de[3].status)==null?void 0:Bt.mask)==null?void 0:nt.config)??"Uploading"),ae.$set(vt)},i(de){ce||(ee(D.$$.fragment,de),ee(me),ee(Se),ee(H.$$.fragment,de),ee(ae.$$.fragment,de),ce=!0)},o(de){se(D.$$.fragment,de),se(me),se(Se),se(H.$$.fragment,de),se(ae.$$.fragment,de),ce=!1},d(de){de&&(M(e),M(O),M(le)),ue&&ue.d(),Ce(D),me&&me.d(),Se&&Se.d(),we&&we.d(),Te&&Te.d(),Ie&&Ie.d(),Ue&&Ue.d(),Ve&&Ve.d(),Ye&&Ye.d(),he&&he.d(),ve&&ve.d(),He&&He.d(),Ce(H,de),Ce(ae,de)}}}async function ym(){await(await fetch("reboot",{method:"POST"})).json()}function Cm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],a={};Nl.subscribe(j=>{l(3,a=j)});function u(){var j;confirm((((j=a.header)==null?void 0:j.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(af(i.upgrade.n),ml.update(K=>(K.upgrade.t=i.upgrade.n,K.upgrade.p=0,K.upgrading=!0,K)))}const r=function(){var j;confirm(((j=a.device)==null?void 0:j.reboot_confirm)??"Reboot?")&&(ml.update(K=>(K.booting=!0,K)),ym())};let c,m=[],p=!1,d,b=[],k=!1;ki();let g={hostname:"",ip:""};function w(j){l(8,k=!0);const K=new FormData;K.append("file",b[0]),fetch("configfile",{method:"POST",body:K}).then(G=>G.json()).then(G=>{ml.update(Y=>(g&&g.hostname&&(Y.hostname=g.hostname),Y.booting=G.reboot,g&&g.ip&&(Y.net.ip=g.ip),setTimeout(un,5e3,i),Y))}).catch(G=>{console.error("Error:",G),setTimeout(un,5e3,i)})}function v(j){pi[j?"unshift":"push"](()=>{c=j,l(4,c)})}function E(){m=this.files,l(5,m)}const D=()=>{c.click()},B=()=>l(6,p=!0);function A(j){pi[j?"unshift":"push"](()=>{d=j,l(7,d)})}function U(){b=this.files,l(2,b)}const q=()=>{d.click()};return t.$$set=j=>{"data"in j&&l(0,n=j.data),"sysinfo"in j&&l(1,i=j.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&b.length==1){let j=b[0],K=new FileReader,G=Y=>{let X=Y.target.result.split(`
`);for(let L in X){let y=X[L];y.startsWith("hostname ")?g.hostname=y.split(" ")[1]:y.startsWith("ip ")&&(g.ip=y.split(" ")[1])}};K.onload=G,K.readAsText(j)}},[n,i,b,a,c,m,p,d,k,s,u,r,w,v,E,D,B,A,U,q]}class Mm extends Ot{constructor(e){super(),It(this,e,Cm,Sm,Lt,{data:0,sysinfo:1})}}function Cr(t){let e,l,n=$e(t[0],7)+"",i,s,a=$e(t[0],5)+"",u,r,c=$e(t[0],4)+"",m,p,d=$e(t[0],3)+"",b,k,g,w,v=$e(t[0],2)+"",E,D,B=$e(t[0],1)+"",A,U,q=$e(t[0],0)+"",j,K,G,Y,X=$e(t[0],101)+"",L,y,W=$e(t[0],100)+"",R;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(a),r=_("option"),m=S(c),p=_("option"),b=S(d),k=h(),g=_("optgroup"),w=_("option"),E=S(v),D=_("option"),A=S(B),U=_("option"),j=S(q),K=h(),G=_("optgroup"),Y=_("option"),L=S(X),y=_("option"),R=S(W),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),p.__value=3,J(p,p.__value),f(e,"label","amsleser.no"),w.__value=2,J(w,w.__value),D.__value=1,J(D,D.__value),U.__value=0,J(U,U.__value),f(g,"label","Custom hardware"),Y.__value=101,J(Y,Y.__value),y.__value=100,J(y,y.__value),f(G,"label","Generic hardware")},m(I,z){N(I,e,z),o(e,l),o(l,i),o(e,s),o(s,u),o(e,r),o(r,m),o(e,p),o(p,b),N(I,k,z),N(I,g,z),o(g,w),o(w,E),o(g,D),o(D,A),o(g,U),o(U,j),N(I,K,z),N(I,G,z),o(G,Y),o(Y,L),o(G,y),o(y,R)},p(I,z){z&1&&n!==(n=$e(I[0],7)+"")&&T(i,n),z&1&&a!==(a=$e(I[0],5)+"")&&T(u,a),z&1&&c!==(c=$e(I[0],4)+"")&&T(m,c),z&1&&d!==(d=$e(I[0],3)+"")&&T(b,d),z&1&&v!==(v=$e(I[0],2)+"")&&T(E,v),z&1&&B!==(B=$e(I[0],1)+"")&&T(A,B),z&1&&q!==(q=$e(I[0],0)+"")&&T(j,q),z&1&&X!==(X=$e(I[0],101)+"")&&T(L,X),z&1&&W!==(W=$e(I[0],100)+"")&&T(R,W)},d(I){I&&(M(e),M(k),M(g),M(K),M(G))}}}function Mr(t){let e,l,n=$e(t[0],201)+"",i,s,a=$e(t[0],202)+"",u,r,c=$e(t[0],203)+"",m,p,d=$e(t[0],241)+"",b,k,g=$e(t[0],242)+"",w,v,E=$e(t[0],243)+"",D,B,A=$e(t[0],245)+"",U,q,j=$e(t[0],200)+"",K;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(a),r=_("option"),m=S(c),p=_("option"),b=S(d),k=_("option"),w=S(g),v=_("option"),D=S(E),B=_("option"),U=S(A),q=_("option"),K=S(j),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),p.__value=241,J(p,p.__value),k.__value=242,J(k,k.__value),v.__value=243,J(v,v.__value),B.__value=245,J(B,B.__value),q.__value=200,J(q,q.__value),f(e,"label","Generic hardware")},m(G,Y){N(G,e,Y),o(e,l),o(l,i),o(e,s),o(s,u),o(e,r),o(r,m),o(e,p),o(p,b),o(e,k),o(k,w),o(e,v),o(v,D),o(e,B),o(B,U),o(e,q),o(q,K)},p(G,Y){Y&1&&n!==(n=$e(G[0],201)+"")&&T(i,n),Y&1&&a!==(a=$e(G[0],202)+"")&&T(u,a),Y&1&&c!==(c=$e(G[0],203)+"")&&T(m,c),Y&1&&d!==(d=$e(G[0],241)+"")&&T(b,d),Y&1&&g!==(g=$e(G[0],242)+"")&&T(w,g),Y&1&&E!==(E=$e(G[0],243)+"")&&T(D,E),Y&1&&A!==(A=$e(G[0],245)+"")&&T(U,A),Y&1&&j!==(j=$e(G[0],200)+"")&&T(K,j)},d(G){G&&M(e)}}}function Nr(t){let e,l,n=$e(t[0],7)+"",i,s,a=$e(t[0],6)+"",u,r,c=$e(t[0],5)+"",m,p,d,b,k=$e(t[0],51)+"",g,w,v=$e(t[0],50)+"",E;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(a),r=_("option"),m=S(c),p=h(),d=_("optgroup"),b=_("option"),g=S(k),w=_("option"),E=S(v),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),f(e,"label","amsleser.no"),b.__value=51,J(b,b.__value),w.__value=50,J(w,w.__value),f(d,"label","Generic hardware")},m(D,B){N(D,e,B),o(e,l),o(l,i),o(e,s),o(s,u),o(e,r),o(r,m),N(D,p,B),N(D,d,B),o(d,b),o(b,g),o(d,w),o(w,E)},p(D,B){B&1&&n!==(n=$e(D[0],7)+"")&&T(i,n),B&1&&a!==(a=$e(D[0],6)+"")&&T(u,a),B&1&&c!==(c=$e(D[0],5)+"")&&T(m,c),B&1&&k!==(k=$e(D[0],51)+"")&&T(g,k),B&1&&v!==(v=$e(D[0],50)+"")&&T(E,v)},d(D){D&&(M(e),M(p),M(d))}}}function Pr(t){let e,l,n=$e(t[0],8)+"",i,s,a,u,r=$e(t[0],71)+"",c,m,p=$e(t[0],70)+"",d;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=h(),a=_("optgroup"),u=_("option"),c=S(r),m=_("option"),d=S(p),l.__value=8,J(l,l.__value),f(e,"label","Custom hardware"),u.__value=71,J(u,u.__value),m.__value=70,J(m,m.__value),f(a,"label","Generic hardware")},m(b,k){N(b,e,k),o(e,l),o(l,i),N(b,s,k),N(b,a,k),o(a,u),o(u,c),o(a,m),o(m,d)},p(b,k){k&1&&n!==(n=$e(b[0],8)+"")&&T(i,n),k&1&&r!==(r=$e(b[0],71)+"")&&T(c,r),k&1&&p!==(p=$e(b[0],70)+"")&&T(d,p)},d(b){b&&(M(e),M(s),M(a))}}}function Tr(t){let e,l,n=$e(t[0],200)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=S(n),l.__value=200,J(l,l.__value),f(e,"label","Generic hardware")},m(s,a){N(s,e,a),o(e,l),o(l,i)},p(s,a){a&1&&n!==(n=$e(s[0],200)+"")&&T(i,n)},d(s){s&&M(e)}}}function Er(t){let e,l,n=$e(t[0],80)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=S(n),l.__value=80,J(l,l.__value),f(e,"label","Generic hardware")},m(s,a){N(s,e,a),o(e,l),o(l,i)},p(s,a){a&1&&n!==(n=$e(s[0],80)+"")&&T(i,n)},d(s){s&&M(e)}}}function Nm(t){let e,l,n,i,s,a,u,r,c=t[0]=="esp8266"&&Cr(t),m=t[0]=="esp32"&&Mr(t),p=t[0]=="esp32s2"&&Nr(t),d=t[0]=="esp32c3"&&Pr(t),b=t[0]=="esp32solo"&&Tr(t),k=t[0]=="esp32s3"&&Er(t);return{c(){e=_("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),p&&p.c(),s=h(),d&&d.c(),a=h(),b&&b.c(),u=h(),k&&k.c(),r=tl(),e.__value=-1,J(e,e.__value)},m(g,w){N(g,e,w),N(g,l,w),c&&c.m(g,w),N(g,n,w),m&&m.m(g,w),N(g,i,w),p&&p.m(g,w),N(g,s,w),d&&d.m(g,w),N(g,a,w),b&&b.m(g,w),N(g,u,w),k&&k.m(g,w),N(g,r,w)},p(g,[w]){g[0]=="esp8266"?c?c.p(g,w):(c=Cr(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?m?m.p(g,w):(m=Mr(g),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]=="esp32s2"?p?p.p(g,w):(p=Nr(g),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),g[0]=="esp32c3"?d?d.p(g,w):(d=Pr(g),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null),g[0]=="esp32solo"?b?b.p(g,w):(b=Tr(g),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null),g[0]=="esp32s3"?k?k.p(g,w):(k=Er(g),k.c(),k.m(r.parentNode,r)):k&&(k.d(1),k=null)},i:Ke,o:Ke,d(g){g&&(M(e),M(l),M(n),M(i),M(s),M(a),M(u),M(r)),c&&c.d(g),m&&m.d(g),p&&p.d(g),d&&d.d(g),b&&b.d(g),k&&k.d(g)}}}function Pm(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class Tm extends Ot{constructor(e){super(),It(this,e,Pm,Nm,Lt,{chip:0})}}function Ar(t){let e;return{c(){e=_("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",f(e,"class","bd-red")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function qr(t){let e,l,n,i,s,a,u;return a=new P1({props:{chip:t[0].chip}}),{c(){e=_("div"),l=S("HAN GPIO"),n=_("br"),i=h(),s=_("select"),Me(a.$$.fragment),f(s,"name","vh"),f(s,"class","in-s"),f(e,"class","my-3")},m(r,c){N(r,e,c),o(e,l),o(e,n),o(e,i),o(e,s),ye(a,s,null),u=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),a.$set(m)},i(r){u||(ee(a.$$.fragment,r),u=!0)},o(r){se(a.$$.fragment,r),u=!1},d(r){r&&M(e),Ce(a)}}}function Em(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X,L,y=t[0].usrcfg&&Ar();k=new Tm({props:{chip:t[0].chip}});let W=t[0].board&&t[0].board>20&&qr(t);return G=new pl({props:{active:t[1],message:"Saving"}}),{c(){e=_("div"),l=_("div"),n=_("form"),i=_("input"),s=h(),a=_("strong"),a.textContent="Initial configuration",u=h(),y&&y.c(),r=h(),c=_("div"),m=S("Board type"),p=_("br"),d=h(),b=_("select"),Me(k.$$.fragment),g=h(),W&&W.c(),w=h(),v=_("div"),E=_("label"),D=_("input"),B=S(" Clear all other configuration"),A=h(),U=_("div"),U.innerHTML='<button type="submit" class="btn-pri">Save</button>',q=h(),j=_("span"),j.textContent=" ",K=h(),Me(G.$$.fragment),f(i,"type","hidden"),f(i,"name","v"),i.value="true",f(a,"class","text-sm"),f(b,"name","vb"),f(b,"class","in-s"),t[0].board===void 0&&Jt(()=>t[5].call(b)),f(c,"class","my-3"),f(D,"type","checkbox"),f(D,"name","vr"),D.__value="true",J(D,D.__value),f(D,"class","rounded mb-1"),f(v,"class","my-3"),f(U,"class","my-3"),f(j,"class","clear-both"),f(n,"autocomplete","off"),f(l,"class","cnt"),f(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(R,I){N(R,e,I),o(e,l),o(l,n),o(n,i),o(n,s),o(n,a),o(n,u),y&&y.m(n,null),o(n,r),o(n,c),o(c,m),o(c,p),o(c,d),o(c,b),ye(k,b,null),ft(b,t[0].board,!0),o(n,g),W&&W.m(n,null),o(n,w),o(n,v),o(v,E),o(E,D),D.checked=t[2],o(E,B),o(n,A),o(n,U),o(n,q),o(n,j),N(R,K,I),ye(G,R,I),Y=!0,X||(L=[pe(b,"change",t[5]),pe(D,"change",t[6]),pe(n,"submit",mn(t[3]))],X=!0)},p(R,[I]){R[0].usrcfg?y||(y=Ar(),y.c(),y.m(n,r)):y&&(y.d(1),y=null);const z={};I&1&&(z.chip=R[0].chip),k.$set(z),I&1&&ft(b,R[0].board),R[0].board&&R[0].board>20?W?(W.p(R,I),I&1&&ee(W,1)):(W=qr(R),W.c(),ee(W,1),W.m(n,w)):W&&(At(),se(W,1,1,()=>{W=null}),qt()),I&4&&(D.checked=R[2]);const Q={};I&2&&(Q.active=R[1]),G.$set(Q)},i(R){Y||(ee(k.$$.fragment,R),ee(W),ee(G.$$.fragment,R),Y=!0)},o(R){se(k.$$.fragment,R),se(W),se(G.$$.fragment,R),Y=!1},d(R){R&&(M(e),M(K)),y&&y.d(),Ce(k),W&&W.d(),Ce(G,R),X=!1,Vt(L)}}}function Am(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function a(m){l(1,s=!0);const p=new FormData(m.target),d=new URLSearchParams;for(let g of p){const[w,v]=g;d.append(w,v)}let k=await(await fetch("save",{method:"POST",body:d})).json();l(1,s=!1),ml.update(g=>(g.vndcfg=k.success,g.booting=k.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),jl(n+(i.usrcfg?"":"setup"))}let u=!0;ml.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,u=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){u=this.checked,l(2,u)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,u,a,n,r,c]}class qm extends Ot{constructor(e){super(),It(this,e,Am,Em,Lt,{basepath:4,sysinfo:0})}}function Lr(t,e,l){const n=t.slice();return n[33]=e[l],n}function Dr(t,e,l){const n=t.slice();return n[36]=e[l],n[38]=l,n}function Lm(t){var u;let e,l,n=((u=t[1])==null?void 0:u.c)==-1&&Ir(t);function i(r,c){var m,p,d;if((p=(m=r[1])==null?void 0:m.n)!=null&&p.length)return Om;if(((d=r[1])==null?void 0:d.c)!=-1)return Im}let s=i(t),a=s&&s(t);return{c(){n&&n.c(),e=h(),a&&a.c(),l=tl()},m(r,c){n&&n.m(r,c),N(r,e,c),a&&a.m(r,c),N(r,l,c)},p(r,c){var m;((m=r[1])==null?void 0:m.c)==-1?n?n.p(r,c):(n=Ir(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s===(s=i(r))&&a?a.p(r,c):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(l.parentNode,l)))},d(r){r&&(M(e),M(l)),n&&n.d(r),a&&a.d(r)}}}function Dm(t){let e;return{c(){e=_("input"),f(e,"name","ss"),f(e,"type","text"),f(e,"pattern",Yn),f(e,"placeholder","Enter network name (SSID)"),f(e,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),e.required=vs==1},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Ir(t){var u,r;let e,l,n,i,s=(((r=(u=t[3].conf)==null?void 0:u.connection)==null?void 0:r.searching)??"Scanning for networks...")+"",a;return{c(){e=_("div"),l=_("div"),n=h(),i=_("span"),a=S(s),f(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"),f(i,"class","text-sm"),f(e,"class","flex items-center justify-center py-8 text-slate-500 dark:text-slate-400")},m(c,m){N(c,e,m),o(e,l),o(e,n),o(e,i),o(i,a)},p(c,m){var p,d;m[0]&8&&s!==(s=(((d=(p=c[3].conf)==null?void 0:p.connection)==null?void 0:d.searching)??"Scanning for networks...")+"")&&T(a,s)},d(c){c&&M(e)}}}function Im(t){var d,b;let e,l,n,i,s,a=(((b=(d=t[3].conf)==null?void 0:d.connection)==null?void 0:b.no_networks)??"No networks found")+"",u,r,c,m,p;return{c(){e=_("div"),l=Pt("svg"),n=Pt("path"),i=h(),s=_("p"),u=S(a),r=h(),c=_("button"),c.textContent="Enter network manually",f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),f(l,"class","w-12 h-12 mx-auto mb-3 opacity-50"),f(l,"fill","none"),f(l,"stroke","currentColor"),f(l,"viewBox","0 0 24 24"),f(s,"class","text-sm"),f(c,"type","button"),f(c,"class","mt-2 text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"),f(e,"class","text-center py-8 text-slate-500 dark:text-slate-400")},m(k,g){N(k,e,g),o(e,l),o(l,n),o(e,i),o(e,s),o(s,u),o(e,r),o(e,c),m||(p=pe(c,"click",t[16]),m=!0)},p(k,g){var w,v;g[0]&8&&a!==(a=(((v=(w=k[3].conf)==null?void 0:w.connection)==null?void 0:v.no_networks)??"No networks found")+"")&&T(u,a)},d(k){k&&M(e),m=!1,p()}}}function Om(t){let e,l=[],n=new Map,i=st(t[1].n);const s=a=>a[36].s??a[38];for(let a=0;a<i.length;a+=1){let u=Dr(t,i,a),r=s(u);n.set(r,l[a]=Fr(r,u))}return{c(){e=_("div");for(let a=0;a<l.length;a+=1)l[a].c();f(e,"class","space-y-2 max-h overflow-y-auto")},m(a,u){N(a,e,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,u){u[0]&906&&(i=st(a[1].n),l=yu(l,u,s,1,a,i,n,e,Su,Fr,null,Dr))},d(a){a&&M(e);for(let u=0;u<l.length;u+=1)l[u].d()}}}function Or(t){let e;return{c(){e=_("div"),f(e,"class","w-2 h-2 bg-blue-600 rounded-full")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Fr(t,e){var X,L,y,W,R;let l,n,i,s,a=!1,u,r,c,m=(e[36].s||(((L=(X=e[3].conf)==null?void 0:X.connection)==null?void 0:L.hidden_ssid)??"Hidden network"))+"",p,d,b,k=(((y=e[7][e[38]])==null?void 0:y.title)??((R=(W=e[3].conf)==null?void 0:W.connection)==null?void 0:R.wifi_offline)??"Signal unavailable")+"",g,w,v,E,D,B,A,U,q,j,K,G,Y=e[8]===e[36].s&&Or();return j=_i(e[15][0]),{key:t,first:null,c(){var I,z,Q;l=_("label"),n=_("span"),i=_("input"),u=h(),r=_("span"),c=_("span"),p=S(m),d=h(),b=_("span"),g=S(k),w=h(),v=_("div"),E=_("img"),U=h(),Y&&Y.c(),q=h(),f(i,"type","radio"),f(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),f(i,"name","ss"),i.__value=s=e[36].s,J(i,i.__value),i.required=vs==1,f(c,"class","font-medium text-slate-900 dark:text-slate-100 truncate"),f(b,"class","text-xs text-slate-500 dark:text-slate-400"),f(r,"class","flex flex-col min-w-0 flex-1"),f(n,"class","flex items-center gap-3 flex-1 min-w-0"),f(E,"class","h-5 w-5 opacity-70 group-hover:opacity-100"),fn(E.src,D=((I=e[7][e[38]])==null?void 0:I.icon)??e[9].off)||f(E,"src",D),f(E,"alt",B=((z=e[7][e[38]])==null?void 0:z.title)??"Wi-Fi offline"),f(E,"title",A=((Q=e[7][e[38]])==null?void 0:Q.title)??"Wi-Fi offline"),f(v,"class","flex items-center gap-2 flex-shrink-0"),f(l,"class","group flex items-center justify-between gap-4 rounded-lg border border-slate-200 bg-slate-50/50 px-4 py-3 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/50 dark:hover:border-blue-300 dark:hover:bg-slate-700 cursor-pointer"),j.p(i),this.first=l},m(I,z){N(I,l,z),o(l,n),o(n,i),i.checked=i.__value===e[8],o(n,u),o(n,r),o(r,c),o(c,p),o(r,d),o(r,b),o(b,g),o(l,w),o(l,v),o(v,E),o(v,U),Y&&Y.m(v,null),o(l,q),K||(G=pe(i,"change",e[14]),K=!0)},p(I,z){var Q,Z,V,ne,fe,oe,ie,re;e=I,z[0]&2&&s!==(s=e[36].s)&&(i.__value=s,J(i,i.__value),a=!0),(a||z[0]&258)&&(i.checked=i.__value===e[8]),z[0]&10&&m!==(m=(e[36].s||(((Z=(Q=e[3].conf)==null?void 0:Q.connection)==null?void 0:Z.hidden_ssid)??"Hidden network"))+"")&&T(p,m),z[0]&138&&k!==(k=(((V=e[7][e[38]])==null?void 0:V.title)??((fe=(ne=e[3].conf)==null?void 0:ne.connection)==null?void 0:fe.wifi_offline)??"Signal unavailable")+"")&&T(g,k),z[0]&130&&!fn(E.src,D=((oe=e[7][e[38]])==null?void 0:oe.icon)??e[9].off)&&f(E,"src",D),z[0]&130&&B!==(B=((ie=e[7][e[38]])==null?void 0:ie.title)??"Wi-Fi offline")&&f(E,"alt",B),z[0]&130&&A!==(A=((re=e[7][e[38]])==null?void 0:re.title)??"Wi-Fi offline")&&f(E,"title",A),e[8]===e[36].s?Y||(Y=Or(),Y.c(),Y.m(v,null)):Y&&(Y.d(1),Y=null)},d(I){I&&M(l),Y&&Y.d(),j.r(),K=!1,G()}}}function Rr(t){var G,Y,X,L;let e,l,n,i,s,a,u,r,c,m,p,d,b,k=(((Y=(G=t[3].conf)==null?void 0:G.network)==null?void 0:Y.gw)??"Gateway")+"",g,w,v,E,D,B,A=(((L=(X=t[3].conf)==null?void 0:X.network)==null?void 0:L.dns)??"DNS Server")+"",U,q,j,K;return c=new I1({}),{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Static IP Address",i=h(),s=_("div"),a=_("input"),u=h(),r=_("select"),Me(c.$$.fragment),m=h(),p=_("div"),d=_("div"),b=_("label"),g=S(k),w=h(),v=_("input"),E=h(),D=_("div"),B=_("label"),U=S(A),q=h(),j=_("input"),f(n,"for","static-ip"),f(n,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(a,"id","static-ip"),f(a,"name","si"),f(a,"type","text"),f(a,"class","flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),a.required=t[5],f(a,"pattern",Pi),f(a,"placeholder","192.168.1.100"),f(r,"name","su"),f(r,"class","px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),r.required=t[5],f(s,"class","flex space-x-2"),f(b,"for","gateway"),f(b,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(v,"id","gateway"),f(v,"name","sg"),f(v,"type","text"),f(v,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(v,"pattern",Pi),f(v,"placeholder","192.168.1.1"),f(B,"for","dns"),f(B,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(j,"id","dns"),f(j,"name","sd"),f(j,"type","text"),f(j,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(j,"pattern",Pi),f(j,"placeholder","8.8.8.8"),f(p,"class","grid grid-cols-2 gap-4"),f(e,"class","mt-4 space-y-4 p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-600")},m(y,W){N(y,e,W),o(e,l),o(l,n),o(l,i),o(l,s),o(s,a),o(s,u),o(s,r),ye(c,r,null),o(e,m),o(e,p),o(p,d),o(d,b),o(b,g),o(d,w),o(d,v),o(p,E),o(p,D),o(D,B),o(B,U),o(D,q),o(D,j),K=!0},p(y,W){var R,I,z,Q;(!K||W[0]&32)&&(a.required=y[5]),(!K||W[0]&32)&&(r.required=y[5]),(!K||W[0]&8)&&k!==(k=(((I=(R=y[3].conf)==null?void 0:R.network)==null?void 0:I.gw)??"Gateway")+"")&&T(g,k),(!K||W[0]&8)&&A!==(A=(((Q=(z=y[3].conf)==null?void 0:z.network)==null?void 0:Q.dns)??"DNS Server")+"")&&T(U,A)},i(y){K||(ee(c.$$.fragment,y),K=!0)},o(y){se(c.$$.fragment,y),K=!1},d(y){y&&M(e),Ce(c)}}}function Ur(t){var E,D,B,A;let e,l,n,i,s,a,u,r=(((D=(E=t[3].setup)==null?void 0:E.reconnect)==null?void 0:D.title)??"Setup Complete!")+"",c,m,p,d=(((A=(B=t[3].setup)==null?void 0:B.reconnect)==null?void 0:A.info)??"Device is rebooting. You can reconnect using these addresses:")+"",b,k,g,w=st(t[6]),v=[];for(let U=0;U<w.length;U+=1)v[U]=Br(Lr(t,w,U));return{c(){e=_("div"),l=_("div"),n=Pt("svg"),i=Pt("path"),s=h(),a=_("div"),u=_("h4"),c=S(r),m=h(),p=_("p"),b=S(d),k=h(),g=_("div");for(let U=0;U<v.length;U+=1)v[U].c();f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),f(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),f(n,"fill","none"),f(n,"stroke","currentColor"),f(n,"viewBox","0 0 24 24"),f(u,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),f(p,"class","text-sm text-green-700 dark:text-green-300 mb-3"),f(g,"class","space-y-1"),f(l,"class","flex items-start"),f(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(U,q){N(U,e,q),o(e,l),o(l,n),o(n,i),o(l,s),o(l,a),o(a,u),o(u,c),o(a,m),o(a,p),o(p,b),o(a,k),o(a,g);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(g,null)},p(U,q){var j,K,G,Y;if(q[0]&8&&r!==(r=(((K=(j=U[3].setup)==null?void 0:j.reconnect)==null?void 0:K.title)??"Setup Complete!")+"")&&T(c,r),q[0]&8&&d!==(d=(((Y=(G=U[3].setup)==null?void 0:G.reconnect)==null?void 0:Y.info)??"Device is rebooting. You can reconnect using these addresses:")+"")&&T(b,d),q[0]&64){w=st(U[6]);let X;for(X=0;X<w.length;X+=1){const L=Lr(U,w,X);v[X]?v[X].p(L,q):(v[X]=Br(L),v[X].c(),v[X].m(g,null))}for(;X<v.length;X+=1)v[X].d(1);v.length=w.length}},d(U){U&&M(e),el(v,U)}}}function Br(t){let e,l,n=(t[33].startsWith("http://")||t[33].startsWith("https://")?t[33]:`http://${t[33]}`)+"",i,s;return{c(){e=_("div"),l=_("code"),i=S(n),s=h(),f(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),f(e,"class","flex items-center")},m(a,u){N(a,e,u),o(e,l),o(l,i),o(e,s)},p(a,u){u[0]&64&&n!==(n=(a[33].startsWith("http://")||a[33].startsWith("https://")?a[33]:`http://${a[33]}`)+"")&&T(i,n)},d(a){a&&M(e)}}}function Fm(t){var lt,gt,pt,Dt,Tt,ot,dt,Ht,ct;let e,l,n,i,s,a,u,r,c,m,p,d=(((lt=t[3].setup)==null?void 0:lt.title)??"WiFi Setup")+"",b,k,g,w,v,E,D,B=(((pt=(gt=t[3].conf)==null?void 0:gt.connection)==null?void 0:pt.ssid)??"Select Network")+"",A,U,q,j=t[4]?"Show Networks":"Manual Entry",K,G,Y,X,L,y=(((Tt=(Dt=t[3].conf)==null?void 0:Dt.connection)==null?void 0:Tt.psk)??"WiFi Password")+"",W,R,I,z,Q,Z,V=(((dt=(ot=t[3].conf)==null?void 0:ot.general)==null?void 0:dt.hostname)??"Device Name")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,P,C,F,O,H,le,ae,ce=(((Ht=t[3].btn)==null?void 0:Ht.save)??"Connect & Continue")+"",ue,me,Se,we,Te,Ie,Ue;function Ve(Oe,Xe){return Oe[4]?Dm:Lm}let Ye=Ve(t),he=Ye(t),ve=t[5]&&Rr(t),He=t[6].length&&Ur(t);return we=new pl({props:{active:t[2],message:((ct=t[3].setup)==null?void 0:ct.mask)??"Connecting..."}}),{c(){e=_("div"),l=_("div"),l.innerHTML=`<svg class="w-24 h-24 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${fs}" class="w-full h-full"/></svg>`,n=h(),i=_("div"),s=_("form"),a=_("input"),u=h(),r=_("input"),c=h(),m=_("div"),p=_("h1"),b=S(d),k=h(),g=_("p"),g.textContent="Connect your device to the internet",w=h(),v=_("div"),E=_("div"),D=_("span"),A=S(B),U=h(),q=_("button"),K=S(j),G=h(),he.c(),Y=h(),X=_("div"),L=_("label"),W=S(y),R=h(),I=_("input"),z=h(),Q=_("div"),Z=_("label"),ne=S(V),fe=h(),oe=_("input"),ie=h(),re=_("p"),re.textContent="Optional: Give your device a custom name",x=h(),$=_("div"),te=_("button"),ge=_("span"),ge.textContent="Advanced Network Settings",ke=h(),P=Pt("svg"),C=Pt("path"),O=h(),ve&&ve.c(),H=h(),le=_("div"),ae=_("button"),ue=S(ce),me=h(),He&&He.c(),Se=h(),Me(we.$$.fragment),f(l,"class","mb-8"),f(a,"type","hidden"),f(a,"name","s"),a.value="true",f(r,"type","hidden"),f(r,"name","fw"),r.value="true",f(p,"class","text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-2"),f(g,"class","text-sm text-slate-600 dark:text-slate-400"),f(m,"class","text-center mb-8"),f(D,"class","block text-sm font-medium text-slate-900 dark:text-slate-100"),f(q,"type","button"),f(q,"class","text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium"),f(E,"class","flex items-center justify-between mb-3"),f(v,"class","mb-6"),f(L,"for","wifi-password"),f(L,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(I,"id","wifi-password"),f(I,"name","sp"),f(I,"type","password"),f(I,"pattern",Yn),f(I,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(I,"placeholder","Enter WiFi password"),f(I,"autocomplete","off"),I.required=vs==2,f(X,"class","mb-6"),f(Z,"for","hostname-input"),f(Z,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(oe,"id","hostname-input"),f(oe,"name","sh"),f(oe,"type","text"),f(oe,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(oe,"maxlength","32"),f(oe,"pattern",Xn),f(oe,"placeholder","e.g., ams-reader-01"),f(oe,"autocomplete","off"),f(re,"class","mt-1 text-xs text-slate-500 dark:text-slate-400"),f(Q,"class","mb-6"),f(ge,"class","text-sm font-medium text-slate-900 dark:text-slate-100"),f(C,"stroke-linecap","round"),f(C,"stroke-linejoin","round"),f(C,"stroke-width","2"),f(C,"d","M19 9l-7 7-7-7"),f(P,"class",F="w-4 h-4 text-slate-500 dark:text-slate-400 transform transition-transform "+(t[5]?"rotate-180":"")),f(P,"fill","none"),f(P,"stroke","currentColor"),f(P,"viewBox","0 0 24 24"),f(te,"type","button"),f(te,"class","flex items-center justify-between w-full p-3 text-left bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"),f($,"class","mb-6"),f(ae,"type","submit"),f(ae,"class","w-full bg-neas-lightgreen hover:bg-neas-lightgreen-30 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),f(le,"class","text-center"),f(i,"class","bg-neas-green dark:neas-green rounded-2xl max-w-md w-full p-8"),f(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4")},m(Oe,Xe){N(Oe,e,Xe),o(e,l),o(e,n),o(e,i),o(i,s),o(s,a),o(s,u),o(s,r),o(s,c),o(s,m),o(m,p),o(p,b),o(m,k),o(m,g),o(s,w),o(s,v),o(v,E),o(E,D),o(D,A),o(E,U),o(E,q),o(q,K),o(v,G),he.m(v,null),o(s,Y),o(s,X),o(X,L),o(L,W),o(X,R),o(X,I),o(s,z),o(s,Q),o(Q,Z),o(Z,ne),o(Q,fe),o(Q,oe),J(oe,t[0].hostname),o(Q,ie),o(Q,re),o(s,x),o(s,$),o($,te),o(te,ge),o(te,ke),o(te,P),o(P,C),o($,O),ve&&ve.m($,null),o(s,H),o(s,le),o(le,ae),o(ae,ue),o(s,me),He&&He.m(s,null),N(Oe,Se,Xe),ye(we,Oe,Xe),Te=!0,Ie||(Ue=[pe(q,"click",t[13]),pe(oe,"input",t[17]),pe(te,"click",t[18]),pe(s,"submit",mn(t[10]))],Ie=!0)},p(Oe,Xe){var at,xe,Ne,We,Je,Qe,de,qe,bt;(!Te||Xe[0]&8)&&d!==(d=(((at=Oe[3].setup)==null?void 0:at.title)??"WiFi Setup")+"")&&T(b,d),(!Te||Xe[0]&8)&&B!==(B=(((Ne=(xe=Oe[3].conf)==null?void 0:xe.connection)==null?void 0:Ne.ssid)??"Select Network")+"")&&T(A,B),(!Te||Xe[0]&16)&&j!==(j=Oe[4]?"Show Networks":"Manual Entry")&&T(K,j),Ye===(Ye=Ve(Oe))&&he?he.p(Oe,Xe):(he.d(1),he=Ye(Oe),he&&(he.c(),he.m(v,null))),(!Te||Xe[0]&8)&&y!==(y=(((Je=(We=Oe[3].conf)==null?void 0:We.connection)==null?void 0:Je.psk)??"WiFi Password")+"")&&T(W,y),(!Te||Xe[0]&8)&&V!==(V=(((de=(Qe=Oe[3].conf)==null?void 0:Qe.general)==null?void 0:de.hostname)??"Device Name")+"")&&T(ne,V),Xe[0]&1&&oe.value!==Oe[0].hostname&&J(oe,Oe[0].hostname),(!Te||Xe[0]&32&&F!==(F="w-4 h-4 text-slate-500 dark:text-slate-400 transform transition-transform "+(Oe[5]?"rotate-180":"")))&&f(P,"class",F),Oe[5]?ve?(ve.p(Oe,Xe),Xe[0]&32&&ee(ve,1)):(ve=Rr(Oe),ve.c(),ee(ve,1),ve.m($,null)):ve&&(At(),se(ve,1,1,()=>{ve=null}),qt()),(!Te||Xe[0]&8)&&ce!==(ce=(((qe=Oe[3].btn)==null?void 0:qe.save)??"Connect & Continue")+"")&&T(ue,ce),Oe[6].length?He?He.p(Oe,Xe):(He=Ur(Oe),He.c(),He.m(s,null)):He&&(He.d(1),He=null);const Ft={};Xe[0]&4&&(Ft.active=Oe[2]),Xe[0]&8&&(Ft.message=((bt=Oe[3].setup)==null?void 0:bt.mask)??"Connecting..."),we.$set(Ft)},i(Oe){Te||(ee(ve),ee(we.$$.fragment,Oe),Te=!0)},o(Oe){se(ve),se(we.$$.fragment,Oe),Te=!1},d(Oe){Oe&&(M(e),M(Se)),he.d(),ve&&ve.d(),He&&He.d(),Ce(we,Oe),Ie=!1,Vt(Ue)}}}let vs=1;function Rm(t,e,l){const n={high:_s,medium:ms,low:cs,off:ps};n.off;let i={};Nl.subscribe(L=>{l(3,i=L)});let s,a,u=!1;const r=vn.subscribe(L=>{s=L,L!=null&&L.m&&!u&&(a=Il(L.m),u=!0)});ls(()=>{cf()}),ns(()=>{typeof r=="function"&&r()});function c(){!u&&(s!=null&&s.m)&&(a=Il(s.m),u=!0),!a&&(s!=null&&s.m)&&(a=Il(s.m))}function m(){var W,R,I,z,Q,Z,V,ne,fe,oe,ie;c();const L=a??Il(s==null?void 0:s.m);if(!L)return null;const y=(s==null?void 0:s.m)??{};return{source:L.source??y.o??1,parser:L.parser??y.a??0,baud:L.baud??y.b??0,parity:L.parity??y.p??3,invert:L.invert??y.i??!1,distributionSystem:L.distributionSystem??y.d??2,mainFuse:L.mainFuse??y.f??0,production:L.production??y.r??0,buffer:L.buffer??y.s??256,encrypted:L.encrypted??((W=y==null?void 0:y.e)==null?void 0:W.e)??!1,encryptionKey:L.encryptionKey??((R=y==null?void 0:y.e)==null?void 0:R.k)??"",authenticationKey:L.authenticationKey??((I=y==null?void 0:y.e)==null?void 0:I.a)??"",multipliers:{watt:((z=L.multipliers)==null?void 0:z.watt)??((Q=y==null?void 0:y.m)==null?void 0:Q.w)??1,volt:((Z=L.multipliers)==null?void 0:Z.volt)??((V=y==null?void 0:y.m)==null?void 0:V.v)??1,amp:((ne=L.multipliers)==null?void 0:ne.amp)??((fe=y==null?void 0:y.m)==null?void 0:fe.a)??1,kwh:((oe=L.multipliers)==null?void 0:oe.kwh)??((ie=y==null?void 0:y.m)==null?void 0:ie.c)??1}}}let p=!1,d={};of.subscribe(L=>{l(1,d=L)});let{sysinfo:b={}}=e,{data:k={}}=e,g=!1,w=!1,v=[],E=[],D="",B;function A(L){ml.update(y=>(y.trying=L,y))}async function U(L){var P,C,F,O;l(2,w=!0);const y=new FormData(L.target),W=new URLSearchParams;for(let H of y){const[le,ae]=H;W.append(le,typeof ae=="string"?ae:String(ae))}const R=m();R&&(W.set("m","true"),W.set("mo",String(R.source??1)),W.set("ma",String(R.parser??0)),W.set("mb",String(R.baud??0)),W.set("mp",String(R.parity??3)),W.set("mi",R.invert?"true":"false"),W.set("md",String(R.distributionSystem??2)),W.set("mf",String(R.mainFuse??0)),W.set("mr",String(R.production??0)),W.set("ms",String(R.buffer??256)),R.encrypted&&(W.set("me","true"),W.set("mek",R.encryptionKey??""),W.set("mea",R.authenticationKey??"")),W.set("mmw",String(((P=R.multipliers)==null?void 0:P.watt)??1)),W.set("mmv",String(((C=R.multipliers)==null?void 0:C.volt)??1)),W.set("mma",String(((F=R.multipliers)==null?void 0:F.amp)??1)),W.set("mmc",String(((O=R.multipliers)==null?void 0:O.kwh)??1)));const z=y.get("fwa")==="true";let Z=await(await fetch("save",{method:"POST",body:W})).json();l(2,w=!1);const V=String(y.get("sh")??"").trim(),fe=(typeof Z.message=="string"?Z.message:"").split("|").map(H=>H.trim()),oe=fe[0]??"",ie=fe[1]??"",re=fe[2]??"",x=oe||V||b.hostname||(b!=null&&b.chipId?`ams-${b.chipId}`:"ams-reader"),$=ie||(x&&x.indexOf(".")===-1&&x.indexOf(":")===-1?`${x}.local`:x),te=g?String(y.get("si")??"").trim():re,ge=Array.from(new Set([te,x,$].filter(H=>H&&H.length>0)));l(6,v=Z.reboot?[...ge]:[]),ml.update(H=>{H.net||(H.net={});const le=x||H.hostname||V;return H.hostname=le,(!H.upgrade||typeof H.upgrade!="object")&&(H.upgrade={x:-1,e:0,f:null,t:null,m:!1}),H.upgrade.auto=z,g?(H.net.ip=te,H.net.mask=y.get("su"),H.net.gw=y.get("sg"),H.net.dns1=y.get("sd")):re&&(H.net.ip=re),H.targets=[...ge],H.usrcfg=Z.success,H.booting=Z.reboot,H});const ke=en(ml);l(0,b=ke),Z.reboot&&setTimeout(()=>un(ke,A),5e3)}const q=[[]],j=()=>l(4,p=!p);function K(){D=this.__value,l(8,D)}const G=()=>l(4,p=!0);function Y(){b.hostname=this.value,l(0,b)}const X=()=>l(5,g=!g);return t.$$set=L=>{"sysinfo"in L&&l(0,b=L.sysinfo),"data"in L&&l(11,k=L.data)},t.$$.update=()=>{var L;if(t.$$.dirty[0]&4101){const y=(L=b==null?void 0:b.upgrade)==null?void 0:L.auto;!w&&y!==B&&l(12,B=y)}if(t.$$.dirty[0]&2048){const{level:y,label:W}=Vn(k==null?void 0:k.r);n[y]??n.off}t.$$.dirty[0]&2&&l(7,E=Array.isArray(d==null?void 0:d.n)?d.n.map(y=>{const{level:W,label:R}=Vn(y==null?void 0:y.r);return{icon:n[W]??n.off,title:R}}):[])},[b,d,w,i,p,g,v,E,D,n,U,k,B,j,K,q,G,Y,X]}class Um extends Ot{constructor(e){super(),It(this,e,Rm,Fm,Lt,{sysinfo:0,data:11},null,[-1,-1])}}function Bm(t){let e;return{c(){e=S("Kopier til utklippstavlen")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function jm(t){let e;return{c(){e=S("Kopier mislyktes")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Hm(t){let e;return{c(){e=S("Kopiert!")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Wm(t){let e;return{c(){e=S("Kopierer…")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function zm(t){let e;return{c(){e=S("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Km(t){let e;return{c(){e=S("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Vm(t){let e;return{c(){e=S("Lim adressen inn i nettleserens adresselinje.")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function jr(t){let e;return{c(){e=_("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",f(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Hr(t){let e;return{c(){e=_("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",f(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Gm(t){let e;return{c(){e=_("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Ym(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Xm(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Jm(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Wr(t){let e;return{c(){e=_("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',f(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Qm(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X,L,y,W,R,I,z,Q,Z,V,ne,fe,oe;function ie(le,ae){return le[5]==="pending"?Wm:le[5]==="success"?Hm:le[5]==="error"?jm:Bm}let re=ie(t),x=re(t);function $(le,ae){return le[5]==="success"?Vm:le[5]==="error"?Km:zm}let te=$(t),ge=te(t),ke=t[7]&&!t[8]&&jr(),P=t[8]&&Hr();function C(le,ae){return le[2]?Jm:le[3]?Xm:le[4]?Ym:Gm}let F=C(t),O=F(t),H=t[1]&&t[6]&&Wr();return{c(){e=_("section"),l=_("div"),n=_("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=_("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",a=h(),u=_("div"),r=_("div"),c=_("p"),c.textContent="1. Kopier adressen",m=h(),p=_("p"),d=S("Adressen er "),b=_("code"),k=S(t[0]),g=S(" og virker mens du er tilkoblet "),w=_("strong"),w.textContent="NEAS-WATTUP",v=S("."),E=h(),D=_("div"),B=_("button"),x.c(),A=h(),U=_("span"),ge.c(),q=h(),ke&&ke.c(),j=h(),P&&P.c(),K=h(),G=_("div"),Y=_("p"),Y.textContent="2. Åpne den i nettleseren",X=h(),L=_("div"),O.c(),y=h(),H&&H.c(),W=h(),R=_("div"),I=_("p"),I.textContent="3. Start selve oppsettet",z=h(),Q=_("a"),Z=S("Åpne oppsettet i nettleseren"),V=h(),ne=_("p"),ne.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",f(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),f(s,"class","mt-3 text-slate-600 dark:text-slate-300"),f(c,"class","font-medium text-slate-800 dark:text-slate-100"),f(b,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),f(p,"class","mt-2"),f(B,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),f(U,"class","text-xs text-slate-500 dark:text-slate-400"),f(D,"class","mt-3 flex flex-wrap items-center gap-2"),f(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),f(Y,"class","font-medium"),f(L,"class","mt-2 space-y-2"),f(G,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),f(I,"class","font-medium text-slate-800 dark:text-slate-100"),f(Q,"class","btn-pri inline-block"),f(Q,"href",t[0]),f(Q,"target","_blank"),f(Q,"rel","noreferrer"),f(ne,"class","text-xs text-slate-500 dark:text-slate-400"),f(R,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),f(u,"class","mt-5 space-y-5"),f(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),f(e,"class","mt-6")},m(le,ae){N(le,e,ae),o(e,l),o(l,n),o(l,i),o(l,s),o(l,a),o(l,u),o(u,r),o(r,c),o(r,m),o(r,p),o(p,d),o(p,b),o(b,k),o(p,g),o(p,w),o(p,v),o(r,E),o(r,D),o(D,B),x.m(B,null),o(D,A),o(D,U),ge.m(U,null),o(D,q),ke&&ke.m(D,null),o(D,j),P&&P.m(D,null),o(u,K),o(u,G),o(G,Y),o(G,X),o(G,L),O.m(L,null),o(u,y),H&&H.m(u,null),o(u,W),o(u,R),o(R,I),o(R,z),o(R,Q),o(Q,Z),o(R,V),o(R,ne),fe||(oe=pe(B,"click",t[9]),fe=!0)},p(le,[ae]){ae&1&&T(k,le[0]),re!==(re=ie(le))&&(x.d(1),x=re(le),x&&(x.c(),x.m(B,null))),te!==(te=$(le))&&(ge.d(1),ge=te(le),ge&&(ge.c(),ge.m(U,null))),le[7]&&!le[8]?ke||(ke=jr(),ke.c(),ke.m(D,j)):ke&&(ke.d(1),ke=null),le[8]?P||(P=Hr(),P.c(),P.m(D,null)):P&&(P.d(1),P=null),F!==(F=C(le))&&(O.d(1),O=F(le),O&&(O.c(),O.m(L,null))),le[1]&&le[6]?H||(H=Wr(),H.c(),H.m(u,W)):H&&(H.d(1),H=null),ae&1&&f(Q,"href",le[0])},i:Ke,o:Ke,d(le){le&&M(e),x.d(),ge.d(),ke&&ke.d(),P&&P.d(),O.d(),H&&H.d(),fe=!1,oe()}}}function Zm(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,a=!1,u=!1,r=!1,c="idle",m=!1,p=!1,d=!1;ls(()=>{l(0,i=b()),k()}),ns(()=>{});function b(){const v="http://192.168.4.1/setup";try{const E=new URL(n||"/",window.location.href);return new URL("./setup",E).href}catch{return v}}function k(){if(typeof navigator>"u")return!1;const v=navigator.userAgent||"",E=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,a=/iPad|iPhone|iPod/.test(v)&&!window.MSStream),l(3,u=/Macintosh|Mac OS X/.test(v)),l(4,r=/Android/.test(v)),l(1,s=E.some(D=>D.test(v))),l(2,a=s&&a),l(3,u=s&&u&&!a),l(4,r=s&&r),s}async function g(v){var D,B;(D=v==null?void 0:v.preventDefault)==null||D.call(v),l(5,c="pending");const E=()=>{try{const A=document.createElement("textarea");A.value=i,A.setAttribute("readonly",""),A.style.position="absolute",A.style.left="-9999px",document.body.appendChild(A),A.select();const U=document.execCommand("copy");return document.body.removeChild(A),U}catch{return!1}};try{(B=navigator.clipboard)!=null&&B.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):E()?l(5,c="success"):l(5,c="error")}catch{E()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(w(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function w(){if(!s||p)return;l(7,p=!0);let v=!1;try{window.close(),v=window.closed}catch{v=!1}if(!v)try{window.open("","_self"),window.close(),v=window.closed}catch{v=!1}if(v){l(8,d=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,d=!0)},400)}return t.$$set=v=>{"basepath"in v&&l(10,n=v.basepath)},[i,s,a,u,r,c,m,p,d,g,n]}class $m extends Ot{constructor(e){super(),It(this,e,Zm,Qm,Lt,{basepath:10})}}function xm(t){var G,Y,X,L;let e,l,n,i=(((G=t[2].upload)==null?void 0:G.title)??"Upload")+"",s,a,u,r,c,m=(((Y=t[2].upload)==null?void 0:Y.desc)??"")+"",p,d,b,k,g,w,v,E,D=(((X=t[2].btn)==null?void 0:X.upload)??"Upload")+"",B,A,U,q,j,K;return U=new pl({props:{active:t[3],message:((L=t[2].upload)==null?void 0:L.mask)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=S(i),a=h(),u=S(t[1]),r=h(),c=_("p"),p=S(m),d=h(),b=_("form"),k=_("input"),g=h(),w=_("div"),v=_("button"),E=_("p"),B=S(D),A=h(),Me(U.$$.fragment),f(c,"class","mb-4"),f(k,"name","file"),f(k,"type","file"),f(E,"class","mb-4"),f(v,"type","submit"),f(v,"class","btn-pri"),f(w,"class","w-full text-right mt-4"),f(b,"action",t[0]),f(b,"enctype","multipart/form-data"),f(b,"method","post"),f(b,"autocomplete","off"),f(l,"class","cnt"),f(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(y,W){N(y,e,W),o(e,l),o(l,n),o(n,s),o(n,a),o(n,u),o(l,r),o(l,c),o(c,p),o(l,d),o(l,b),o(b,k),o(b,g),o(b,w),o(w,v),o(v,E),o(E,B),N(y,A,W),ye(U,y,W),q=!0,j||(K=pe(b,"submit",t[4]),j=!0)},p(y,[W]){var I,z,Q,Z;(!q||W&4)&&i!==(i=(((I=y[2].upload)==null?void 0:I.title)??"Upload")+"")&&T(s,i),(!q||W&2)&&T(u,y[1]),(!q||W&4)&&m!==(m=(((z=y[2].upload)==null?void 0:z.desc)??"")+"")&&T(p,m),(!q||W&4)&&D!==(D=(((Q=y[2].btn)==null?void 0:Q.upload)??"Upload")+"")&&T(B,D),(!q||W&1)&&f(b,"action",y[0]);const R={};W&8&&(R.active=y[3]),W&4&&(R.message=((Z=y[2].upload)==null?void 0:Z.mask)??"Uploading"),U.$set(R)},i(y){q||(ee(U.$$.fragment,y),q=!0)},o(y){se(U.$$.fragment,y),q=!1},d(y){y&&(M(e),M(A)),Ce(U,y),j=!1,K()}}}function e_(t,e,l){let{action:n}=e,{title:i}=e,s={};Nl.subscribe(r=>{l(2,s=r)});let a=!1;const u=()=>l(3,a=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,a,u]}class ks extends Ot{constructor(e){super(),It(this,e,e_,xm,Lt,{action:0,title:1})}}function zr(t,e,l){const n=t.slice();return n[27]=e[l],n}function t_(t,e,l){const n=t.slice();return n[30]=e[l],n}function l_(t){let e;return{c(){e=_("option"),e.textContent=`${t[30].label}`,e.__value=t[30].id,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Kr(t){var a,u,r;let e,l=(((r=(u=(a=t[0].conf)==null?void 0:a.meter)==null?void 0:u.preset)==null?void 0:r.clear)??"Clear selection")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium")},m(c,m){N(c,e,m),o(e,n),i||(s=pe(e,"click",t[12]),i=!0)},p(c,m){var p,d,b;m[0]&1&&l!==(l=(((b=(d=(p=c[0].conf)==null?void 0:p.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear selection")+"")&&T(n,l)},d(c){c&&M(e),i=!1,s()}}}function Vr(t){let e,l,n=gi(t[9])+"",i,s,a=t[9].notes&&Gr(t);return{c(){e=_("div"),l=_("p"),i=S(n),s=h(),a&&a.c(),f(l,"class","text-xs text-blue-800 dark:text-blue-200 leading-relaxed"),f(e,"class","mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg")},m(u,r){N(u,e,r),o(e,l),o(l,i),o(l,s),a&&a.m(l,null)},p(u,r){r[0]&512&&n!==(n=gi(u[9])+"")&&T(i,n),u[9].notes?a?a.p(u,r):(a=Gr(u),a.c(),a.m(l,null)):a&&(a.d(1),a=null)},d(u){u&&M(e),a&&a.d()}}}function Gr(t){let e,l=t[9].notes+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","block mt-1 font-medium")},m(i,s){N(i,e,s),o(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&T(n,l)},d(i){i&&M(e)}}}function Yr(t){var A,U,q;let e,l,n=(((A=t[0].common)==null?void 0:A.voltage)??"Voltage System")+"",i,s,a,u,r,c,m,p,d=(((q=(U=t[0].conf)==null?void 0:U.meter)==null?void 0:q.fuse)??"Main Fuse")+"",b,k,g,w,v,E,D,B;return{c(){e=_("div"),l=_("label"),i=S(n),s=h(),a=_("select"),u=_("option"),u.textContent="400V (TN - Three-phase)",r=_("option"),r.textContent="230V (IT/TT - Single-phase)",c=h(),m=_("div"),p=_("label"),b=S(d),k=h(),g=_("div"),w=_("input"),v=h(),E=_("span"),E.textContent="A",f(l,"for","voltage-select"),f(l,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),u.__value=2,J(u,u.__value),r.__value=1,J(r,r.__value),f(a,"id","voltage-select"),f(a,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[7].distributionSystem===void 0&&Jt(()=>t[23].call(a)),f(e,"class","mb-6"),f(p,"for","main-fuse-input"),f(p,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(w,"id","main-fuse-input"),f(w,"type","number"),f(w,"min","5"),f(w,"max","65535"),f(w,"class","w-full px-3 py-2 pr-8 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(E,"class","absolute right-3 top-2 text-slate-500 dark:text-slate-400 text-sm"),f(g,"class","relative"),f(m,"class","mb-6")},m(j,K){N(j,e,K),o(e,l),o(l,i),o(e,s),o(e,a),o(a,u),o(a,r),ft(a,t[7].distributionSystem,!0),N(j,c,K),N(j,m,K),o(m,p),o(p,b),o(m,k),o(m,g),o(g,w),J(w,t[7].mainFuse),o(g,v),o(g,E),D||(B=[pe(a,"change",t[23]),pe(w,"input",t[24])],D=!0)},p(j,K){var G,Y,X;K[0]&1&&n!==(n=(((G=j[0].common)==null?void 0:G.voltage)??"Voltage System")+"")&&T(i,n),K[0]&128&&ft(a,j[7].distributionSystem),K[0]&1&&d!==(d=(((X=(Y=j[0].conf)==null?void 0:Y.meter)==null?void 0:X.fuse)??"Main Fuse")+"")&&T(b,d),K[0]&128&&St(w.value)!==j[7].mainFuse&&J(w,j[7].mainFuse)},d(j){j&&(M(e),M(c),M(m)),D=!1,Vt(B)}}}function Xr(t){let e,l=t[27].name+"",n,i;return{c(){e=_("option"),n=S(l),e.__value=i=t[27].code,J(e,e.__value)},m(s,a){N(s,e,a),o(e,n)},p(s,a){a[0]&32&&l!==(l=s[27].name+"")&&T(n,l),a[0]&32&&i!==(i=s[27].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function n_(t){var jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul;let e,l,n,i,s,a,u,r=(((jt=t[0].consent)==null?void 0:jt.title)??"Initial Setup")+"",c,m,p,d,b,k,g,w=(((sl=t[0].consent)==null?void 0:sl.one_click)??"Data Collection")+"",v,E,D,B,A=(((Bt=t[0].consent)==null?void 0:Bt.read_more)??"Read more")+"",U,q,j,K,G,Y,X,L=(((nt=t[0].consent)==null?void 0:nt.yes)??"Yes, allow data collection")+"",y,W,R,I,z,Q,Z=(((Wt=t[0].consent)==null?void 0:Wt.no)??"No, disable data collection")+"",V,ne,fe,oe,ie,re,x,$=(((Yt=t[0].consent)==null?void 0:Yt.auto_update)??"Automatic Updates")+"",te,ge,ke,P,C,F,O,H=(((yt=t[0].consent)==null?void 0:yt.yes)??"Yes, enable automatic updates")+"",le,ae,ce,ue,me,Se,we=(((ht=t[0].consent)==null?void 0:ht.no)??"No, manual updates only")+"",Te,Ie,Ue,Ve,Ye=(((be=(Kt=(Mt=t[0].conf)==null?void 0:Mt.meter)==null?void 0:Kt.preset)==null?void 0:be.title)??"Meter Configuration")+"",he,ve,He,lt,gt,pt=(((ol=(tt=(mt=t[0].conf)==null?void 0:mt.meter)==null?void 0:tt.preset)==null?void 0:ol.manual)??"Select your meter type...")+"",Dt,Tt,ot,dt,Ht,ct,Oe,Xe=(((Xt=t[0].consent)==null?void 0:Xt.language)??"Language")+"",Ft,at,xe,Ne,We=(((Zt=t[0].consent)==null?void 0:Zt.load_from_server)??"Load from server")+"",Je,Qe,de,qe,bt=(((cl=t[0].btn)==null?void 0:cl.save)??"Complete Setup")+"",Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et=st(gs),it=[];for(let Pe=0;Pe<et.length;Pe+=1)it[Pe]=l_(t_(t,et,Pe));let ut=t[8]&&Kr(t),wt=t[9]&&Vr(t),Rt=t[9]&&Yr(t),Gt=st(t[5]),kt=[];for(let Pe=0;Pe<Gt.length;Pe+=1)kt[Pe]=Xr(zr(t,Gt,Pe));return rt=new pl({props:{active:t[1],message:((ul=t[0].consent)==null?void 0:ul.mask_saving)??"Saving setup..."}}),Ee=_i(t[17][0]),Re=_i(t[17][1]),{c(){e=_("div"),l=_("div"),l.innerHTML=`<svg class="w-24 h-24 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${fs}" class="w-full h-full"/></svg>`,n=h(),i=_("div"),s=_("form"),a=_("div"),u=_("h1"),c=S(r),m=h(),p=_("p"),p.textContent="Complete the setup to get started",d=h(),b=_("div"),k=_("div"),g=_("h3"),v=S(w),E=h(),D=_("p"),B=_("a"),U=S(A),q=h(),j=_("div"),K=_("label"),G=_("input"),Y=h(),X=_("span"),y=S(L),W=h(),R=_("label"),I=_("input"),z=h(),Q=_("span"),V=S(Z),ne=h(),fe=_("input"),oe=h(),ie=_("div"),re=_("div"),x=_("h3"),te=S($),ge=h(),ke=_("div"),P=_("label"),C=_("input"),F=h(),O=_("span"),le=S(H),ae=h(),ce=_("label"),ue=_("input"),me=h(),Se=_("span"),Te=S(we),Ie=h(),Ue=_("div"),Ve=_("label"),he=S(Ye),ve=h(),He=_("div"),lt=_("select"),gt=_("option"),Dt=S(pt);for(let Pe=0;Pe<it.length;Pe+=1)it[Pe].c();Tt=h(),ut&&ut.c(),ot=h(),wt&&wt.c(),dt=h(),Rt&&Rt.c(),Ht=h(),ct=_("div"),Oe=_("label"),Ft=S(Xe),at=h(),xe=_("select");for(let Pe=0;Pe<kt.length;Pe+=1)kt[Pe].c();Ne=_("option"),Je=S(We),Qe=h(),de=_("div"),qe=_("button"),Ut=S(bt),Ge=h(),Me(rt.$$.fragment),f(l,"class","mb-8"),f(u,"class","text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-2"),f(p,"class","text-sm text-slate-600 dark:text-slate-400"),f(a,"class","text-center mb-8"),f(g,"class","text-sm font-medium text-slate-900 dark:text-slate-100 mb-1"),f(B,"href",Fl("Data-collection-on-one-click-firmware-upgrade")),f(B,"target","_blank"),f(B,"class","text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline"),f(D,"class","text-xs text-slate-600 dark:text-slate-400 mb-2"),f(k,"class","mb-3"),f(G,"type","radio"),f(G,"name","sf"),G.__value="1",J(G,G.__value),f(G,"class","mr-3 text-blue-600"),G.required=!0,f(X,"class","text-sm text-slate-700 dark:text-slate-300"),f(K,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(I,"type","radio"),f(I,"name","sf"),I.__value="2",J(I,I.__value),f(I,"class","mr-3 text-blue-600"),I.required=!0,f(Q,"class","text-sm text-slate-700 dark:text-slate-300"),f(R,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(j,"class","space-y-2"),f(b,"class","mb-6"),f(fe,"type","hidden"),f(fe,"name","fw"),fe.value="true",f(x,"class","text-sm font-medium text-slate-900 dark:text-slate-100 mb-1"),f(re,"class","mb-3"),f(C,"type","radio"),f(C,"name","fwa"),C.__value="true",J(C,C.__value),f(C,"class","mr-3 text-blue-600"),C.required=!0,f(O,"class","text-sm text-slate-700 dark:text-slate-300"),f(P,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(ue,"type","radio"),f(ue,"name","fwa"),ue.__value="false",J(ue,ue.__value),f(ue,"class","mr-3 text-blue-600"),ue.required=!0,f(Se,"class","text-sm text-slate-700 dark:text-slate-300"),f(ce,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(ke,"class","space-y-2"),f(ie,"class","mb-6"),f(Ve,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3"),f(Ve,"for","consent-meter-preset"),gt.__value="",J(gt,gt.__value),f(lt,"id","consent-meter-preset"),f(lt,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[8]===void 0&&Jt(()=>t[21].call(lt)),f(He,"class","space-y-2"),f(Ue,"class","mb-6"),f(Oe,"for","language-select"),f(Oe,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),Ne.__value="hub",J(Ne,Ne.__value),f(xe,"id","language-select"),f(xe,"name","ulang"),f(xe,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[4]===void 0&&Jt(()=>t[25].call(xe)),f(ct,"class","mb-8"),f(qe,"type","submit"),f(qe,"class","w-full bg-neas-lightgreen hover:bg-neas-lightgreen-30 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),qe.disabled=vt=!t[6],f(de,"class","text-center"),f(s,"autocomplete","off"),f(i,"class","bg-neas-green dark:neas-green rounded-2xl max-w-md w-full p-8"),f(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4"),Ee.p(C,ue),Re.p(G,I)},m(Pe,Ze){N(Pe,e,Ze),o(e,l),o(e,n),o(e,i),o(i,s),o(s,a),o(a,u),o(u,c),o(a,m),o(a,p),o(s,d),o(s,b),o(b,k),o(k,g),o(g,v),o(k,E),o(k,D),o(D,B),o(B,U),o(b,q),o(b,j),o(j,K),o(K,G),G.checked=G.__value===t[2],o(K,Y),o(K,X),o(X,y),o(j,W),o(j,R),o(R,I),I.checked=I.__value===t[2],o(R,z),o(R,Q),o(Q,V),o(s,ne),o(s,fe),o(s,oe),o(s,ie),o(ie,re),o(re,x),o(x,te),o(ie,ge),o(ie,ke),o(ke,P),o(P,C),C.checked=C.__value===t[3],o(P,F),o(P,O),o(O,le),o(ke,ae),o(ke,ce),o(ce,ue),ue.checked=ue.__value===t[3],o(ce,me),o(ce,Se),o(Se,Te),o(s,Ie),o(s,Ue),o(Ue,Ve),o(Ve,he),o(Ue,ve),o(Ue,He),o(He,lt),o(lt,gt),o(gt,Dt);for(let $t=0;$t<it.length;$t+=1)it[$t]&&it[$t].m(lt,null);ft(lt,t[8],!0),o(He,Tt),ut&&ut.m(He,null),o(Ue,ot),wt&&wt.m(Ue,null),o(s,dt),Rt&&Rt.m(s,null),o(s,Ht),o(s,ct),o(ct,Oe),o(Oe,Ft),o(ct,at),o(ct,xe);for(let $t=0;$t<kt.length;$t+=1)kt[$t]&&kt[$t].m(xe,null);o(xe,Ne),o(Ne,Je),ft(xe,t[4],!0),o(s,Qe),o(s,de),o(de,qe),o(qe,Ut),N(Pe,Ge,Ze),ye(rt,Pe,Ze),Fe=!0,Le||(De=[pe(G,"change",t[16]),pe(I,"change",t[18]),pe(C,"change",t[19]),pe(ue,"change",t[20]),pe(lt,"change",t[21]),pe(lt,"change",t[22]),pe(xe,"change",t[25]),pe(xe,"change",t[10]),pe(s,"submit",mn(t[13]))],Le=!0)},p(Pe,Ze){var Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al;if((!Fe||Ze[0]&1)&&r!==(r=(((Ae=Pe[0].consent)==null?void 0:Ae.title)??"Initial Setup")+"")&&T(c,r),(!Fe||Ze[0]&1)&&w!==(w=(((_e=Pe[0].consent)==null?void 0:_e.one_click)??"Data Collection")+"")&&T(v,w),(!Fe||Ze[0]&1)&&A!==(A=(((zt=Pe[0].consent)==null?void 0:zt.read_more)??"Read more")+"")&&T(U,A),Ze[0]&4&&(G.checked=G.__value===Pe[2]),(!Fe||Ze[0]&1)&&L!==(L=(((Be=Pe[0].consent)==null?void 0:Be.yes)??"Yes, allow data collection")+"")&&T(y,L),Ze[0]&4&&(I.checked=I.__value===Pe[2]),(!Fe||Ze[0]&1)&&Z!==(Z=(((Nt=Pe[0].consent)==null?void 0:Nt.no)??"No, disable data collection")+"")&&T(V,Z),(!Fe||Ze[0]&1)&&$!==($=(((fl=Pe[0].consent)==null?void 0:fl.auto_update)??"Automatic Updates")+"")&&T(te,$),Ze[0]&8&&(C.checked=C.__value===Pe[3]),(!Fe||Ze[0]&1)&&H!==(H=(((dl=Pe[0].consent)==null?void 0:dl.yes)??"Yes, enable automatic updates")+"")&&T(le,H),Ze[0]&8&&(ue.checked=ue.__value===Pe[3]),(!Fe||Ze[0]&1)&&we!==(we=(((hl=Pe[0].consent)==null?void 0:hl.no)??"No, manual updates only")+"")&&T(Te,we),(!Fe||Ze[0]&1)&&Ye!==(Ye=(((vl=(gl=(bl=Pe[0].conf)==null?void 0:bl.meter)==null?void 0:gl.preset)==null?void 0:vl.title)??"Meter Configuration")+"")&&T(he,Ye),(!Fe||Ze[0]&1)&&pt!==(pt=(((Tl=(Pl=(kl=Pe[0].conf)==null?void 0:kl.meter)==null?void 0:Pl.preset)==null?void 0:Tl.manual)??"Select your meter type...")+"")&&T(Dt,pt),Ze[0]&256&&ft(lt,Pe[8]),Pe[8]?ut?ut.p(Pe,Ze):(ut=Kr(Pe),ut.c(),ut.m(He,null)):ut&&(ut.d(1),ut=null),Pe[9]?wt?wt.p(Pe,Ze):(wt=Vr(Pe),wt.c(),wt.m(Ue,null)):wt&&(wt.d(1),wt=null),Pe[9]?Rt?Rt.p(Pe,Ze):(Rt=Yr(Pe),Rt.c(),Rt.m(s,Ht)):Rt&&(Rt.d(1),Rt=null),(!Fe||Ze[0]&1)&&Xe!==(Xe=(((El=Pe[0].consent)==null?void 0:El.language)??"Language")+"")&&T(Ft,Xe),Ze[0]&32){Gt=st(Pe[5]);let al;for(al=0;al<Gt.length;al+=1){const ql=zr(Pe,Gt,al);kt[al]?kt[al].p(ql,Ze):(kt[al]=Xr(ql),kt[al].c(),kt[al].m(xe,Ne))}for(;al<kt.length;al+=1)kt[al].d(1);kt.length=Gt.length}(!Fe||Ze[0]&1)&&We!==(We=(((ze=Pe[0].consent)==null?void 0:ze.load_from_server)??"Load from server")+"")&&T(Je,We),Ze[0]&48&&ft(xe,Pe[4]),(!Fe||Ze[0]&1)&&bt!==(bt=(((_t=Pe[0].btn)==null?void 0:_t.save)??"Complete Setup")+"")&&T(Ut,bt),(!Fe||Ze[0]&64&&vt!==(vt=!Pe[6]))&&(qe.disabled=vt);const $t={};Ze[0]&2&&($t.active=Pe[1]),Ze[0]&1&&($t.message=((Al=Pe[0].consent)==null?void 0:Al.mask_saving)??"Saving setup..."),rt.$set($t)},i(Pe){Fe||(ee(rt.$$.fragment,Pe),Fe=!0)},o(Pe){se(rt.$$.fragment,Pe),Fe=!1},d(Pe){Pe&&(M(e),M(Ge)),el(it,Pe),ut&&ut.d(),wt&&wt.d(),Rt&&Rt.d(),el(kt,Pe),Ce(rt,Pe),Ee.r(),Re.r(),Le=!1,Vt(De)}}}function i_(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s={};Nl.subscribe(y=>{l(0,s=y)});let a=!1,u="",r="",c="no",m=[{code:"en",name:"English"},{code:"no",name:"Norsk"}],p=!1,d=Il(),b="",k=null;c==="no"&&Jn("no");async function g(y){const W=y.target.value;if(W==="hub"){try{const R=await Ml("http://hub.amsleser.no/hub/language/list.json");l(5,m=await R.json()),l(4,c=s.language.code)}catch(R){console.error("Failed to load languages from hub",R),l(4,c=s.language.code)}return}l(4,c=W),c&&await Jn(c)}function w(y){l(8,b=y);const W=_f(y);l(9,k=W??null),W?l(7,d=pf(Il(),W)):l(7,d=Il())}function v(){l(8,b=""),l(9,k=null),l(7,d=Il())}function E(){var W,R,I,z;if(!k)return null;const y=d??Il();return{source:y.source??1,parser:y.parser??0,baud:y.baud??0,parity:y.parity??3,invert:y.invert??!1,distributionSystem:y.distributionSystem??2,mainFuse:y.mainFuse??0,production:y.production??0,buffer:y.buffer??256,encrypted:y.encrypted??!1,encryptionKey:y.encryptionKey??"",authenticationKey:y.authenticationKey??"",multipliers:{watt:((W=y.multipliers)==null?void 0:W.watt)??1,volt:((R=y.multipliers)==null?void 0:R.volt)??1,amp:((I=y.multipliers)==null?void 0:I.amp)??1,kwh:((z=y.multipliers)==null?void 0:z.kwh)??1}}}async function D(y){var fe,oe,ie,re;l(1,a=!0);const W=new FormData(y.target),R=new URLSearchParams;for(let x of W){const[$,te]=x;R.append($,typeof te=="string"?te:String(te))}const I=W.get("sf"),z=W.get("fwa"),Q=z==="true"?!0:z==="false"?!1:null,Z=E();Z&&(R.set("m","true"),R.set("mo",String(Z.source??1)),R.set("ma",String(Z.parser??0)),R.set("mb",String(Z.baud??0)),R.set("mp",String(Z.parity??3)),R.set("mi",Z.invert?"true":"false"),R.set("md",String(Z.distributionSystem??2)),R.set("mf",String(Z.mainFuse??0)),R.set("mr",String(Z.production??0)),R.set("ms",String(Z.buffer??256)),Z.encrypted&&(R.set("me","true"),R.set("mek",Z.encryptionKey??""),R.set("mea",Z.authenticationKey??"")),R.set("mmw",String(((fe=Z.multipliers)==null?void 0:fe.watt)??1)),R.set("mmv",String(((oe=Z.multipliers)==null?void 0:oe.volt)??1)),R.set("mma",String(((ie=Z.multipliers)==null?void 0:ie.amp)??1)),R.set("mmc",String(((re=Z.multipliers)==null?void 0:re.kwh)??1)));let ne=await(await fetch("save",{method:"POST",body:R})).json();l(1,a=!1),ml.update(x=>{if(x.fwconsent=I==="1"?1:I==="2"?2:0,(!x.ui||typeof x.ui!="object")&&(x.ui={}),c&&(x.ui.lang=c),(!x.upgrade||typeof x.upgrade!="object")&&(x.upgrade={x:-1,e:0,f:null,t:null,m:!1}),Q!==null&&(x.upgrade.auto=Q),Z){const $=df(x.m??{},d);$.appliedPresetId=d.appliedPresetId,x.m=$}return x.booting=ne.reboot,x}),jl(n)}const B=[[],[]];function A(){u=this.__value,l(2,u),l(15,i),l(5,m),l(0,s),l(4,c)}function U(){u=this.__value,l(2,u),l(15,i),l(5,m),l(0,s),l(4,c)}function q(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function j(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function K(){b=nl(this),l(8,b)}const G=()=>w(b);function Y(){d.distributionSystem=nl(this),l(7,d)}function X(){d.mainFuse=St(this.value),l(7,d)}function L(){c=nl(this),l(4,c),l(15,i),l(5,m),l(0,s),l(5,m),l(0,s),l(15,i),l(4,c)}return t.$$set=y=>{"basepath"in y&&l(14,n=y.basepath),"sysinfo"in y&&l(15,i=y.sysinfo)},t.$$.update=()=>{var y,W,R,I;if(t.$$.dirty[0]&33&&(y=s==null?void 0:s.language)!=null&&y.code&&!m.find(z=>z.code===s.language.code)&&l(5,m=[...m,{code:s.language.code,name:s.language.name??s.language.code}]),t.$$.dirty[0]&32817&&i){(i.fwconsent===1||i.fwconsent===2)&&l(2,u=String(i.fwconsent));const z=(W=i==null?void 0:i.upgrade)==null?void 0:W.auto;z===!0?l(3,r="true"):z===!1&&l(3,r="false");const Q=(R=i==null?void 0:i.ui)==null?void 0:R.lang;Q&&!m.find(Z=>Z.code===Q)&&l(5,m=[...m,{code:Q,name:((I=s.language)==null?void 0:I.name)??Q.toUpperCase()}]),!c&&Q&&l(4,c=Q)}t.$$.dirty[0]&16&&(c||l(4,c="no")),t.$$.dirty[0]&14&&l(6,p=u!==""&&r!==""&&!a)},[s,a,u,r,c,m,p,d,b,k,g,w,v,D,n,i,A,B,U,q,j,K,G,Y,X,L]}class s_ extends Ot{constructor(e){super(),It(this,e,i_,n_,Lt,{basepath:14,sysinfo:15},null,[-1,-1])}}function Jr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function o_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function a_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function $r(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function eu(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function tu(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function lu(t){let e,l=st(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=uu(Jr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=tl()},m(i,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,s);N(i,e,s)},p(i,s){if(s[0]&1875){l=st(i[1].o);let a;for(a=0;a<l.length;a+=1){const u=Jr(i,l,a);n[a]?n[a].p(u,s):(n[a]=uu(u),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(i){i&&M(e),el(n,i)}}}function nu(t){let e,l=t[4][t[35]]+"",n,i,s,a;function u(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),o(e,n),s||(a=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,a()}}}function iu(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,a;function u(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),o(e,n),s||(a=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,a()}}}function su(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,a;function u(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){N(r,e,c),o(e,n),s||(a=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,a()}}}function ou(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,a;function u(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){N(r,e,c),o(e,n),s||(a=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,a()}}}function r_(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function au(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:Ct(t[35]+1))+"",n;return{c(){e=_("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,a){N(s,e,a),o(e,n)},p(s,a){var u;a[0]&1&&l!==(l=(s[0].months?(u=s[0].months)==null?void 0:u[s[35]]:Ct(s[35]+1))+"")&&T(n,l)},d(s){s&&M(e)}}}function u_(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function ru(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:Ct(t[35]+1))+"",n;return{c(){e=_("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,a){N(s,e,a),o(e,n)},p(s,a){var u;a[0]&1&&l!==(l=(s[0].months?(u=s[0].months)==null?void 0:u[s[35]]:Ct(s[35]+1))+"")&&T(n,l)},d(s){s&&M(e)}}}function uu(t){var jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt;let e,l,n,i,s,a,u,r=(((sl=(jt=t[0].conf)==null?void 0:jt.common)==null?void 0:sl.import)??"Import")+"",c,m,p=(((nt=(Bt=t[0].conf)==null?void 0:Bt.common)==null?void 0:nt.export)??"Export")+"",d,b,k=(((Yt=(Wt=t[0].conf)==null?void 0:Wt.price)==null?void 0:Yt.both)??"Both")+"",g,w,v,E,D=(((ht=(yt=t[0].conf)==null?void 0:yt.price)==null?void 0:ht.fixed)??"Fixed")+"",B,A,U,q,j,K,G,Y,X,L=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",y,W,R,I,z,Q,Z,V=(((Kt=t[0].common)==null?void 0:Kt.hours)??"Hours")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,P,C,F,O,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,Tt,ot,dt;function Ht(){t[12].call(n,t[31],t[32])}function ct(){t[13].call(a,t[31],t[32])}function Oe(){t[14].call(v,t[31],t[32])}function Xe(){t[15].call(K,t[31],t[32])}let Ft=st({length:7}),at=[];for(let be=0;be<Ft.length;be+=1)at[be]=nu(tu(t,Ft,be));let xe=st({length:8}),Ne=[];for(let be=0;be<xe.length;be+=1)Ne[be]=iu(eu(t,xe,be));let We=st({length:8}),Je=[];for(let be=0;be<We.length;be+=1)Je[be]=su(xr(t,We,be));let Qe=st({length:8}),de=[];for(let be=0;be<Qe.length;be+=1)de[be]=ou($r(t,Qe,be));let qe=st({length:31}),bt=[];for(let be=0;be<qe.length;be+=1)bt[be]=r_(a_(t,qe,be));function Ut(){t[20].call(C,t[31],t[32])}let vt=st({length:12}),Ge=[];for(let be=0;be<vt.length;be+=1)Ge[be]=au(Zr(t,vt,be));function rt(){t[21].call(H,t[31],t[32])}let Fe=st({length:31}),Ee=[];for(let be=0;be<Fe.length;be+=1)Ee[be]=u_(o_(t,Fe,be));function Re(){t[22].call(me,t[31],t[32])}let Le=st({length:12}),De=[];for(let be=0;be<Le.length;be+=1)De[be]=ru(Qr(t,Le,be));function et(){t[23].call(Te,t[31],t[32])}function it(){return t[24](t[32])}function ut(){return t[25](t[32])}function wt(){return t[26](t[32])}function Rt(){return t[27](t[32])}function Gt(){return t[28](t[32])}function kt(){return t[29](t[32])}return{c(){e=_("div"),l=_("div"),n=_("input"),i=h(),s=_("div"),a=_("select"),u=_("option"),c=S(r),m=_("option"),d=S(p),b=_("option"),g=S(k),w=h(),v=_("select"),E=_("option"),B=S(D),A=_("option"),A.textContent="+",U=_("option"),U.textContent="-",q=_("option"),q.textContent="%",j=h(),K=_("input"),G=h(),Y=_("div"),X=_("span"),y=S(L),W=S(":"),R=h(),I=_("div");for(let be=0;be<at.length;be+=1)at[be].c();z=h(),Q=_("div"),Z=_("span"),ne=S(V),fe=S(":"),oe=h(),ie=_("div"),re=_("div");for(let be=0;be<Ne.length;be+=1)Ne[be].c();x=h(),$=_("div");for(let be=0;be<Je.length;be+=1)Je[be].c();te=h(),ge=_("div");for(let be=0;be<de.length;be+=1)de[be].c();ke=h(),P=_("div"),C=_("select"),F=_("option"),F.textContent="-";for(let be=0;be<bt.length;be+=1)bt[be].c();O=h(),H=_("select"),le=_("option"),le.textContent="-";for(let be=0;be<Ge.length;be+=1)Ge[be].c();ae=h(),ce=_("input"),ue=h(),me=_("select"),Se=_("option"),Se.textContent="-";for(let be=0;be<Ee.length;be+=1)Ee[be].c();we=h(),Te=_("select"),Ie=_("option"),Ie.textContent="-";for(let be=0;be<De.length;be+=1)De[be].c();Ue=h(),Ve=_("div"),Ye=_("span"),Ye.textContent="⇧",he=h(),ve=_("span"),He=S("⇩"),gt=h(),pt=_("span"),pt.textContent="🗑",Dt=h(),Tt=_("hr"),f(n,"name","n"),f(n,"type","text"),f(n,"class","in-s"),f(l,"class","mr-3"),u.__value=1,J(u,u.__value),m.__value=2,J(m,m.__value),b.__value=3,J(b,b.__value),f(a,"name","rd"),f(a,"class","in-f"),t[30].d===void 0&&Jt(ct),E.__value=0,J(E,E.__value),A.__value=1,J(A,A.__value),U.__value=3,J(U,U.__value),q.__value=2,J(q,q.__value),f(v,"name","rt"),f(v,"class","in-m"),t[30].t===void 0&&Jt(Oe),f(K,"name","rv"),f(K,"type","number"),f(K,"class","in-l tr"),tn(K,"width","100px"),f(K,"min","0.0001"),f(K,"max","99.9999"),f(K,"step","0.0001"),f(s,"class","flex mr-3"),f(X,"class","mr-2"),f(Y,"class","flex flex-wrap mr-3"),f(Z,"class","mr-2"),f(Q,"class","flex flex-wrap mr-3"),F.__value=0,J(F,F.__value),f(C,"name","rsd"),f(C,"class","in-f"),t[30].s.d===void 0&&Jt(Ut),le.__value=0,J(le,le.__value),f(H,"name","rsm"),f(H,"class","in-m"),t[30].s.m===void 0&&Jt(rt),f(ce,"class","in-m"),ce.disabled=!0,ce.value="to",tn(ce,"width","20px"),tn(ce,"color","#888"),Se.__value=0,J(Se,Se.__value),f(me,"name","red"),f(me,"class","in-m"),t[30].e.d===void 0&&Jt(Re),Ie.__value=0,J(Ie,Ie.__value),f(Te,"name","rem"),f(Te,"class","in-l"),t[30].e.m===void 0&&Jt(et),f(P,"class","flex flex-wrap mr-3"),f(Ye,"class",t[32]>0?"text-green-600":"text-gray-300"),f(ve,"class",lt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),f(pt,"class","text-red-500 text-xs"),f(Ve,"class","mt-1.5 ml-3"),f(e,"class","flex flex-wrap"),f(Tt,"class","m-3")},m(be,mt){N(be,e,mt),o(e,l),o(l,n),J(n,t[30].n),o(e,i),o(e,s),o(s,a),o(a,u),o(u,c),o(a,m),o(m,d),o(a,b),o(b,g),ft(a,t[30].d,!0),o(s,w),o(s,v),o(v,E),o(E,B),o(v,A),o(v,U),o(v,q),ft(v,t[30].t,!0),o(s,j),o(s,K),J(K,t[30].v),o(e,G),o(e,Y),o(Y,X),o(X,y),o(X,W),o(Y,R),o(Y,I);for(let tt=0;tt<at.length;tt+=1)at[tt]&&at[tt].m(I,null);o(e,z),o(e,Q),o(Q,Z),o(Z,ne),o(Z,fe),o(Q,oe),o(Q,ie),o(ie,re);for(let tt=0;tt<Ne.length;tt+=1)Ne[tt]&&Ne[tt].m(re,null);o(ie,x),o(ie,$);for(let tt=0;tt<Je.length;tt+=1)Je[tt]&&Je[tt].m($,null);o(ie,te),o(ie,ge);for(let tt=0;tt<de.length;tt+=1)de[tt]&&de[tt].m(ge,null);o(e,ke),o(e,P),o(P,C),o(C,F);for(let tt=0;tt<bt.length;tt+=1)bt[tt]&&bt[tt].m(C,null);ft(C,t[30].s.d,!0),o(P,O),o(P,H),o(H,le);for(let tt=0;tt<Ge.length;tt+=1)Ge[tt]&&Ge[tt].m(H,null);ft(H,t[30].s.m,!0),o(P,ae),o(P,ce),o(P,ue),o(P,me),o(me,Se);for(let tt=0;tt<Ee.length;tt+=1)Ee[tt]&&Ee[tt].m(me,null);ft(me,t[30].e.d,!0),o(P,we),o(P,Te),o(Te,Ie);for(let tt=0;tt<De.length;tt+=1)De[tt]&&De[tt].m(Te,null);ft(Te,t[30].e.m,!0),o(e,Ue),o(e,Ve),o(Ve,Ye),o(Ve,he),o(Ve,ve),o(ve,He),o(Ve,gt),o(Ve,pt),N(be,Dt,mt),N(be,Tt,mt),ot||(dt=[pe(n,"input",Ht),pe(a,"change",ct),pe(v,"change",Oe),pe(K,"input",Xe),pe(C,"change",Ut),pe(H,"change",rt),pe(me,"change",Re),pe(Te,"change",et),pe(Ye,"click",it),pe(Ye,"keypress",ut),pe(ve,"click",wt),pe(ve,"keypress",Rt),pe(pt,"click",Gt),pe(pt,"keypress",kt)],ot=!0)},p(be,mt){var tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae;if(t=be,mt[0]&2&&n.value!==t[30].n&&J(n,t[30].n),mt[0]&1&&r!==(r=(((ol=(tt=t[0].conf)==null?void 0:tt.common)==null?void 0:ol.import)??"Import")+"")&&T(c,r),mt[0]&1&&p!==(p=(((Zt=(Xt=t[0].conf)==null?void 0:Xt.common)==null?void 0:Zt.export)??"Export")+"")&&T(d,p),mt[0]&1&&k!==(k=(((ul=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:ul.both)??"Both")+"")&&T(g,k),mt[0]&2&&ft(a,t[30].d),mt[0]&1&&D!==(D=(((Ze=(Pe=t[0].conf)==null?void 0:Pe.price)==null?void 0:Ze.fixed)??"Fixed")+"")&&T(B,D),mt[0]&2&&ft(v,t[30].t),mt[0]&2&&St(K.value)!==t[30].v&&J(K,t[30].v),mt[0]&1&&L!==(L=((($t=t[0].common)==null?void 0:$t.days)??"Days")+"")&&T(y,L),mt[0]&82){Ft=st({length:7});let _e;for(_e=0;_e<Ft.length;_e+=1){const zt=tu(t,Ft,_e);at[_e]?at[_e].p(zt,mt):(at[_e]=nu(zt),at[_e].c(),at[_e].m(I,null))}for(;_e<at.length;_e+=1)at[_e].d(1);at.length=Ft.length}if(mt[0]&1&&V!==(V=(((Ae=t[0].common)==null?void 0:Ae.hours)??"Hours")+"")&&T(ne,V),mt[0]&66){xe=st({length:8});let _e;for(_e=0;_e<xe.length;_e+=1){const zt=eu(t,xe,_e);Ne[_e]?Ne[_e].p(zt,mt):(Ne[_e]=iu(zt),Ne[_e].c(),Ne[_e].m(re,null))}for(;_e<Ne.length;_e+=1)Ne[_e].d(1);Ne.length=xe.length}if(mt[0]&66){We=st({length:8});let _e;for(_e=0;_e<We.length;_e+=1){const zt=xr(t,We,_e);Je[_e]?Je[_e].p(zt,mt):(Je[_e]=su(zt),Je[_e].c(),Je[_e].m($,null))}for(;_e<Je.length;_e+=1)Je[_e].d(1);Je.length=We.length}if(mt[0]&66){Qe=st({length:8});let _e;for(_e=0;_e<Qe.length;_e+=1){const zt=$r(t,Qe,_e);de[_e]?de[_e].p(zt,mt):(de[_e]=ou(zt),de[_e].c(),de[_e].m(ge,null))}for(;_e<de.length;_e+=1)de[_e].d(1);de.length=Qe.length}if(mt[0]&2&&ft(C,t[30].s.d),mt[0]&1){vt=st({length:12});let _e;for(_e=0;_e<vt.length;_e+=1){const zt=Zr(t,vt,_e);Ge[_e]?Ge[_e].p(zt,mt):(Ge[_e]=au(zt),Ge[_e].c(),Ge[_e].m(H,null))}for(;_e<Ge.length;_e+=1)Ge[_e].d(1);Ge.length=vt.length}if(mt[0]&2&&ft(H,t[30].s.m),mt[0]&2&&ft(me,t[30].e.d),mt[0]&1){Le=st({length:12});let _e;for(_e=0;_e<Le.length;_e+=1){const zt=Qr(t,Le,_e);De[_e]?De[_e].p(zt,mt):(De[_e]=ru(zt),De[_e].c(),De[_e].m(Te,null))}for(;_e<De.length;_e+=1)De[_e].d(1);De.length=Le.length}mt[0]&2&&ft(Te,t[30].e.m),mt[0]&2&&lt!==(lt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&f(ve,"class",lt)},d(be){be&&(M(e),M(Dt),M(Tt)),el(at,be),el(Ne,be),el(Je,be),el(de,be),el(bt,be),el(Ge,be),el(Ee,be),el(De,be),ot=!1,Vt(dt)}}}function f_(t){var z,Q,Z,V,ne,fe,oe,ie,re;let e,l,n=(((Q=(z=t[0].conf)==null?void 0:z.price)==null?void 0:Q.title)??"Price")+"",i,s,a,u,r,c,m,p,d,b,k,g,w,v=(((V=(Z=t[0].conf)==null?void 0:Z.price)==null?void 0:V.btn_add)??"Add")+"",E,D,B,A,U,q,j=(((ne=t[0].btn)==null?void 0:ne.save)??"Save")+"",K,G,Y,X,L,y,W,R,I=t[1].o&&lu(t);return Y=new pl({props:{active:t[2],message:((oe=(fe=t[0].conf)==null?void 0:fe.price)==null?void 0:oe.mask_loading)??"Loading"}}),L=new pl({props:{active:t[3],message:((re=(ie=t[0].conf)==null?void 0:ie.price)==null?void 0:re.mask_saving)??"Saving"}}),{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),a=_("a"),a.textContent="ⓘ",u=h(),r=_("hr"),c=h(),m=_("form"),p=_("input"),d=h(),I&&I.c(),b=h(),k=_("div"),g=_("div"),w=_("button"),E=S(v),D=h(),B=_("div"),B.innerHTML="",A=h(),U=_("div"),q=_("button"),K=S(j),G=h(),Me(Y.$$.fragment),X=h(),Me(L.$$.fragment),f(l,"class","text-sm"),f(a,"href",Fl("Price-configuration")),f(a,"target","_blank"),f(a,"class","float-right"),f(r,"class","m-3"),f(p,"type","hidden"),f(p,"name","r"),p.value="true",f(w,"type","button"),f(w,"class","btn-pri"),f(B,"class","text-center"),f(q,"type","submit"),f(q,"class","btn-pri"),f(U,"class","text-right"),f(k,"class","grid grid-cols-3"),f(m,"autocomplete","off"),f(e,"class","cnt")},m(x,$){N(x,e,$),o(e,l),o(l,i),o(e,s),o(e,a),o(e,u),o(e,r),o(e,c),o(e,m),o(m,p),o(m,d),I&&I.m(m,null),o(m,b),o(m,k),o(k,g),o(g,w),o(w,E),o(k,D),o(k,B),o(k,A),o(k,U),o(U,q),o(q,K),N(x,G,$),ye(Y,x,$),N(x,X,$),ye(L,x,$),y=!0,W||(R=[pe(w,"click",t[7]),pe(m,"submit",mn(t[5]))],W=!0)},p(x,$){var ke,P,C,F,O,H,le,ae,ce;(!y||$[0]&1)&&n!==(n=(((P=(ke=x[0].conf)==null?void 0:ke.price)==null?void 0:P.title)??"Price")+"")&&T(i,n),x[1].o?I?I.p(x,$):(I=lu(x),I.c(),I.m(m,b)):I&&(I.d(1),I=null),(!y||$[0]&1)&&v!==(v=(((F=(C=x[0].conf)==null?void 0:C.price)==null?void 0:F.btn_add)??"Add")+"")&&T(E,v),(!y||$[0]&1)&&j!==(j=(((O=x[0].btn)==null?void 0:O.save)??"Save")+"")&&T(K,j);const te={};$[0]&4&&(te.active=x[2]),$[0]&1&&(te.message=((le=(H=x[0].conf)==null?void 0:H.price)==null?void 0:le.mask_loading)??"Loading"),Y.$set(te);const ge={};$[0]&8&&(ge.active=x[3]),$[0]&1&&(ge.message=((ce=(ae=x[0].conf)==null?void 0:ae.price)==null?void 0:ce.mask_saving)??"Saving"),L.$set(ge)},i(x){y||(ee(Y.$$.fragment,x),ee(L.$$.fragment,x),y=!0)},o(x){se(Y.$$.fragment,x),se(L.$$.fragment,x),y=!1},d(x){x&&(M(e),M(G),M(X)),I&&I.d(),Ce(Y,x),Ce(L,x),W=!1,Vt(R)}}}function c_(t,e,l){let{basepath:n="/"}=e,i={};Nl.subscribe(I=>{l(0,i=I)});let s=["mo","tu","we","th","fr","sa","su"],a={},u=!0,r=!1;mf.subscribe(I=>{I.o&&(l(1,a=I),l(2,u=!1))}),C1();async function c(I){l(3,r=!0);const z=new URLSearchParams;z.append("r","true"),z.append("rc",a.o.length),a.o.forEach(function(Z,V){z.append("rt"+V,Z.t),z.append("rn"+V,Z.n),z.append("rd"+V,Z.d),z.append("ra"+V,Z.a),z.append("rh"+V,Z.h),z.append("rv"+V,Z.v),z.append("rsm"+V,Z.s.m),z.append("rsd"+V,Z.s.d),z.append("rem"+V,Z.e.m),z.append("red"+V,Z.e.d)}),await(await fetch("save",{method:"POST",body:z})).json(),l(3,r=!1),jl(n+"configuration")}let m=function(I,z){return I.includes(z)?I=I.filter(function(Q){return Q!==z}):I.push(z),I},p=function(){let I=a.o;I.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,a.o=I,a)},d=function(I){let z=a.o;z.splice(I,1),l(1,a.o=z,a)},b=function(I){if(I<=0)return;let z=a.o;var Q=z[I];z[I]=z[I-1],z[I-1]=Q,l(1,a.o=z,a)},k=function(I){let z=a.o;if(!(I>=z.length-1)){var Q=z[I];z[I]=z[I+1],z[I+1]=Q,l(1,a.o=z,a)}};function g(I,z){I[z].n=this.value,l(1,a)}function w(I,z){I[z].d=nl(this),l(1,a)}function v(I,z){I[z].t=nl(this),l(1,a)}function E(I,z){I[z].v=St(this.value),l(1,a)}const D=(I,z,Q,Z)=>l(1,Q[Z].a=m(I.a,z),a),B=(I,z,Q,Z)=>l(1,Q[Z].h=m(I.h,z),a),A=(I,z,Q,Z)=>l(1,Q[Z].h=m(I.h,z+8),a),U=(I,z,Q,Z)=>l(1,Q[Z].h=m(I.h,z+16),a);function q(I,z){I[z].s.d=nl(this),l(1,a)}function j(I,z){I[z].s.m=nl(this),l(1,a)}function K(I,z){I[z].e.d=nl(this),l(1,a)}function G(I,z){I[z].e.m=nl(this),l(1,a)}const Y=I=>b(I),X=I=>b(I),L=I=>k(I),y=I=>k(I),W=I=>d(I),R=I=>d(I);return t.$$set=I=>{"basepath"in I&&l(11,n=I.basepath)},[i,a,u,r,s,c,m,p,d,b,k,n,g,w,v,E,D,B,A,U,q,j,K,G,Y,X,L,y,W,R]}class m_ extends Ot{constructor(e){super(),It(this,e,c_,f_,Lt,{basepath:11},null,[-1,-1])}}function fu(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function cu(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function mu(t){let e,l,n,i=st(t[1]),s=[];for(let a=0;a<i.length;a+=1)s[a]=_u(cu(t,i,a));return{c(){e=_("div"),e.textContent="Import",l=h(),n=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(e,"class","text-sm font-bold"),f(n,"class","flex flex-wrap my-1")},m(a,u){N(a,e,u),N(a,l,u),N(a,n,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(a,u){if(u&3){i=st(a[1]);let r;for(r=0;r<i.length;r+=1){const c=cu(a,i,r);s[r]?s[r].p(c,u):(s[r]=_u(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(a){a&&(M(e),M(l),M(n)),el(s,a)}}}function _u(t){let e,l,n=t[13].name+"",i,s,a,u,r,c,m,p,d;function b(){t[11].call(a,t[13])}return{c(){e=_("label"),l=_("span"),i=S(n),s=h(),a=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),f(l,"class","in-pre"),f(a,"name",u=t[13].key),f(a,"type","number"),f(a,"step","0.01"),f(a,"class","in-txt w-full text-right"),f(c,"class","in-post"),f(e,"class","flex w-60 m-1")},m(k,g){N(k,e,g),o(e,l),o(l,i),o(e,s),o(e,a),J(a,t[0][t[13].key]),o(e,r),o(e,c),o(e,m),p||(d=pe(a,"input",b),p=!0)},p(k,g){t=k,g&2&&n!==(n=t[13].name+"")&&T(i,n),g&2&&u!==(u=t[13].key)&&f(a,"name",u),g&3&&St(a.value)!==t[0][t[13].key]&&J(a,t[0][t[13].key])},d(k){k&&M(e),p=!1,d()}}}function pu(t){let e,l,n,i=st(t[2]),s=[];for(let a=0;a<i.length;a+=1)s[a]=du(fu(t,i,a));return{c(){e=_("div"),e.textContent="Export",l=h(),n=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(e,"class","text-sm font-bold"),f(n,"class","flex flex-wrap my-1")},m(a,u){N(a,e,u),N(a,l,u),N(a,n,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(a,u){if(u&5){i=st(a[2]);let r;for(r=0;r<i.length;r+=1){const c=fu(a,i,r);s[r]?s[r].p(c,u):(s[r]=du(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(a){a&&(M(e),M(l),M(n)),el(s,a)}}}function du(t){let e,l,n=t[13].name+"",i,s,a,u,r,c,m,p,d;function b(){t[12].call(a,t[13])}return{c(){e=_("label"),l=_("span"),i=S(n),s=h(),a=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),f(l,"class","in-pre"),f(a,"name",u=t[13].key),f(a,"type","number"),f(a,"step","0.01"),f(a,"class","in-txt w-full text-right"),f(c,"class","in-post"),f(e,"class","flex w-60 m-1")},m(k,g){N(k,e,g),o(e,l),o(l,i),o(e,s),o(e,a),J(a,t[0][t[13].key]),o(e,r),o(e,c),o(e,m),p||(d=pe(a,"input",b),p=!0)},p(k,g){t=k,g&4&&n!==(n=t[13].name+"")&&T(i,n),g&4&&u!==(u=t[13].key)&&f(a,"name",u),g&5&&St(a.value)!==t[0][t[13].key]&&J(a,t[0][t[13].key])},d(k){k&&M(e),p=!1,d()}}}function __(t){var B,A,U;let e,l,n,i,s,a,u,r,c,m,p=(((B=t[3].btn)==null?void 0:B.save)??"Save")+"",d,b,k,g,w,v,E=t[1]&&mu(t),D=t[2]&&t[4]&&pu(t);return k=new pl({props:{active:t[5],message:((U=(A=t[3].conf)==null?void 0:A.mask)==null?void 0:U.saving)??"Saving"}}),{c(){e=_("form"),l=_("div"),E&&E.c(),n=h(),D&&D.c(),i=h(),s=_("div"),a=_("div"),u=_("button"),u.textContent="Clear all",r=h(),c=_("div"),m=_("button"),d=S(p),b=h(),Me(k.$$.fragment),f(u,"type","button"),f(u,"class","btn-red"),f(m,"type","submit"),f(m,"class","btn-pri"),f(c,"class","text-right"),f(s,"class","grid grid-cols-2 mt-3"),f(l,"class","cnt"),f(e,"autocomplete","off")},m(q,j){N(q,e,j),o(e,l),E&&E.m(l,null),o(l,n),D&&D.m(l,null),o(l,i),o(l,s),o(s,a),o(a,u),o(s,r),o(s,c),o(c,m),o(m,d),N(q,b,j),ye(k,q,j),g=!0,w||(v=[pe(u,"click",t[6]),pe(e,"submit",mn(t[7]))],w=!0)},p(q,[j]){var G,Y,X;q[1]?E?E.p(q,j):(E=mu(q),E.c(),E.m(l,n)):E&&(E.d(1),E=null),q[2]&&q[4]?D?D.p(q,j):(D=pu(q),D.c(),D.m(l,i)):D&&(D.d(1),D=null),(!g||j&8)&&p!==(p=(((G=q[3].btn)==null?void 0:G.save)??"Save")+"")&&T(d,p);const K={};j&32&&(K.active=q[5]),j&8&&(K.message=((X=(Y=q[3].conf)==null?void 0:Y.mask)==null?void 0:X.saving)??"Saving"),k.$set(K)},i(q){g||(ee(k.$$.fragment,q),g=!0)},o(q){se(k.$$.fragment,q),g=!1},d(q){q&&(M(e),M(b)),E&&E.d(),D&&D.d(),Ce(k,q),w=!1,Vt(v)}}}function p_(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:a="/"}=e,u={};Nl.subscribe(w=>{l(3,u=w)});let r=!1,c,m;async function p(){if(confirm("Clear all data?"))for(let w in i)(w.startsWith("i")||w.startsWith("e"))&&l(0,i[w]=0,i)}let d=!1;async function b(w){l(5,d=!0);const v=new FormData(w.target),E=new URLSearchParams;for(let B of v){const[A,U]=B;E.append(A,U)}await(await fetch(s,{method:"POST",body:E})).json(),l(5,d=!1),jl(a)}function k(w){i[w.key]=St(this.value),l(0,i)}function g(w){i[w.key]=St(this.value),l(0,i)}return t.$$set=w=>{"prefix"in w&&l(8,n=w.prefix),"data"in w&&l(0,i=w.data),"url"in w&&l(9,s=w.url),"basepath"in w&&l(10,a=w.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let w in i){let v=[];w.startsWith("i")?v=c:w.startsWith("e")&&(v=m,i[w]&&l(4,r=!0)),v.push({key:w,name:n+" "+w.substring(1),value:i[w]})}}},[i,c,m,u,r,d,p,b,n,s,a,k,g]}class hf extends Ot{constructor(e){super(),It(this,e,p_,__,Lt,{prefix:8,data:0,url:9,basepath:10})}}function d_(t){let e,l;return e=new $m({props:{basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h_(t){let e,l;return e=new y1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function b_(t){let e,l;return e=new _m({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function g_(t){let e,l;return e=new m_({props:{basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function v_(t){let e,l;return e=new Mm({props:{sysinfo:t[7],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function k_(t){let e,l;return e=new ks({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function w_(t){let e,l;return e=new ks({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function S_(t){let e,l;return e=new ks({props:{title:"private key",action:"/mqtt-key"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function y_(t){let e,l;return e=new s_({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function C_(t){let e,l;return e=new Um({props:{sysinfo:t[7],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function M_(t){let e,l;return e=new qm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function N_(t){let e,l;return e=new hf({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function P_(t){let e,l;return e=new hf({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function T_(t){let e,l,n,i,s,a,u,r,c,m,p,d,b,k,g,w,v,E,D,B,A,U,q,j,K,G,Y,X;return e=new Nc({props:{data:t[6],basepath:t[0]}}),n=new wl({props:{path:"/welcome",$$slots:{default:[d_]},$$scope:{ctx:t}}}),s=new wl({props:{path:"/",$$slots:{default:[h_]},$$scope:{ctx:t}}}),u=new wl({props:{path:"/configuration",$$slots:{default:[b_]},$$scope:{ctx:t}}}),c=new wl({props:{path:"/priceconfig",$$slots:{default:[g_]},$$scope:{ctx:t}}}),p=new wl({props:{path:"/status",$$slots:{default:[v_]},$$scope:{ctx:t}}}),b=new wl({props:{path:"/mqtt-ca",$$slots:{default:[k_]},$$scope:{ctx:t}}}),g=new wl({props:{path:"/mqtt-cert",$$slots:{default:[w_]},$$scope:{ctx:t}}}),v=new wl({props:{path:"/mqtt-key",$$slots:{default:[S_]},$$scope:{ctx:t}}}),D=new wl({props:{path:"/consent",$$slots:{default:[y_]},$$scope:{ctx:t}}}),A=new wl({props:{path:"/setup",$$slots:{default:[C_]},$$scope:{ctx:t}}}),q=new wl({props:{path:"/vendor",$$slots:{default:[M_]},$$scope:{ctx:t}}}),K=new wl({props:{path:"/edit-day",$$slots:{default:[N_]},$$scope:{ctx:t}}}),Y=new wl({props:{path:"/edit-month",$$slots:{default:[P_]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment),l=h(),Me(n.$$.fragment),i=h(),Me(s.$$.fragment),a=h(),Me(u.$$.fragment),r=h(),Me(c.$$.fragment),m=h(),Me(p.$$.fragment),d=h(),Me(b.$$.fragment),k=h(),Me(g.$$.fragment),w=h(),Me(v.$$.fragment),E=h(),Me(D.$$.fragment),B=h(),Me(A.$$.fragment),U=h(),Me(q.$$.fragment),j=h(),Me(K.$$.fragment),G=h(),Me(Y.$$.fragment)},m(L,y){ye(e,L,y),N(L,l,y),ye(n,L,y),N(L,i,y),ye(s,L,y),N(L,a,y),ye(u,L,y),N(L,r,y),ye(c,L,y),N(L,m,y),ye(p,L,y),N(L,d,y),ye(b,L,y),N(L,k,y),ye(g,L,y),N(L,w,y),ye(v,L,y),N(L,E,y),ye(D,L,y),N(L,B,y),ye(A,L,y),N(L,U,y),ye(q,L,y),N(L,j,y),ye(K,L,y),N(L,G,y),ye(Y,L,y),X=!0},p(L,y){const W={};y&64&&(W.data=L[6]),y&1&&(W.basepath=L[0]),e.$set(W);const R={};y&2049&&(R.$$scope={dirty:y,ctx:L}),n.$set(R);const I={};y&2558&&(I.$$scope={dirty:y,ctx:L}),s.$set(I);const z={};y&2241&&(z.$$scope={dirty:y,ctx:L}),u.$set(z);const Q={};y&2049&&(Q.$$scope={dirty:y,ctx:L}),c.$set(Q);const Z={};y&2240&&(Z.$$scope={dirty:y,ctx:L}),p.$set(Z);const V={};y&2048&&(V.$$scope={dirty:y,ctx:L}),b.$set(V);const ne={};y&2048&&(ne.$$scope={dirty:y,ctx:L}),g.$set(ne);const fe={};y&2048&&(fe.$$scope={dirty:y,ctx:L}),v.$set(fe);const oe={};y&2177&&(oe.$$scope={dirty:y,ctx:L}),D.$set(oe);const ie={};y&2240&&(ie.$$scope={dirty:y,ctx:L}),A.$set(ie);const re={};y&2177&&(re.$$scope={dirty:y,ctx:L}),q.$set(re);const x={};y&2053&&(x.$$scope={dirty:y,ctx:L}),K.$set(x);const $={};y&2057&&($.$$scope={dirty:y,ctx:L}),Y.$set($)},i(L){X||(ee(e.$$.fragment,L),ee(n.$$.fragment,L),ee(s.$$.fragment,L),ee(u.$$.fragment,L),ee(c.$$.fragment,L),ee(p.$$.fragment,L),ee(b.$$.fragment,L),ee(g.$$.fragment,L),ee(v.$$.fragment,L),ee(D.$$.fragment,L),ee(A.$$.fragment,L),ee(q.$$.fragment,L),ee(K.$$.fragment,L),ee(Y.$$.fragment,L),X=!0)},o(L){se(e.$$.fragment,L),se(n.$$.fragment,L),se(s.$$.fragment,L),se(u.$$.fragment,L),se(c.$$.fragment,L),se(p.$$.fragment,L),se(b.$$.fragment,L),se(g.$$.fragment,L),se(v.$$.fragment,L),se(D.$$.fragment,L),se(A.$$.fragment,L),se(q.$$.fragment,L),se(K.$$.fragment,L),se(Y.$$.fragment,L),X=!1},d(L){L&&(M(l),M(i),M(a),M(r),M(m),M(d),M(k),M(w),M(E),M(B),M(U),M(j),M(G)),Ce(e,L),Ce(n,L),Ce(s,L),Ce(u,L),Ce(c,L),Ce(p,L),Ce(b,L),Ce(g,L),Ce(v,L),Ce(D,L),Ce(A,L),Ce(q,L),Ce(K,L),Ce(Y,L)}}}function hu(t){let e,l,n,i;const s=[A_,E_],a=[];function u(r,c){return r[7].trying?0:1}return e=u(t),l=a[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){a[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=u(r),e===m?a[e].p(r,c):(At(),se(a[m],1,1,()=>{a[m]=null}),qt(),l=a[e],l?l.p(r,c):(l=a[e]=s[e](r),l.c()),ee(l,1),l.m(n.parentNode,n))},i(r){i||(ee(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),a[e].d(r)}}}function E_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function A_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function q_(t){let e,l,n,i;l=new Ku({props:{basepath:t[0],$$slots:{default:[T_]},$$scope:{ctx:t}}});let s=t[7].booting&&hu(t);return{c(){e=_("div"),Me(l.$$.fragment),n=h(),s&&s.c(),f(e,"class","container mx-auto m-3")},m(a,u){N(a,e,u),ye(l,e,null),o(e,n),s&&s.m(e,null),i=!0},p(a,[u]){const r={};u&1&&(r.basepath=a[0]),u&2559&&(r.$$scope={dirty:u,ctx:a}),l.$set(r),a[7].booting?s?(s.p(a,u),u&128&&ee(s,1)):(s=hu(a),s.c(),ee(s,1),s.m(e,null)):s&&(At(),se(s,1,1,()=>{s=null}),qt())},i(a){i||(ee(l.$$.fragment,a),ee(s),i=!0)},o(a){se(l.$$.fragment,a),se(s),i=!1},d(a){a&&M(e),Ce(l),s&&s.d()}}}function L_(t,e,l){let n=document.getElementsByTagName("base")[0].getAttribute("href");n||(n="/");let i;us.subscribe(k=>{l(1,i=k)});let s;ef.subscribe(k=>{l(2,s=k)});let a;tf.subscribe(k=>{l(3,a=k)});let u;lf.subscribe(k=>{l(4,u=k)});let r={};Nl.subscribe(k=>{l(5,r=k)});let c,m={},p={},d;ml.subscribe(k=>{var w;l(7,p=k);const g=(()=>{if(typeof window>"u")return"";const v=window.location.pathname??"/";return v.startsWith(n)?v.slice(n.length).replace(/^\/+/,""):v.replace(/^\/+/,"")})();p.vndcfg===!1?g==="setup"?jl(n+"vendor"):g!=="welcome"&&g!=="vendor"&&jl(n+"welcome"):p.usrcfg===!1?g!=="welcome"&&g!=="setup"&&jl(n+"welcome"):p.fwconsent===0&&g!=="consent"&&jl(n+"consent"),p.ui.k===1?document.documentElement.classList.add("dark"):p.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),p.ui.lang&&p.ui.lang!=((w=r==null?void 0:r.language)==null?void 0:w.code)&&Jn(p.ui.lang),p.version&&d&&p.version!=d&&window.location.reload(),d=p.version,c&&clearTimeout(c),c=setTimeout(ki,!m||!m.u||m.u<30||p!=null&&p.upgrading?1e4:3e5)}),J0.subscribe(k=>{l(6,m=k),_1(k)});let b={};return sf.subscribe(k=>{l(8,b=k)}),nf(),[n,i,s,a,u,r,m,p,b]}class D_ extends Ot{constructor(e){super(),It(this,e,L_,q_,Lt,{})}}new D_({target:document.getElementById("app")});
