var gf=Object.defineProperty;var vf=(t,e,l)=>e in t?gf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var yi=(t,e,l)=>(vf(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ke(){}function Cl(t,e){for(const l in e)t[l]=e[l];return t}function gu(t){return t()}function Bs(){return Object.create(null)}function Vt(t){t.forEach(gu)}function Zi(t){return typeof t=="function"}function Lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ti;function fn(t,e){return t===e?!0:(ti||(ti=document.createElement("a")),ti.href=e,t===ti.href)}function kf(t){return Object.keys(t).length===0}function $i(t,...e){if(t==null){for(const n of e)n(void 0);return Ke}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function en(t){let e;return $i(t,l=>e=l)(),e}function Dl(t,e,l){t.$$.on_destroy.push($i(e,l))}function xi(t,e,l,n){if(t){const i=vu(t,e,l,n);return t[0](i)}}function vu(t,e,l,n){return t[1]&&n?Cl(l.ctx.slice(),t[1](n(e))):l.ctx}function es(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let u=0;u<o;u+=1)s[u]=e.dirty[u]|i[u];return s}return e.dirty|i}return e.dirty}function ts(t,e,l,n,i,s){if(i){const o=vu(e,l,n,s);t.p(o,i)}}function ls(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ci(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function mi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const wf=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function el(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function Et(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function h(){return S(" ")}function tl(){return S("")}function pe(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function mn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Sf=["width","height"];function wn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Sf.indexOf(n)===-1?t[n]=e[n]:f(t,n,e[n])}function _i(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function St(t){return t===""?null:+t}function yf(t){return Array.from(t.childNodes)}function E(t,e){e=""+e,t.data!==e&&(t.data=e)}function Cf(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Mf(t,e,l){~wf.indexOf(l)?Cf(t,e):E(t,e)}function J(t,e){t.value=e??""}function tn(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ft(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let li;function Nf(){if(li===void 0){li=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{li=!0}}return li}function ns(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Nf();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=pe(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=pe(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),M(n)}}function Pf(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function js(t,e){return new t(e)}let zn;function Bn(t){zn=t}function Zn(){if(!zn)throw new Error("Function called outside component initialization");return zn}function vi(t){Zn().$$.on_mount.push(t)}function ki(t){Zn().$$.on_destroy.push(t)}function Tf(){const t=Zn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Pf(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function jn(t,e){return Zn().$$.context.set(t,e),e}function nn(t){return Zn().$$.context.get(t)}const hn=[],pi=[];let kn=[];const Hs=[],ku=Promise.resolve();let Di=!1;function wu(){Di||(Di=!0,ku.then(Su))}function Ef(){return wu(),ku}function Jt(t){kn.push(t)}const Ci=new Set;let pn=0;function Su(){if(pn!==0)return;const t=zn;do{try{for(;pn<hn.length;){const e=hn[pn];pn++,Bn(e),Af(e.$$)}}catch(e){throw hn.length=0,pn=0,e}for(Bn(null),hn.length=0,pn=0;pi.length;)pi.pop()();for(let e=0;e<kn.length;e+=1){const l=kn[e];Ci.has(l)||(Ci.add(l),l())}kn.length=0}while(hn.length);for(;Hs.length;)Hs.pop()();Di=!1,Ci.clear(),Bn(t)}function Af(t){if(t.fragment!==null){t.update(),Vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}function qf(t){const e=[],l=[];kn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),kn=e}const ri=new Set;let on;function Pt(){on={r:0,c:[],p:on}}function Tt(){on.r||Vt(on.c),on=on.p}function ee(t,e){t&&t.i&&(ri.delete(t),t.i(e))}function se(t,e,l,n){if(t&&t.o){if(ri.has(t))return;ri.add(t),on.c.push(()=>{ri.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function st(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function yu(t,e){t.d(1),e.delete(t.key)}function Cu(t,e,l,n,i,s,o,u,r,c,m,p){let d=t.length,b=s.length,w=d;const g={};for(;w--;)g[t[w].key]=w;const k=[],v=new Map,P=new Map,q=[];for(w=b;w--;){const L=p(i,s,w),j=l(L);let V=o.get(j);V?n&&q.push(()=>V.p(L,e)):(V=c(j,L),V.c()),v.set(j,k[w]=V),j in g&&P.set(j,Math.abs(w-g[j]))}const I=new Set,A=new Set;function R(L){ee(L,1),L.m(u,m),o.set(L.key,L),m=L.first,b--}for(;d&&b;){const L=k[b-1],j=t[d-1],V=L.key,G=j.key;L===j?(m=L.first,d--,b--):v.has(G)?!o.has(V)||I.has(V)?R(L):A.has(G)?d--:P.get(V)>P.get(G)?(A.add(V),R(L)):(I.add(G),d--):(r(j,o),d--)}for(;d--;){const L=t[d];v.has(L.key)||r(L,o)}for(;b;)R(k[b-1]);return Vt(q),k}function Ii(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],u=e[s];if(u){for(const r in o)r in u||(n[r]=1);for(const r in u)i[r]||(l[r]=u[r],i[r]=1);t[s]=u}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ni(t){return typeof t=="object"&&t!==null?t:{}}function Me(t){t&&t.c()}function ye(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Jt(()=>{const s=t.$$.on_mount.map(gu).filter(Zi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Vt(s),t.$$.on_mount=[]}),i.forEach(Jt)}function Ce(t,e){const l=t.$$;l.fragment!==null&&(qf(l.after_update),Vt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Lf(t,e){t.$$.dirty[0]===-1&&(hn.push(t),wu(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function It(t,e,l,n,i,s,o=null,u=[-1]){const r=zn;Bn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ke,not_equal:i,bound:Bs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Bs(),dirty:u,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(p,d,...b)=>{const w=b.length?b[0]:d;return c.ctx&&i(c.ctx[p],c.ctx[p]=w)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](w),m&&Lf(t,p)),d}):[],c.update(),m=!0,Vt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const p=yf(e.target);c.fragment&&c.fragment.l(p),p.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&ee(t.$$.fragment),ye(t,e.target,e.anchor),Su()}Bn(r)}class Ot{constructor(){yi(this,"$$");yi(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Ke}$on(e,l){if(!Zi(l))return Ke;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!kf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Df="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Df);const Ws=t=>typeof t>"u",Mu=t=>typeof t=="function",Nu=t=>typeof t=="number";function If(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pu(){let t=0;return()=>t++}function Of(){return Math.random().toString(36).substring(2)}const Hl=typeof window>"u";function Tu(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Eu=(t,e)=>t?{}:{style:e},Oi=t=>({"aria-hidden":"true",...Eu(t,"display:none;")}),dn=[];function Au(t,e){return{subscribe:rl(t,e).subscribe}}function rl(t,e=Ke){let l;const n=new Set;function i(u){if(Lt(t,u)&&(t=u,l)){const r=!dn.length;for(const c of n)c[1](),dn.push(c,t);if(r){for(let c=0;c<dn.length;c+=2)dn[c][0](dn[c+1]);dn.length=0}}}function s(u){i(u(t))}function o(u,r=Ke){const c=[u,r];return n.add(c),n.size===1&&(l=e(i,s)||Ke),u(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Ff(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Au(l,(o,u)=>{let r=!1;const c=[];let m=0,p=Ke;const d=()=>{if(m)return;p();const w=e(n?c[0]:c,o,u);s?o(w):p=Zi(w)?w:Ke},b=i.map((w,g)=>$i(w,k=>{c[g]=k,m&=~(1<<g),r&&d()},()=>{m|=1<<g}));return r=!0,d(),function(){Vt(b),p(),r=!1}})}const $n=t=>`@@svnav-ctx__${t}`,Fi=$n("LOCATION"),Sn=$n("ROUTER"),qu=$n("ROUTE"),Rf=$n("ROUTE_PARAMS"),Uf=$n("FOCUS_ELEM"),Lu=/^:(.+)/,Rn=(t,e,l)=>t.substr(e,l),Ri=(t,e)=>Rn(t,0,e.length)===e,Bf=t=>t==="",jf=t=>Lu.test(t),Du=t=>t[0]==="*",Hf=t=>t.replace(/\*.*$/,""),Iu=t=>t.replace(/(^\/+|\/+$)/g,"");function Ol(t,e=!1){const l=Iu(t).split("/");return e?l.filter(Boolean):l}const Mi=(t,e)=>t+(e?`?${e}`:""),is=t=>`/${Iu(t)}`;function xn(...t){const e=n=>Ol(n,!0).join("/"),l=t.map(e).join("/");return is(l)}const ss=1,wi=2,cn=3,Wf=4,Ou=5,zf=6,Fu=7,Kf=8,Vf=9,Ru=10,Uu=11,Gf={[ss]:"Link",[wi]:"Route",[cn]:"Router",[Wf]:"useFocus",[Ou]:"useLocation",[zf]:"useMatch",[Fu]:"useNavigate",[Kf]:"useParams",[Vf]:"useResolvable",[Ru]:"useResolve",[Uu]:"navigate"},os=t=>Gf[t];function Yf(t,e){let l;return t===wi?l=e.path?`path="${e.path}"`:"default":t===ss?l=`to="${e.to}"`:t===cn&&(l=`basepath="${e.basepath||""}"`),`<${os(t)} ${l||""} />`}function Xf(t,e,l,n){const i=l&&Yf(n||t,l),s=i?`

Occurred in: ${i}`:"",o=os(t),u=Mu(e)?e(o):e;return`<${o}> ${u}${s}`}const Bu=t=>(...e)=>t(Xf(...e)),ju=Bu(t=>{throw new Error(t)}),di=Bu(console.warn),zs=4,Jf=3,Qf=2,Zf=1,$f=1;function xf(t,e){const l=t.default?0:Ol(t.fullPath).reduce((n,i)=>{let s=n;return s+=zs,Bf(i)?s+=$f:jf(i)?s+=Qf:Du(i)?s-=zs+Zf:s+=Jf,s},0);return{route:t,score:l,index:e}}function e0(t){return t.map(xf).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Hu(t,e){let l,n;const[i]=e.split("?"),s=Ol(i),o=s[0]==="",u=e0(t);for(let r=0,c=u.length;r<c;r++){const{route:m}=u[r];let p=!1;const d={},b=v=>({...m,params:d,uri:v});if(m.default){n=b(e);continue}const w=Ol(m.fullPath),g=Math.max(s.length,w.length);let k=0;for(;k<g;k++){const v=w[k],P=s[k];if(!Ws(v)&&Du(v)){const I=v==="*"?"*":v.slice(1);d[I]=s.slice(k).map(decodeURIComponent).join("/");break}if(Ws(P)){p=!0;break}const q=Lu.exec(v);if(q&&!o){const I=decodeURIComponent(P);d[q[1]]=I}else if(v!==P){p=!0;break}}if(!p){l=b(xn(...s.slice(0,k)));break}}return l||n||null}function Wu(t,e){return Hu([t],e)}function t0(t,e){if(Ri(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Ol(l),o=Ol(i);if(s[0]==="")return Mi(i,n);if(!Ri(s[0],".")){const c=o.concat(s).join("/");return Mi((i==="/"?"":"/")+c,n)}const u=o.concat(s),r=[];return u.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),Mi(`/${r.join("/")}`,n)}function Ks(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Ol(e,!0),u=Ol(l,!0);for(;o.length;)o[0]!==u[0]&&ju(cn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),u.shift();return{pathname:xn(...u),hash:n,search:i,state:s}}const Vs=t=>t.length===1?"":t,as=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Vs(Rn(t,l)):"",o=i?Rn(t,0,l):t,u=n?Vs(Rn(o,e)):"";return{pathname:(n?Rn(o,0,e):o)||"/",search:u,hash:s}},l0=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function n0(t,e,l){return xn(l,t0(t,e))}function i0(t,e){const l=is(Hf(t)),n=Ol(l,!0),i=Ol(e,!0).slice(0,n.length),s=Wu({fullPath:l},xn(...i));return s&&s.uri}const Ni="POP",s0="PUSH",o0="REPLACE";function Pi(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function a0(t){let e=[],l=Pi(t),n=Ni;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Pi(t),n=Ni,i([s])};i([s]);const u=Tu(t,"popstate",o);return()=>{u(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:u={},replace:r=!1}=o||{};if(n=r?o0:s0,Nu(s))o&&di(Uu,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Ni,t.history.go(s);else{const c={...u,_key:Of()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Pi(t),i()}}}function Ti(t,e){return{...as(e),state:t}}function r0(t="/"){let e=0,l=[Ti(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ti(n,s))},replaceState(n,i,s){l[e]=Ti(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const u0=!!(!Hl&&window.document&&window.document.createElement),f0=!Hl&&window.location.origin==="null",zu=a0(u0&&!f0?window:r0()),{navigate:jl}=zu;let Rl=null,Ku=!0;function c0(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function m0(t){(!Rl||t.level>Rl.level||t.level===Rl.level&&c0(t.routerId,Rl.routerId))&&(Rl=t)}function _0(){Rl=null}function p0(){Ku=!1}function Gs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Tu(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function d0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function h0(t){return/^H[1-6]$/i.test(t.tagName)}function Ys(t,e=document){return e.querySelector(t)}function b0(t){let l=Ys(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!d0(l,t);){if(h0(l))return l;const n=Ys("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function g0(t){Promise.resolve(en(t.focusElement)).then(e=>{const l=e||b0(t.id);l||di(cn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,wi),!Gs(l)&&Gs(document.documentElement)})}const v0=(t,e,l)=>(n,i)=>Ef().then(()=>{if(!Rl||Ku){p0();return}if(n&&g0(Rl.route),t.announcements&&i){const{path:s,fullPath:o,meta:u,params:r,uri:c}=Rl.route,m=t.createAnnouncement({path:s,fullPath:o,meta:u,params:r,uri:c},en(l));Promise.resolve(m).then(p=>{e.set(p)})}_0()}),k0="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function w0(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Eu(t[6],k0)],i={};for(let s=0;s<n.length;s+=1)i=Cl(i,n[s]);return{c(){e=_("div"),l=S(t[0]),wn(e,i)},m(s,o){N(s,e,o),a(e,l)},p(s,o){o[0]&1&&Mf(l,s[0],i.contenteditable)},d(s){s&&M(e)}}}function S0(t){let e,l,n,i,s,o=[Oi(t[6]),{"data-svnav-router":t[3]}],u={};for(let p=0;p<o.length;p+=1)u=Cl(u,o[p]);const r=t[22].default,c=xi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&w0(t);return{c(){e=_("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=tl(),wn(e,u)},m(p,d){N(p,e,d),N(p,l,d),c&&c.m(p,d),N(p,n,d),m&&m.m(p,d),N(p,i,d),s=!0},p(p,d){c&&c.p&&(!s||d[0]&2097152)&&ts(c,r,p,p[21],s?es(r,p[21],d,null):ls(p[21]),null),p[2]&&p[4]&&p[1].announcements&&m.p(p,d)},i(p){s||(ee(c,p),s=!0)},o(p){se(c,p),s=!1},d(p){p&&(M(e),M(l),M(n),M(i)),c&&c.d(p),m&&m.d(p)}}}const y0=Pu(),Xs="/";function C0(t,e,l){let n,i,s,o,u,{$$slots:r={},$$scope:c}=e,{basepath:m=Xs}=e,{url:p=null}=e,{history:d=zu}=e,{primary:b=!0}=e,{a11y:w={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:K=>`Navigated to ${K.uri}`,announcements:!0,...w},v=m,P=is(m),q=nn(Fi),I=nn(Sn),A=!q,R=y0(),L=b&&!(I&&!I.manageFocus),j=rl("");Dl(t,j,K=>l(0,u=K));const V=I?I.disableInlineStyles:g,G=rl([]);Dl(t,G,K=>l(20,o=K));const X=rl(null);Dl(t,X,K=>l(18,i=K));let Y=!1;const D=A?0:I.level+1,W=A?rl((()=>Ks(Hl?as(p):d.location,P))()):q;Dl(t,W,K=>l(17,n=K));const B=rl(n);Dl(t,B,K=>l(19,s=K));const O=v0(k,j,W),z=K=>ne=>ne.filter(fe=>fe.id!==K);function Q(K){if(Hl){if(Y)return;const ne=Wu(K,n.pathname);if(ne)return Y=!0,ne}else G.update(ne=>{const fe=z(K.id)(ne);return fe.push(K),fe})}function Z(K){G.update(z(K))}return!A&&m!==Xs&&di(cn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),A&&(vi(()=>d.listen(ne=>{const fe=Ks(ne.location,P);B.set(n),W.set(fe)})),jn(Fi,W)),jn(Sn,{activeRoute:X,registerRoute:Q,unregisterRoute:Z,manageFocus:L,level:D,id:R,history:A?d:I.history,basepath:A?P:I.basepath,disableInlineStyles:V}),t.$$set=K=>{"basepath"in K&&l(11,m=K.basepath),"url"in K&&l(12,p=K.url),"history"in K&&l(13,d=K.history),"primary"in K&&l(14,b=K.primary),"a11y"in K&&l(15,w=K.a11y),"disableInlineStyles"in K&&l(16,g=K.disableInlineStyles),"$$scope"in K&&l(21,c=K.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==v&&di(cn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const K=Hu(o,n.pathname);X.set(K)}if(t.$$.dirty[0]&655360&&A){const K=!!n.hash,ne=!K&&L,fe=!K||n.pathname!==s.pathname;O(ne,fe)}t.$$.dirty[0]&262144&&L&&i&&i.primary&&m0({level:D,routerId:R,route:i})},[u,k,A,R,L,j,V,G,X,W,B,m,p,d,b,w,g,n,i,s,o,c,r]}class M0 extends Ot{constructor(e){super(),It(this,e,C0,S0,Lt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Vu=M0;function ei(t,e,l=Sn,n=cn){nn(l)||ju(t,s=>`You cannot use ${s} outside of a ${os(n)}.`,e)}const N0=t=>{const{subscribe:e}=nn(t);return{subscribe:e}};function Gu(){return ei(Ou),N0(Fi)}function Yu(){const{history:t}=nn(Sn);return t}function Xu(){const t=nn(qu);return t?Ff(t,e=>e.base):rl("/")}function Ju(){ei(Ru);const t=Xu(),{basepath:e}=nn(Sn);return n=>n0(n,en(t),e)}function P0(){ei(Fu);const t=Ju(),{navigate:e}=Yu();return(n,i)=>{const s=Nu(n)?n:t(n);return e(s,i)}}const T0=t=>({params:t&16,location:t&8}),Js=t=>({params:Hl?en(t[10]):t[4],location:t[3],navigate:t[11]});function Qs(t){let e,l;return e=new Vu({props:{primary:t[1],$$slots:{default:[q0]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function E0(t){let e;const l=t[18].default,n=xi(l,t,t[19],Js);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&ts(n,l,i,i[19],e?es(l,i[19],s,T0):ls(i[19]),Js)},i(i){e||(ee(n,i),e=!0)},o(i){se(n,i),e=!1},d(i){n&&n.d(i)}}}function A0(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Hl?en(t[10]):t[4],t[12]];var s=t[0];function o(u,r){let c={};for(let m=0;m<i.length;m+=1)c=Cl(c,i[m]);return r!==void 0&&r&7192&&(c=Cl(c,Ii(i,[r&8&&{location:u[3]},r&2048&&{navigate:u[11]},r&1040&&ni(Hl?en(u[10]):u[4]),r&4096&&ni(u[12])]))),{props:c}}return s&&(e=js(s,o(t))),{c(){e&&Me(e.$$.fragment),l=tl()},m(u,r){e&&ye(e,u,r),N(u,l,r),n=!0},p(u,r){if(r&1&&s!==(s=u[0])){if(e){Pt();const c=e;se(c.$$.fragment,1,0,()=>{Ce(c,1)}),Tt()}s?(e=js(s,o(u,r)),Me(e.$$.fragment),ee(e.$$.fragment,1),ye(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?Ii(i,[r&8&&{location:u[3]},r&2048&&{navigate:u[11]},r&1040&&ni(Hl?en(u[10]):u[4]),r&4096&&ni(u[12])]):{};e.$set(c)}},i(u){n||(e&&ee(e.$$.fragment,u),n=!0)},o(u){e&&se(e.$$.fragment,u),n=!1},d(u){u&&M(l),e&&Ce(e,u)}}}function q0(t){let e,l,n,i;const s=[A0,E0],o=[];function u(r,c){return r[0]!==null?0:1}return e=u(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=u(r),e===m?o[e].p(r,c):(Pt(),se(o[m],1,1,()=>{o[m]=null}),Tt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),ee(l,1),l.m(n.parentNode,n))},i(r){i||(ee(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function L0(t){let e,l,n,i,s,o=[Oi(t[7]),{"data-svnav-route-start":t[5]}],u={};for(let p=0;p<o.length;p+=1)u=Cl(u,o[p]);let r=t[2]&&Qs(t),c=[Oi(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let p=0;p<c.length;p+=1)m=Cl(m,c[p]);return{c(){e=_("div"),l=h(),r&&r.c(),n=h(),i=_("div"),wn(e,u),wn(i,m)},m(p,d){N(p,e,d),N(p,l,d),r&&r.m(p,d),N(p,n,d),N(p,i,d),s=!0},p(p,[d]){p[2]?r?(r.p(p,d),d&4&&ee(r,1)):(r=Qs(p),r.c(),ee(r,1),r.m(n.parentNode,n)):r&&(Pt(),se(r,1,1,()=>{r=null}),Tt())},i(p){s||(ee(r),s=!0)},o(p){se(r),s=!1},d(p){p&&(M(e),M(l),M(n),M(i)),r&&r.d(p)}}}const D0=Pu();function I0(t,e,l){let n;const i=["path","component","meta","primary"];let s=mi(e,i),o,u,r,c,{$$slots:m={},$$scope:p}=e,{path:d=""}=e,{component:b=null}=e,{meta:w={}}=e,{primary:g=!0}=e;ei(wi,e);const k=D0(),{registerRoute:v,unregisterRoute:P,activeRoute:q,disableInlineStyles:I}=nn(Sn);Dl(t,q,Y=>l(16,o=Y));const A=Xu();Dl(t,A,Y=>l(17,r=Y));const R=Gu();Dl(t,R,Y=>l(3,u=Y));const L=rl(null);let j;const V=rl(),G=rl({});Dl(t,G,Y=>l(4,c=Y)),jn(qu,V),jn(Rf,G),jn(Uf,L);const X=P0();return Hl||ki(()=>P(k)),t.$$set=Y=>{l(24,e=Cl(Cl({},e),ci(Y))),l(12,s=mi(e,i)),"path"in Y&&l(13,d=Y.path),"component"in Y&&l(0,b=Y.component),"meta"in Y&&l(14,w=Y.meta),"primary"in Y&&l(1,g=Y.primary),"$$scope"in Y&&l(19,p=Y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const Y=d==="",D=xn(r,d),y={id:k,path:d,meta:w,default:Y,fullPath:Y?"":D,base:Y?r:i0(D,u.pathname),primary:g,focusElement:L};V.set(y),l(15,j=v(y))}if(t.$$.dirty&98304&&l(2,n=!!(j||o&&o.id===k)),t.$$.dirty&98308&&n){const{params:Y}=j||o;G.set(Y)}},e=ci(e),[b,g,n,u,c,k,q,I,A,R,G,X,s,d,w,j,o,r,m,p]}class O0 extends Ot{constructor(e){super(),It(this,e,I0,L0,Lt,{path:13,component:0,meta:14,primary:1})}}const wl=O0;function F0(t){let e,l,n,i;const s=t[13].default,o=xi(s,t,t[12],null);let u=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<u.length;c+=1)r=Cl(r,u[c]);return{c(){e=_("a"),o&&o.c(),wn(e,r)},m(c,m){N(c,e,m),o&&o.m(e,null),l=!0,n||(i=pe(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&ts(o,s,c,c[12],l?es(s,c[12],m,null):ls(c[12]),null),wn(e,r=Ii(u,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(ee(o,c),l=!0)},o(c){se(o,c),l=!1},d(c){c&&M(e),o&&o.d(c),n=!1,i()}}}function R0(t,e,l){let n,i,s,o,u,r;const c=["to","replace","state","getProps"];let m=mi(e,c),p,{$$slots:d={},$$scope:b}=e,{to:w}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:v=null}=e;ei(ss,e);const P=Gu();Dl(t,P,L=>l(11,p=L));const q=Tf(),I=Ju(),{navigate:A}=Yu();function R(L){q("click",L),If(L)&&(L.preventDefault(),A(n,{state:k,replace:o||g}))}return t.$$set=L=>{l(19,e=Cl(Cl({},e),ci(L))),l(18,m=mi(e,c)),"to"in L&&l(5,w=L.to),"replace"in L&&l(6,g=L.replace),"state"in L&&l(7,k=L.state),"getProps"in L&&l(8,v=L.getProps),"$$scope"in L&&l(12,b=L.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=I(w,p)),t.$$.dirty&2049&&l(10,i=Ri(p.pathname,n)),t.$$.dirty&2049&&l(9,s=n===p.pathname),t.$$.dirty&2049&&(o=as(n)===l0(p)),t.$$.dirty&512&&l(2,u=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(Mu(v)){const L=v({location:p,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...L}}return m})())},e=ci(e),[n,r,u,P,R,w,g,k,v,s,i,p,b,d]}class U0 extends Ot{constructor(e){super(),It(this,e,R0,F0,Lt,{to:5,replace:6,state:7,getProps:8})}}const Sl=U0;function ii(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function B0(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function rs(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Kn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function hi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function Ct(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Vn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function $e(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function Hn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function xt(t,e){return t==1||t==2&&e}function Fl(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Qt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Wl(t,e){return t.setTime(t.getTime()+e*36e5),t}function j0(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function H0(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Zs=0;function un(t,e){Zs++;const l=W0(t);if(!l.length){e&&e(""),setTimeout(un,1500,t,e);return}const n=l[(Zs-1)%l.length];if(!n){setTimeout(un,1e3,t,e);return}const i=z0(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(un,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const u=i.replace(/\/$/,"")+"/is-alive";o.open("GET",u,!0),o.send()}function W0(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function z0(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function il(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $s(t){return t.startsWith("esp32")?"esp32":t}function _l(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Gn(t,e){let l=[Qt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Qt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let Ei="((25[0-5]|(2[0-4]|1\\d|[1-9]|)\\d)\\.?\\b){4}",ln="[\\x20-\\x7E]+",Yn="[\\x20-\\xFF]+",Xn="[A-Za-z0-9_\\-]+",Qu="[0-9A-Fa-f]+",Fn="[0-9]+",ui={},Ui=[];async function K0(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Ai;async function Zu(){if(Ui.length){let t=Ui.shift();delete ui[t.resource];try{let e=await K0(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Ai&&clearTimeout(Ai),Ai=setTimeout(Zu,100)}Zu();async function Ml(t,e={}){let l;return ui[t]?l=ui[t]:(l={resource:t,options:e,callbacks:[]},ui[t]=l,Ui.push(l)),new Promise(i=>l.callbacks.push(i))}let Ll={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function Si(){Ll=await(await Ml("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ml.set(Ll)}const ml=rl(Ll,t=>(Si(),function(){}));function V0(t){ml.update(e=>(e.trying=t,e))}let Wn={c:-1,n:[]};const xs=new Map;let G0=0,an=null,bi=!1,bn=null,fi=null;async function Y0(){try{const e=await(await Ml("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=xs.get(s.s);o===void 0&&(o=G0++,xs.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);Wn={c:n.length,n},bn&&bn(Wn)}catch{Wn.c<0&&bn&&bn({c:-1,n:[]})}finally{fi=null}}function X0(){return fi||(fi=Y0()),fi}function $u(t=0){bi&&(an&&clearTimeout(an),an=setTimeout(()=>{an=null,X0()},Math.max(0,t)))}let si=0,eo=-127,to=null,J0={};const Q0=Au(J0,t=>{let e,l,n=!1;async function i(){Ml("data.json").then(s=>s.json()).then(s=>{t(s),eo!=s.t&&(eo=s.t,setTimeout(Z0,2e3)),to==null&&s.pe&&s.p!=null&&(to=s.p,ef()),(!Ll||!Ll.chip||Ll.booting||si>1&&!Hn(Ll.board))&&(Si(),Ul&&clearTimeout(Ul),Ul=setTimeout(Hi,2e3),Bl&&clearTimeout(Bl),Bl=setTimeout(zi,3e3)),s.u,Ul||(Ul=Hi()),Bl||(Bl=zi());let o=5e3;if(Hn(Ll.board)&&s.v>2.5){let u=3.3-Math.min(3.3,s.v);u>0&&(o=Math.max(u,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),si=0,bi&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,$u(0)}))}).catch(s=>{si++,si>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(un,5e3,Ll,V0))):e=setTimeout(i,Hn(Ll.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Bi={},Un;const us=rl(Bi);async function xu(){let t=!1;us.update(e=>{for(var l=0;l<36;l++){if(e[Ct(l)]==null){t=l<12;break}e[Ct(l)]=e[Ct(l+1)]}return e}),t?ef():Un=setTimeout(xu,(60-new Date().getMinutes())*6e4)}async function ef(){Un&&(clearTimeout(Un),Un=0),Bi=await(await Ml("energyprice.json")).json(),us.set(Bi),Un=setTimeout(xu,(60-new Date().getMinutes())*6e4)}let ji={},Ul;async function Hi(){Ul&&(clearTimeout(Ul),Ul=0),ji=await(await Ml("dayplot.json")).json(),tf.set(ji),Ul=setTimeout(Hi,(60-new Date().getMinutes())*6e4+20)}const tf=rl(ji,t=>function(){});let Wi={},Bl;async function zi(){Bl&&(clearTimeout(Bl),Bl=0),Wi=await(await Ml("monthplot.json")).json(),lf.set(Wi),Bl=setTimeout(zi,(24-new Date().getHours())*36e5+40)}const lf=rl(Wi,t=>function(){});let Ki={};async function Z0(){Ki=await(await Ml("temperature.json")).json(),nf.set(Ki)}const nf=rl(Ki,t=>function(){});let Vi={},oi;async function sf(){oi&&(clearTimeout(oi),oi=0),Vi=await(await Ml("tariff.json")).json(),of.set(Vi),oi=setTimeout(sf,(60-new Date().getMinutes())*6e4+30)}const of=rl(Vi,t=>function(){}),af=rl(Wn,t=>(bn=t,bi=!0,t(Wn),$u(0),function(){bi=!1,bn=null,an&&(clearTimeout(an),an=null)}));let Gi=!1;const Nl=rl(Gi);async function Jn(t){Gi=await(await Ml("translations.json"+(t?"?lang="+t:""))).json(),Nl.set(Gi)}Jn();const fs="/neas_logotype_white.svg",cs="/wifi-low-light.svg",ms="/wifi-medium-light.svg",_s="/wifi-high-light.svg",ps="/wifi-off-light.svg";function lo(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function rf(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function no(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?ic:c[2]>0?nc:c[3]>1?lc:c[3]>0?tc:c[4]>1?ec:c[4]>0?x0:$0}let o=s(t),u=o(t);return{c(){l=S(e),n=h(),u.c(),i=tl()},m(c,m){N(c,l,m),N(c,n,m),u.m(c,m),N(c,i,m)},p(c,m){var p;m&2&&e!==(e=(((p=c[1].header)==null?void 0:p.uptime)??"Up")+"")&&E(l,e),o===(o=s(c))&&u?u.p(c,m):(u.d(1),u=o(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(M(l),M(n),M(i)),u.d(c)}}}function $0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=S(t[0]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&1&&E(e,o[0]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function x0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&16&&E(e,o[4]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function ec(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&16&&E(e,o[4]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function tc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&8&&E(e,o[3]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function lc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&8&&E(e,o[3]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function nc(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&4&&E(e,o[2]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function ic(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(o,u){N(o,e,u),N(o,l,u),N(o,i,u)},p(o,u){var r;u&4&&E(e,o[2]),u&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&E(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function sc(t){let e,l=t[0]&&no(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=no(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ke,o:Ke,d(n){n&&M(e),l&&l.d(n)}}}function oc(t,e,l){let{epoch:n}=e,i={};Nl.subscribe(r=>{l(1,i=r)});let s=0,o=0,u=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,u=Math.floor(n/60)))},[n,i,s,o,u]}class ac extends Ot{constructor(e){super(),It(this,e,oc,sc,Lt,{epoch:0})}}function rc(t){let e,l,n;return{c(){e=_("span"),l=S(t[2]),f(e,"title",t[1]),f(e,"class",n="bd-"+t[0])},m(i,s){N(i,e,s),a(e,l)},p(i,[s]){s&4&&E(l,i[2]),s&2&&f(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&f(e,"class",n)},i:Ke,o:Ke,d(i){i&&M(e)}}}function uc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Qn extends Ot{constructor(e){super(),It(this,e,uc,rc,Lt,{color:0,title:1,text:2})}}function fc(t){let e,l=`${Ct(t[0].getDate())}.${Ct(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ct(t[0].getHours())}:${Ct(t[0].getMinutes())}`,n;return{c(){e=_("span"),n=S(l),f(e,"class",t[1])},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${Ct(i[0].getDate())}.${Ct(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ct(i[0].getHours())}:${Ct(i[0].getMinutes())}`)&&E(n,l),s&2&&f(e,"class",i[1])},d(i){i&&M(e)}}}function cc(t){var n;let e=`${Ct(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:Ct(t[0].getMonth()+1)} ${Ct(t[0].getHours())}:${Ct(t[0].getMinutes())}`,l;return{c(){l=S(e)},m(i,s){N(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${Ct(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:Ct(i[0].getMonth()+1)} ${Ct(i[0].getHours())}:${Ct(i[0].getMinutes())}`)&&E(l,e)},d(i){i&&M(l)}}}function mc(t){let e;function l(s,o){return s[3]?cc:fc}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),N(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(s){s&&M(e),i.d(s)}}}function _c(t,e,l){let n={};Nl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,u;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,u=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Wl(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,u,o]}class uf extends Ot{constructor(e){super(),It(this,e,_c,mc,Lt,{timestamp:0,fullTimeColor:1,offset:4})}}function pc(t){let e,l,n;return{c(){e=Et("svg"),l=Et("path"),n=Et("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","w-6 h-6")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p:Ke,i:Ke,o:Ke,d(i){i&&M(e)}}}class dc extends Ot{constructor(e){super(),It(this,e,null,pc,Lt,{})}}function hc(t){let e,l;return{c(){e=Et("svg"),l=Et("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","w-6 h-6")},m(n,i){N(n,e,i),a(e,l)},p:Ke,i:Ke,o:Ke,d(n){n&&M(e)}}}class bc extends Ot{constructor(e){super(),It(this,e,null,hc,Lt,{})}}function gc(t){let e,l;return{c(){e=_("img"),f(e,"class","p-1"),f(e,"alt","Neas logo"),fn(e.src,l=fs)||f(e,"src",l)},m(n,i){N(n,e,i)},p:Ke,d(n){n&&M(e)}}}function io(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=_("div"),n=S(l),i=S("°C"),f(e,"class","flex-none my-auto")},m(s,o){N(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&E(n,l)},d(s){s&&M(e)}}}function so(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),a(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.han)??"Han-port")+": "+(((p=(m=u[5].errors)==null?void 0:m.han)==null?void 0:p[u[0].he])??u[0].he))&&E(n,l)},d(u){u&&M(e)}}}function oo(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),a(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((p=(m=u[5].errors)==null?void 0:m.mqtt)==null?void 0:p[u[0].me])??u[0].me))&&E(n,l)},d(u){u&&M(e)}}}function ao(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(u,r){N(u,e,r),a(e,n)},p(u,r){var c,m,p;r&33&&l!==(l=(((c=u[5].header)==null?void 0:c.price)??"PS")+": "+(((p=(m=u[5].errors)==null?void 0:m.price)==null?void 0:p[u[0].ee])??u[0].ee))&&E(n,l)},d(u){u&&M(e)}}}function ro(t){let e,l,n,i,s,o,u,r;return l=new Sl({props:{to:"/configuration",$$slots:{default:[vc]},$$scope:{ctx:t}}}),o=new Sl({props:{to:"/status",$$slots:{default:[kc]},$$scope:{ctx:t}}}),{c(){var c,m;e=_("div"),Me(l.$$.fragment),i=h(),s=_("div"),Me(o.$$.fragment),f(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),f(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),f(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),f(s,"title",u=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){N(c,e,m),ye(l,e,null),N(c,i,m),N(c,s,m),ye(o,s,null),r=!0},p(c,m){var b,w;const p={};m&512&&(p.$$scope={dirty:m,ctx:c}),l.$set(p),(!r||m&32&&n!==(n=((b=c[5].header)==null?void 0:b.config)??""))&&f(e,"title",n);const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),o.$set(d),(!r||m&32&&u!==(u=((w=c[5].header)==null?void 0:w.status)??""))&&f(s,"title",u)},i(c){r||(ee(l.$$.fragment,c),ee(o.$$.fragment,c),r=!0)},o(c){se(l.$$.fragment,c),se(o.$$.fragment,c),r=!1},d(c){c&&(M(e),M(i),M(s)),Ce(l),Ce(o)}}}function vc(t){let e,l;return e=new dc({}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function kc(t){let e,l;return e=new bc({}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function wc(t){let e,l;function n(o,u){return o[1].security==0||o[0].a?Cc:yc}let i=n(t),s=i(t);return{c(){var o;e=_("div"),s.c(),f(e,"class","flex-none mr-3 text-yellow-500"),f(e,"title",l=(((o=t[5].header)==null?void 0:o.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(o,u){N(o,e,u),s.m(e,null)},p(o,u){var r;i===(i=n(o))&&s?s.p(o,u):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),u&34&&l!==(l=(((r=o[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+o[1].upgrade.n)&&f(e,"title",l)},d(o){o&&M(e),s.d()}}}function Sc(t){let e,l,n=t[1].upgrade.t+"",i,s,o=t[4].toFixed(1)+"",u,r;return{c(){e=_("div"),l=S("Oppdaterer til "),i=S(n),s=S(", "),u=S(o),r=S("%"),f(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){N(c,e,m),a(e,l),a(e,i),a(e,s),a(e,u),a(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&E(i,n),m&16&&o!==(o=c[4].toFixed(1)+"")&&E(u,o)},d(c){c&&M(e)}}}function yc(t){var u;let e,l=(((u=t[5].header)==null?void 0:u.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",o;return{c(){e=_("span"),n=S(l),i=S(": "),o=S(s)},m(r,c){N(r,e,c),a(e,n),a(e,i),a(e,o)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&E(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&E(o,s)},d(r){r&&M(e)}}}function Cc(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,o=t[1].upgrade.n+"",u,r,c;return{c(){e=_("button"),l=_("span"),i=S(n),s=S(": "),u=S(o),f(l,"class","mt-1"),f(e,"class","flex")},m(p,d){N(p,e,d),a(e,l),a(l,i),a(l,s),a(l,u),r||(c=pe(e,"click",t[6]),r=!0)},p(p,d){var b;d&32&&n!==(n=(((b=p[5].header)==null?void 0:b.new_version)??"Ny oppdatering")+"")&&E(i,n),d&2&&o!==(o=p[1].upgrade.n+"")&&E(u,o)},d(p){p&&M(e),r=!1,c()}}}function Mc(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y;i=new Sl({props:{to:"/",class:"flex space-x-2",$$slots:{default:[gc]},$$scope:{ctx:t}}}),r=new ac({props:{epoch:t[0].u}});let D=t[0].t>-50&&io(t);d=new Qn({props:{title:"Han-port",text:"Han-port",color:ii(t[1].booting?9:t[0].hm)}}),w=new Qn({props:{title:"Minside",text:"Minside",color:ii(t[1].booting?9:t[0].mm)}});let y=(t[0].he<0||t[0].he>0)&&so(t),W=t[0].me<0&&oo(t),B=(t[0].ee>0||t[0].ee<0)&&ao(t);V=new uf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let O=t[1].vndcfg&&t[1].usrcfg&&ro(t);function z(K,ne){if(K[1].upgrading)return Sc;if(K[1].fwconsent===1&&K[1].upgrade.n)return wc}let Q=z(t),Z=Q&&Q(t);return{c(){e=_("nav"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),o=_("div"),u=_("div"),Me(r.$$.fragment),c=h(),D&&D.c(),m=h(),p=_("div"),Me(d.$$.fragment),b=h(),Me(w.$$.fragment),g=h(),y&&y.c(),k=h(),W&&W.c(),v=h(),B&&B.c(),P=h(),q=_("div"),I=_("div"),A=_("img"),L=h(),j=_("div"),Me(V.$$.fragment),G=h(),O&&O.c(),X=h(),Z&&Z.c(),f(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),f(u,"class","flex-none my-auto"),f(o,"class","flex-none my-auto p-2 flex space-x-4"),f(p,"class","flex-auto flex-wrap my-auto justify-center p-2"),f(A,"class","h-10 w-10"),fn(A.src,R=t[2])||f(A,"src",R),f(A,"alt",t[3]),f(I,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),f(j,"class","flex-none my-auto px-2"),f(q,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),f(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),f(e,"class","bg-neas-green-90 rounded-md")},m(K,ne){N(K,e,ne),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,u),ye(r,u,null),a(o,c),D&&D.m(o,null),a(l,m),a(l,p),ye(d,p,null),a(p,b),ye(w,p,null),a(l,g),y&&y.m(l,null),a(l,k),W&&W.m(l,null),a(l,v),B&&B.m(l,null),a(l,P),a(l,q),a(q,I),a(I,A),a(q,L),a(q,j),ye(V,j,null),a(q,G),O&&O.m(q,null),a(q,X),Z&&Z.m(q,null),Y=!0},p(K,[ne]){const fe={};ne&512&&(fe.$$scope={dirty:ne,ctx:K}),i.$set(fe);const oe={};ne&1&&(oe.epoch=K[0].u),r.$set(oe),K[0].t>-50?D?D.p(K,ne):(D=io(K),D.c(),D.m(o,null)):D&&(D.d(1),D=null);const ie={};ne&3&&(ie.color=ii(K[1].booting?9:K[0].hm)),d.$set(ie);const re={};ne&3&&(re.color=ii(K[1].booting?9:K[0].mm)),w.$set(re),K[0].he<0||K[0].he>0?y?y.p(K,ne):(y=so(K),y.c(),y.m(l,k)):y&&(y.d(1),y=null),K[0].me<0?W?W.p(K,ne):(W=oo(K),W.c(),W.m(l,v)):W&&(W.d(1),W=null),K[0].ee>0||K[0].ee<0?B?B.p(K,ne):(B=ao(K),B.c(),B.m(l,P)):B&&(B.d(1),B=null),(!Y||ne&4&&!fn(A.src,R=K[2]))&&f(A,"src",R),(!Y||ne&8)&&f(A,"alt",K[3]);const x={};ne&1&&(x.timestamp=K[0].c?new Date(K[0].c*1e3):new Date(0)),ne&2&&(x.offset=K[1].clock_offset),V.$set(x),K[1].vndcfg&&K[1].usrcfg?O?(O.p(K,ne),ne&2&&ee(O,1)):(O=ro(K),O.c(),ee(O,1),O.m(q,X)):O&&(Pt(),se(O,1,1,()=>{O=null}),Tt()),Q===(Q=z(K))&&Z?Z.p(K,ne):(Z&&Z.d(1),Z=Q&&Q(K),Z&&(Z.c(),Z.m(q,null)))},i(K){Y||(ee(i.$$.fragment,K),ee(r.$$.fragment,K),ee(d.$$.fragment,K),ee(w.$$.fragment,K),ee(V.$$.fragment,K),ee(O),Y=!0)},o(K){se(i.$$.fragment,K),se(r.$$.fragment,K),se(d.$$.fragment,K),se(w.$$.fragment,K),se(V.$$.fragment,K),se(O),Y=!1},d(K){K&&M(e),Ce(i),Ce(r),D&&D.d(),Ce(d),Ce(w),y&&y.d(),W&&W.d(),B&&B.d(),Ce(V),O&&O.d(),Z&&Z.d()}}}function Nc(t,e,l){const n={high:_s,medium:ms,low:cs,off:ps};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:u={}}=e,r={};function c(){var d;confirm((((d=p.header)==null?void 0:d.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(rf(r.upgrade.n),ml.update(b=>(b.upgrade.t=r.upgrade.n,b.upgrade.p=0,b.upgrading=!0,b)))}let m;ml.subscribe(d=>{l(1,r=d)});let p={};return Nl.subscribe(d=>{l(5,p=d)}),t.$$set=d=>{"basepath"in d&&l(7,o=d.basepath),"data"in d&&l(0,u=d.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:d,label:b}=Vn(u==null?void 0:u.r);l(2,i=n[d]??n.off),l(3,s=b)}},[u,r,i,s,m,p,c,o]}class Pc extends Ot{constructor(e){super(),It(this,e,Nc,Mc,Lt,{basepath:7,data:0})}}function Tc(t){let e,l,n,i;return{c(){e=Et("svg"),l=Et("path"),n=Et("path"),f(l,"d",qi(150,150,115,210,510)),f(l,"stroke","rgba(128, 128, 128, 0.15)"),f(l,"fill","none"),f(l,"stroke-width","55"),f(n,"d",i=qi(150,150,115,210,210+300*t[0]/100)),f(n,"stroke",t[1]),f(n,"fill","none"),f(n,"stroke-width","55"),f(e,"viewBox","0 0 300 300"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"height","100%")},m(s,o){N(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=qi(150,150,115,210,210+300*s[0]/100))&&f(n,"d",i),o&2&&f(n,"stroke",s[1])},i:Ke,o:Ke,d(s){s&&M(e)}}}function uo(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function qi(t,e,l,n,i){var s=uo(t,e,l,i),o=uo(t,e,l,n),u=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,u,0,o.x,o.y].join(" ");return r}function Ec(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Ac extends Ot{constructor(e){super(),It(this,e,Ec,Tc,Lt,{pct:0,color:1})}}function fo(t){let e,l,n,i=t[1][0]+"",s,o,u,r=t[1][1]+"",c,m;return{c(){e=_("br"),l=h(),n=_("span"),s=S(i),o=h(),u=_("span"),c=S(r),m=S("/kWh"),f(n,"class","pl-sub"),f(u,"class","pl-snt")},m(p,d){N(p,e,d),N(p,l,d),N(p,n,d),a(n,s),N(p,o,d),N(p,u,d),a(u,c),a(u,m)},p(p,d){d&2&&i!==(i=p[1][0]+"")&&E(s,i),d&2&&r!==(r=p[1][1]+"")&&E(c,r)},d(p){p&&(M(e),M(l),M(n),M(o),M(u))}}}function qc(t){let e,l,n,i,s,o,u,r,c,m,p=t[3][0]+"",d,b,w,g=t[3][1]+"",k,v,P;l=new Ac({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let q=t[1]&&fo(t);return{c(){e=_("div"),Me(l.$$.fragment),n=h(),i=_("span"),s=_("span"),o=S(t[0]),u=h(),r=_("br"),c=h(),m=_("span"),d=S(p),b=h(),w=_("span"),k=S(g),v=h(),q&&q.c(),f(s,"class","pl-lab"),f(m,"class","pl-val"),f(w,"class","pl-unt"),f(i,"class","pl-ov"),f(e,"class","pl-root")},m(I,A){N(I,e,A),ye(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,u),a(i,r),a(i,c),a(i,m),a(m,d),a(i,b),a(i,w),a(w,k),a(i,v),q&&q.m(i,null),P=!0},p(I,[A]){const R={};A&16&&(R.pct=I[4]),A&20&&(R.color=I[2](I[4],document.documentElement.classList.contains("dark"))),l.$set(R),(!P||A&1)&&E(o,I[0]),(!P||A&8)&&p!==(p=I[3][0]+"")&&E(d,p),(!P||A&8)&&g!==(g=I[3][1]+"")&&E(k,g),I[1]?q?q.p(I,A):(q=fo(I),q.c(),q.m(i,null)):q&&(q.d(1),q=null)},i(I){P||(ee(l.$$.fragment,I),P=!0)},o(I){se(l.$$.fragment,I),P=!1},d(I){I&&M(e),Ce(l),q&&q.d()}}}function Lc(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:u=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=p=>{"val"in p&&l(5,n=p.val),"max"in p&&l(6,i=p.max),"unit"in p&&l(7,s=p.unit),"label"in p&&l(0,o=p.label),"sub"in p&&l(1,u=p.sub),"colorFn"in p&&l(2,r=p.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=_l(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,u,r,c,m,n,i,s]}class ff extends Ot{constructor(e){super(),It(this,e,Lc,qc,Lt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function co(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function mo(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function _o(t,e,l){const n=t.slice();return n[15]=e[l],n}function po(t){let e,l,n,i,s,o,u,r=(t[0].title||t[0].link)&&ho(t),c=st(t[0].y.ticks),m=[];for(let g=0;g<c.length;g+=1)m[g]=ko(_o(t,c,g));let p=st(t[0].x.ticks),d=[];for(let g=0;g<p.length;g+=1)d[g]=yo(mo(t,p,g));let b=st(t[0].points),w=[];for(let g=0;g<b.length;g+=1)w[g]=qo(co(t,b,g));return{c(){r&&r.c(),e=h(),l=Et("svg"),n=Et("g");for(let g=0;g<m.length;g+=1)m[g].c();i=Et("g");for(let g=0;g<d.length;g+=1)d[g].c();s=Et("g");for(let g=0;g<w.length;g+=1)w[g].c();f(n,"class","axis y-axis"),f(i,"class","axis x-axis"),f(s,"class","bars"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(g,k){r&&r.m(g,k),N(g,e,k),N(g,l,k),a(l,n);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(n,null);a(l,i);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(i,null);a(l,s);for(let v=0;v<w.length;v+=1)w[v]&&w[v].m(s,null);u=!0},p(g,k){if(g[0].title||g[0].link?r?(r.p(g,k),k&1&&ee(r,1)):(r=ho(g),r.c(),ee(r,1),r.m(e.parentNode,e)):r&&(Pt(),se(r,1,1,()=>{r=null}),Tt()),k&129){c=st(g[0].y.ticks);let v;for(v=0;v<c.length;v+=1){const P=_o(g,c,v);m[v]?m[v].p(P,k):(m[v]=ko(P),m[v].c(),m[v].m(n,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=c.length}if(k&89){p=st(g[0].x.ticks);let v;for(v=0;v<p.length;v+=1){const P=mo(g,p,v);d[v]?d[v].p(P,k):(d[v]=yo(P),d[v].c(),d[v].m(i,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=p.length}if(k&457){b=st(g[0].points);let v;for(v=0;v<b.length;v+=1){const P=co(g,b,v);w[v]?w[v].p(P,k):(w[v]=qo(P),w[v].c(),w[v].m(s,null))}for(;v<w.length;v+=1)w[v].d(1);w.length=b.length}(!u||k&18&&o!==(o="0 0 "+g[1]+" "+g[4]))&&f(l,"viewBox",o)},i(g){u||(ee(r),u=!0)},o(g){se(r),u=!1},d(g){g&&(M(e),M(l)),r&&r.d(g),el(m,g),el(d,g),el(w,g)}}}function ho(t){let e,l,n,i=t[0].title&&bo(t),s=t[0].link&&go(t);return{c(){e=_("div"),i&&i.c(),l=h(),s&&s.c(),f(e,"class","grid grid-cols-2")},m(o,u){N(o,e,u),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,u){o[0].title?i?i.p(o,u):(i=bo(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,u),u&1&&ee(s,1)):(s=go(o),s.c(),ee(s,1),s.m(e,null)):s&&(Pt(),se(s,1,1,()=>{s=null}),Tt())},i(o){n||(ee(s),n=!0)},o(o){se(s),n=!1},d(o){o&&M(e),i&&i.d(),s&&s.d()}}}function bo(t){let e,l=t[0].title+"",n,i;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm font-bold"),Jt(()=>t[9].call(e))},m(s,o){N(s,e,o),a(e,n),i=ns(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&E(n,l)},d(s){s&&M(e),i()}}}function go(t){let e,l,n,i;const s=[Ic,Dc],o=[];function u(r,c){return r[0].link.route?0:1}return l=u(t),n=o[l]=s[l](t),{c(){e=_("div"),n.c(),f(e,"class","text-xs text-right")},m(r,c){N(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=u(r),l===m?o[l].p(r,c):(Pt(),se(o[m],1,1,()=>{o[m]=null}),Tt(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),ee(n,1),n.m(e,null))},i(r){i||(ee(n),i=!0)},o(r){se(n),i=!1},d(r){r&&M(e),o[l].d()}}}function Dc(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=_("a"),n=S(l),f(e,"href",i=t[0].link.url),f(e,"target",s=t[0].link.target)},m(o,u){N(o,e,u),a(e,n)},p(o,u){u&1&&l!==(l=o[0].link.text+"")&&E(n,l),u&1&&i!==(i=o[0].link.url)&&f(e,"href",i),u&1&&s!==(s=o[0].link.target)&&f(e,"target",s)},i:Ke,o:Ke,d(o){o&&M(e)}}}function Ic(t){let e,l;return e=new Sl({props:{to:t[0].link.url,$$slots:{default:[Oc]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Oc(t){let e=t[0].link.text+"",l;return{c(){l=S(e)},m(n,i){N(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&E(l,e)},d(n){n&&M(l)}}}function vo(t){let e,l,n,i=t[15].label+"",s,o,u,r;return{c(){e=Et("g"),l=Et("line"),n=Et("text"),s=S(i),f(l,"x2","100%"),f(n,"y","-4"),f(n,"x",o=t[15].align=="right"?"85%":""),f(e,"class",u="tick tick-"+t[15].value+" tick-"+t[15].color),f(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&E(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&f(n,"x",o),m&1&&u!==(u="tick tick-"+c[15].value+" tick-"+c[15].color)&&f(e,"class",u),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&f(e,"transform",r)},d(c){c&&M(e)}}}function ko(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&vo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=vo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function wo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&So(t);return{c(){e=Et("g"),n&&n.c(),f(e,"class","tick"),f(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){N(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=So(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&f(e,"transform",l)},d(i){i&&M(e),n&&n.d()}}}function So(t){let e,l=t[11].label+"",n,i;return{c(){e=Et("text"),n=S(l),f(e,"x",i=t[3]/2),f(e,"y","-4")},m(s,o){N(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&E(n,l),o&8&&i!==(i=s[3]/2)&&f(e,"x",i)},d(s){s&&M(e)}}}function yo(t){let e=!isNaN(t[6](t[13])),l,n=e&&wo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=wo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Co(t){let e,l,n=t[11].value!==void 0&&Mo(t),i=t[11].value2>1e-4&&To(t);return{c(){e=Et("g"),n&&n.c(),l=Et("g"),i&&i.c()},m(s,o){N(s,e,o),n&&n.m(e,null),N(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=Mo(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=To(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(M(e),M(l)),n&&n.d(),i&&i.d()}}}function Mo(t){let e,l,n,i,s,o,u,r=t[3]>15&&No(t);return{c(){e=Et("rect"),r&&r.c(),u=tl(),f(e,"x",l=t[6](t[13])+2),f(e,"y",n=t[7](t[11].value)),f(e,"width",i=t[3]-4),f(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),f(e,"fill",o=t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&f(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&f(e,"y",n),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&f(e,"height",s),m&1&&o!==(o=c[11].color)&&f(e,"fill",o),c[3]>15?r?r.p(c,m):(r=No(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function No(t){let e,l=t[11].label+"",n,i,s,o,u,r,c=t[11].title&&Po(t);return{c(){e=Et("text"),n=S(l),c&&c.c(),r=tl(),f(e,"width",i=t[3]-4),f(e,"dominant-baseline","middle"),f(e,"text-anchor",s=t[3]<rn||t[11].labelAngle?"left":"middle"),f(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),f(e,"transform",u="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<rn?90:0)+")")},m(m,p){N(m,e,p),a(e,n),c&&c.m(m,p),N(m,r,p)},p(m,p){p&1&&l!==(l=m[11].label+"")&&E(n,l),p&8&&i!==(i=m[3]-4)&&f(e,"width",i),p&9&&s!==(s=m[3]<rn||m[11].labelAngle?"left":"middle")&&f(e,"text-anchor",s),p&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&f(e,"fill",o),p&457&&u!==(u="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<rn?90:0)+")")&&f(e,"transform",u),m[11].title?c?c.p(m,p):(c=Po(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(r)),c&&c.d(m)}}}function Po(t){let e,l=t[11].title+"",n;return{c(){e=Et("title"),n=S(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&E(n,l)},d(i){i&&M(e)}}}function To(t){let e,l,n,i,s,o,u,r=t[3]>15&&Eo(t);return{c(){e=Et("rect"),r&&r.c(),u=tl(),f(e,"x",l=t[6](t[13])+2),f(e,"y",n=t[7](0)),f(e,"width",i=t[3]-4),f(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),f(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){N(c,e,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&f(e,"x",l),m&128&&n!==(n=c[7](0))&&f(e,"y",n),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&f(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&f(e,"fill",o),c[3]>15?r?r.p(c,m):(r=Eo(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function Eo(t){let e,l=t[11].label2+"",n,i,s,o,u,r=t[11].title2&&Ao(t);return{c(){e=Et("text"),n=S(l),r&&r.c(),u=tl(),f(e,"width",i=t[3]-4),f(e,"dominant-baseline","middle"),f(e,"text-anchor","middle"),f(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),f(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<rn?90:0)+")")},m(c,m){N(c,e,m),a(e,n),r&&r.m(c,m),N(c,u,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&E(n,l),m&8&&i!==(i=c[3]-4)&&f(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&f(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<rn?90:0)+")")&&f(e,"transform",o),c[11].title2?r?r.p(c,m):(r=Ao(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(u)),r&&r.d(c)}}}function Ao(t){let e,l=t[11].title2+"",n;return{c(){e=Et("title"),n=S(l)},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&E(n,l)},d(i){i&&M(e)}}}function qo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&Co(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=Co(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Fc(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&po(t);return{c(){e=_("div"),i&&i.c(),f(e,"class","chart"),Jt(()=>t[10].call(e))},m(s,o){N(s,e,o),i&&i.m(e,null),l=ns(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&ee(i,1)):(i=po(s),i.c(),ee(i,1),i.m(e,null)):i&&(Pt(),se(i,1,1,()=>{i=null}),Tt())},i(s){n||(ee(i),n=!0)},o(s){se(i),n=!1},d(s){s&&M(e),i&&i.d(),l()}}}let rn=30;function Rc(t,e,l){let{config:n}=e,i,s,o,u,r,c,m,p=0;function d(){p=this.clientHeight,l(5,p)}function b(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=w=>{"config"in w&&l(0,n=w.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-p);let w=i-(n.padding.left+n.padding.right);l(3,o=w/n.points.length),l(8,m=o<rn?30:15);let g=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,u=function(k){return k*o+n.padding.left}),l(7,r=function(k){let v=0;return k>n.y.max?v=n.padding.bottom:k<n.y.min?v=c-n.padding.bottom:v=c-n.padding.bottom-(k-n.y.min)*g,v>c||v<0?0:v})}},[n,i,s,o,c,p,u,r,m,d,b]}class _n extends Ot{constructor(e){super(),It(this,e,Rc,Fc,Lt,{config:0})}}function Uc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Bc(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:u}=e,r={};function c(m){return{label:Qt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:B0(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,u=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],p=[];i>0&&(m.push({label:u===1?"L1-L2":"L1"}),p.push(c(i))),s>0&&(m.push({label:u===1?"L1-L3":"L2"}),p.push(c(s))),o>0&&(m.push({label:u===1?"L2-L3":"L3"}),p.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:p})}},[r,n,i,s,o,u]}class jc extends Ot{constructor(e){super(),It(this,e,Bc,Uc,Lt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function Hc(t){var F,H,le,ae,ce;let e,l,n=(((F=t[0].reactive)==null?void 0:F.title)??"Reactive")+"",i,s,o,u,r=(((H=t[0].reactive)==null?void 0:H.instant_in)??"Instant in")+"",c,m,p,d=t[1][0]+"",b,w,g=t[1][1]+"",k,v,P,q=(((le=t[0].reactive)==null?void 0:le.instant_out)??"Instant out")+"",I,A,R,L=t[2][0]+"",j,V,G=t[2][1]+"",X,Y,D,y,W=(((ae=t[0].reactive)==null?void 0:ae.total_in)??"Total in")+"",B,O,z,Q=t[3][0]+"",Z,K,ne=t[3][1]+"",fe,oe,ie,re=(((ce=t[0].reactive)==null?void 0:ce.total_out)??"Total out")+"",x,$,te,ge=t[4][0]+"",ke,T,C=t[4][1]+"",U;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("div"),u=_("div"),c=S(r),m=h(),p=_("div"),b=S(d),w=h(),k=S(g),v=h(),P=_("div"),I=S(q),A=h(),R=_("div"),j=S(L),V=h(),X=S(G),Y=h(),D=_("div"),y=_("div"),B=S(W),O=h(),z=_("div"),Z=S(Q),K=h(),fe=S(ne),oe=h(),ie=_("div"),x=S(re),$=h(),te=_("div"),ke=S(ge),T=h(),U=S(C),f(p,"class","text-right"),f(R,"class","text-right"),f(o,"class","grid grid-cols-2 mt-4"),f(z,"class","text-right"),f(te,"class","text-right"),f(D,"class","grid grid-cols-2 mt-4"),f(e,"class","mx-2 text-sm")},m(ue,me){N(ue,e,me),a(e,l),a(l,i),a(e,s),a(e,o),a(o,u),a(u,c),a(o,m),a(o,p),a(p,b),a(p,w),a(p,k),a(o,v),a(o,P),a(P,I),a(o,A),a(o,R),a(R,j),a(R,V),a(R,X),a(e,Y),a(e,D),a(D,y),a(y,B),a(D,O),a(D,z),a(z,Z),a(z,K),a(z,fe),a(D,oe),a(D,ie),a(ie,x),a(D,$),a(D,te),a(te,ke),a(te,T),a(te,U)},p(ue,[me]){var Se,we,Te,Ie,Ue;me&1&&n!==(n=(((Se=ue[0].reactive)==null?void 0:Se.title)??"Reactive")+"")&&E(i,n),me&1&&r!==(r=(((we=ue[0].reactive)==null?void 0:we.instant_in)??"Instant in")+"")&&E(c,r),me&2&&d!==(d=ue[1][0]+"")&&E(b,d),me&2&&g!==(g=ue[1][1]+"")&&E(k,g),me&1&&q!==(q=(((Te=ue[0].reactive)==null?void 0:Te.instant_out)??"Instant out")+"")&&E(I,q),me&4&&L!==(L=ue[2][0]+"")&&E(j,L),me&4&&G!==(G=ue[2][1]+"")&&E(X,G),me&1&&W!==(W=(((Ie=ue[0].reactive)==null?void 0:Ie.total_in)??"Total in")+"")&&E(B,W),me&8&&Q!==(Q=ue[3][0]+"")&&E(Z,Q),me&8&&ne!==(ne=ue[3][1]+"")&&E(fe,ne),me&1&&re!==(re=(((Ue=ue[0].reactive)==null?void 0:Ue.total_out)??"Total out")+"")&&E(x,re),me&16&&ge!==(ge=ue[4][0]+"")&&E(ke,ge),me&16&&C!==(C=ue[4][1]+"")&&E(U,C)},i:Ke,o:Ke,d(ue){ue&&M(e)}}}function Wc(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:u={}}=e,r,c,m,p;return t.$$set=d=>{"importInstant"in d&&l(5,n=d.importInstant),"exportInstant"in d&&l(6,i=d.exportInstant),"importTotal"in d&&l(7,s=d.importTotal),"exportTotal"in d&&l(8,o=d.exportTotal),"translations"in d&&l(0,u=d.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=_l(n,"VAr")),l(2,c=_l(i,"VAr")),l(3,m=_l(s*1e3,"VArh")),l(4,p=_l(o*1e3,"VArh")))},[u,r,c,m,p,n,i,s,o]}class zc extends Ot{constructor(e){super(),It(this,e,Wc,Hc,Lt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function Lo(t){let e;function l(s,o){return s[3]?Vc:Kc}let n=l(t),i=n(t);return{c(){i.c(),e=tl()},m(s,o){i.m(s,o),N(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&M(e),i.d(s)}}}function Kc(t){var H,le,ae,ce,ue;let e,l=(((H=t[4].realtime)==null?void 0:H.consumption)??"Consumption")+"",n,i,s,o,u=il(((le=t[4].common)==null?void 0:le.hour)??"Hour")+"",r,c,m,p=t[6][0]+"",d,b,w=t[6][1]+"",g,k,v,P=il(((ae=t[4].common)==null?void 0:ae.day)??"Day")+"",q,I,A,R=t[7][0]+"",L,j,V=t[7][1]+"",G,X,Y,D=il(((ce=t[4].common)==null?void 0:ce.month)??"Month")+"",y,W,B,O=t[8][0]+"",z,Q,Z=t[8][1]+"",K,ne,fe,oe=(((ue=t[4].realtime)==null?void 0:ue.last_month)??"Last month")+"",ie,re,x,$=t[9][0]+"",te,ge,ke=t[9][1]+"",T,C,U,F=t[5]&&Do(t);return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),o=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(w),k=h(),v=_("div"),q=S(P),I=h(),A=_("div"),L=S(R),j=h(),G=S(V),X=h(),Y=_("div"),y=S(D),W=h(),B=_("div"),z=S(O),Q=h(),K=S(Z),ne=h(),fe=_("div"),ie=S(oe),re=h(),x=_("div"),te=S($),ge=h(),T=S(ke),C=h(),F&&F.c(),U=tl(),f(m,"class","text-right"),f(A,"class","text-right"),f(B,"class","text-right"),f(x,"class","text-right"),f(s,"class","grid grid-cols-2 mb-3")},m(me,Se){N(me,e,Se),a(e,n),N(me,i,Se),N(me,s,Se),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,g),a(s,k),a(s,v),a(v,q),a(s,I),a(s,A),a(A,L),a(A,j),a(A,G),a(s,X),a(s,Y),a(Y,y),a(s,W),a(s,B),a(B,z),a(B,Q),a(B,K),a(s,ne),a(s,fe),a(fe,ie),a(s,re),a(s,x),a(x,te),a(x,ge),a(x,T),N(me,C,Se),F&&F.m(me,Se),N(me,U,Se)},p(me,Se){var we,Te,Ie,Ue,Ve;Se&16&&l!==(l=(((we=me[4].realtime)==null?void 0:we.consumption)??"Consumption")+"")&&E(n,l),Se&16&&u!==(u=il(((Te=me[4].common)==null?void 0:Te.hour)??"Hour")+"")&&E(r,u),Se&64&&p!==(p=me[6][0]+"")&&E(d,p),Se&64&&w!==(w=me[6][1]+"")&&E(g,w),Se&16&&P!==(P=il(((Ie=me[4].common)==null?void 0:Ie.day)??"Day")+"")&&E(q,P),Se&128&&R!==(R=me[7][0]+"")&&E(L,R),Se&128&&V!==(V=me[7][1]+"")&&E(G,V),Se&16&&D!==(D=il(((Ue=me[4].common)==null?void 0:Ue.month)??"Month")+"")&&E(y,D),Se&256&&O!==(O=me[8][0]+"")&&E(z,O),Se&256&&Z!==(Z=me[8][1]+"")&&E(K,Z),Se&16&&oe!==(oe=(((Ve=me[4].realtime)==null?void 0:Ve.last_month)??"Last month")+"")&&E(ie,oe),Se&512&&$!==($=me[9][0]+"")&&E(te,$),Se&512&&ke!==(ke=me[9][1]+"")&&E(T,ke),me[5]?F?F.p(me,Se):(F=Do(me),F.c(),F.m(U.parentNode,U)):F&&(F.d(1),F=null)},d(me){me&&(M(e),M(i),M(s),M(C),M(U)),F&&F.d(me)}}}function Vc(t){var mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t;let e,l=(((mt=t[4].common)==null?void 0:mt.import)??"Import")+"",n,i,s,o,u=il(((tt=t[4].common)==null?void 0:tt.hour)??"Hour")+"",r,c,m,p=t[6][0]+"",d,b,w=t[6][1]+"",g,k,v,P,q=il(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",I,A,R,L=t[7][0]+"",j,V,G=t[7][1]+"",X,Y,D,y,W=il(((Xt=t[4].common)==null?void 0:Xt.month)??"Month")+"",B,O,z,Q=t[8][0]+"",Z,K,ne=t[8][1]+"",fe,oe,ie,re,x=(((Zt=t[4].realtime)==null?void 0:Zt.last_mo)??"Last mo.")+"",$,te,ge,ke=t[9][0]+"",T,C,U=t[9][1]+"",F,H,le,ae,ce,ue=(((cl=t[4].common)==null?void 0:cl.export)??"Export")+"",me,Se,we,Te,Ie=il(((ul=t[4].common)==null?void 0:ul.hour)??"Hour")+"",Ue,Ve,Ye,he=t[10][0]+"",ve,He,lt=t[10][1]+"",gt,pt,Dt,At,ot=il(((Pe=t[4].common)==null?void 0:Pe.day)??"Day")+"",dt,Ht,ct,Oe=t[11][0]+"",Xe,Ft,at=t[11][1]+"",xe,Ne,We,Je,Qe=il(((Ze=t[4].common)==null?void 0:Ze.month)??"Month")+"",de,qe,bt,Ut=t[12][0]+"",vt,Ge,rt=t[12][1]+"",Fe,Ee,Re,Le,De=((($t=t[4].realtime)==null?void 0:$t.last_mo)??"Last mo.")+"",et,it,ut,wt=t[13][0]+"",Rt,Gt,kt=t[13][1]+"",jt,sl,Bt,nt=t[5]&&Io(t),Wt=t[5]&&Oo(t),Yt=t[5]&&Fo(t),yt=t[5]&&Ro(t),ht=t[5]&&Uo(t),Mt=t[5]&&Bo(t),Kt=t[5]&&jo(t),be=t[5]&&Ho(t);return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),o=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(w),k=h(),nt&&nt.c(),v=h(),P=_("div"),I=S(q),A=h(),R=_("div"),j=S(L),V=h(),X=S(G),Y=h(),Wt&&Wt.c(),D=h(),y=_("div"),B=S(W),O=h(),z=_("div"),Z=S(Q),K=h(),fe=S(ne),oe=h(),Yt&&Yt.c(),ie=h(),re=_("div"),$=S(x),te=h(),ge=_("div"),T=S(ke),C=h(),F=S(U),H=h(),yt&&yt.c(),ae=h(),ce=_("strong"),me=S(ue),Se=h(),we=_("div"),Te=_("div"),Ue=S(Ie),Ve=h(),Ye=_("div"),ve=S(he),He=h(),gt=S(lt),pt=h(),ht&&ht.c(),Dt=h(),At=_("div"),dt=S(ot),Ht=h(),ct=_("div"),Xe=S(Oe),Ft=h(),xe=S(at),Ne=h(),Mt&&Mt.c(),We=h(),Je=_("div"),de=S(Qe),qe=h(),bt=_("div"),vt=S(Ut),Ge=h(),Fe=S(rt),Ee=h(),Kt&&Kt.c(),Re=h(),Le=_("div"),et=S(De),it=h(),ut=_("div"),Rt=S(wt),Gt=h(),jt=S(kt),sl=h(),be&&be.c(),f(m,"class","text-right"),f(R,"class","text-right"),f(z,"class","text-right"),f(ge,"class","text-right"),f(s,"class",le="grid grid-cols-"+t[14]+" mb-3"),f(Ye,"class","text-right"),f(ct,"class","text-right"),f(bt,"class","text-right"),f(ut,"class","text-right"),f(we,"class",Bt="grid grid-cols-"+t[14])},m(Ae,_e){N(Ae,e,_e),a(e,n),N(Ae,i,_e),N(Ae,s,_e),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,g),a(s,k),nt&&nt.m(s,null),a(s,v),a(s,P),a(P,I),a(s,A),a(s,R),a(R,j),a(R,V),a(R,X),a(s,Y),Wt&&Wt.m(s,null),a(s,D),a(s,y),a(y,B),a(s,O),a(s,z),a(z,Z),a(z,K),a(z,fe),a(s,oe),Yt&&Yt.m(s,null),a(s,ie),a(s,re),a(re,$),a(s,te),a(s,ge),a(ge,T),a(ge,C),a(ge,F),a(s,H),yt&&yt.m(s,null),N(Ae,ae,_e),N(Ae,ce,_e),a(ce,me),N(Ae,Se,_e),N(Ae,we,_e),a(we,Te),a(Te,Ue),a(we,Ve),a(we,Ye),a(Ye,ve),a(Ye,He),a(Ye,gt),a(we,pt),ht&&ht.m(we,null),a(we,Dt),a(we,At),a(At,dt),a(we,Ht),a(we,ct),a(ct,Xe),a(ct,Ft),a(ct,xe),a(we,Ne),Mt&&Mt.m(we,null),a(we,We),a(we,Je),a(Je,de),a(we,qe),a(we,bt),a(bt,vt),a(bt,Ge),a(bt,Fe),a(we,Ee),Kt&&Kt.m(we,null),a(we,Re),a(we,Le),a(Le,et),a(we,it),a(we,ut),a(ut,Rt),a(ut,Gt),a(ut,jt),a(we,sl),be&&be.m(we,null)},p(Ae,_e){var zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl;_e&16&&l!==(l=(((zt=Ae[4].common)==null?void 0:zt.import)??"Import")+"")&&E(n,l),_e&16&&u!==(u=il(((Be=Ae[4].common)==null?void 0:Be.hour)??"Hour")+"")&&E(r,u),_e&64&&p!==(p=Ae[6][0]+"")&&E(d,p),_e&64&&w!==(w=Ae[6][1]+"")&&E(g,w),Ae[5]?nt?nt.p(Ae,_e):(nt=Io(Ae),nt.c(),nt.m(s,v)):nt&&(nt.d(1),nt=null),_e&16&&q!==(q=il(((Nt=Ae[4].common)==null?void 0:Nt.day)??"Day")+"")&&E(I,q),_e&128&&L!==(L=Ae[7][0]+"")&&E(j,L),_e&128&&G!==(G=Ae[7][1]+"")&&E(X,G),Ae[5]?Wt?Wt.p(Ae,_e):(Wt=Oo(Ae),Wt.c(),Wt.m(s,D)):Wt&&(Wt.d(1),Wt=null),_e&16&&W!==(W=il(((fl=Ae[4].common)==null?void 0:fl.month)??"Month")+"")&&E(B,W),_e&256&&Q!==(Q=Ae[8][0]+"")&&E(Z,Q),_e&256&&ne!==(ne=Ae[8][1]+"")&&E(fe,ne),Ae[5]?Yt?Yt.p(Ae,_e):(Yt=Fo(Ae),Yt.c(),Yt.m(s,ie)):Yt&&(Yt.d(1),Yt=null),_e&16&&x!==(x=(((dl=Ae[4].realtime)==null?void 0:dl.last_mo)??"Last mo.")+"")&&E($,x),_e&512&&ke!==(ke=Ae[9][0]+"")&&E(T,ke),_e&512&&U!==(U=Ae[9][1]+"")&&E(F,U),Ae[5]?yt?yt.p(Ae,_e):(yt=Ro(Ae),yt.c(),yt.m(s,null)):yt&&(yt.d(1),yt=null),_e&16384&&le!==(le="grid grid-cols-"+Ae[14]+" mb-3")&&f(s,"class",le),_e&16&&ue!==(ue=(((hl=Ae[4].common)==null?void 0:hl.export)??"Export")+"")&&E(me,ue),_e&16&&Ie!==(Ie=il(((bl=Ae[4].common)==null?void 0:bl.hour)??"Hour")+"")&&E(Ue,Ie),_e&1024&&he!==(he=Ae[10][0]+"")&&E(ve,he),_e&1024&&lt!==(lt=Ae[10][1]+"")&&E(gt,lt),Ae[5]?ht?ht.p(Ae,_e):(ht=Uo(Ae),ht.c(),ht.m(we,Dt)):ht&&(ht.d(1),ht=null),_e&16&&ot!==(ot=il(((gl=Ae[4].common)==null?void 0:gl.day)??"Day")+"")&&E(dt,ot),_e&2048&&Oe!==(Oe=Ae[11][0]+"")&&E(Xe,Oe),_e&2048&&at!==(at=Ae[11][1]+"")&&E(xe,at),Ae[5]?Mt?Mt.p(Ae,_e):(Mt=Bo(Ae),Mt.c(),Mt.m(we,We)):Mt&&(Mt.d(1),Mt=null),_e&16&&Qe!==(Qe=il(((vl=Ae[4].common)==null?void 0:vl.month)??"Month")+"")&&E(de,Qe),_e&4096&&Ut!==(Ut=Ae[12][0]+"")&&E(vt,Ut),_e&4096&&rt!==(rt=Ae[12][1]+"")&&E(Fe,rt),Ae[5]?Kt?Kt.p(Ae,_e):(Kt=jo(Ae),Kt.c(),Kt.m(we,Re)):Kt&&(Kt.d(1),Kt=null),_e&16&&De!==(De=(((kl=Ae[4].realtime)==null?void 0:kl.last_mo)??"Last mo.")+"")&&E(et,De),_e&8192&&wt!==(wt=Ae[13][0]+"")&&E(Rt,wt),_e&8192&&kt!==(kt=Ae[13][1]+"")&&E(jt,kt),Ae[5]?be?be.p(Ae,_e):(be=Ho(Ae),be.c(),be.m(we,null)):be&&(be.d(1),be=null),_e&16384&&Bt!==(Bt="grid grid-cols-"+Ae[14])&&f(we,"class",Bt)},d(Ae){Ae&&(M(e),M(i),M(s),M(ae),M(ce),M(Se),M(we)),nt&&nt.d(),Wt&&Wt.d(),Yt&&Yt.d(),yt&&yt.d(),ht&&ht.d(),Mt&&Mt.d(),Kt&&Kt.d(),be&&be.d()}}}function Do(t){var te,ge,ke,T,C,U;let e,l=(((te=t[4].realtime)==null?void 0:te.cost)??"Cost")+"",n,i,s,o,u=il(((ge=t[4].common)==null?void 0:ge.hour)??"Hour")+"",r,c,m,p=Qt(t[1].h.c,2)+"",d,b,w,g,k,v=il(((ke=t[4].common)==null?void 0:ke.day)??"Day")+"",P,q,I,A=Qt(t[1].d.c,1)+"",R,L,j,V,G,X=il(((T=t[4].common)==null?void 0:T.month)??"Month")+"",Y,D,y,W=Qt(t[1].m.c)+"",B,O,z,Q,Z,K=(((C=t[4].realtime)==null?void 0:C.last_month)??"Last month")+"",ne,fe,oe,ie=Qt((U=t[0].last_month)==null?void 0:U.c)+"",re,x,$;return{c(){e=_("strong"),n=S(l),i=h(),s=_("div"),o=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),w=S(t[2]),g=h(),k=_("div"),P=S(v),q=h(),I=_("div"),R=S(A),L=h(),j=S(t[2]),V=h(),G=_("div"),Y=S(X),D=h(),y=_("div"),B=S(W),O=h(),z=S(t[2]),Q=h(),Z=_("div"),ne=S(K),fe=h(),oe=_("div"),re=S(ie),x=h(),$=S(t[2]),f(m,"class","text-right"),f(I,"class","text-right"),f(y,"class","text-right"),f(oe,"class","text-right"),f(s,"class","grid grid-cols-2")},m(F,H){N(F,e,H),a(e,n),N(F,i,H),N(F,s,H),a(s,o),a(o,r),a(s,c),a(s,m),a(m,d),a(m,b),a(m,w),a(s,g),a(s,k),a(k,P),a(s,q),a(s,I),a(I,R),a(I,L),a(I,j),a(s,V),a(s,G),a(G,Y),a(s,D),a(s,y),a(y,B),a(y,O),a(y,z),a(s,Q),a(s,Z),a(Z,ne),a(s,fe),a(s,oe),a(oe,re),a(oe,x),a(oe,$)},p(F,H){var le,ae,ce,ue,me,Se;H&16&&l!==(l=(((le=F[4].realtime)==null?void 0:le.cost)??"Cost")+"")&&E(n,l),H&16&&u!==(u=il(((ae=F[4].common)==null?void 0:ae.hour)??"Hour")+"")&&E(r,u),H&2&&p!==(p=Qt(F[1].h.c,2)+"")&&E(d,p),H&4&&E(w,F[2]),H&16&&v!==(v=il(((ce=F[4].common)==null?void 0:ce.day)??"Day")+"")&&E(P,v),H&2&&A!==(A=Qt(F[1].d.c,1)+"")&&E(R,A),H&4&&E(j,F[2]),H&16&&X!==(X=il(((ue=F[4].common)==null?void 0:ue.month)??"Month")+"")&&E(Y,X),H&2&&W!==(W=Qt(F[1].m.c)+"")&&E(B,W),H&4&&E(z,F[2]),H&16&&K!==(K=(((me=F[4].realtime)==null?void 0:me.last_month)??"Last month")+"")&&E(ne,K),H&1&&ie!==(ie=Qt((Se=F[0].last_month)==null?void 0:Se.c)+"")&&E(re,ie),H&4&&E($,F[2])},d(F){F&&(M(e),M(i),M(s))}}}function Io(t){let e,l=Qt(t[1].h.c,2)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].h.c,2)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function Oo(t){let e,l=Qt(t[1].d.c,1)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].d.c,1)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function Fo(t){let e,l=Qt(t[1].m.c)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].m.c)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function Ro(t){var o;let e,l=Qt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(u,r){N(u,e,r),a(e,n),a(e,i),a(e,s)},p(u,r){var c;r&1&&l!==(l=Qt((c=u[0].last_month)==null?void 0:c.c)+"")&&E(n,l),r&4&&E(s,u[2])},d(u){u&&M(e)}}}function Uo(t){let e,l=Qt(t[1].h.i,2)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].h.i,2)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function Bo(t){let e,l=Qt(t[1].d.i,1)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].d.i,1)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function jo(t){let e,l=Qt(t[1].m.i)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,n),a(e,i),a(e,s)},p(o,u){u&2&&l!==(l=Qt(o[1].m.i)+"")&&E(n,l),u&4&&E(s,o[2])},d(o){o&&M(e)}}}function Ho(t){var o;let e,l=Qt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=_("div"),n=S(l),i=h(),s=S(t[2]),f(e,"class","text-right")},m(u,r){N(u,e,r),a(e,n),a(e,i),a(e,s)},p(u,r){var c;r&1&&l!==(l=Qt((c=u[0].last_month)==null?void 0:c.i)+"")&&E(n,l),r&4&&E(s,u[2])},d(u){u&&M(e)}}}function Gc(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,u,r,c=t[1]&&Lo(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("br"),u=_("br"),r=h(),c&&c.c(),f(e,"class","mx-2 text-sm neas-green")},m(p,d){N(p,e,d),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),c&&c.m(e,null)},p(p,[d]){var b;d&16&&n!==(n=(((b=p[4].realtime)==null?void 0:b.title)??"Real time calculations")+"")&&E(i,n),p[1]?c?c.p(p,d):(c=Lo(p),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ke,o:Ke,d(p){p&&M(e),c&&c.d()}}}function Yc(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:u={}}=e,r,c,m,p,d,b,w,g,k=!1,v=3;return t.$$set=P=>{"sysinfo"in P&&l(0,n=P.sysinfo),"data"in P&&l(1,i=P.data),"currency"in P&&l(2,s=P.currency),"hasExport"in P&&l(3,o=P.hasExport),"translations"in P&&l(4,u=P.translations)},t.$$.update=()=>{var P,q,I,A,R,L,j,V;t.$$.dirty&35&&(l(5,k=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,v=k?3:2),l(6,r=_l(((P=i==null?void 0:i.h)==null?void 0:P.u)*1e3,"Wh")),l(7,c=_l(((q=i==null?void 0:i.d)==null?void 0:q.u)*1e3,"Wh")),l(8,m=_l(((I=i==null?void 0:i.m)==null?void 0:I.u)*1e3,"Wh")),l(9,p=_l(((A=n==null?void 0:n.last_month)==null?void 0:A.u)*1e3,"Wh")),l(10,d=_l(((R=i==null?void 0:i.h)==null?void 0:R.p)*1e3,"Wh")),l(11,b=_l(((L=i==null?void 0:i.d)==null?void 0:L.p)*1e3,"Wh")),l(12,w=_l(((j=i==null?void 0:i.m)==null?void 0:j.p)*1e3,"Wh")),l(13,g=_l(((V=n==null?void 0:n.last_month)==null?void 0:V.p)*1e3,"Wh")))},[n,i,s,o,u,k,r,c,m,p,d,b,w,g,v]}class Xc extends Ot{constructor(e){super(),It(this,e,Yc,Gc,Lt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function Jc(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Qc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,p=new Date().getUTCHours(),d=0,b=0,w=0,g=[],k=[],v=[];l(5,r=l(4,u=0));let P=new Date;for(Wl(P,s.clock_offset-(24+P.getHours()-P.getUTCHours())%24),d=p;d<24&&(b=i[Ct(w++)],b!=null);d++)k.push({label:Ct(P.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,u=Math.max(u,b*100)),Wl(P,1);for(d=0;d<24&&(b=i[Ct(w++)],b!=null);d++)k.push({label:Ct(P.getHours())}),v.push(b*100),l(5,r=Math.min(r,b*100)),l(4,u=Math.max(u,b*100)),Wl(P,1);let q=Gn(Math.max(Math.abs(r)/100,Math.abs(u)/100),m);if(q&&q[1]&&q[1]!=m)for(m=q[1],l(5,r*=100),l(4,u*=100),d=0;d<v.length;d++)v[d]*=100;let I=[];for(d=0;d<v.length;d++){b=v[d];let j=b*.01,V=Math.abs(b)<1e3?2:0;I.push({label:j>=0?j.toFixed(V):"",title:j>=0?j.toFixed(2)+" "+m:"",value:b>=0?Math.abs(b):0,label2:j<0?j.toFixed(V):"",title2:j<0?j.toFixed(2)+" "+m:"",value2:b<0?Math.abs(b):0,color:c?"#5c2da5":"#7c3aed"})}let A=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(A/4*-1,r));let j=Math.ceil(Math.abs(r)/A*4),V=r/j;for(d=1;d<j+1;d++){let G=V*d;g.push({value:G,label:(G/100).toFixed(2)})}}l(4,u=Math.max(A/4,u));let R=Math.ceil(u/A*4),L=u/R;for(d=0;d<R+1;d++){let j=L*d;g.push({value:j,label:(j/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:g},x:{ticks:k},points:I,link:{text:"Provided by: "+j0(i.source),url:H0(i.source),target:"_blank"}})}},[o,n,i,s,u,r]}class Zc extends Ot{constructor(e){super(),It(this,e,Qc,Jc,Lt,{title:1,json:2,sysinfo:3})}}function $c(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function xc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,p=[],d=[],b=[];l(5,r=l(4,u=0));let w=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset,v=w.getUTCHours();for(Wl(w,-k-24),m=v;m<24;m++){let A=i["i"+Ct(m)],R=i["e"+Ct(m)];A===void 0&&(A=0),R===void 0&&(R=0),d.push({label:Ct(w.getHours())}),b.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:R.toFixed(1),title2:R.toFixed(2)+" kWh",value2:R*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,R*10)),l(4,u=Math.max(u,A*10)),Wl(w,1)}for(m=0;m<v;m++){let A=i["i"+Ct(m)],R=i["e"+Ct(m)];A===void 0&&(A=0),R===void 0&&(R=0),d.push({label:Ct(w.getHours())}),b.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:R.toFixed(1),title2:R.toFixed(2)+" kWh",value2:R*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,R*10)),l(4,u=Math.max(u,A*10)),Wl(w,1)}l(5,r*=-1);let P=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(P/4*-1,r));let A=Math.ceil(Math.abs(r)/P*4),R=r/A;for(m=1;m<A+1;m++){let L=R*m;p.push({value:L,label:(L/10).toFixed(1)})}}l(4,u=Math.max(P/4,u));let q=Math.ceil(u/P*4),I=u/q;for(m=0;m<q+1;m++){let A=I*m;p.push({value:A,label:(A/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,u,r]}class e1 extends Ot{constructor(e){super(),It(this,e,xc,$c,Lt,{title:1,json:2,sysinfo:3})}}function t1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function l1(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},u,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,p=[],d=[],b=[];l(5,r=l(4,u=0));let w=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset;for(Wl(w,-k),Wl(g,-k),m=w.getDate();m<=g.getDate();m++){let I=i["i"+Ct(m)],A=i["e"+Ct(m)];I===void 0&&(I=0),A===void 0&&(A=0),d.push({label:Ct(m)}),b.push({label:I.toFixed(I<10?1:0),title:I.toFixed(2)+" kWh",value:I,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,u=Math.max(u,I))}for(m=1;m<w.getDate();m++){let I=i["i"+Ct(m)],A=i["e"+Ct(m)];I===void 0&&(I=0),A===void 0&&(A=0),d.push({label:Ct(m)}),b.push({label:I.toFixed(I<10?1:0),title:I.toFixed(2)+" kWh",value:I,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,u=Math.max(u,I))}l(5,r*=-1);let v=Math.max(u,Math.abs(r));if(r<0){l(5,r=Math.min(v/4*-1,r));let I=Math.ceil(Math.abs(r)/v*4),A=r/I;for(m=1;m<I+1;m++){let R=A*m;p.push({value:R,label:R.toFixed(0)})}}l(4,u=Math.max(v/4,u));let P=Math.ceil(u/v*4),q=u/P;for(m=0;m<P+1;m++){let I=q*m;p.push({value:I,label:I.toFixed(0)})}l(0,o={title:n.replace("{0}",g.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,u,r]}class n1 extends Ot{constructor(e){super(),It(this,e,l1,t1,Lt,{title:1,json:2,sysinfo:3})}}function i1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function s1(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},u=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,p=[],d=[],b=[];i.s&&i.s.forEach((k,v)=>{var P=k.n?k.n:k.a;m=k.v,m==-127&&(m=0),d.push({label:P.slice(-4)}),b.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,u=Math.max(u,m))}),l(3,u=Math.ceil(u)),l(4,r=Math.floor(r));let w=u;r<0&&(w+=Math.abs(r));let g=w/4;for(c=0;c<5;c++)m=r+g*c,p.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:u,ticks:p},x:{ticks:d},points:b})}},[o,n,i,u,r]}class o1 extends Ot{constructor(e){super(),It(this,e,s1,i1,Lt,{title:1,json:2})}}function a1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}let r1=0;function u1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},u=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,p=[],d=[],b=[];if(p.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let w=r.p[m];b.push({label:w.v.toFixed(2),value:w.v,color:s?"#5c2da5":"#7c3aed"}),d.push({label:w.d>0?Ct(w.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:Ct(new Date().getMonth()+1)):"-"}),l(4,u=Math.max(u,w.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let w=r.t[m];if(w>=u)break;p.push({value:w,label:w})}p.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(p.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,u=Math.max(u,r.c))),l(4,u=Math.ceil(u)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:r1,max:u,ticks:p},x:{ticks:d},points:b})}},[o,n,i,r,u]}class f1 extends Ot{constructor(e){super(),It(this,e,u1,a1,Lt,{title:1,translations:2,tariffData:3})}}let sn=0,c1={data:[]};async function ds(){let e=await(await Ml(sn<0?"realtime.json":"realtime.json?offset="+sn)).json();hs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),sn>=0&&(sn+=e.size,sn<e.total?setTimeout(ds,2e3):sn=-1)}function m1(){return sn==-1}const hs=rl(c1);let gn=0,cf=0,Yi=0,Li=0,Wo=!1;function _1(){Li==60||Yi>gn||Yi-gn>300?(ds(),Li=0):hs.update(t=>{if(t.lastUpdate)for(;gn>t.lastUpdate;)t.data.unshift(cf),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Li++;else t.lastUpdate=gn;return t})}function p1(t){if(cf=t.i-t.e,gn=t.u,!Wo){ds(),Wo=!0,Yi=gn;return}m1()&&_1()}function zo(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Ko(t,e,l){const n=t.slice();return n[21]=e[l],n}function d1(t){let e,l,n;return{c(){e=_("strong"),l=S(t[0]),n=S(" not available"),f(e,"class","text-sm")},m(i,s){N(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&E(l,i[0])},d(i){i&&M(e)}}}function h1(t){let e,l,n,i,s,o,u,r=t[8]&&Vo(t);return{c(){e=_("strong"),l=S(t[0]),n=S(" ("),i=S(t[12]),s=S(")"),o=h(),r&&r.c(),u=tl(),f(e,"class","text-sm")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),N(c,o,m),r&&r.m(c,m),N(c,u,m)},p(c,m){m&1&&E(l,c[0]),m&4096&&E(i,c[12]),c[8]?r?r.p(c,m):(r=Vo(c),r.c(),r.m(u.parentNode,u)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(o),M(u)),r&&r.d(c)}}}function Vo(t){let e,l,n,i,s,o=st(t[8]),u=[];for(let m=0;m<o.length;m+=1)u[m]=Yo(Ko(t,o,m));let r=st(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Jo(zo(t,r,m));return{c(){e=Et("svg"),l=Et("g");for(let m=0;m<u.length;m+=1)u[m].c();n=Et("g");for(let m=0;m<c.length;m+=1)c[m].c();i=Et("polyline"),f(l,"class","axis y-axis"),f(n,"class","axis x-axis"),f(i,"opacity","0.9"),f(i,"fill",t[13]?"#5c2da5":"#7c3aed"),f(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),f(i,"stroke-width","1"),f(i,"points",t[7]),f(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),f(e,"height","100%")},m(m,p){N(m,e,p),a(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(l,null);a(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);a(e,i)},p(m,p){if(p&16646){o=st(m[8]);let d;for(d=0;d<o.length;d+=1){const b=Ko(m,o,d);u[d]?u[d].p(b,p):(u[d]=Yo(b),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=o.length}if(p&34336){r=st(m[9]);let d;for(d=0;d<r.length;d+=1){const b=zo(m,r,d);c[d]?c[d].p(b,p):(c[d]=Jo(b),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}p&128&&f(i,"points",m[7]),p&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&f(e,"viewBox",s)},d(m){m&&M(e),el(u,m),el(c,m)}}}function Go(t){let e,l,n,i=t[21].label+"",s,o,u;return{c(){e=Et("g"),l=Et("line"),n=Et("text"),s=S(i),f(l,"x2","100%"),f(n,"y","-4"),f(e,"class",o="tick tick-"+t[21].value),f(e,"transform",u="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&E(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&f(e,"class",o),c&262&&u!==(u="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&f(e,"transform",u)},d(r){r&&M(e)}}}function Yo(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Go(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Go(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Xo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=Et("g"),l=Et("text"),i=S(n),f(l,"x",s=t[10]/2),f(l,"y","-4"),f(e,"class","tick"),f(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(u,r){N(u,e,r),a(e,l),a(l,i)},p(u,r){r&512&&n!==(n=u[18].label+"")&&E(i,n),r&1024&&s!==(s=u[10]/2)&&f(l,"x",s),r&544&&o!==(o="translate("+u[15](u[18].value)+","+u[5]+")")&&f(e,"transform",o)},d(u){u&&M(e)}}}function Jo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Xo(t);return{c(){n&&n.c(),l=tl()},m(i,s){n&&n.m(i,s),N(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Xo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function b1(t){let e,l;function n(o,u){return o[11]?h1:d1}let i=n(t),s=i(t);return{c(){e=_("div"),s.c(),f(e,"class","chart"),Jt(()=>t[17].call(e))},m(o,u){N(o,e,u),s.m(e,null),l=ns(e,t[17].bind(e))},p(o,[u]){i===(i=n(o))&&s?s.p(o,u):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:Ke,o:Ke,d(o){o&&M(e),s.d(),l()}}}function g1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;hs.subscribe(A=>{l(16,s=A)});let o=!1,u,r,c,m,p,d,b,w=function(A,R,L){return Math.ceil(p-(A-R)/(L-R)*p)-25},g=function(A){return 30+Math.ceil(A/s.size*(d-35))},k,v,P,q;function I(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=A=>{"title"in A&&l(0,n=A.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,p=parseInt(m)-50),l(6,d=c-35),l(10,P=d/s.size),l(2,r=0),l(1,u=0),s.data&&p>10&&d>100&&P>.1){l(11,o=!0);for(let L in s.data){let j=s.data[L];isNaN(j)&&(j=0),l(1,u=Math.max(Math.ceil(j/1e3)*1e3,u)),l(2,r=Math.min(Math.floor(j/1e3)*1e3,r))}let A=u-r;l(12,q=u>2500?"kW":"W"),l(8,k=[]);for(let L=r;L<u&&(k.push({value:L,label:u>2500?(L/1e3).toFixed(1):L}),!(k.length>6));L+=A/5);l(9,v=[]);for(let L=0;L<s.size&&(v.push({value:L,label:"-"+Math.round((s.size-L)/6)+" min"}),!(v.length>12));L+=Math.round(s.size/Math.round(d/120)));let R=s.size;l(7,b=g(s.size)+","+w(0,r,u)+" "+g(1)+","+w(0,r,u));for(let L in s.data){if(R<0)break;let j=s.data[L];isNaN(j)&&(j=0),l(7,b=g(R--)+","+w(j,r,u)+" "+b)}}else l(11,o=!1)},[n,u,r,c,m,p,d,b,k,v,P,o,q,i,w,g,s,I]}class v1 extends Ot{constructor(e){super(),It(this,e,g1,b1,Lt,{title:0})}}function k1(t){let e,l;return e=new _n({props:{config:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function w1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:u=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:p=0}=e,{l1e:d=0}=e,{l2e:b=0}=e,{l3e:w=0}=e,{maxImport:g=0}=e,{maxExport:k=0}=e,{importColorFn:v}=e,{exportColorFn:P}=e,q={};function I(A,R){return{label:Qt(A>900?A/1e3:A)+(A>900?"k":"")+i,title:A.toFixed(2)+" "+i,value:isNaN(A)?0:A,color:v(A?A/g*100:0,document.documentElement.classList.contains("dark")),label2:Qt(R>900?R/1e3:R)+(R>900?"k":"")+i,title2:R.toFixed(2)+" "+i,value2:isNaN(R)?0:R,color2:P(R?R/k*100:0)}}return t.$$set=A=>{"title"in A&&l(1,n=A.title),"unit"in A&&l(2,i=A.unit),"l1"in A&&l(3,s=A.l1),"l2"in A&&l(4,o=A.l2),"l2x"in A&&l(5,u=A.l2x),"l3"in A&&l(6,r=A.l3),"l1i"in A&&l(7,c=A.l1i),"l2i"in A&&l(8,m=A.l2i),"l3i"in A&&l(9,p=A.l3i),"l1e"in A&&l(10,d=A.l1e),"l2e"in A&&l(11,b=A.l2e),"l3e"in A&&l(12,w=A.l3e),"maxImport"in A&&l(13,g=A.maxImport),"maxExport"in A&&l(14,k=A.maxExport),"importColorFn"in A&&l(15,v=A.importColorFn),"exportColorFn"in A&&l(16,P=A.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let A=[],R=[];s&&(A.push({label:"L1"}),R.push(I(c,d))),o&&(u?(A.push({label:"L2"}),R.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(A.push({label:"L2"}),R.push(I(m,b)))),r&&(A.push({label:"L3"}),R.push(I(p,w)));let L=[];if(k){let j=k>g?4:k*4/g;L.push({value:-k,label:"-100%"}),j>=4&&L.push({value:-k/4*3,label:"-75%"}),j>=2&&L.push({value:-k/2,label:"-50%"}),j>=4&&L.push({value:-k/4,label:"-25%"})}if(L.push({value:0,label:"0%"}),g){let j=g>k?4:g*4/k;L.push({value:g/4,label:"25%"}),j>=4&&L.push({value:g/2,label:"50%"}),j>=2&&L.push({value:g/4*3,label:"75%"}),j>=4&&L.push({value:g,label:"100%"})}l(0,q={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-k,max:g,ticks:L},x:{ticks:A},points:R})}},[q,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P]}class bs extends Ot{constructor(e){super(),It(this,e,w1,k1,Lt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Qo(t){var v;let e,l,n,i,s,o,u=(t[0].mt?hi(t[0].mt):"-")+"",r,c,m,p=t[11][0]+"",d,b,w=t[11][1]+"",g,k;return i=new ff({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((v=t[6].common)==null?void 0:v.import)??"Import",sub:Gn(t[0].p,t[0].pc),colorFn:rs}}),{c(){e=_("div"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),o=_("div"),r=S(u),c=h(),m=_("div"),d=S(p),b=h(),g=S(w),f(n,"class","col-span-2"),f(m,"class","text-right"),f(l,"class","grid grid-cols-2"),f(e,"class","cnt")},m(P,q){N(P,e,q),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,d),a(m,b),a(m,g),k=!0},p(P,q){var A;const I={};q&1&&(I.val=P[0].i?P[0].i:0),q&1&&(I.max=P[0].im?P[0].im:15e3),q&64&&(I.label=((A=P[6].common)==null?void 0:A.import)??"Import"),q&1&&(I.sub=Gn(P[0].p,P[0].pc)),i.$set(I),(!k||q&1)&&u!==(u=(P[0].mt?hi(P[0].mt):"-")+"")&&E(r,u),(!k||q&2048)&&p!==(p=P[11][0]+"")&&E(d,p),(!k||q&2048)&&w!==(w=P[11][1]+"")&&E(g,w)},i(P){k||(ee(i.$$.fragment,P),k=!0)},o(P){se(i.$$.fragment,P),k=!1},d(P){P&&M(e),Ce(i)}}}function Zo(t){var g;let e,l,n,i,s,o,u,r,c=t[12][0]+"",m,p,d=t[12][1]+"",b,w;return i=new ff({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((g=t[6].common)==null?void 0:g.export)??"Export",sub:Gn(t[0].px,t[0].pc),colorFn:Kn}}),{c(){e=_("div"),l=_("div"),n=_("div"),Me(i.$$.fragment),s=h(),o=_("div"),u=h(),r=_("div"),m=S(c),p=h(),b=S(d),f(n,"class","col-span-2"),f(r,"class","text-right"),f(l,"class","grid grid-cols-2"),f(e,"class","cnt")},m(k,v){N(k,e,v),a(e,l),a(l,n),ye(i,n,null),a(l,s),a(l,o),a(l,u),a(l,r),a(r,m),a(r,p),a(r,b),w=!0},p(k,v){var q;const P={};v&1&&(P.val=k[0].e?k[0].e:0),v&1&&(P.max=k[0].om?k[0].om*1e3:1e4),v&64&&(P.label=((q=k[6].common)==null?void 0:q.export)??"Export"),v&1&&(P.sub=Gn(k[0].px,k[0].pc)),i.$set(P),(!w||v&4096)&&c!==(c=k[12][0]+"")&&E(m,c),(!w||v&4096)&&d!==(d=k[12][1]+"")&&E(b,d)},i(k){w||(ee(i.$$.fragment,k),w=!0)},o(k){se(i.$$.fragment,k),w=!1},d(k){k&&M(e),Ce(i)}}}function $o(t){let e,l,n=t[0].l1&&xo(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=xo(i),n.c(),ee(n,1),n.m(e,null)):n&&(Pt(),se(n,1,1,()=>{n=null}),Tt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function xo(t){var n;let e,l;return e=new jc({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const o={};s&64&&(o.title=((u=i[6].common)==null?void 0:u.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function ea(t){let e,l,n=t[0].l1&&ta(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=ta(i),n.c(),ee(n,1),n.m(e,null)):n&&(Pt(),se(n,1,1,()=>{n=null}),Tt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function ta(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:rs,exportColorFn:Kn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const o={};s&64&&(o.title=((u=i[6].common)==null?void 0:u.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function la(t){let e,l,n=t[0].l1&&na(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=na(i),n.c(),ee(n,1),n.m(e,null)):n&&(Pt(),se(n,1,1,()=>{n=null}),Tt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function na(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:rs,exportColorFn:Kn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const o={};s&64&&(o.title=((u=i[6].dashboard)==null?void 0:u.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function ia(t){let e,l,n=t[0].l1&&sa(t);return{c(){e=_("div"),n&&n.c(),f(e,"class","cnt")},m(i,s){N(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&ee(n,1)):(n=sa(i),n.c(),ee(n,1),n.m(e,null)):n&&(Pt(),se(n,1,1,()=>{n=null}),Tt())},i(i){l||(ee(n),l=!0)},o(i){se(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function sa(t){var n;let e,l;return e=new bs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Kn,exportColorFn:Kn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Me(e.$$.fragment)},m(i,s){ye(e,i,s),l=!0},p(i,s){var u;const o={};s&64&&(o.title=((u=i[6].dashboard)==null?void 0:u.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(ee(e.$$.fragment,i),l=!0)},o(i){se(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function oa(t){let e,l,n;return l=new zc({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(ee(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function aa(t){let e,l,n;return l=new Xc({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt")},m(i,s){N(i,e,s),ye(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(ee(l.$$.fragment,i),n=!0)},o(i){se(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function ra(t){var i;let e,l,n;return l=new f1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt h-64")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(u.tariffData=s[7]),o&64&&(u.translations=s[6]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ua(t){var i;let e,l,n;return l=new v1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function fa(t){var i;let e,l,n;return l=new Zc({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(u.json=s[2]),o&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ca(t){var i;let e,l,n;return l=new e1({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(u.json=s[3]),o&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ma(t){var i;let e,l,n;return l=new n1({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(u.json=s[4]),o&2&&(u.sysinfo=s[1]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function _a(t){var i;let e,l,n;return l=new o1({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=_("div"),Me(l.$$.fragment),f(e,"class","cnt gwf")},m(s,o){N(s,e,o),ye(l,e,null),n=!0},p(s,o){var r;const u={};o&64&&(u.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(u.json=s[5]),l.$set(u)},i(s){n||(ee(l.$$.fragment,s),n=!0)},o(s){se(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function S1(t){let e,l=xt(t[1].ui.i,t[0].i),n,i=xt(t[1].ui.e,t[0].om||t[0].e>0),s,o=xt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),u,r=xt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=xt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),p,d=xt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),b,w=xt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,k=xt(t[1].ui.c,t[0].ea),v,P=xt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),q,I=xt(t[1].ui.l,t[0].hm==1),A,R=xt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),L,j=xt(t[1].ui.d,t[3]),V,G=xt(t[1].ui.m,t[4]),X,Y=xt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),D,y=l&&Qo(t),W=i&&Zo(t),B=o&&$o(t),O=r&&ea(t),z=m&&la(t),Q=d&&ia(t),Z=w&&oa(t),K=k&&aa(t),ne=P&&ra(t),fe=I&&ua(t),oe=R&&fa(t),ie=j&&ca(t),re=G&&ma(t),x=Y&&_a(t);return{c(){e=_("div"),y&&y.c(),n=h(),W&&W.c(),s=h(),B&&B.c(),u=h(),O&&O.c(),c=h(),z&&z.c(),p=h(),Q&&Q.c(),b=h(),Z&&Z.c(),g=h(),K&&K.c(),v=h(),ne&&ne.c(),q=h(),fe&&fe.c(),A=h(),oe&&oe.c(),L=h(),ie&&ie.c(),V=h(),re&&re.c(),X=h(),x&&x.c(),f(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m($,te){N($,e,te),y&&y.m(e,null),a(e,n),W&&W.m(e,null),a(e,s),B&&B.m(e,null),a(e,u),O&&O.m(e,null),a(e,c),z&&z.m(e,null),a(e,p),Q&&Q.m(e,null),a(e,b),Z&&Z.m(e,null),a(e,g),K&&K.m(e,null),a(e,v),ne&&ne.m(e,null),a(e,q),fe&&fe.m(e,null),a(e,A),oe&&oe.m(e,null),a(e,L),ie&&ie.m(e,null),a(e,V),re&&re.m(e,null),a(e,X),x&&x.m(e,null),D=!0},p($,[te]){te&3&&(l=xt($[1].ui.i,$[0].i)),l?y?(y.p($,te),te&3&&ee(y,1)):(y=Qo($),y.c(),ee(y,1),y.m(e,n)):y&&(Pt(),se(y,1,1,()=>{y=null}),Tt()),te&3&&(i=xt($[1].ui.e,$[0].om||$[0].e>0)),i?W?(W.p($,te),te&3&&ee(W,1)):(W=Zo($),W.c(),ee(W,1),W.m(e,s)):W&&(Pt(),se(W,1,1,()=>{W=null}),Tt()),te&3&&(o=xt($[1].ui.v,$[0].l1&&($[0].l1.u>100||$[0].l2.u>100||$[0].l3.u>100))),o?B?(B.p($,te),te&3&&ee(B,1)):(B=$o($),B.c(),ee(B,1),B.m(e,u)):B&&(Pt(),se(B,1,1,()=>{B=null}),Tt()),te&3&&(r=xt($[1].ui.a,$[0].l1&&($[0].l1.i>.01||$[0].l2.i>.01||$[0].l3.i>.01))),r?O?(O.p($,te),te&3&&ee(O,1)):(O=ea($),O.c(),ee(O,1),O.m(e,c)):O&&(Pt(),se(O,1,1,()=>{O=null}),Tt()),te&3&&(m=xt($[1].ui.h,$[0].l1&&($[0].l1.p>.01||$[0].l2.p>.01||$[0].l3.p>.01||$[0].l1.q>.01||$[0].l2.q>.01||$[0].l3.q>.01))),m?z?(z.p($,te),te&3&&ee(z,1)):(z=la($),z.c(),ee(z,1),z.m(e,p)):z&&(Pt(),se(z,1,1,()=>{z=null}),Tt()),te&3&&(d=xt($[1].ui.f,$[0].l1&&($[0].l1.f>.01||$[0].l2.f>.01||$[0].l3.f>.01))),d?Q?(Q.p($,te),te&3&&ee(Q,1)):(Q=ia($),Q.c(),ee(Q,1),Q.m(e,b)):Q&&(Pt(),se(Q,1,1,()=>{Q=null}),Tt()),te&3&&(w=xt($[1].ui.r,$[0].ri>0||$[0].re>0||$[0].ric>0||$[0].rec>0)),w?Z?(Z.p($,te),te&3&&ee(Z,1)):(Z=oa($),Z.c(),ee(Z,1),Z.m(e,g)):Z&&(Pt(),se(Z,1,1,()=>{Z=null}),Tt()),te&3&&(k=xt($[1].ui.c,$[0].ea)),k?K?(K.p($,te),te&3&&ee(K,1)):(K=aa($),K.c(),ee(K,1),K.m(e,v)):K&&(Pt(),se(K,1,1,()=>{K=null}),Tt()),te&3&&(P=xt($[1].ui.t,$[0].pr&&($[0].pr.startsWith("NO")||$[0].pr.startsWith("10YNO")||$[0].pr.startsWith("10Y1001A1001A4")))),P?ne?(ne.p($,te),te&3&&ee(ne,1)):(ne=ra($),ne.c(),ee(ne,1),ne.m(e,q)):ne&&(Pt(),se(ne,1,1,()=>{ne=null}),Tt()),te&3&&(I=xt($[1].ui.l,$[0].hm==1)),I?fe?(fe.p($,te),te&3&&ee(fe,1)):(fe=ua($),fe.c(),ee(fe,1),fe.m(e,A)):fe&&(Pt(),se(fe,1,1,()=>{fe=null}),Tt()),te&3&&(R=xt($[1].ui.p,$[0].pe&&!Number.isNaN($[0].p))),R?oe?(oe.p($,te),te&3&&ee(oe,1)):(oe=fa($),oe.c(),ee(oe,1),oe.m(e,L)):oe&&(Pt(),se(oe,1,1,()=>{oe=null}),Tt()),te&10&&(j=xt($[1].ui.d,$[3])),j?ie?(ie.p($,te),te&10&&ee(ie,1)):(ie=ca($),ie.c(),ee(ie,1),ie.m(e,V)):ie&&(Pt(),se(ie,1,1,()=>{ie=null}),Tt()),te&18&&(G=xt($[1].ui.m,$[4])),G?re?(re.p($,te),te&18&&ee(re,1)):(re=ma($),re.c(),ee(re,1),re.m(e,X)):re&&(Pt(),se(re,1,1,()=>{re=null}),Tt()),te&35&&(Y=xt($[1].ui.s,$[0].t&&$[0].t!=-127&&$[5].c>1)),Y?x?(x.p($,te),te&35&&ee(x,1)):(x=_a($),x.c(),ee(x,1),x.m(e,null)):x&&(Pt(),se(x,1,1,()=>{x=null}),Tt())},i($){D||(ee(y),ee(W),ee(B),ee(O),ee(z),ee(Q),ee(Z),ee(K),ee(ne),ee(fe),ee(oe),ee(ie),ee(re),ee(x),D=!0)},o($){se(y),se(W),se(B),se(O),se(z),se(Q),se(Z),se(K),se(ne),se(fe),se(oe),se(ie),se(re),se(x),D=!1},d($){$&&M(e),y&&y.d(),W&&W.d(),B&&B.d(),O&&O.d(),z&&z.d(),Q&&Q.d(),Z&&Z.d(),K&&K.d(),ne&&ne.d(),fe&&fe.d(),oe&&oe.d(),ie&&ie.d(),re&&re.d(),x&&x.d()}}}function y1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:u={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,p,d,b,w,g,k;return t.$$set=v=>{"data"in v&&l(0,n=v.data),"sysinfo"in v&&l(1,i=v.sysinfo),"prices"in v&&l(2,s=v.prices),"dayPlot"in v&&l(3,o=v.dayPlot),"monthPlot"in v&&l(4,u=v.monthPlot),"temperatures"in v&&l(5,r=v.temperatures),"translations"in v&&l(6,c=v.translations),"tariffData"in v&&l(7,m=v.tariffData)},t.$$.update=()=>{var v,P,q,I,A,R,L,j,V,G,X,Y,D,y,W;t.$$.dirty&1793&&(l(11,p=_l((n==null?void 0:n.ic)*1e3,"Wh")),l(12,d=_l((n==null?void 0:n.ec)*1e3,"Wh")),((v=n==null?void 0:n.l1)==null?void 0:v.u)==0&&((P=n==null?void 0:n.l2)==null?void 0:P.u)==0&&((q=n==null?void 0:n.l3)==null?void 0:q.u)==0?l(8,w=l(9,g=l(10,k=l(13,b=!0)))):(l(8,w=((I=n==null?void 0:n.l1)==null?void 0:I.u)>0||((A=n==null?void 0:n.l1)==null?void 0:A.i)>0||((R=n==null?void 0:n.l1)==null?void 0:R.p)>0||((L=n==null?void 0:n.l1)==null?void 0:L.q)>0),l(9,g=((j=n==null?void 0:n.l2)==null?void 0:j.u)>0||((V=n==null?void 0:n.l2)==null?void 0:V.i)>0||((G=n==null?void 0:n.l2)==null?void 0:G.p)>0||((X=n==null?void 0:n.l2)==null?void 0:X.q)>0),l(10,k=((Y=n==null?void 0:n.l3)==null?void 0:Y.u)>0||((D=n==null?void 0:n.l3)==null?void 0:D.i)>0||((y=n==null?void 0:n.l3)==null?void 0:y.p)>0||((W=n==null?void 0:n.l3)==null?void 0:W.q)>0),l(13,b=w&&g&&k)))},[n,i,s,o,u,r,c,m,w,g,k,p,d,b]}class C1 extends Ot{constructor(e){super(),It(this,e,y1,S1,Lt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Xi={};const vn=rl(Xi);async function mf(){Xi=await(await fetch("configuration.json")).json(),vn.set(Xi)}let Ji={};const _f=rl(Ji);async function M1(){Ji=await(await fetch("priceconfig.json")).json(),_f.set(Ji)}function pa(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function da(t){let e,l,n;return{c(){e=_("option"),e.textContent="UART0",l=h(),n=_("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){N(i,e,s),N(i,l,s),N(i,n,s)},d(i){i&&(M(e),M(l),M(n))}}}function ha(t){let e;return{c(){e=_("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function ba(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&ha(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=ha(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&M(e),l&&l.d(n)}}}function N1(t){let e,l,n,i,s=t[0]=="esp8266"&&da(),o=st({length:t[1]+1}),u=[];for(let r=0;r<o.length;r+=1)u[r]=ba(pa(t,o,r));return{c(){e=_("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<u.length;r+=1)u[r].c();i=tl(),e.__value=-1,J(e,e.__value)},m(r,c){N(r,e,c),N(r,l,c),s&&s.m(r,c),N(r,n,c);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,c);N(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=da(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=st({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const p=pa(r,o,m);u[m]?u[m].p(p,c):(u[m]=ba(p),u[m].c(),u[m].m(i.parentNode,i))}for(;m<u.length;m+=1)u[m].d(1);u.length=o.length}},i:Ke,o:Ke,d(r){r&&(M(e),M(l),M(n),M(i)),s&&s.d(r),el(u,r)}}}function P1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class T1 extends Ot{constructor(e){super(),It(this,e,P1,N1,Lt,{chip:0})}}function ga(t){let e,l,n=t[1]&&va(t);return{c(){e=_("div"),l=_("div"),n&&n.c(),f(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),f(e,"class","z-50"),f(e,"aria-modal","true")},m(i,s){N(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=va(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&M(e),n&&n.d()}}}function va(t){let e,l;return{c(){e=_("div"),l=S(t[1]),f(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){N(n,e,i),a(e,l)},p(n,i){i&2&&E(l,n[1])},d(n){n&&M(e)}}}function E1(t){let e,l=t[0]&&ga(t);return{c(){l&&l.c(),e=tl()},m(n,i){l&&l.m(n,i),N(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ga(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ke,o:Ke,d(n){n&&M(e),l&&l.d(n)}}}function A1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class pl extends Ot{constructor(e){super(),It(this,e,A1,E1,Lt,{active:0,message:1})}}function ka(t,e,l){const n=t.slice();return n[1]=e[l],n}function wa(t){let e,l,n=t[1]+"",i;return{c(){e=_("option"),l=S("Europe/"),i=S(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){N(s,e,o),a(e,l),a(e,i)},p:Ke,d(s){s&&M(e)}}}function q1(t){let e,l,n,i=st(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=wa(ka(t,i,o));return{c(){e=_("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=tl(),e.__value="GMT",J(e,e.__value)},m(o,u){N(o,e,u),N(o,l,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,u);N(o,n,u)},p(o,[u]){if(u&1){i=st(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ka(o,i,r);s[r]?s[r].p(c,u):(s[r]=wa(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ke,o:Ke,d(o){o&&(M(e),M(l),M(n)),el(s,o)}}}function L1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class D1 extends Ot{constructor(e){super(),It(this,e,L1,q1,Lt,{})}}function I1(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w;return{c(){e=_("optgroup"),l=_("option"),l.textContent="/24",n=h(),i=_("optgroup"),s=_("option"),s.textContent="/25",o=_("option"),o.textContent="/26",u=_("option"),u.textContent="/27",r=_("option"),r.textContent="/28",c=_("option"),c.textContent="/29",m=h(),p=_("optgroup"),d=_("option"),d.textContent="/23",b=_("option"),b.textContent="/22",w=_("option"),w.textContent="/16",l.__value="255.255.255.0",J(l,l.__value),f(e,"label","Most common is /24 (255.255.255.0)"),s.__value="255.255.255.128",J(s,s.__value),o.__value="255.255.255.192",J(o,o.__value),u.__value="255.255.255.224",J(u,u.__value),r.__value="255.255.255.240",J(r,r.__value),c.__value="255.255.255.248",J(c,c.__value),f(i,"label","Smaller subnets"),d.__value="255.255.254.0",J(d,d.__value),b.__value="255.255.252.0",J(b,b.__value),w.__value="255.255.0.0",J(w,w.__value),f(p,"label","Larger subnets")},m(g,k){N(g,e,k),a(e,l),N(g,n,k),N(g,i,k),a(i,s),a(i,o),a(i,u),a(i,r),a(i,c),N(g,m,k),N(g,p,k),a(p,d),a(p,b),a(p,w)},p:Ke,i:Ke,o:Ke,d(g){g&&(M(e),M(n),M(i),M(m),M(p))}}}class O1 extends Ot{constructor(e){super(),It(this,e,null,I1,Lt,{})}}var F1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(F1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(T,C){var U;return typeof Object.create=="function"?U=Object.create(T):(l.prototype=T,U=new l,l.prototype=null),C&&u(!0,U,C),U}function o(T,C,U,F){var H=this;return typeof T!="string"&&(F=U,U=C,C=T,T=null),typeof C!="function"&&(F=U,U=C,C=function(){return H.apply(this,arguments)}),u(!1,C,H,F),C.prototype=s(H.prototype,U),C.prototype.constructor=C,C.class_=T||H.class_,C.super_=H,C}function u(T,C,U){U=i.call(arguments,2);for(var F,H,le=0,ae=U.length;le<ae;le++){H=U[le];for(F in H)(!T||n.call(H,F))&&(C[F]=H[F])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,p=m,d=p.extend(function(T,C,U){this.qrious=T,this.element=C,this.element.qrious=T,this.enabled=!!U},{draw:function(T){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(T){var C=this.qrious,U=C.padding||0,F=Math.floor((C.size-U*2)/T.width);return Math.max(1,F)},getOffset:function(T){var C=this.qrious,U=C.padding;if(U!=null)return U;var F=this.getModuleSize(T),H=Math.floor((C.size-F*T.width)/2);return Math.max(0,H)},render:function(T){this.enabled&&(this.resize(),this.reset(),this.draw(T))},reset:function(){},resize:function(){}}),b=d,w=b.extend({draw:function(T){var C,U,F=this.qrious,H=this.getModuleSize(T),le=this.getOffset(T),ae=this.element.getContext("2d");for(ae.fillStyle=F.foreground,ae.globalAlpha=F.foregroundAlpha,C=0;C<T.width;C++)for(U=0;U<T.width;U++)T.buffer[U*T.width+C]&&ae.fillRect(H*C+le,H*U+le,H,H)},reset:function(){var T=this.qrious,C=this.element.getContext("2d"),U=T.size;C.lineWidth=1,C.clearRect(0,0,U,U),C.fillStyle=T.background,C.globalAlpha=T.backgroundAlpha,C.fillRect(0,0,U,U)},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),g=w,k=p.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),v=k,P=p.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),q=P,I=p.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),A=I,R=p.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),L=R,j=p.extend(function(T){var C,U,F,H,le,ae=T.value.length;for(this._badness=[],this._level=q.LEVELS[T.level],this._polynomial=[],this._value=T.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,F=(this._level-1)*4+(this._version-1)*16,H=q.BLOCKS[F++],le=q.BLOCKS[F++],C=q.BLOCKS[F++],U=q.BLOCKS[F],F=C*(H+le)+le-3+(this._version<=9),!(ae<=F)););this._dataBlock=C,this._eccBlock=U,this._neccBlock1=H,this._neccBlock2=le;var ce=this.width=17+4*this._version;this.buffer=j._createArray(ce*ce),this._ecc=j._createArray(C+(C+U)*(H+le)+le),this._mask=j._createArray((ce*(ce+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+ce*(ce-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ae),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(T,C){var U,F=this.buffer,H=this.width;for(F[T+H*C]=1,U=-2;U<2;U++)F[T+U+H*(C-2)]=1,F[T-2+H*(C+U+1)]=1,F[T+2+H*(C+U)]=1,F[T+U+1+H*(C+2)]=1;for(U=0;U<2;U++)this._setMask(T-1,C+U),this._setMask(T+1,C-U),this._setMask(T-U,C-1),this._setMask(T+U,C+1)},_appendData:function(T,C,U,F){var H,le,ae,ce=this._polynomial,ue=this._stringBuffer;for(le=0;le<F;le++)ue[U+le]=0;for(le=0;le<C;le++){if(H=A.LOG[ue[T+le]^ue[U]],H!==255)for(ae=1;ae<F;ae++)ue[U+ae-1]=ue[U+ae]^A.EXPONENT[j._modN(H+ce[F-ae])];else for(ae=U;ae<U+F;ae++)ue[ae]=ue[ae+1];ue[U+F-1]=H===255?0:A.EXPONENT[j._modN(H+ce[0])]}},_appendEccToData:function(){var T,C=0,U=this._dataBlock,F=this._calculateMaxLength(),H=this._eccBlock;for(T=0;T<this._neccBlock1;T++)this._appendData(C,U,F,H),C+=U,F+=H;for(T=0;T<this._neccBlock2;T++)this._appendData(C,U+1,F,H),C+=U+1,F+=H},_applyMask:function(T){var C,U,F,H,le=this.buffer,ae=this.width;switch(T){case 0:for(H=0;H<ae;H++)for(F=0;F<ae;F++)!(F+H&1)&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 1:for(H=0;H<ae;H++)for(F=0;F<ae;F++)!(H&1)&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 2:for(H=0;H<ae;H++)for(C=0,F=0;F<ae;F++,C++)C===3&&(C=0),!C&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 3:for(U=0,H=0;H<ae;H++,U++)for(U===3&&(U=0),C=U,F=0;F<ae;F++,C++)C===3&&(C=0),!C&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 4:for(H=0;H<ae;H++)for(C=0,U=H>>1&1,F=0;F<ae;F++,C++)C===3&&(C=0,U=!U),!U&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 5:for(U=0,H=0;H<ae;H++,U++)for(U===3&&(U=0),C=0,F=0;F<ae;F++,C++)C===3&&(C=0),!((F&H&1)+!(!C|!U))&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 6:for(U=0,H=0;H<ae;H++,U++)for(U===3&&(U=0),C=0,F=0;F<ae;F++,C++)C===3&&(C=0),!((F&H&1)+(C&&C===U)&1)&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break;case 7:for(U=0,H=0;H<ae;H++,U++)for(U===3&&(U=0),C=0,F=0;F<ae;F++,C++)C===3&&(C=0),!((C&&C===U)+(F+H&1)&1)&&!this._isMasked(F,H)&&(le[F+H*ae]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var T,C,U=this._eccBlock,F=this._polynomial;for(F[0]=1,T=0;T<U;T++){for(F[T+1]=1,C=T;C>0;C--)F[C]=F[C]?F[C-1]^A.EXPONENT[j._modN(A.LOG[F[C]]+T)]:F[C-1];F[0]=A.EXPONENT[j._modN(A.LOG[F[0]]+T)]}for(T=0;T<=U;T++)F[T]=A.LOG[F[T]]},_checkBadness:function(){var T,C,U,F,H,le=0,ae=this._badness,ce=this.buffer,ue=this.width;for(H=0;H<ue-1;H++)for(F=0;F<ue-1;F++)(ce[F+ue*H]&&ce[F+1+ue*H]&&ce[F+ue*(H+1)]&&ce[F+1+ue*(H+1)]||!(ce[F+ue*H]||ce[F+1+ue*H]||ce[F+ue*(H+1)]||ce[F+1+ue*(H+1)]))&&(le+=j.N2);var me=0;for(H=0;H<ue;H++){for(U=0,ae[0]=0,T=0,F=0;F<ue;F++)C=ce[F+ue*H],T===C?ae[U]++:ae[++U]=1,T=C,me+=T?1:-1;le+=this._getBadness(U)}me<0&&(me=-me);var Se=0,we=me;for(we+=we<<2,we<<=1;we>ue*ue;)we-=ue*ue,Se++;for(le+=Se*j.N4,F=0;F<ue;F++){for(U=0,ae[0]=0,T=0,H=0;H<ue;H++)C=ce[F+ue*H],T===C?ae[U]++:ae[++U]=1,T=C;le+=this._getBadness(U)}return le},_convertBitStream:function(T){var C,U,F=this._ecc,H=this._version;for(U=0;U<T;U++)F[U]=this._value.charCodeAt(U);var le=this._stringBuffer=F.slice(),ae=this._calculateMaxLength();T>=ae-2&&(T=ae-2,H>9&&T--);var ce=T;if(H>9){for(le[ce+2]=0,le[ce+3]=0;ce--;)C=le[ce],le[ce+3]|=255&C<<4,le[ce+2]=C>>4;le[2]|=255&T<<4,le[1]=T>>4,le[0]=64|T>>12}else{for(le[ce+1]=0,le[ce+2]=0;ce--;)C=le[ce],le[ce+2]|=255&C<<4,le[ce+1]=C>>4;le[1]|=255&T<<4,le[0]=64|T>>4}for(ce=T+3-(H<10);ce<ae;)le[ce++]=236,le[ce++]=17},_getBadness:function(T){var C,U=0,F=this._badness;for(C=0;C<=T;C++)F[C]>=5&&(U+=j.N1+F[C]-5);for(C=3;C<T-1;C+=2)F[C-2]===F[C+2]&&F[C+2]===F[C-1]&&F[C-1]===F[C+1]&&F[C-1]*3===F[C]&&(F[C-3]===0||C+3>T||F[C-3]*3>=F[C]*4||F[C+3]*3>=F[C]*4)&&(U+=j.N3);return U},_finish:function(){this._stringBuffer=this.buffer.slice();var T,C,U=0,F=3e4;for(C=0;C<8&&(this._applyMask(C),T=this._checkBadness(),T<F&&(F=T,U=C),U!==7);C++)this.buffer=this._stringBuffer.slice();U!==C&&this._applyMask(U),F=q.FINAL_FORMAT[U+(this._level-1<<3)];var H=this.buffer,le=this.width;for(C=0;C<8;C++,F>>=1)F&1&&(H[le-1-C+le*8]=1,C<6?H[8+le*C]=1:H[8+le*(C+1)]=1);for(C=0;C<7;C++,F>>=1)F&1&&(H[8+le*(le-7+C)]=1,C?H[6-C+le*8]=1:H[7+le*8]=1)},_interleaveBlocks:function(){var T,C,U=this._dataBlock,F=this._ecc,H=this._eccBlock,le=0,ae=this._calculateMaxLength(),ce=this._neccBlock1,ue=this._neccBlock2,me=this._stringBuffer;for(T=0;T<U;T++){for(C=0;C<ce;C++)F[le++]=me[T+C*U];for(C=0;C<ue;C++)F[le++]=me[ce*U+T+C*(U+1)]}for(C=0;C<ue;C++)F[le++]=me[ce*U+T+C*(U+1)];for(T=0;T<H;T++)for(C=0;C<ce+ue;C++)F[le++]=me[ae+T+C*H];this._stringBuffer=F},_insertAlignments:function(){var T,C,U,F=this._version,H=this.width;if(F>1)for(T=v.BLOCK[F],U=H-7;;){for(C=H-7;C>T-3&&(this._addAlignment(C,U),!(C<T));)C-=T;if(U<=T+9)break;U-=T,this._addAlignment(6,U),this._addAlignment(U,6)}},_insertFinders:function(){var T,C,U,F,H=this.buffer,le=this.width;for(T=0;T<3;T++){for(C=0,F=0,T===1&&(C=le-7),T===2&&(F=le-7),H[F+3+le*(C+3)]=1,U=0;U<6;U++)H[F+U+le*C]=1,H[F+le*(C+U+1)]=1,H[F+6+le*(C+U)]=1,H[F+U+1+le*(C+6)]=1;for(U=1;U<5;U++)this._setMask(F+U,C+1),this._setMask(F+1,C+U+1),this._setMask(F+5,C+U),this._setMask(F+U+1,C+5);for(U=2;U<4;U++)H[F+U+le*(C+2)]=1,H[F+2+le*(C+U+1)]=1,H[F+4+le*(C+U)]=1,H[F+U+1+le*(C+4)]=1}},_insertTimingGap:function(){var T,C,U=this.width;for(C=0;C<7;C++)this._setMask(7,C),this._setMask(U-8,C),this._setMask(7,C+U-7);for(T=0;T<8;T++)this._setMask(T,7),this._setMask(T+U-8,7),this._setMask(T,U-8)},_insertTimingRowAndColumn:function(){var T,C=this.buffer,U=this.width;for(T=0;T<U-14;T++)T&1?(this._setMask(8+T,6),this._setMask(6,8+T)):(C[8+T+U*6]=1,C[6+U*(8+T)]=1)},_insertVersion:function(){var T,C,U,F,H=this.buffer,le=this._version,ae=this.width;if(le>6)for(T=L.BLOCK[le-7],C=17,U=0;U<6;U++)for(F=0;F<3;F++,C--)1&(C>11?le>>C-12:T>>C)?(H[5-U+ae*(2-F+ae-11)]=1,H[2-F+ae-11+ae*(5-U)]=1):(this._setMask(5-U,2-F+ae-11),this._setMask(2-F+ae-11,5-U))},_isMasked:function(T,C){var U=j._getMaskBit(T,C);return this._mask[U]===1},_pack:function(){var T,C,U,F=1,H=1,le=this.width,ae=le-1,ce=le-1,ue=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(C=0;C<ue;C++)for(T=this._stringBuffer[C],U=0;U<8;U++,T<<=1){128&T&&(this.buffer[ae+le*ce]=1);do H?ae--:(ae++,F?ce!==0?ce--:(ae-=2,F=!F,ae===6&&(ae--,ce=9)):ce!==le-1?ce++:(ae-=2,F=!F,ae===6&&(ae--,ce-=8))),H=!H;while(this._isMasked(ae,ce))}},_reverseMask:function(){var T,C,U=this.width;for(T=0;T<9;T++)this._setMask(T,8);for(T=0;T<8;T++)this._setMask(T+U-8,8),this._setMask(8,T);for(C=0;C<7;C++)this._setMask(8,C+U-7)},_setMask:function(T,C){var U=j._getMaskBit(T,C);this._mask[U]=1},_syncMask:function(){var T,C,U=this.width;for(C=0;C<U;C++)for(T=0;T<=C;T++)this.buffer[T+U*C]&&this._setMask(T,C)}},{_createArray:function(T){var C,U=[];for(C=0;C<T;C++)U[C]=0;return U},_getMaskBit:function(T,C){var U;return T>C&&(U=T,T=C,C=U),U=C,U+=C*C,U>>=1,U+=T,U},_modN:function(T){for(;T>=255;)T-=255,T=(T>>8)+(T&255);return T},N1:3,N2:3,N3:40,N4:10}),V=j,G=b.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var T=this.element;T.width=T.height=this.qrious.size}}),X=G,Y=p.extend(function(T,C,U,F){this.name=T,this.modifiable=!!C,this.defaultValue=U,this._valueTransformer=F},{transform:function(T){var C=this._valueTransformer;return typeof C=="function"?C(T,this):T}}),D=Y,y=p.extend(null,{abs:function(T){return T!=null?Math.abs(T):null},hasOwn:function(T,C){return Object.prototype.hasOwnProperty.call(T,C)},noop:function(){},toUpperCase:function(T){return T!=null?T.toUpperCase():null}}),W=y,B=p.extend(function(T){this.options={},T.forEach(function(C){this.options[C.name]=C},this)},{exists:function(T){return this.options[T]!=null},get:function(T,C){return B._get(this.options[T],C)},getAll:function(T){var C,U=this.options,F={};for(C in U)W.hasOwn(U,C)&&(F[C]=B._get(U[C],T));return F},init:function(T,C,U){typeof U!="function"&&(U=W.noop);var F,H;for(F in this.options)W.hasOwn(this.options,F)&&(H=this.options[F],B._set(H,H.defaultValue,C),B._createAccessor(H,C,U));this._setAll(T,C,!0)},set:function(T,C,U){return this._set(T,C,U)},setAll:function(T,C){return this._setAll(T,C)},_set:function(T,C,U,F){var H=this.options[T];if(!H)throw new Error("Invalid option: "+T);if(!H.modifiable&&!F)throw new Error("Option cannot be modified: "+T);return B._set(H,C,U)},_setAll:function(T,C,U){if(!T)return!1;var F,H=!1;for(F in T)W.hasOwn(T,F)&&this._set(F,T[F],C,U)&&(H=!0);return H}},{_createAccessor:function(T,C,U){var F={get:function(){return B._get(T,C)}};T.modifiable&&(F.set=function(H){B._set(T,H,C)&&U(H,T)}),Object.defineProperty(C,T.name,F)},_get:function(T,C){return C["_"+T.name]},_set:function(T,C,U){var F="_"+T.name,H=U[F],le=T.transform(C??T.defaultValue);return U[F]=le,le!==H}}),O=B,z=p.extend(function(){this._services={}},{getService:function(T){var C=this._services[T];if(!C)throw new Error("Service is not being managed with name: "+T);return C},setService:function(T,C){if(this._services[T])throw new Error("Service is already managed with name: "+T);C&&(this._services[T]=C)}}),Q=z,Z=new O([new D("background",!0,"white"),new D("backgroundAlpha",!0,1,W.abs),new D("element"),new D("foreground",!0,"black"),new D("foregroundAlpha",!0,1,W.abs),new D("level",!0,"L",W.toUpperCase),new D("mime",!0,"image/png"),new D("padding",!0,null,W.abs),new D("size",!0,100,W.abs),new D("value",!0,"")]),K=new Q,ne=p.extend(function(T){Z.init(T,this,this.update.bind(this));var C=Z.get("element",this),U=K.getService("element"),F=C&&U.isCanvas(C)?C:U.createCanvas(),H=C&&U.isImage(C)?C:U.createImage();this._canvasRenderer=new g(this,F,!0),this._imageRenderer=new X(this,H,H===C),this.update()},{get:function(){return Z.getAll(this)},set:function(T){Z.setAll(T,this)&&this.update()},toDataURL:function(T){return this.canvas.toDataURL(T||this.mime)},update:function(){var T=new V({level:this.level,value:this.value});this._canvasRenderer.render(T),this._imageRenderer.render(T)}},{use:function(T){K.setService(T.getName(),T)}});Object.defineProperties(ne.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var fe=ne,oe=fe,ie=p.extend({getName:function(){}}),re=ie,x=re.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(T){},isImage:function(T){}}),$=x,te=$.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(T){return T instanceof HTMLCanvasElement},isImage:function(T){return T instanceof HTMLImageElement}}),ge=te;oe.use(new ge);var ke=oe;return ke})})(R1);const Qi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function U1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const gs=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function pf(t){return gs.find(e=>e.id===t)}function df(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Qi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=U1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function Il(t){var e,l,n,i,s,o,u,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Qi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((u=t==null?void 0:t.m)==null?void 0:u.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Qi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function hf(t,e){var n,i,s,o,u;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((u=e.multipliers)==null?void 0:u.kwh)??1},l}function gi(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function Sa(t,e,l){const n=t.slice();return n[97]=e[l],n[98]=e,n[99]=l,n}function ya(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function Ca(t,e,l){const n=t.slice();return n[103]=e[l],n[105]=l,n}function B1(t,e,l){const n=t.slice();return n[106]=e[l],n}function j1(t,e,l){const n=t.slice();return n[109]=e[l],n}function H1(t,e,l){const n=t.slice();return n[112]=e[l],n}function Ma(t,e,l){const n=t.slice();return n[115]=e[l],n}function Na(t){var $t,Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl;let e,l,n=(((Ae=($t=t[2].conf)==null?void 0:$t.general)==null?void 0:Ae.title)??"General")+"",i,s,o,u,r,c,m,p,d,b=(((zt=(_e=t[2].conf)==null?void 0:_e.general)==null?void 0:zt.hostname)??"Hostname")+"",w,g,k,v,P,q,I=(((Nt=(Be=t[2].conf)==null?void 0:Be.general)==null?void 0:Nt.timezone)??"Time zone")+"",A,R,L,j,V,G,X,Y=(((dl=(fl=t[2].conf)==null?void 0:fl.general)==null?void 0:dl.language)??((bl=(hl=t[2].conf)==null?void 0:hl.ui)==null?void 0:bl.lang)??"Language")+"",D,y,W,B,O,z,Q,Z,K,ne,fe=(((vl=(gl=t[2].conf)==null?void 0:gl.price)==null?void 0:vl.region)??"Price region")+"",oe,ie,re,x,$,te,ge,ke,T,C,U,F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,At,ot,dt=(((Pl=(kl=t[2].conf)==null?void 0:kl.price)==null?void 0:Pl.currency)??"Currency")+"",Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe=(((El=(Tl=t[2].conf)==null?void 0:Tl.price)==null?void 0:El.enabled)??"Enabled")+"",bt,Ut,vt,Ge,rt=(((Al=(_t=(ze=t[2].conf)==null?void 0:ze.general)==null?void 0:_t.security)==null?void 0:Al.title)??"Security")+"",Fe,Ee,Re,Le,De,et=(((zl=(ql=(al=t[2].conf)==null?void 0:al.general)==null?void 0:ql.security)==null?void 0:zl.none)??"None")+"",it,ut,wt=(((Gl=(Vl=(Kl=t[2].conf)==null?void 0:Kl.general)==null?void 0:Vl.security)==null?void 0:Gl.conf)??"Conf")+"",Rt,Gt,kt=(((Jl=(Xl=(Yl=t[2].conf)==null?void 0:Yl.general)==null?void 0:Xl.security)==null?void 0:Jl.all)??"All")+"",jt,sl,Bt,nt,Wt=(((Zl=(Ql=t[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.context)??"Context")+"",Yt,yt,ht,Mt,Kt,be,mt,tt;V=new D1({});let ol=st(t[3]),Xt=[];for(let je=0;je<ol.length;je+=1)Xt[je]=Pa(Ma(t,ol,je));let Zt=!t[7].p.t&&Ta(),cl=st(["NOK","SEK","DKK","EUR","CHF"]),ul=[];for(let je=0;je<5;je+=1)ul[je]=W1(H1(t,cl,je));xe=new Sl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[z1]},$$scope:{ctx:t}}});let Pe=t[7].p.e&&t[0].chip!="esp8266"&&Ea(t),Ze=t[7].g.s>0&&Aa(t);return{c(){var je,qt;e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),p=_("div"),d=_("div"),w=S(b),g=_("br"),k=h(),v=_("input"),P=h(),q=_("div"),A=S(I),R=_("br"),L=h(),j=_("select"),Me(V.$$.fragment),G=h(),X=_("div"),D=S(Y),y=_("br"),W=h(),B=_("select");for(let ll=0;ll<Xt.length;ll+=1)Xt[ll].c();O=h(),z=_("input"),Q=h(),Z=_("div"),K=_("div"),ne=_("div"),oe=S(fe),ie=_("br"),re=h(),x=_("select"),$=_("optgroup"),Zt&&Zt.c(),te=_("option"),te.textContent="NO1",ge=_("option"),ge.textContent="NO2",ke=_("option"),ke.textContent="NO3",T=_("option"),T.textContent="NO4",C=_("option"),C.textContent="NO5",U=_("optgroup"),F=_("option"),F.textContent="SE1",H=_("option"),H.textContent="SE2",le=_("option"),le.textContent="SE3",ae=_("option"),ae.textContent="SE4",ce=_("optgroup"),ue=_("option"),ue.textContent="DK1",me=_("option"),me.textContent="DK2",Se=_("option"),Se.textContent="Austria",we=_("option"),we.textContent="Belgium",Te=_("option"),Te.textContent="Czech Republic",Ie=_("option"),Ie.textContent="Estonia",Ue=_("option"),Ue.textContent="Finland",Ve=_("option"),Ve.textContent="France",Ye=_("option"),Ye.textContent="Germany",he=_("option"),he.textContent="Great Britain",ve=_("option"),ve.textContent="Latvia",He=_("option"),He.textContent="Lithuania",lt=_("option"),lt.textContent="Netherland",gt=_("option"),gt.textContent="Poland",pt=_("option"),pt.textContent="Slovenia",Dt=_("option"),Dt.textContent="Switzerland",At=h(),ot=_("div"),Ht=S(dt),ct=_("br"),Oe=h(),Xe=_("select");for(let ll=0;ll<5;ll+=1)ul[ll].c();Ft=h(),at=_("div"),Me(xe.$$.fragment),Ne=h(),We=_("div"),Je=_("label"),Qe=_("input"),de=h(),bt=S(qe),Ut=h(),Pe&&Pe.c(),vt=h(),Ge=_("div"),Fe=S(rt),Ee=_("br"),Re=h(),Le=_("select"),De=_("option"),it=S(et),ut=_("option"),Rt=S(wt),Gt=_("option"),jt=S(kt),sl=h(),Ze&&Ze.c(),Bt=h(),nt=_("div"),Yt=S(Wt),yt=_("br"),ht=h(),Mt=_("input"),f(l,"class","text-sm"),f(o,"href",Fl("General-configuration")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","g"),r.value="true",f(v,"name","gh"),f(v,"type","text"),f(v,"class","in-f w-full"),f(v,"pattern",Xn),f(j,"name","gt"),f(j,"class","in-l w-full"),t[7].g.t===void 0&&Jt(()=>t[28].call(j)),f(p,"class","flex"),f(m,"class","my-1"),f(B,"name","ulang"),f(B,"class","in-s"),t[7].u.lang===void 0&&Jt(()=>t[29].call(B)),f(X,"class","my-1"),f(z,"type","hidden"),f(z,"name","p"),z.value="true",te.__value="10YNO-1--------2",J(te,te.__value),ge.__value="10YNO-2--------T",J(ge,ge.__value),ke.__value="10YNO-3--------J",J(ke,ke.__value),T.__value="10YNO-4--------9",J(T,T.__value),C.__value="10Y1001A1001A48H",J(C,C.__value),f($,"label","Norway"),F.__value="10Y1001A1001A44P",J(F,F.__value),H.__value="10Y1001A1001A45N",J(H,H.__value),le.__value="10Y1001A1001A46L",J(le,le.__value),ae.__value="10Y1001A1001A47J",J(ae,ae.__value),f(U,"label","Sweden"),ue.__value="10YDK-1--------W",J(ue,ue.__value),me.__value="10YDK-2--------M",J(me,me.__value),f(ce,"label","Denmark"),Se.__value="10YAT-APG------L",J(Se,Se.__value),we.__value="10YBE----------2",J(we,we.__value),Te.__value="10YCZ-CEPS-----N",J(Te,Te.__value),Ie.__value="10Y1001A1001A39I",J(Ie,Ie.__value),Ue.__value="10YFI-1--------U",J(Ue,Ue.__value),Ve.__value="10YFR-RTE------C",J(Ve,Ve.__value),Ye.__value="10Y1001A1001A83F",J(Ye,Ye.__value),he.__value="10YGB----------A",J(he,he.__value),ve.__value="10YLV-1001A00074",J(ve,ve.__value),He.__value="10YLT-1001A0008Q",J(He,He.__value),lt.__value="10YNL----------L",J(lt,lt.__value),gt.__value="10YPL-AREA-----S",J(gt,gt.__value),pt.__value="10YSI-ELES-----O",J(pt,pt.__value),Dt.__value="10YCH-SWISSGRIDZ",J(Dt,Dt.__value),f(x,"name","pr"),f(x,"class","in-f w-full"),t[7].p.r===void 0&&Jt(()=>t[30].call(x)),f(ne,"class","w-full"),f(Xe,"name","pc"),f(Xe,"class","in-l"),t[7].p.c===void 0&&Jt(()=>t[31].call(Xe)),f(K,"class","flex"),f(Z,"class","my-1"),f(at,"class","my-1"),f(Qe,"type","checkbox"),f(Qe,"name","pe"),Qe.__value="true",J(Qe,Qe.__value),f(Qe,"class","rounded mb-1"),f(We,"class","my-1"),De.__value=0,J(De,De.__value),ut.__value=1,J(ut,ut.__value),Gt.__value=2,J(Gt,Gt.__value),f(Le,"name","gs"),f(Le,"class","in-s"),t[7].g.s===void 0&&Jt(()=>t[34].call(Le)),f(Ge,"class","my-1"),f(Mt,"name","gc"),f(Mt,"type","text"),f(Mt,"pattern",Xn),f(Mt,"placeholder",Kt=((qt=(je=t[2].conf)==null?void 0:je.general)==null?void 0:qt.context_placeholder)??"/"),f(Mt,"class","in-s"),f(Mt,"maxlength","36"),f(nt,"class","my-1"),f(e,"class","cnt")},m(je,qt){N(je,e,qt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(m,p),a(p,d),a(d,w),a(d,g),a(d,k),a(d,v),J(v,t[7].g.h),a(p,P),a(p,q),a(q,A),a(q,R),a(q,L),a(q,j),ye(V,j,null),ft(j,t[7].g.t,!0),a(e,G),a(e,X),a(X,D),a(X,y),a(X,W),a(X,B);for(let ll=0;ll<Xt.length;ll+=1)Xt[ll]&&Xt[ll].m(B,null);ft(B,t[7].u.lang,!0),a(e,O),a(e,z),a(e,Q),a(e,Z),a(Z,K),a(K,ne),a(ne,oe),a(ne,ie),a(ne,re),a(ne,x),a(x,$),Zt&&Zt.m($,null),a($,te),a($,ge),a($,ke),a($,T),a($,C),a(x,U),a(U,F),a(U,H),a(U,le),a(U,ae),a(x,ce),a(ce,ue),a(ce,me),a(x,Se),a(x,we),a(x,Te),a(x,Ie),a(x,Ue),a(x,Ve),a(x,Ye),a(x,he),a(x,ve),a(x,He),a(x,lt),a(x,gt),a(x,pt),a(x,Dt),ft(x,t[7].p.r,!0),a(K,At),a(K,ot),a(ot,Ht),a(ot,ct),a(ot,Oe),a(ot,Xe);for(let ll=0;ll<5;ll+=1)ul[ll]&&ul[ll].m(Xe,null);ft(Xe,t[7].p.c,!0),a(e,Ft),a(e,at),ye(xe,at,null),a(e,Ne),a(e,We),a(We,Je),a(Je,Qe),Qe.checked=t[7].p.e,a(Je,de),a(Je,bt),a(We,Ut),Pe&&Pe.m(We,null),a(e,vt),a(e,Ge),a(Ge,Fe),a(Ge,Ee),a(Ge,Re),a(Ge,Le),a(Le,De),a(De,it),a(Le,ut),a(ut,Rt),a(Le,Gt),a(Gt,jt),ft(Le,t[7].g.s,!0),a(e,sl),Ze&&Ze.m(e,null),a(e,Bt),a(e,nt),a(nt,Yt),a(nt,yt),a(nt,ht),a(nt,Mt),J(Mt,t[7].g.c),be=!0,mt||(tt=[pe(v,"input",t[27]),pe(j,"change",t[28]),pe(B,"change",t[29]),pe(B,"change",t[22]),pe(x,"change",t[30]),pe(x,"change",t[25]),pe(Xe,"change",t[31]),pe(Qe,"change",t[32]),pe(Le,"change",t[34]),pe(Mt,"input",t[37])],mt=!0)},p(je,qt){var $l,xl,yn,Cn,Mn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On,ws,Ss,ys,Cs,Ms,Ns,Ps,Ts,Es,As,qs,Ls,Ds,Is,Os,Fs,Rs;if((!be||qt[0]&4)&&n!==(n=(((xl=($l=je[2].conf)==null?void 0:$l.general)==null?void 0:xl.title)??"General")+"")&&E(i,n),(!be||qt[0]&4)&&b!==(b=(((Cn=(yn=je[2].conf)==null?void 0:yn.general)==null?void 0:Cn.hostname)??"Hostname")+"")&&E(w,b),qt[0]&128&&v.value!==je[7].g.h&&J(v,je[7].g.h),(!be||qt[0]&4)&&I!==(I=(((Nn=(Mn=je[2].conf)==null?void 0:Mn.general)==null?void 0:Nn.timezone)??"Time zone")+"")&&E(A,I),qt[0]&128&&ft(j,je[7].g.t),(!be||qt[0]&4)&&Y!==(Y=(((Tn=(Pn=je[2].conf)==null?void 0:Pn.general)==null?void 0:Tn.language)??((An=(En=je[2].conf)==null?void 0:En.ui)==null?void 0:An.lang)??"Language")+"")&&E(D,Y),qt[0]&8){ol=st(je[3]);let yl;for(yl=0;yl<ol.length;yl+=1){const Us=Ma(je,ol,yl);Xt[yl]?Xt[yl].p(Us,qt):(Xt[yl]=Pa(Us),Xt[yl].c(),Xt[yl].m(B,null))}for(;yl<Xt.length;yl+=1)Xt[yl].d(1);Xt.length=ol.length}qt[0]&128&&ft(B,je[7].u.lang),(!be||qt[0]&4)&&fe!==(fe=(((Ln=(qn=je[2].conf)==null?void 0:qn.price)==null?void 0:Ln.region)??"Price region")+"")&&E(oe,fe),je[7].p.t?Zt&&(Zt.d(1),Zt=null):Zt||(Zt=Ta(),Zt.c(),Zt.m($,te)),qt[0]&128&&ft(x,je[7].p.r),(!be||qt[0]&4)&&dt!==(dt=(((In=(Dn=je[2].conf)==null?void 0:Dn.price)==null?void 0:In.currency)??"Currency")+"")&&E(Ht,dt),qt[0]&128&&ft(Xe,je[7].p.c);const ll={};qt[0]&4|qt[3]&33554432&&(ll.$$scope={dirty:qt,ctx:je}),xe.$set(ll),qt[0]&128&&(Qe.checked=je[7].p.e),(!be||qt[0]&4)&&qe!==(qe=(((ws=(On=je[2].conf)==null?void 0:On.price)==null?void 0:ws.enabled)??"Enabled")+"")&&E(bt,qe),je[7].p.e&&je[0].chip!="esp8266"?Pe?Pe.p(je,qt):(Pe=Ea(je),Pe.c(),Pe.m(We,null)):Pe&&(Pe.d(1),Pe=null),(!be||qt[0]&4)&&rt!==(rt=(((Cs=(ys=(Ss=je[2].conf)==null?void 0:Ss.general)==null?void 0:ys.security)==null?void 0:Cs.title)??"Security")+"")&&E(Fe,rt),(!be||qt[0]&4)&&et!==(et=(((Ps=(Ns=(Ms=je[2].conf)==null?void 0:Ms.general)==null?void 0:Ns.security)==null?void 0:Ps.none)??"None")+"")&&E(it,et),(!be||qt[0]&4)&&wt!==(wt=(((As=(Es=(Ts=je[2].conf)==null?void 0:Ts.general)==null?void 0:Es.security)==null?void 0:As.conf)??"Conf")+"")&&E(Rt,wt),(!be||qt[0]&4)&&kt!==(kt=(((Ds=(Ls=(qs=je[2].conf)==null?void 0:qs.general)==null?void 0:Ls.security)==null?void 0:Ds.all)??"All")+"")&&E(jt,kt),qt[0]&128&&ft(Le,je[7].g.s),je[7].g.s>0?Ze?Ze.p(je,qt):(Ze=Aa(je),Ze.c(),Ze.m(e,Bt)):Ze&&(Ze.d(1),Ze=null),(!be||qt[0]&4)&&Wt!==(Wt=(((Os=(Is=je[2].conf)==null?void 0:Is.general)==null?void 0:Os.context)??"Context")+"")&&E(Yt,Wt),(!be||qt[0]&4&&Kt!==(Kt=((Rs=(Fs=je[2].conf)==null?void 0:Fs.general)==null?void 0:Rs.context_placeholder)??"/"))&&f(Mt,"placeholder",Kt),qt[0]&128&&Mt.value!==je[7].g.c&&J(Mt,je[7].g.c)},i(je){be||(ee(V.$$.fragment,je),ee(xe.$$.fragment,je),be=!0)},o(je){se(V.$$.fragment,je),se(xe.$$.fragment,je),be=!1},d(je){je&&M(e),Ce(V),el(Xt,je),Zt&&Zt.d(),el(ul,je),Ce(xe),Pe&&Pe.d(),Ze&&Ze.d(),mt=!1,Vt(tt)}}}function Pa(t){let e,l=t[115].name+"",n,i;return{c(){e=_("option"),n=S(l),e.__value=i=t[115].code,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){o[0]&8&&l!==(l=s[115].name+"")&&E(n,l),o[0]&8&&i!==(i=s[115].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function Ta(t){let e,l,n,i,s;return{c(){e=_("option"),e.textContent="NO1 with support",l=_("option"),l.textContent="NO2 with support",n=_("option"),n.textContent="NO3 with support",i=_("option"),i.textContent="NO4 with support",s=_("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,u){N(o,e,u),N(o,l,u),N(o,n,u),N(o,i,u),N(o,s,u)},d(o){o&&(M(e),M(l),M(n),M(i),M(s))}}}function W1(t){let e;return{c(){e=_("option"),e.textContent=`${t[112]}`,e.__value=t[112],J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function z1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=S(e)},m(s,o){N(s,l,o)},p(s,o){var u,r;o[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.price)==null?void 0:r.conf)??"Configure")+"")&&E(l,e)},d(s){s&&M(l)}}}function Ea(t){let e,l,n,i,s;return{c(){var o,u;e=_("br"),l=_("input"),f(l,"name","pt"),f(l,"type","text"),f(l,"class","in-s"),f(l,"placeholder",n=((u=(o=t[2].conf)==null?void 0:o.price)==null?void 0:u.api_key_placeholder)??""),f(l,"pattern",Xn)},m(o,u){N(o,e,u),N(o,l,u),J(l,t[7].p.t),i||(s=pe(l,"input",t[33]),i=!0)},p(o,u){var r,c;u[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&f(l,"placeholder",n),u[0]&128&&l.value!==o[7].p.t&&J(l,o[7].p.t)},d(o){o&&(M(e),M(l)),i=!1,s()}}}function Aa(t){var k,v,P,q,I,A;let e,l=(((P=(v=(k=t[2].conf)==null?void 0:k.general)==null?void 0:v.security)==null?void 0:P.username)??"Username")+"",n,i,s,o,u,r,c=(((A=(I=(q=t[2].conf)==null?void 0:q.general)==null?void 0:I.security)==null?void 0:A.password)??"Password")+"",m,p,d,b,w,g;return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),o=_("input"),u=h(),r=_("div"),m=S(c),p=_("br"),d=h(),b=_("input"),f(o,"name","gu"),f(o,"type","text"),f(o,"class","in-s"),f(o,"maxlength","36"),f(o,"pattern",ln),f(e,"class","my-1"),f(b,"name","gp"),f(b,"type","password"),f(b,"class","in-s"),f(b,"maxlength","36"),f(b,"pattern",ln),f(r,"class","my-1")},m(R,L){N(R,e,L),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].g.u),N(R,u,L),N(R,r,L),a(r,m),a(r,p),a(r,d),a(r,b),J(b,t[7].g.p),w||(g=[pe(o,"input",t[35]),pe(b,"input",t[36])],w=!0)},p(R,L){var j,V,G,X,Y,D;L[0]&4&&l!==(l=(((G=(V=(j=R[2].conf)==null?void 0:j.general)==null?void 0:V.security)==null?void 0:G.username)??"Username")+"")&&E(n,l),L[0]&128&&o.value!==R[7].g.u&&J(o,R[7].g.u),L[0]&4&&c!==(c=(((D=(Y=(X=R[2].conf)==null?void 0:X.general)==null?void 0:Y.security)==null?void 0:D.password)??"Password")+"")&&E(m,c),L[0]&128&&b.value!==R[7].g.p&&J(b,R[7].g.p)},d(R){R&&(M(e),M(u),M(r)),w=!1,Vt(g)}}}function qa(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y=ai(t[7].fw.s)+"",D,y,W=ai(t[7].fw.e)+"",B,O,z,Q,Z,K;function ne(ie,re){var x,$,te,ge;return(($=(x=ie[0])==null?void 0:x.upgrade)==null?void 0:$.m)===!0?G1:(ge=(te=ie[0])==null?void 0:te.upgrade)!=null&&ge.n?V1:K1}let fe=ne(t),oe=fe(t);return{c(){e=_("div"),l=_("strong"),l.textContent="Firmware updates",n=h(),i=_("input"),s=h(),o=_("div"),u=_("label"),r=_("input"),c=S(`
                    Enable nightly auto-updates`),m=h(),p=_("div"),d=_("div"),b=S("Start hour"),w=_("br"),g=h(),k=_("input"),P=h(),q=_("div"),I=S("End hour"),A=_("br"),R=h(),L=_("input"),V=h(),G=_("div"),X=S("When enabled, the device will install available updates once per night between "),D=S(Y),y=S(" and "),B=S(W),O=S(" using its local time zone."),z=h(),Q=_("div"),oe.c(),f(l,"class","text-sm"),f(i,"type","hidden"),f(i,"name","fw"),i.value="true",f(r,"type","checkbox"),f(r,"name","fwa"),r.__value="true",J(r,r.__value),f(r,"class","rounded mb-1"),f(o,"class","my-1"),f(k,"name","fws"),f(k,"type","number"),f(k,"min","0"),f(k,"max","23"),f(k,"class","in-s w-full"),k.disabled=v=!t[7].fw.a,f(L,"name","fwe"),f(L,"type","number"),f(L,"min","0"),f(L,"max","23"),f(L,"class","in-s w-full"),L.disabled=j=!t[7].fw.a,f(p,"class","my-1 grid grid-cols-2 gap-2"),f(G,"class","my-1 text-xs text-gray-500"),f(Q,"class","my-1 text-xs"),f(e,"class","cnt")},m(ie,re){N(ie,e,re),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,u),a(u,r),r.checked=t[7].fw.a,a(u,c),a(e,m),a(e,p),a(p,d),a(d,b),a(d,w),a(d,g),a(d,k),J(k,t[7].fw.s),a(p,P),a(p,q),a(q,I),a(q,A),a(q,R),a(q,L),J(L,t[7].fw.e),a(e,V),a(e,G),a(G,X),a(G,D),a(G,y),a(G,B),a(G,O),a(e,z),a(e,Q),oe.m(Q,null),Z||(K=[pe(r,"change",t[38]),pe(k,"input",t[39]),pe(L,"input",t[40])],Z=!0)},p(ie,re){re[0]&128&&(r.checked=ie[7].fw.a),re[0]&128&&v!==(v=!ie[7].fw.a)&&(k.disabled=v),re[0]&128&&St(k.value)!==ie[7].fw.s&&J(k,ie[7].fw.s),re[0]&128&&j!==(j=!ie[7].fw.a)&&(L.disabled=j),re[0]&128&&St(L.value)!==ie[7].fw.e&&J(L,ie[7].fw.e),re[0]&128&&Y!==(Y=ai(ie[7].fw.s)+"")&&E(D,Y),re[0]&128&&W!==(W=ai(ie[7].fw.e)+"")&&E(B,W),fe===(fe=ne(ie))&&oe?oe.p(ie,re):(oe.d(1),oe=fe(ie),oe&&(oe.c(),oe.m(Q,null)))},d(ie){ie&&M(e),oe.d(),Z=!1,Vt(K)}}}function K1(t){let e;return{c(){e=S("Checking for updates…")},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function V1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=S("Latest available: "),n=S(l)},m(i,s){N(i,e,s),N(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&E(n,l)},d(i){i&&(M(e),M(n))}}}function G1(t){let e;return{c(){e=_("span"),e.textContent="Latest firmware already installed.",f(e,"class","text-green-600")},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function La(t){var ut,wt,Rt,Gt,kt,jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae,_e,zt;let e,l,n=(((wt=(ut=t[2].conf)==null?void 0:ut.meter)==null?void 0:wt.title)??"Meter")+"",i,s,o,u,r,c,m,p,d,b,w=(((kt=(Gt=(Rt=t[2].conf)==null?void 0:Rt.meter)==null?void 0:Gt.preset)==null?void 0:kt.title)??"Meter preset")+"",g,k,v,P,q,I=(((Bt=(sl=(jt=t[2].conf)==null?void 0:jt.meter)==null?void 0:sl.preset)==null?void 0:Bt.manual)??"Manual configuration")+"",A,R,L,j,V,G=(((Yt=(Wt=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:Wt.comm)==null?void 0:Yt.title)??"Communication")+"",X,Y,D,y,W,B=(((Mt=(ht=(yt=t[2].conf)==null?void 0:yt.meter)==null?void 0:ht.comm)==null?void 0:Mt.passive)??"Passive")+"",O,z,Q=(((mt=(be=(Kt=t[2].conf)==null?void 0:Kt.meter)==null?void 0:be.comm)==null?void 0:mt.pulse)??"Pulse")+"",Z,K=(ol=(tt=t[0])==null?void 0:tt.features)==null?void 0:ol.includes("kmp"),ne,fe,oe,ie=(((Xt=t[2].common)==null?void 0:Xt.voltage)??"Voltage")+"",re,x,$,te,ge,ke,T,C,U,F=(((cl=(Zt=t[2].conf)==null?void 0:Zt.meter)==null?void 0:cl.fuse)??"Main fuse")+"",H,le,ae,ce,ue,me,Se,we,Te,Ie=(((Pe=(ul=t[2].conf)==null?void 0:ul.meter)==null?void 0:Pe.prod)??"Production")+"",Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,At,ot,dt,Ht,ct=((($t=(Ze=t[2].conf)==null?void 0:Ze.meter)==null?void 0:$t.encrypted)??"Encrypted")+"",Oe,Xe,Ft,at,xe,Ne,We,Je=(((zt=(_e=(Ae=t[2].conf)==null?void 0:Ae.meter)==null?void 0:_e.multipliers)==null?void 0:zt.title)??"Multipliers")+"",Qe,de,qe,bt,Ut=st(gs),vt=[];for(let Be=0;Be<Ut.length;Be+=1)vt[Be]=Y1(j1(t,Ut,Be));let Ge=t[8]&&Da(t),rt=t[9]&&Ia(t),Fe=K&&Fa();function Ee(Be,Nt){return Be[7].m.a===2?J1:X1}let Re=Ee(t),Le=Re(t),De=t[7].m.e.e&&Ra(t),et=t[7].m.e.e&&Ua(t),it=t[7].m.m.e&&Ba(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("input"),p=h(),d=_("div"),b=_("label"),g=S(w),k=h(),v=_("div"),P=_("select"),q=_("option"),A=S(I);for(let Be=0;Be<vt.length;Be+=1)vt[Be].c();R=h(),Ge&&Ge.c(),L=h(),rt&&rt.c(),j=h(),V=_("div"),X=S(G),Y=_("br"),D=h(),y=_("select"),W=_("option"),O=S(B),z=_("option"),Z=S(Q),Fe&&Fe.c(),ne=h(),Le.c(),fe=h(),oe=_("div"),re=S(ie),x=_("br"),$=h(),te=_("select"),ge=_("option"),ge.textContent="400V (TN)",ke=_("option"),ke.textContent="230V (IT/TT)",T=h(),C=_("div"),U=_("div"),H=S(F),le=_("br"),ae=h(),ce=_("label"),ue=_("input"),me=h(),Se=_("span"),Se.textContent="A",we=h(),Te=_("div"),Ue=S(Ie),Ve=_("br"),Ye=h(),he=_("label"),ve=_("input"),He=h(),lt=_("span"),lt.textContent="kWp",gt=h(),pt=_("div"),pt.innerHTML="",Dt=h(),At=_("div"),ot=_("label"),dt=_("input"),Ht=h(),Oe=S(ct),Xe=h(),De&&De.c(),Ft=h(),et&&et.c(),at=h(),xe=_("label"),Ne=_("input"),We=h(),Qe=S(Je),de=h(),it&&it.c(),f(l,"class","text-sm"),f(o,"href",Fl("Meter-configuration")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","m"),r.value="true",f(m,"type","hidden"),f(m,"name","mo"),m.value="1",f(b,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),f(b,"for","meter-preset-select"),q.__value="",J(q,q.__value),f(P,"id","meter-preset-select"),f(P,"class","in-s w-full"),t[8]===void 0&&Jt(()=>t[41].call(P)),f(v,"class","mt-1 flex gap-2"),f(d,"class","my-1"),W.__value=0,J(W,W.__value),z.__value=2,J(z,z.__value),f(y,"name","ma"),f(y,"class","in-s"),t[7].m.a===void 0&&Jt(()=>t[43].call(y)),f(V,"class","my-1"),ge.__value=2,J(ge,ge.__value),ke.__value=1,J(ke,ke.__value),f(te,"name","md"),f(te,"class","in-s"),t[7].m.d===void 0&&Jt(()=>t[49].call(te)),f(oe,"class","my-1"),f(ue,"name","mf"),f(ue,"type","number"),f(ue,"min","5"),f(ue,"max","65535"),f(ue,"class","in-f tr w-full"),f(Se,"class","in-post"),f(ce,"class","flex"),f(U,"class","mx-1"),f(ve,"name","mr"),f(ve,"type","number"),f(ve,"min","0"),f(ve,"max","65535"),f(ve,"class","in-f tr w-full"),f(lt,"class","in-post"),f(he,"class","flex"),f(Te,"class","mx-1"),f(C,"class","my-1 flex"),f(pt,"class","my-1"),f(dt,"type","checkbox"),f(dt,"name","me"),dt.__value="true",J(dt,dt.__value),f(dt,"class","rounded mb-1"),f(At,"class","my-1"),f(Ne,"type","checkbox"),f(Ne,"name","mm"),Ne.__value="true",J(Ne,Ne.__value),f(Ne,"class","rounded mb-1"),f(e,"class","cnt")},m(Be,Nt){N(Be,e,Nt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(e,p),a(e,d),a(d,b),a(b,g),a(d,k),a(d,v),a(v,P),a(P,q),a(q,A);for(let fl=0;fl<vt.length;fl+=1)vt[fl]&&vt[fl].m(P,null);ft(P,t[8],!0),a(v,R),Ge&&Ge.m(v,null),a(d,L),rt&&rt.m(d,null),a(e,j),a(e,V),a(V,X),a(V,Y),a(V,D),a(V,y),a(y,W),a(W,O),a(y,z),a(z,Z),Fe&&Fe.m(y,null),ft(y,t[7].m.a,!0),a(e,ne),Le.m(e,null),a(e,fe),a(e,oe),a(oe,re),a(oe,x),a(oe,$),a(oe,te),a(te,ge),a(te,ke),ft(te,t[7].m.d,!0),a(e,T),a(e,C),a(C,U),a(U,H),a(U,le),a(U,ae),a(U,ce),a(ce,ue),J(ue,t[7].m.f),a(ce,me),a(ce,Se),a(C,we),a(C,Te),a(Te,Ue),a(Te,Ve),a(Te,Ye),a(Te,he),a(he,ve),J(ve,t[7].m.r),a(he,He),a(he,lt),a(e,gt),a(e,pt),a(e,Dt),a(e,At),a(At,ot),a(ot,dt),dt.checked=t[7].m.e.e,a(ot,Ht),a(ot,Oe),a(At,Xe),De&&De.m(At,null),a(e,Ft),et&&et.m(e,null),a(e,at),a(e,xe),a(xe,Ne),Ne.checked=t[7].m.m.e,a(xe,We),a(xe,Qe),a(e,de),it&&it.m(e,null),qe||(bt=[pe(P,"change",t[41]),pe(P,"change",t[42]),pe(y,"change",t[43]),pe(te,"change",t[49]),pe(ue,"input",t[50]),pe(ve,"input",t[51]),pe(dt,"change",t[52]),pe(Ne,"change",t[55])],qe=!0)},p(Be,Nt){var fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,qt,ll,$l,xl;Nt[0]&4&&n!==(n=(((dl=(fl=Be[2].conf)==null?void 0:fl.meter)==null?void 0:dl.title)??"Meter")+"")&&E(i,n),Nt[0]&4&&w!==(w=(((gl=(bl=(hl=Be[2].conf)==null?void 0:hl.meter)==null?void 0:bl.preset)==null?void 0:gl.title)??"Meter preset")+"")&&E(g,w),Nt[0]&4&&I!==(I=(((Pl=(kl=(vl=Be[2].conf)==null?void 0:vl.meter)==null?void 0:kl.preset)==null?void 0:Pl.manual)??"Manual configuration")+"")&&E(A,I),Nt[0]&256&&ft(P,Be[8]),Be[8]?Ge?Ge.p(Be,Nt):(Ge=Da(Be),Ge.c(),Ge.m(v,null)):Ge&&(Ge.d(1),Ge=null),Be[9]?rt?rt.p(Be,Nt):(rt=Ia(Be),rt.c(),rt.m(d,null)):rt&&(rt.d(1),rt=null),Nt[0]&4&&G!==(G=(((ze=(El=(Tl=Be[2].conf)==null?void 0:Tl.meter)==null?void 0:El.comm)==null?void 0:ze.title)??"Communication")+"")&&E(X,G),Nt[0]&4&&B!==(B=(((al=(Al=(_t=Be[2].conf)==null?void 0:_t.meter)==null?void 0:Al.comm)==null?void 0:al.passive)??"Passive")+"")&&E(O,B),Nt[0]&4&&Q!==(Q=(((Kl=(zl=(ql=Be[2].conf)==null?void 0:ql.meter)==null?void 0:zl.comm)==null?void 0:Kl.pulse)??"Pulse")+"")&&E(Z,Q),Nt[0]&1&&(K=(Gl=(Vl=Be[0])==null?void 0:Vl.features)==null?void 0:Gl.includes("kmp")),K?Fe||(Fe=Fa(),Fe.c(),Fe.m(y,null)):Fe&&(Fe.d(1),Fe=null),Nt[0]&128&&ft(y,Be[7].m.a),Re===(Re=Ee(Be))&&Le?Le.p(Be,Nt):(Le.d(1),Le=Re(Be),Le&&(Le.c(),Le.m(e,fe))),Nt[0]&4&&ie!==(ie=(((Yl=Be[2].common)==null?void 0:Yl.voltage)??"Voltage")+"")&&E(re,ie),Nt[0]&128&&ft(te,Be[7].m.d),Nt[0]&4&&F!==(F=(((Jl=(Xl=Be[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.fuse)??"Main fuse")+"")&&E(H,F),Nt[0]&128&&St(ue.value)!==Be[7].m.f&&J(ue,Be[7].m.f),Nt[0]&4&&Ie!==(Ie=(((Zl=(Ql=Be[2].conf)==null?void 0:Ql.meter)==null?void 0:Zl.prod)??"Production")+"")&&E(Ue,Ie),Nt[0]&128&&St(ve.value)!==Be[7].m.r&&J(ve,Be[7].m.r),Nt[0]&128&&(dt.checked=Be[7].m.e.e),Nt[0]&4&&ct!==(ct=(((qt=(je=Be[2].conf)==null?void 0:je.meter)==null?void 0:qt.encrypted)??"Encrypted")+"")&&E(Oe,ct),Be[7].m.e.e?De?De.p(Be,Nt):(De=Ra(Be),De.c(),De.m(At,null)):De&&(De.d(1),De=null),Be[7].m.e.e?et?et.p(Be,Nt):(et=Ua(Be),et.c(),et.m(e,at)):et&&(et.d(1),et=null),Nt[0]&128&&(Ne.checked=Be[7].m.m.e),Nt[0]&4&&Je!==(Je=(((xl=($l=(ll=Be[2].conf)==null?void 0:ll.meter)==null?void 0:$l.multipliers)==null?void 0:xl.title)??"Multipliers")+"")&&E(Qe,Je),Be[7].m.m.e?it?it.p(Be,Nt):(it=Ba(Be),it.c(),it.m(e,null)):it&&(it.d(1),it=null)},d(Be){Be&&M(e),el(vt,Be),Ge&&Ge.d(),rt&&rt.d(),Fe&&Fe.d(),Le.d(),De&&De.d(),et&&et.d(),it&&it.d(),qe=!1,Vt(bt)}}}function Y1(t){let e;return{c(){e=_("option"),e.textContent=`${t[109].label}`,e.__value=t[109].id,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Da(t){var o,u,r;let e,l=(((r=(u=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:u.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){N(c,e,m),a(e,n),i||(s=pe(e,"click",t[24]),i=!0)},p(c,m){var p,d,b;m[0]&4&&l!==(l=(((b=(d=(p=c[2].conf)==null?void 0:p.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear")+"")&&E(n,l)},d(c){c&&M(e),i=!1,s()}}}function Ia(t){let e,l=gi(t[9])+"",n,i,s=t[9].notes&&Oa(t);return{c(){e=_("div"),n=S(l),i=h(),s&&s.c(),f(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,u){N(o,e,u),a(e,n),a(e,i),s&&s.m(e,null)},p(o,u){u[0]&512&&l!==(l=gi(o[9])+"")&&E(n,l),o[9].notes?s?s.p(o,u):(s=Oa(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&M(e),s&&s.d()}}}function Oa(t){let e,l=t[9].notes+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","block")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&E(n,l)},d(i){i&&M(e)}}}function Fa(t){let e;return{c(){e=_("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function X1(t){var fe,oe,ie,re,x,$;let e,l,n=(((oe=(fe=t[2].conf)==null?void 0:fe.meter)==null?void 0:oe.buffer)??"Buffer size")+"",i,s,o,u=(((re=(ie=t[2].conf)==null?void 0:ie.meter)==null?void 0:re.serial)??"Serial conf.")+"",r,c,m,p,d,b=((($=(x=t[2].conf)==null?void 0:x.meter)==null?void 0:$.inverted)??"inverted")+"",w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y,D,y,W,B,O,z,Q,Z,K=st([3,12,24,48,96,192,384,576,1152]),ne=[];for(let te=0;te<9;te+=1)ne[te]=Q1(B1(t,K,te));return{c(){e=_("div"),l=_("span"),i=S(n),s=h(),o=_("span"),r=S(u),c=h(),m=_("label"),p=_("input"),d=h(),w=S(b),g=h(),k=_("div"),v=_("select"),P=_("option"),q=S("Autodetect");for(let te=0;te<9;te+=1)ne[te].c();A=h(),R=_("select"),L=_("option"),j=S("-"),G=_("option"),G.textContent="7N1",X=_("option"),X.textContent="8N1",Y=_("option"),Y.textContent="8N2",D=_("option"),D.textContent="7E1",y=_("option"),y.textContent="8E1",B=h(),O=_("input"),f(l,"class","float-right"),f(p,"name","mi"),p.__value="true",J(p,p.__value),f(p,"type","checkbox"),f(p,"class","rounded mb-1"),f(m,"class","mt-2 ml-3 whitespace-nowrap"),P.__value=0,J(P,P.__value),P.disabled=I=t[7].m.b!=0,f(v,"name","mb"),f(v,"class","in-f tr w-1/2"),t[7].m.b===void 0&&Jt(()=>t[46].call(v)),L.__value=0,J(L,L.__value),L.disabled=V=t[7].m.b!=0,G.__value=2,J(G,G.__value),X.__value=3,J(X,X.__value),Y.__value=7,J(Y,Y.__value),D.__value=10,J(D,D.__value),y.__value=11,J(y,y.__value),f(R,"name","mp"),f(R,"class","in-m"),R.disabled=W=t[7].m.b==0,t[7].m.p===void 0&&Jt(()=>t[47].call(R)),f(O,"name","ms"),f(O,"type","number"),f(O,"min",64),f(O,"max",z=t[0].chip=="esp8266"?t[7].i.h.p==3||t[7].i.h.p==113?512:256:4096),f(O,"step",64),f(O,"class","in-l tr w-1/2"),f(k,"class","flex w-full"),f(e,"class","my-1")},m(te,ge){N(te,e,ge),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,p),p.checked=t[7].m.i,a(m,d),a(m,w),a(e,g),a(e,k),a(k,v),a(v,P),a(P,q);for(let ke=0;ke<9;ke+=1)ne[ke]&&ne[ke].m(v,null);ft(v,t[7].m.b,!0),a(k,A),a(k,R),a(R,L),a(L,j),a(R,G),a(R,X),a(R,Y),a(R,D),a(R,y),ft(R,t[7].m.p,!0),a(k,B),a(k,O),J(O,t[7].m.s),Q||(Z=[pe(p,"change",t[45]),pe(v,"change",t[46]),pe(R,"change",t[47]),pe(O,"input",t[48])],Q=!0)},p(te,ge){var ke,T,C,U,F,H;ge[0]&4&&n!==(n=(((T=(ke=te[2].conf)==null?void 0:ke.meter)==null?void 0:T.buffer)??"Buffer size")+"")&&E(i,n),ge[0]&4&&u!==(u=(((U=(C=te[2].conf)==null?void 0:C.meter)==null?void 0:U.serial)??"Serial conf.")+"")&&E(r,u),ge[0]&128&&(p.checked=te[7].m.i),ge[0]&4&&b!==(b=(((H=(F=te[2].conf)==null?void 0:F.meter)==null?void 0:H.inverted)??"inverted")+"")&&E(w,b),ge[0]&128&&I!==(I=te[7].m.b!=0)&&(P.disabled=I),ge[0]&128&&ft(v,te[7].m.b),ge[0]&128&&V!==(V=te[7].m.b!=0)&&(L.disabled=V),ge[0]&128&&W!==(W=te[7].m.b==0)&&(R.disabled=W),ge[0]&128&&ft(R,te[7].m.p),ge[0]&129&&z!==(z=te[0].chip=="esp8266"?te[7].i.h.p==3||te[7].i.h.p==113?512:256:4096)&&f(O,"max",z),ge[0]&128&&St(O.value)!==te[7].m.s&&J(O,te[7].m.s)},d(te){te&&M(e),el(ne,te),Q=!1,Vt(Z)}}}function J1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,u,r;return{c(){e=_("div"),l=_("span"),i=S(n),s=h(),o=_("input"),f(o,"name","mb"),f(o,"class","in-s tr"),f(o,"type","number"),f(o,"min",1),f(o,"max",3600),f(e,"class","my-1")},m(p,d){N(p,e,d),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[7].m.b),u||(r=pe(o,"input",t[44]),u=!0)},p(p,d){var b,w;d[0]&4&&n!==(n=(((w=(b=p[2].conf)==null?void 0:b.meter)==null?void 0:w.pulses)??"Pulses per kWh")+"")&&E(i,n),d[0]&128&&St(o.value)!==p[7].m.b&&J(o,p[7].m.b)},d(p){p&&M(e),u=!1,r()}}}function Q1(t){let e;return{c(){e=_("option"),e.textContent=`${t[106]*100}`,e.__value=t[106]*100,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Ra(t){let e,l,n,i;return{c(){e=_("br"),l=_("input"),f(l,"name","mek"),f(l,"type","text"),f(l,"class","in-s"),f(l,"pattern",Qu)},m(s,o){N(s,e,o),N(s,l,o),J(l,t[7].m.e.k),n||(i=pe(l,"input",t[53]),n=!0)},p(s,o){o[0]&128&&l.value!==s[7].m.e.k&&J(l,s[7].m.e.k)},d(s){s&&(M(e),M(l)),n=!1,i()}}}function Ua(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,u,r;return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),o=_("input"),f(o,"name","mea"),f(o,"type","text"),f(o,"class","in-s"),f(o,"pattern",Qu),f(e,"class","my-1")},m(p,d){N(p,e,d),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[7].m.e.a),u||(r=pe(o,"input",t[54]),u=!0)},p(p,d){var b,w;d[0]&4&&l!==(l=(((w=(b=p[2].conf)==null?void 0:b.meter)==null?void 0:w.authkey)??"Authentication key")+"")&&E(n,l),d[0]&128&&o.value!==p[7].m.e.a&&J(o,p[7].m.e.a)},d(p){p&&M(e),u=!1,r()}}}function Ba(t){var W,B,O,z,Q,Z,K,ne,fe,oe,ie,re;let e,l,n=(((O=(B=(W=t[2].conf)==null?void 0:W.meter)==null?void 0:B.multipliers)==null?void 0:O.watt)??"Watt")+"",i,s,o,u,r,c,m=(((Z=(Q=(z=t[2].conf)==null?void 0:z.meter)==null?void 0:Q.multipliers)==null?void 0:Z.volt)??"Volt")+"",p,d,b,w,g,k,v=(((fe=(ne=(K=t[2].conf)==null?void 0:K.meter)==null?void 0:ne.multipliers)==null?void 0:fe.amp)??"Amp")+"",P,q,I,A,R,L,j=(((re=(ie=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:ie.multipliers)==null?void 0:re.kwh)??"kWh")+"",V,G,X,Y,D,y;return{c(){e=_("div"),l=_("div"),i=S(n),s=_("br"),o=h(),u=_("input"),r=h(),c=_("div"),p=S(m),d=_("br"),b=h(),w=_("input"),g=h(),k=_("div"),P=S(v),q=_("br"),I=h(),A=_("input"),R=h(),L=_("div"),V=S(j),G=_("br"),X=h(),Y=_("input"),f(u,"name","mmw"),f(u,"type","number"),f(u,"min","0.00"),f(u,"max","1000"),f(u,"step","0.001"),f(u,"class","in-f tr w-full"),f(l,"class","w-1/4"),f(w,"name","mmv"),f(w,"type","number"),f(w,"min","0.00"),f(w,"max","1000"),f(w,"step","0.001"),f(w,"class","in-m tr w-full"),f(c,"class","w-1/4"),f(A,"name","mma"),f(A,"type","number"),f(A,"min","0.00"),f(A,"max","1000"),f(A,"step","0.001"),f(A,"class","in-m tr w-full"),f(k,"class","w-1/4"),f(Y,"name","mmc"),f(Y,"type","number"),f(Y,"min","0.00"),f(Y,"max","1000"),f(Y,"step","0.001"),f(Y,"class","in-l tr w-full"),f(L,"class","w-1/4"),f(e,"class","flex my-1")},m(x,$){N(x,e,$),a(e,l),a(l,i),a(l,s),a(l,o),a(l,u),J(u,t[7].m.m.w),a(e,r),a(e,c),a(c,p),a(c,d),a(c,b),a(c,w),J(w,t[7].m.m.v),a(e,g),a(e,k),a(k,P),a(k,q),a(k,I),a(k,A),J(A,t[7].m.m.a),a(e,R),a(e,L),a(L,V),a(L,G),a(L,X),a(L,Y),J(Y,t[7].m.m.c),D||(y=[pe(u,"input",t[56]),pe(w,"input",t[57]),pe(A,"input",t[58]),pe(Y,"input",t[59])],D=!0)},p(x,$){var te,ge,ke,T,C,U,F,H,le,ae,ce,ue;$[0]&4&&n!==(n=(((ke=(ge=(te=x[2].conf)==null?void 0:te.meter)==null?void 0:ge.multipliers)==null?void 0:ke.watt)??"Watt")+"")&&E(i,n),$[0]&128&&St(u.value)!==x[7].m.m.w&&J(u,x[7].m.m.w),$[0]&4&&m!==(m=(((U=(C=(T=x[2].conf)==null?void 0:T.meter)==null?void 0:C.multipliers)==null?void 0:U.volt)??"Volt")+"")&&E(p,m),$[0]&128&&St(w.value)!==x[7].m.m.v&&J(w,x[7].m.m.v),$[0]&4&&v!==(v=(((le=(H=(F=x[2].conf)==null?void 0:F.meter)==null?void 0:H.multipliers)==null?void 0:le.amp)??"Amp")+"")&&E(P,v),$[0]&128&&St(A.value)!==x[7].m.m.a&&J(A,x[7].m.m.a),$[0]&4&&j!==(j=(((ue=(ce=(ae=x[2].conf)==null?void 0:ae.meter)==null?void 0:ce.multipliers)==null?void 0:ue.kwh)??"kWh")+"")&&E(V,j),$[0]&128&&St(Y.value)!==x[7].m.m.c&&J(Y,x[7].m.m.c)},d(x){x&&M(e),D=!1,Vt(y)}}}function ja(t){var p,d;let e,l,n=(((d=(p=t[2].conf)==null?void 0:p.connection)==null?void 0:d.title)??"Connection")+"",i,s,o,u,r,c,m=(t[7].n.c==1||t[7].n.c==2)&&Ha(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m&&m.c(),f(l,"class","text-sm"),f(o,"href",Fl("Network-connection")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","w"),r.value="true",f(e,"class","cnt")},m(b,w){N(b,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),m&&m.m(e,null)},p(b,w){var g,k;w[0]&4&&n!==(n=(((k=(g=b[2].conf)==null?void 0:g.connection)==null?void 0:k.title)??"Connection")+"")&&E(i,n),b[7].n.c==1||b[7].n.c==2?m?m.p(b,w):(m=Ha(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&M(e),m&&m.d()}}}function Ha(t){var Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,At,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe;let e,l=(((we=(Se=t[2].conf)==null?void 0:Se.connection)==null?void 0:we.ssid)??"Network name (SSID)")+"",n,i,s,o,u,r,c,m=(((Ie=(Te=t[2].conf)==null?void 0:Te.connection)==null?void 0:Ie.psk)??"Password")+"",p,d,b,w,g,k,v,P=(((Ye=(Ve=(Ue=t[2].conf)==null?void 0:Ue.connection)==null?void 0:Ve.ps)==null?void 0:Ye.title)??"Power saving")+"",q,I,A,R,L,j=(((He=(ve=(he=t[2].conf)==null?void 0:he.connection)==null?void 0:ve.ps)==null?void 0:He.default)??"Default")+"",V,G,X=(((pt=(gt=(lt=t[2].conf)==null?void 0:lt.connection)==null?void 0:gt.ps)==null?void 0:pt.off)??"Off")+"",Y,D,y=(((ot=(At=(Dt=t[2].conf)==null?void 0:Dt.connection)==null?void 0:At.ps)==null?void 0:ot.min)??"Min")+"",W,B,O=(((ct=(Ht=(dt=t[2].conf)==null?void 0:dt.connection)==null?void 0:Ht.ps)==null?void 0:ct.max)??"Max")+"",z,Q,Z,K=(((Xe=(Oe=t[2].conf)==null?void 0:Oe.connection)==null?void 0:Xe.pwr)??"Power")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,T,C,U=(((at=(Ft=t[2].conf)==null?void 0:Ft.connection)==null?void 0:at.tick_11b)??"802.11b")+"",F,H,le,ae=((xe=t[4])==null?void 0:xe.c)==-1&&Wa(t);function ce(Ne,We){var Je,Qe,de;if((Qe=(Je=Ne[4])==null?void 0:Je.n)!=null&&Qe.length)return $1;if(((de=Ne[4])==null?void 0:de.c)!=-1)return Z1}let ue=ce(t),me=ue&&ue(t);return{c(){e=_("div"),n=S(l),i=h(),s=_("br"),o=h(),ae&&ae.c(),u=h(),me&&me.c(),r=h(),c=_("div"),p=S(m),d=_("br"),b=h(),w=_("input"),g=h(),k=_("div"),v=_("div"),q=S(P),I=_("br"),A=h(),R=_("select"),L=_("option"),V=S(j),G=_("option"),Y=S(X),D=_("option"),W=S(y),B=_("option"),z=S(O),Q=h(),Z=_("div"),ne=S(K),fe=_("br"),oe=h(),ie=_("div"),re=_("input"),x=h(),$=_("span"),$.textContent="dBm",te=h(),ge=_("div"),ke=_("label"),T=_("input"),C=h(),F=S(U),f(e,"class","my-1"),f(w,"name","wp"),f(w,"type","password"),f(w,"class","in-s"),f(w,"pattern",Yn),f(c,"class","my-1"),L.__value=255,J(L,L.__value),G.__value=0,J(G,G.__value),D.__value=1,J(D,D.__value),B.__value=2,J(B,B.__value),f(R,"name","wz"),f(R,"class","in-s"),t[7].w.z===void 0&&Jt(()=>t[63].call(R)),f(v,"class","w-1/2"),f(re,"name","ww"),f(re,"type","number"),f(re,"min","0"),f(re,"max","20.5"),f(re,"step","0.5"),f(re,"class","in-f tr w-full"),f($,"class","in-post"),f(ie,"class","flex"),f(Z,"class","ml-2 w-1/2"),f(k,"class","my-1 flex"),f(T,"type","checkbox"),f(T,"name","wb"),T.__value="true",J(T,T.__value),f(T,"class","rounded mb-1"),f(ge,"class","my-3")},m(Ne,We){N(Ne,e,We),a(e,n),a(e,i),a(e,s),a(e,o),ae&&ae.m(e,null),a(e,u),me&&me.m(e,null),N(Ne,r,We),N(Ne,c,We),a(c,p),a(c,d),a(c,b),a(c,w),J(w,t[7].w.p),N(Ne,g,We),N(Ne,k,We),a(k,v),a(v,q),a(v,I),a(v,A),a(v,R),a(R,L),a(L,V),a(R,G),a(G,Y),a(R,D),a(D,W),a(R,B),a(B,z),ft(R,t[7].w.z,!0),a(k,Q),a(k,Z),a(Z,ne),a(Z,fe),a(Z,oe),a(Z,ie),a(ie,re),J(re,t[7].w.w),a(ie,x),a(ie,$),N(Ne,te,We),N(Ne,ge,We),a(ge,ke),a(ke,T),T.checked=t[7].w.b,a(ke,C),a(ke,F),H||(le=[pe(w,"input",t[62]),pe(R,"change",t[63]),pe(re,"input",t[64]),pe(T,"change",t[65])],H=!0)},p(Ne,We){var Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et,it,ut,wt,Rt,Gt,kt,jt,sl,Bt;We[0]&4&&l!==(l=(((Qe=(Je=Ne[2].conf)==null?void 0:Je.connection)==null?void 0:Qe.ssid)??"Network name (SSID)")+"")&&E(n,l),((de=Ne[4])==null?void 0:de.c)==-1?ae?ae.p(Ne,We):(ae=Wa(Ne),ae.c(),ae.m(e,u)):ae&&(ae.d(1),ae=null),ue===(ue=ce(Ne))&&me?me.p(Ne,We):(me&&me.d(1),me=ue&&ue(Ne),me&&(me.c(),me.m(e,null))),We[0]&4&&m!==(m=(((bt=(qe=Ne[2].conf)==null?void 0:qe.connection)==null?void 0:bt.psk)??"Password")+"")&&E(p,m),We[0]&128&&w.value!==Ne[7].w.p&&J(w,Ne[7].w.p),We[0]&4&&P!==(P=(((Ge=(vt=(Ut=Ne[2].conf)==null?void 0:Ut.connection)==null?void 0:vt.ps)==null?void 0:Ge.title)??"Power saving")+"")&&E(q,P),We[0]&4&&j!==(j=(((Ee=(Fe=(rt=Ne[2].conf)==null?void 0:rt.connection)==null?void 0:Fe.ps)==null?void 0:Ee.default)??"Default")+"")&&E(V,j),We[0]&4&&X!==(X=(((De=(Le=(Re=Ne[2].conf)==null?void 0:Re.connection)==null?void 0:Le.ps)==null?void 0:De.off)??"Off")+"")&&E(Y,X),We[0]&4&&y!==(y=(((ut=(it=(et=Ne[2].conf)==null?void 0:et.connection)==null?void 0:it.ps)==null?void 0:ut.min)??"Min")+"")&&E(W,y),We[0]&4&&O!==(O=(((Gt=(Rt=(wt=Ne[2].conf)==null?void 0:wt.connection)==null?void 0:Rt.ps)==null?void 0:Gt.max)??"Max")+"")&&E(z,O),We[0]&128&&ft(R,Ne[7].w.z),We[0]&4&&K!==(K=(((jt=(kt=Ne[2].conf)==null?void 0:kt.connection)==null?void 0:jt.pwr)??"Power")+"")&&E(ne,K),We[0]&128&&St(re.value)!==Ne[7].w.w&&J(re,Ne[7].w.w),We[0]&128&&(T.checked=Ne[7].w.b),We[0]&4&&U!==(U=(((Bt=(sl=Ne[2].conf)==null?void 0:sl.connection)==null?void 0:Bt.tick_11b)??"802.11b")+"")&&E(F,U)},d(Ne){Ne&&(M(e),M(r),M(c),M(g),M(k),M(te),M(ge)),ae&&ae.d(),me&&me.d(),H=!1,Vt(le)}}}function Wa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm italic text-slate-500")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&E(n,l)},d(o){o&&M(e)}}}function Z1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","text-sm italic text-slate-500")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&E(n,l)},d(o){o&&M(e)}}}function $1(t){let e,l=[],n=new Map,i=st(t[4].n);const s=o=>o[103].s??o[105];for(let o=0;o<i.length;o+=1){let u=Ca(t,i,o),r=s(u);n.set(r,l[o]=Ka(r,u))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","mt-2 space-y-2")},m(o,u){N(o,e,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,u){u[0]&9364&&(i=st(o[4].n),l=Cu(l,u,s,1,o,i,n,e,yu,Ka,null,Ca))},d(o){o&&M(e);for(let u=0;u<l.length;u+=1)l[u].d()}}}function za(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&E(n,l)},d(o){o&&M(e)}}}function Ka(t,e){var Y,D,y,W,B;let l,n,i,s,o=!1,u,r,c,m=(e[103].s||(((D=(Y=e[2].conf)==null?void 0:Y.connection)==null?void 0:D.hidden_ssid)??"Hidden network"))+"",p,d,b,w=(((y=e[10][e[105]])==null?void 0:y.title)??((B=(W=e[2].conf)==null?void 0:W.connection)==null?void 0:B.wifi_offline)??"Signal unavailable")+"",g,k,v,P,q,I,A,R,L,j,V,G,X=e[7].w.s===e[103].s&&za(e);return j=_i(e[61][0]),{key:t,first:null,c(){var O,z,Q;l=_("label"),n=_("span"),i=_("input"),u=h(),r=_("span"),c=_("span"),p=S(m),d=h(),b=_("span"),g=S(w),k=h(),v=_("div"),P=_("img"),R=h(),X&&X.c(),L=h(),f(i,"type","radio"),f(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),f(i,"name","ws"),i.__value=s=e[103].s,J(i,i.__value),f(c,"class","font-medium text-slate-800 dark:text-slate-100"),f(b,"class","text-xs text-slate-500 dark:text-slate-400"),f(r,"class","flex flex-col"),f(n,"class","flex items-center gap-3"),f(P,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),fn(P.src,q=((O=e[10][e[105]])==null?void 0:O.icon)??e[13].off)||f(P,"src",q),f(P,"alt",I=((z=e[10][e[105]])==null?void 0:z.title)??"Wi-Fi offline"),f(P,"title",A=((Q=e[10][e[105]])==null?void 0:Q.title)??"Wi-Fi offline"),f(v,"class","flex items-center gap-2"),f(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),j.p(i),this.first=l},m(O,z){N(O,l,z),a(l,n),a(n,i),i.checked=i.__value===e[7].w.s,a(n,u),a(n,r),a(r,c),a(c,p),a(r,d),a(r,b),a(b,g),a(l,k),a(l,v),a(v,P),a(v,R),X&&X.m(v,null),a(l,L),V||(G=pe(i,"change",e[60]),V=!0)},p(O,z){var Q,Z,K,ne,fe,oe,ie,re;e=O,z[0]&16&&s!==(s=e[103].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||z[0]&144)&&(i.checked=i.__value===e[7].w.s),z[0]&20&&m!==(m=(e[103].s||(((Z=(Q=e[2].conf)==null?void 0:Q.connection)==null?void 0:Z.hidden_ssid)??"Hidden network"))+"")&&E(p,m),z[0]&1044&&w!==(w=(((K=e[10][e[105]])==null?void 0:K.title)??((fe=(ne=e[2].conf)==null?void 0:ne.connection)==null?void 0:fe.wifi_offline)??"Signal unavailable")+"")&&E(g,w),z[0]&1040&&!fn(P.src,q=((oe=e[10][e[105]])==null?void 0:oe.icon)??e[13].off)&&f(P,"src",q),z[0]&1040&&I!==(I=((ie=e[10][e[105]])==null?void 0:ie.title)??"Wi-Fi offline")&&f(P,"alt",I),z[0]&1040&&A!==(A=((re=e[10][e[105]])==null?void 0:re.title)??"Wi-Fi offline")&&f(P,"title",A),e[7].w.s===e[103].s?X?X.p(e,z):(X=za(e),X.c(),X.m(v,null)):X&&(X.d(1),X=null)},d(O){O&&M(l),X&&X.d(),j.r(),V=!1,G()}}}function Va(t){var Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El;let e,l,n=(((Kt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:Kt.title)??"MQTT")+"",i,s,o,u,r,c,m,p=(((mt=(be=t[2].conf)==null?void 0:be.mqtt)==null?void 0:mt.server)??"Server")+"",d,b,w,g,k,v,P,q,I,A,R,L,j=(((ol=(tt=t[2].conf)==null?void 0:tt.mqtt)==null?void 0:ol.user)??"Username")+"",V,G,X,Y,D,y,W=(((Zt=(Xt=t[2].conf)==null?void 0:Xt.mqtt)==null?void 0:Zt.pass)??"Password")+"",B,O,z,Q,Z,K,ne,fe=(((ul=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:ul.id)??"Client ID")+"",oe,ie,re,x,$,te,ge,ke=(((Ze=(Pe=t[2].conf)==null?void 0:Pe.mqtt)==null?void 0:Ze.payload)??"Payload")+"",T,C,U,F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue=(((Ae=($t=t[2].conf)==null?void 0:$t.mqtt)==null?void 0:Ae.publish)??"Publish topic")+"",Ve,Ye,he,ve,He,lt,gt=(((zt=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:zt.subscribe)??"Subscribe topic")+"",pt,Dt,At,ot,dt,Ht,ct,Oe=(((Nt=(Be=t[2].conf)==null?void 0:Be.mqtt)==null?void 0:Nt.update)??"Update method")+"",Xe,Ft,at,xe=(((dl=(fl=t[2].conf)==null?void 0:fl.mqtt)==null?void 0:dl.interval)??"Interval")+"",Ne,We,Je,Qe,de,qe=(((bl=(hl=t[2].conf)==null?void 0:hl.mqtt)==null?void 0:bl.realtime)??"Real time")+"",bt,Ut,vt=(((vl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:vl.interval)??"Interval")+"",Ge,rt,Fe,Ee,Re,Le,De=(((Pl=(kl=t[2].conf)==null?void 0:kl.mqtt)==null?void 0:Pl.timeout)??"Timeout")+"",et,it,ut,wt=(((El=(Tl=t[2].conf)==null?void 0:Tl.mqtt)==null?void 0:El.keepalive)??"Keep-alive")+"",Rt,Gt,kt,jt,sl,Bt,nt,Wt,Yt,yt=t[0].chip!="esp8266"&&Ga(t),ht=t[7].q.s.e&&Ya(t);return{c(){var ze,_t;e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),d=S(p),b=h(),yt&&yt.c(),w=h(),g=_("br"),k=h(),v=_("div"),P=_("input"),q=h(),I=_("input"),A=h(),ht&&ht.c(),R=h(),L=_("div"),V=S(j),G=_("br"),X=h(),Y=_("input"),D=h(),y=_("div"),B=S(W),O=_("br"),z=h(),Q=_("input"),Z=h(),K=_("div"),ne=_("div"),oe=S(fe),ie=_("br"),re=h(),x=_("input"),te=h(),ge=_("div"),T=S(ke),C=_("br"),U=h(),F=_("select"),H=_("option"),H.textContent="Raw (minimal)",le=_("option"),le.textContent="Raw (full)",ae=_("option"),ae.textContent="Domoticz",ce=_("option"),ce.textContent="Home-Assistant",ue=_("option"),ue.textContent="JSON (classic)",me=_("option"),me.textContent="JSON (multi topic)",Se=_("option"),Se.textContent="JSON (flat)",we=_("option"),we.textContent="HEX dump",Te=h(),Ie=_("div"),Ve=S(Ue),Ye=_("br"),he=h(),ve=_("input"),He=h(),lt=_("div"),pt=S(gt),Dt=_("br"),At=h(),ot=_("input"),Ht=h(),ct=_("div"),Xe=S(Oe),Ft=h(),at=_("span"),Ne=S(xe),We=h(),Je=_("div"),Qe=_("select"),de=_("option"),bt=S(qe),Ut=_("option"),Ge=S(vt),rt=h(),Fe=_("input"),Re=h(),Le=_("div"),et=S(De),it=h(),ut=_("span"),Rt=S(wt),Gt=h(),kt=_("div"),jt=_("input"),sl=h(),Bt=_("input"),f(l,"class","text-sm"),f(o,"href",Fl("MQTT-configuration")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","q"),r.value="true",f(P,"name","qh"),f(P,"type","text"),f(P,"class","in-f w-2/3"),f(P,"pattern",ln),f(I,"name","qp"),f(I,"type","number"),f(I,"min","1024"),f(I,"max","65535"),f(I,"class","in-l tr w-1/3"),f(v,"class","flex"),f(m,"class","my-1"),f(Y,"name","qu"),f(Y,"type","text"),f(Y,"class","in-s"),f(Y,"pattern",Yn),f(L,"class","my-1"),f(Q,"name","qa"),f(Q,"type","password"),f(Q,"class","in-s"),f(Q,"pattern",Yn),f(y,"class","my-1"),f(x,"name","qc"),f(x,"type","text"),f(x,"class","in-f w-full"),x.required=$=t[7].q.h,f(x,"pattern",Xn),H.__value=1,J(H,H.__value),le.__value=2,J(le,le.__value),ae.__value=3,J(ae,ae.__value),ce.__value=4,J(ce,ce.__value),ue.__value=0,J(ue,ue.__value),me.__value=5,J(me,me.__value),Se.__value=6,J(Se,Se.__value),we.__value=255,J(we,we.__value),f(F,"name","qm"),f(F,"class","in-l"),t[7].q.m===void 0&&Jt(()=>t[72].call(F)),f(K,"class","my-1 flex"),f(ve,"name","qb"),f(ve,"type","text"),f(ve,"class","in-s"),f(ve,"pattern",ln),f(Ie,"class","my-1"),f(ot,"name","qr"),f(ot,"type","text"),f(ot,"class","in-s"),f(ot,"pattern",ln),f(ot,"placeholder",dt=t[7].q.b+"/command"),f(lt,"class","my-1"),f(at,"class","float-right"),de.__value=0,J(de,de.__value),Ut.__value=1,J(Ut,Ut.__value),f(Qe,"name","qt"),f(Qe,"class","in-f w-1/2"),t[7].q.t===void 0&&Jt(()=>t[75].call(Qe)),f(Fe,"name","qd"),f(Fe,"type","number"),f(Fe,"min","1"),f(Fe,"max","3600"),f(Fe,"class","in-l tr w-1/2"),Fe.disabled=Ee=((_t=(ze=t[7])==null?void 0:ze.q)==null?void 0:_t.t)!=1,f(Je,"class","flex"),f(ct,"class","my-1"),f(ut,"class","float-right"),f(jt,"name","qi"),f(jt,"type","number"),f(jt,"min","500"),f(jt,"max","10000"),f(jt,"class","in-f tr w-1/2"),f(Bt,"name","qk"),f(Bt,"type","number"),f(Bt,"min","5"),f(Bt,"max","180"),f(Bt,"class","in-l tr w-1/2"),f(kt,"class","flex"),f(Le,"class","my-1"),f(e,"class","cnt")},m(ze,_t){N(ze,e,_t),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(m,d),a(m,b),yt&&yt.m(m,null),a(m,w),a(m,g),a(m,k),a(m,v),a(v,P),J(P,t[7].q.h),a(v,q),a(v,I),J(I,t[7].q.p),a(e,A),ht&&ht.m(e,null),a(e,R),a(e,L),a(L,V),a(L,G),a(L,X),a(L,Y),J(Y,t[7].q.u),a(e,D),a(e,y),a(y,B),a(y,O),a(y,z),a(y,Q),J(Q,t[7].q.a),a(e,Z),a(e,K),a(K,ne),a(ne,oe),a(ne,ie),a(ne,re),a(ne,x),J(x,t[7].q.c),a(K,te),a(K,ge),a(ge,T),a(ge,C),a(ge,U),a(ge,F),a(F,H),a(F,le),a(F,ae),a(F,ce),a(F,ue),a(F,me),a(F,Se),a(F,we),ft(F,t[7].q.m,!0),a(e,Te),a(e,Ie),a(Ie,Ve),a(Ie,Ye),a(Ie,he),a(Ie,ve),J(ve,t[7].q.b),a(e,He),a(e,lt),a(lt,pt),a(lt,Dt),a(lt,At),a(lt,ot),J(ot,t[7].q.r),a(e,Ht),a(e,ct),a(ct,Xe),a(ct,Ft),a(ct,at),a(at,Ne),a(ct,We),a(ct,Je),a(Je,Qe),a(Qe,de),a(de,bt),a(Qe,Ut),a(Ut,Ge),ft(Qe,t[7].q.t,!0),a(Je,rt),a(Je,Fe),J(Fe,t[7].q.d),a(e,Re),a(e,Le),a(Le,et),a(Le,it),a(Le,ut),a(ut,Rt),a(Le,Gt),a(Le,kt),a(kt,jt),J(jt,t[7].q.i),a(kt,sl),a(kt,Bt),J(Bt,t[7].q.k),nt=!0,Wt||(Yt=[pe(P,"input",t[67]),pe(I,"input",t[68]),pe(Y,"input",t[69]),pe(Q,"input",t[70]),pe(x,"input",t[71]),pe(F,"change",t[72]),pe(ve,"input",t[73]),pe(ot,"input",t[74]),pe(Qe,"change",t[75]),pe(Fe,"input",t[76]),pe(jt,"input",t[77]),pe(Bt,"input",t[78])],Wt=!0)},p(ze,_t){var Al,al,ql,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ql,Zl,je,qt,ll,$l,xl,yn,Cn,Mn,Nn,Pn,Tn,En,An,qn,Ln,Dn,In,On;(!nt||_t[0]&4)&&n!==(n=(((al=(Al=ze[2].conf)==null?void 0:Al.mqtt)==null?void 0:al.title)??"MQTT")+"")&&E(i,n),(!nt||_t[0]&4)&&p!==(p=(((zl=(ql=ze[2].conf)==null?void 0:ql.mqtt)==null?void 0:zl.server)??"Server")+"")&&E(d,p),ze[0].chip!="esp8266"?yt?yt.p(ze,_t):(yt=Ga(ze),yt.c(),yt.m(m,w)):yt&&(yt.d(1),yt=null),_t[0]&128&&P.value!==ze[7].q.h&&J(P,ze[7].q.h),_t[0]&128&&St(I.value)!==ze[7].q.p&&J(I,ze[7].q.p),ze[7].q.s.e?ht?(ht.p(ze,_t),_t[0]&128&&ee(ht,1)):(ht=Ya(ze),ht.c(),ee(ht,1),ht.m(e,R)):ht&&(Pt(),se(ht,1,1,()=>{ht=null}),Tt()),(!nt||_t[0]&4)&&j!==(j=(((Vl=(Kl=ze[2].conf)==null?void 0:Kl.mqtt)==null?void 0:Vl.user)??"Username")+"")&&E(V,j),_t[0]&128&&Y.value!==ze[7].q.u&&J(Y,ze[7].q.u),(!nt||_t[0]&4)&&W!==(W=(((Yl=(Gl=ze[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.pass)??"Password")+"")&&E(B,W),_t[0]&128&&Q.value!==ze[7].q.a&&J(Q,ze[7].q.a),(!nt||_t[0]&4)&&fe!==(fe=(((Jl=(Xl=ze[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.id)??"Client ID")+"")&&E(oe,fe),(!nt||_t[0]&128&&$!==($=ze[7].q.h))&&(x.required=$),_t[0]&128&&x.value!==ze[7].q.c&&J(x,ze[7].q.c),(!nt||_t[0]&4)&&ke!==(ke=(((Zl=(Ql=ze[2].conf)==null?void 0:Ql.mqtt)==null?void 0:Zl.payload)??"Payload")+"")&&E(T,ke),_t[0]&128&&ft(F,ze[7].q.m),(!nt||_t[0]&4)&&Ue!==(Ue=(((qt=(je=ze[2].conf)==null?void 0:je.mqtt)==null?void 0:qt.publish)??"Publish topic")+"")&&E(Ve,Ue),_t[0]&128&&ve.value!==ze[7].q.b&&J(ve,ze[7].q.b),(!nt||_t[0]&4)&&gt!==(gt=((($l=(ll=ze[2].conf)==null?void 0:ll.mqtt)==null?void 0:$l.subscribe)??"Subscribe topic")+"")&&E(pt,gt),(!nt||_t[0]&128&&dt!==(dt=ze[7].q.b+"/command"))&&f(ot,"placeholder",dt),_t[0]&128&&ot.value!==ze[7].q.r&&J(ot,ze[7].q.r),(!nt||_t[0]&4)&&Oe!==(Oe=(((yn=(xl=ze[2].conf)==null?void 0:xl.mqtt)==null?void 0:yn.update)??"Update method")+"")&&E(Xe,Oe),(!nt||_t[0]&4)&&xe!==(xe=(((Mn=(Cn=ze[2].conf)==null?void 0:Cn.mqtt)==null?void 0:Mn.interval)??"Interval")+"")&&E(Ne,xe),(!nt||_t[0]&4)&&qe!==(qe=(((Pn=(Nn=ze[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Pn.realtime)??"Real time")+"")&&E(bt,qe),(!nt||_t[0]&4)&&vt!==(vt=(((En=(Tn=ze[2].conf)==null?void 0:Tn.mqtt)==null?void 0:En.interval)??"Interval")+"")&&E(Ge,vt),_t[0]&128&&ft(Qe,ze[7].q.t),(!nt||_t[0]&128&&Ee!==(Ee=((qn=(An=ze[7])==null?void 0:An.q)==null?void 0:qn.t)!=1))&&(Fe.disabled=Ee),_t[0]&128&&St(Fe.value)!==ze[7].q.d&&J(Fe,ze[7].q.d),(!nt||_t[0]&4)&&De!==(De=(((Dn=(Ln=ze[2].conf)==null?void 0:Ln.mqtt)==null?void 0:Dn.timeout)??"Timeout")+"")&&E(et,De),(!nt||_t[0]&4)&&wt!==(wt=(((On=(In=ze[2].conf)==null?void 0:In.mqtt)==null?void 0:On.keepalive)??"Keep-alive")+"")&&E(Rt,wt),_t[0]&128&&St(jt.value)!==ze[7].q.i&&J(jt,ze[7].q.i),_t[0]&128&&St(Bt.value)!==ze[7].q.k&&J(Bt,ze[7].q.k)},i(ze){nt||(ee(ht),nt=!0)},o(ze){se(ht),nt=!1},d(ze){ze&&M(e),yt&&yt.d(),ht&&ht.d(),Wt=!1,Vt(Yt)}}}function Ga(t){let e,l,n,i,s;return{c(){e=_("label"),l=_("input"),n=S(" SSL"),f(l,"type","checkbox"),f(l,"name","qs"),l.__value="true",J(l,l.__value),f(l,"class","rounded mb-1"),f(e,"class","float-right mr-3")},m(o,u){N(o,e,u),a(e,l),l.checked=t[7].q.s.e,a(e,n),i||(s=[pe(l,"change",t[66]),pe(l,"change",t[21])],i=!0)},p(o,u){u[0]&128&&(l.checked=o[7].q.s.e)},d(o){o&&M(e),i=!1,Vt(s)}}}function Ya(t){let e,l,n,i,s,o,u,r,c,m,p,d,b;const w=[em,x1],g=[];function k(L,j){return L[7].q.s.c?0:1}n=k(t),i=g[n]=w[n](t);const v=[im,nm],P=[];function q(L,j){return L[7].q.s.r?0:1}u=q(t),r=P[u]=v[u](t);const I=[rm,am],A=[];function R(L,j){return L[7].q.s.k?0:1}return p=R(t),d=A[p]=I[p](t),{c(){e=_("div"),l=_("span"),i.c(),s=h(),o=_("span"),r.c(),c=h(),m=_("span"),d.c(),f(l,"class","flex pr-2"),f(o,"class","flex pr-2"),f(m,"class","flex pr-2"),f(e,"class","my-1 flex")},m(L,j){N(L,e,j),a(e,l),g[n].m(l,null),a(e,s),a(e,o),P[u].m(o,null),a(e,c),a(e,m),A[p].m(m,null),b=!0},p(L,j){let V=n;n=k(L),n===V?g[n].p(L,j):(Pt(),se(g[V],1,1,()=>{g[V]=null}),Tt(),i=g[n],i?i.p(L,j):(i=g[n]=w[n](L),i.c()),ee(i,1),i.m(l,null));let G=u;u=q(L),u===G?P[u].p(L,j):(Pt(),se(P[G],1,1,()=>{P[G]=null}),Tt(),r=P[u],r?r.p(L,j):(r=P[u]=v[u](L),r.c()),ee(r,1),r.m(o,null));let X=p;p=R(L),p===X?A[p].p(L,j):(Pt(),se(A[X],1,1,()=>{A[X]=null}),Tt(),d=A[p],d?d.p(L,j):(d=A[p]=I[p](L),d.c()),ee(d,1),d.m(m,null))},i(L){b||(ee(i),ee(r),ee(d),b=!0)},o(L){se(i),se(r),se(d),b=!1},d(L){L&&M(e),g[n].d(),P[u].d(),A[p].d()}}}function x1(t){let e,l;return e=new Sl({props:{to:"/mqtt-ca",$$slots:{default:[tm]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function em(t){let e,l,n,i,s,o,u;return l=new Sl({props:{to:"/mqtt-ca",$$slots:{default:[lm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(u=[pe(i,"click",t[18]),pe(i,"keypress",t[18])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Vt(u)}}}function tm(t){var n,i,s,o;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_ca)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function lm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=S(e)},m(s,o){N(s,l,o)},p(s,o){var u,r;o[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&E(l,e)},d(s){s&&M(l)}}}function nm(t){let e,l;return e=new Sl({props:{to:"/mqtt-cert",$$slots:{default:[sm]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function im(t){let e,l,n,i,s,o,u;return l=new Sl({props:{to:"/mqtt-cert",$$slots:{default:[om]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(u=[pe(i,"click",t[19]),pe(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Vt(u)}}}function sm(t){var n,i,s,o;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_crt)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function om(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=S(e)},m(s,o){N(s,l,o)},p(s,o){var u,r;o[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&E(l,e)},d(s){s&&M(l)}}}function am(t){let e,l;return e=new Sl({props:{to:"/mqtt-key",$$slots:{default:[um]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[3]&33554432&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function rm(t){let e,l,n,i,s,o,u;return l=new Sl({props:{to:"/mqtt-key",$$slots:{default:[fm]},$$scope:{ctx:t}}}),{c(){e=_("span"),Me(l.$$.fragment),n=h(),i=_("span"),i.textContent="🗑",f(e,"class","bd-on"),f(i,"class","bd-off")},m(r,c){N(r,e,c),ye(l,e,null),N(r,n,c),N(r,i,c),s=!0,o||(u=[pe(i,"click",t[20]),pe(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[3]&33554432&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(ee(l.$$.fragment,r),s=!0)},o(r){se(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Vt(u)}}}function um(t){var n,i,s,o;let e,l;return e=new Qn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Me(e.$$.fragment)},m(u,r){ye(e,u,r),l=!0},p(u,r){var m,p,d,b;const c={};r[0]&4&&(c.text=((p=(m=u[2].conf)==null?void 0:m.mqtt)==null?void 0:p.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((b=(d=u[2].conf)==null?void 0:d.mqtt)==null?void 0:b.title_key)??""),e.$set(c)},i(u){l||(ee(e.$$.fragment,u),l=!0)},o(u){se(e.$$.fragment,u),l=!1},d(u){Ce(e,u)}}}function fm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=S(e)},m(s,o){N(s,l,o)},p(s,o){var u,r;o[0]&4&&e!==(e=(((r=(u=s[2].conf)==null?void 0:u.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&E(l,e)},d(s){s&&M(l)}}}function Xa(t){var K,ne,fe,oe,ie,re,x,$,te,ge,ke,T;let e,l,n=(((fe=(ne=(K=t[2].conf)==null?void 0:K.mqtt)==null?void 0:ne.domoticz)==null?void 0:fe.title)??"Domoticz")+"",i,s,o,u,r,c,m,p,d=(((re=(ie=(oe=t[2].conf)==null?void 0:oe.mqtt)==null?void 0:ie.domoticz)==null?void 0:re.eidx)??"Electricity IDX")+"",b,w,g,k,v,P,q=(((te=($=(x=t[2].conf)==null?void 0:x.mqtt)==null?void 0:$.domoticz)==null?void 0:te.cidx)??"Current IDX")+"",I,A,R,L,j,V,G=(((T=(ke=(ge=t[2].conf)==null?void 0:ge.mqtt)==null?void 0:ke.domoticz)==null?void 0:T.vidx)??"Voltage IDX")+"",X,Y,D,y,W,B,O,z,Q,Z;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),p=_("div"),b=S(d),w=_("br"),g=h(),k=_("input"),v=h(),P=_("div"),I=S(q),A=_("br"),R=h(),L=_("input"),j=h(),V=_("div"),X=S(G),Y=S(`: L1, L2 & L3
                    `),D=_("div"),y=_("input"),W=h(),B=_("input"),O=h(),z=_("input"),f(l,"class","text-sm"),f(o,"href",Fl("MQTT-configuration#domoticz")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","o"),r.value="true",f(k,"name","oe"),f(k,"type","text"),f(k,"class","in-f tr w-full"),f(k,"pattern",Fn),f(p,"class","w-1/2"),f(L,"name","oc"),f(L,"type","text"),f(L,"class","in-l tr w-full"),f(L,"pattern",Fn),f(P,"class","w-1/2"),f(m,"class","my-1 flex"),f(y,"name","ou1"),f(y,"type","text"),f(y,"class","in-f tr w-1/3"),f(y,"pattern",Fn),f(B,"name","ou2"),f(B,"type","text"),f(B,"class","in-m tr w-1/3"),f(B,"pattern",Fn),f(z,"name","ou3"),f(z,"type","text"),f(z,"class","in-l tr w-1/3"),f(z,"pattern",Fn),f(D,"class","flex"),f(V,"class","my-1"),f(e,"class","cnt")},m(C,U){N(C,e,U),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(m,p),a(p,b),a(p,w),a(p,g),a(p,k),J(k,t[7].o.e),a(m,v),a(m,P),a(P,I),a(P,A),a(P,R),a(P,L),J(L,t[7].o.c),a(e,j),a(e,V),a(V,X),a(V,Y),a(V,D),a(D,y),J(y,t[7].o.u1),a(D,W),a(D,B),J(B,t[7].o.u2),a(D,O),a(D,z),J(z,t[7].o.u3),Q||(Z=[pe(k,"input",t[79]),pe(L,"input",t[80]),pe(y,"input",t[81]),pe(B,"input",t[82]),pe(z,"input",t[83])],Q=!0)},p(C,U){var F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue;U[0]&4&&n!==(n=(((le=(H=(F=C[2].conf)==null?void 0:F.mqtt)==null?void 0:H.domoticz)==null?void 0:le.title)??"Domoticz")+"")&&E(i,n),U[0]&4&&d!==(d=(((ue=(ce=(ae=C[2].conf)==null?void 0:ae.mqtt)==null?void 0:ce.domoticz)==null?void 0:ue.eidx)??"Electricity IDX")+"")&&E(b,d),U[0]&128&&k.value!==C[7].o.e&&J(k,C[7].o.e),U[0]&4&&q!==(q=(((we=(Se=(me=C[2].conf)==null?void 0:me.mqtt)==null?void 0:Se.domoticz)==null?void 0:we.cidx)??"Current IDX")+"")&&E(I,q),U[0]&128&&L.value!==C[7].o.c&&J(L,C[7].o.c),U[0]&4&&G!==(G=(((Ue=(Ie=(Te=C[2].conf)==null?void 0:Te.mqtt)==null?void 0:Ie.domoticz)==null?void 0:Ue.vidx)??"Voltage IDX")+"")&&E(X,G),U[0]&128&&y.value!==C[7].o.u1&&J(y,C[7].o.u1),U[0]&128&&B.value!==C[7].o.u2&&J(B,C[7].o.u2),U[0]&128&&z.value!==C[7].o.u3&&J(z,C[7].o.u3)},d(C){C&&M(e),Q=!1,Vt(Z)}}}function Ja(t){var O,z,Q,Z,K,ne,fe,oe,ie,re,x,$;let e,l,n=(((Q=(z=(O=t[2].conf)==null?void 0:O.mqtt)==null?void 0:z.ha)==null?void 0:Q.title)??"Home-Assistant")+"",i,s,o,u,r,c,m,p=(((ne=(K=(Z=t[2].conf)==null?void 0:Z.mqtt)==null?void 0:K.ha)==null?void 0:ne.discovery)??"Discovery topic prefix")+"",d,b,w,g,k,v,P=(((ie=(oe=(fe=t[2].conf)==null?void 0:fe.mqtt)==null?void 0:oe.ha)==null?void 0:ie.hostname)??"Hostname for URL")+"",q,I,A,R,L,j,V,G=((($=(x=(re=t[2].conf)==null?void 0:re.mqtt)==null?void 0:x.ha)==null?void 0:$.tag)??"Name tag")+"",X,Y,D,y,W,B;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div"),d=S(p),b=_("br"),w=h(),g=_("input"),k=h(),v=_("div"),q=S(P),I=_("br"),A=h(),R=_("input"),j=h(),V=_("div"),X=S(G),Y=_("br"),D=h(),y=_("input"),f(l,"class","text-sm"),f(o,"href",Fl("MQTT-configuration#home-assistant")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","h"),r.value="true",f(g,"name","ht"),f(g,"type","text"),f(g,"class","in-s"),f(g,"placeholder","homeassistant"),f(g,"pattern",ln),f(m,"class","my-1"),f(R,"name","hh"),f(R,"type","text"),f(R,"class","in-s"),f(R,"placeholder",L=t[7].g.h+".local"),f(R,"pattern",ln),f(v,"class","my-1"),f(y,"name","hn"),f(y,"type","text"),f(y,"class","in-s"),f(y,"pattern",ln),f(V,"class","my-1"),f(e,"class","cnt")},m(te,ge){N(te,e,ge),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(m,d),a(m,b),a(m,w),a(m,g),J(g,t[7].h.t),a(e,k),a(e,v),a(v,q),a(v,I),a(v,A),a(v,R),J(R,t[7].h.h),a(e,j),a(e,V),a(V,X),a(V,Y),a(V,D),a(V,y),J(y,t[7].h.n),W||(B=[pe(g,"input",t[84]),pe(R,"input",t[85]),pe(y,"input",t[86])],W=!0)},p(te,ge){var ke,T,C,U,F,H,le,ae,ce,ue,me,Se;ge[0]&4&&n!==(n=(((C=(T=(ke=te[2].conf)==null?void 0:ke.mqtt)==null?void 0:T.ha)==null?void 0:C.title)??"Home-Assistant")+"")&&E(i,n),ge[0]&4&&p!==(p=(((H=(F=(U=te[2].conf)==null?void 0:U.mqtt)==null?void 0:F.ha)==null?void 0:H.discovery)??"Discovery topic prefix")+"")&&E(d,p),ge[0]&128&&g.value!==te[7].h.t&&J(g,te[7].h.t),ge[0]&4&&P!==(P=(((ce=(ae=(le=te[2].conf)==null?void 0:le.mqtt)==null?void 0:ae.ha)==null?void 0:ce.hostname)??"Hostname for URL")+"")&&E(q,P),ge[0]&128&&L!==(L=te[7].g.h+".local")&&f(R,"placeholder",L),ge[0]&128&&R.value!==te[7].h.h&&J(R,te[7].h.h),ge[0]&4&&G!==(G=(((Se=(me=(ue=te[2].conf)==null?void 0:ue.mqtt)==null?void 0:me.ha)==null?void 0:Se.tag)??"Name tag")+"")&&E(X,G),ge[0]&128&&y.value!==te[7].h.n&&J(y,te[7].h.n)},d(te){te&&M(e),W=!1,Vt(B)}}}function Qa(t){var G,X,Y,D,y;let e,l,n=(((X=(G=t[2].conf)==null?void 0:G.thresholds)==null?void 0:X.title)??"Thresholds")+"",i,s,o,u,r,c,m,p,d,b,w=(((D=(Y=t[2].conf)==null?void 0:Y.thresholds)==null?void 0:D.avg)??"Average of")+"",g,k,v,P,q,I=(((y=t[2].common)==null?void 0:y.hours)??"hours")+"",A,R,L,j=st({length:9}),V=[];for(let W=0;W<j.length;W+=1)V[W]=Za(ya(t,j,W));return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div");for(let W=0;W<V.length;W+=1)V[W].c();p=h(),d=_("label"),b=_("span"),g=S(w),k=h(),v=_("input"),P=h(),q=_("span"),A=S(I),f(l,"class","text-sm"),f(o,"href",Fl("Threshold-configuration")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","t"),r.value="true",f(m,"class","flex flex-wrap my-1"),f(b,"class","in-pre"),f(v,"name","th"),f(v,"type","number"),f(v,"min","0"),f(v,"max","255"),f(v,"class","in-txt tr w-full"),f(q,"class","in-post"),f(d,"class","flex m-1"),f(e,"class","cnt")},m(W,B){N(W,e,B),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m);for(let O=0;O<V.length;O+=1)V[O]&&V[O].m(m,null);a(e,p),a(e,d),a(d,b),a(b,g),a(d,k),a(d,v),J(v,t[7].t.h),a(d,P),a(d,q),a(q,A),R||(L=pe(v,"input",t[88]),R=!0)},p(W,B){var O,z,Q,Z,K;if(B[0]&4&&n!==(n=(((z=(O=W[2].conf)==null?void 0:O.thresholds)==null?void 0:z.title)??"Thresholds")+"")&&E(i,n),B[0]&128){j=st({length:9});let ne;for(ne=0;ne<j.length;ne+=1){const fe=ya(W,j,ne);V[ne]?V[ne].p(fe,B):(V[ne]=Za(fe),V[ne].c(),V[ne].m(m,null))}for(;ne<V.length;ne+=1)V[ne].d(1);V.length=j.length}B[0]&4&&w!==(w=(((Z=(Q=W[2].conf)==null?void 0:Q.thresholds)==null?void 0:Z.avg)??"Average of")+"")&&E(g,w),B[0]&128&&St(v.value)!==W[7].t.h&&J(v,W[7].t.h),B[0]&4&&I!==(I=(((K=W[2].common)==null?void 0:K.hours)??"hours")+"")&&E(A,I)},d(W){W&&M(e),el(V,W),R=!1,L()}}}function Za(t){let e,l,n,i,s,o,u,r,c;function m(){t[87].call(i,t[102])}return{c(){e=_("label"),l=_("span"),l.textContent=`${t[102]+1}`,n=h(),i=_("input"),s=h(),o=_("span"),o.textContent="kWh",u=h(),f(l,"class","in-pre"),f(i,"name","t"+t[102]),f(i,"type","number"),f(i,"min","0"),f(i,"max","65535"),f(i,"class","in-txt w-full"),f(o,"class","in-post"),f(e,"class","flex w-40 m-1")},m(p,d){N(p,e,d),a(e,l),a(e,n),a(e,i),J(i,t[7].t.t[t[102]]),a(e,s),a(e,o),a(e,u),r||(c=pe(i,"input",m),r=!0)},p(p,d){t=p,d[0]&128&&St(i.value)!==t[7].t.t[t[102]]&&J(i,t[7].t.t[t[102]])},d(p){p&&M(e),r=!1,c()}}}function $a(t){var b,w;let e,l,n=(((w=(b=t[2].conf)==null?void 0:b.ui)==null?void 0:w.title)??"User interface")+"",i,s,o,u,r,c,m,p=st(t[14]),d=[];for(let g=0;g<p.length;g+=1)d[g]=xa(Sa(t,p,g));return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("input"),c=h(),m=_("div");for(let g=0;g<d.length;g+=1)d[g].c();f(l,"class","text-sm"),f(o,"href",Fl("User-interface")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"type","hidden"),f(r,"name","u"),r.value="true",f(m,"class","flex flex-wrap"),f(e,"class","cnt")},m(g,k){N(g,e,k),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(m,null)},p(g,k){var v,P;if(k[0]&4&&n!==(n=(((P=(v=g[2].conf)==null?void 0:v.ui)==null?void 0:P.title)??"User interface")+"")&&E(i,n),k[0]&16516){p=st(g[14]);let q;for(q=0;q<p.length;q+=1){const I=Sa(g,p,q);d[q]?d[q].p(I,k):(d[q]=xa(I),d[q].c(),d[q].m(m,null))}for(;q<d.length;q+=1)d[q].d(1);d.length=p.length}},d(g){g&&M(e),el(d,g)}}}function xa(t){var I,A,R,L,j,V,G,X;let e,l=(((A=(I=t[2].conf)==null?void 0:I.ui)==null?void 0:A[t[97].key])??t[97].name)+"",n,i,s,o,u,r=(((L=(R=t[2].conf)==null?void 0:R.ui)==null?void 0:L.disabled)??"Disabled")+"",c,m,p=(((V=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:V.enabled)??"Enabled")+"",d,b,w=(((X=(G=t[2].conf)==null?void 0:G.ui)==null?void 0:X.auto)??"Auto")+"",g,k,v,P;function q(){t[89].call(o,t[97])}return{c(){e=_("div"),n=S(l),i=_("br"),s=h(),o=_("select"),u=_("option"),c=S(r),m=_("option"),d=S(p),b=_("option"),g=S(w),k=h(),u.__value=0,J(u,u.__value),m.__value=1,J(m,m.__value),b.__value=2,J(b,b.__value),f(o,"name","u"+t[97].key),f(o,"class","in-s"),t[7].u[t[97].key]===void 0&&Jt(q),f(e,"class","w-1/2")},m(Y,D){N(Y,e,D),a(e,n),a(e,i),a(e,s),a(e,o),a(o,u),a(u,c),a(o,m),a(m,d),a(o,b),a(b,g),ft(o,t[7].u[t[97].key],!0),a(e,k),v||(P=pe(o,"change",q),v=!0)},p(Y,D){var y,W,B,O,z,Q,Z,K;t=Y,D[0]&4&&l!==(l=(((W=(y=t[2].conf)==null?void 0:y.ui)==null?void 0:W[t[97].key])??t[97].name)+"")&&E(n,l),D[0]&4&&r!==(r=(((O=(B=t[2].conf)==null?void 0:B.ui)==null?void 0:O.disabled)??"Disabled")+"")&&E(c,r),D[0]&4&&p!==(p=(((Q=(z=t[2].conf)==null?void 0:z.ui)==null?void 0:Q.enabled)??"Enabled")+"")&&E(d,p),D[0]&4&&w!==(w=(((K=(Z=t[2].conf)==null?void 0:Z.ui)==null?void 0:K.auto)??"Auto")+"")&&E(g,w),D[0]&16512&&ft(o,t[7].u[t[97].key])},d(Y){Y&&M(e),v=!1,P()}}}function er(t){var d,b;let e,l,n=(((d=t[2].conf)==null?void 0:d.btn_reset)??"Factory reset")+"",i,s,o,u,r=(((b=t[2].btn)==null?void 0:b.reboot)??"Reboot")+"",c,m,p;return{c(){e=_("div"),l=_("button"),i=S(n),s=h(),o=_("div"),u=_("button"),c=S(r),f(l,"type","button"),f(l,"class","btn-red"),f(u,"type","button"),f(u,"class","btn-yellow"),f(o,"class","text-center")},m(w,g){N(w,e,g),a(e,l),a(l,i),N(w,s,g),N(w,o,g),a(o,u),a(u,c),m||(p=[pe(l,"click",t[15]),pe(u,"click",t[17])],m=!0)},p(w,g){var k,v;g[0]&4&&n!==(n=(((k=w[2].conf)==null?void 0:k.btn_reset)??"Factory reset")+"")&&E(i,n),g[0]&4&&r!==(r=(((v=w[2].btn)==null?void 0:v.reboot)??"Reboot")+"")&&E(c,r)},d(w){w&&(M(e),M(s),M(o)),m=!1,Vt(p)}}}function tr(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=_("div"),l=_("button"),i=S(n),f(l,"type","submit"),f(l,"class","btn-pri"),f(e,"class","text-right")},m(o,u){N(o,e,u),a(e,l),a(l,i)},p(o,u){var r;u[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&E(i,n)},d(o){o&&M(e)}}}function cm(t){var K,ne,fe,oe,ie,re,x,$,te,ge,ke,T,C,U,F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye;let e,l,n,i,s,o,u,r,c,m=((fe=(ne=(K=t[7])==null?void 0:K.p)==null?void 0:ne.r)==null?void 0:fe.startsWith("NO"))||((re=(ie=(oe=t[7])==null?void 0:oe.p)==null?void 0:ie.r)==null?void 0:re.startsWith("10YNO"))||((te=($=(x=t[7])==null?void 0:x.p)==null?void 0:$.r)==null?void 0:te.startsWith("10Y1001A1001A4")),p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G=((ge=t[7])==null?void 0:ge.g)&&Na(t),X=((ke=t[7])==null?void 0:ke.fw)&&qa(t),Y=((T=t[7])==null?void 0:T.m)&&La(t),D=((C=t[7])==null?void 0:C.w)&&ja(t),y=((U=t[7])==null?void 0:U.q)&&Va(t),W=((H=(F=t[7])==null?void 0:F.q)==null?void 0:H.m)==3&&Xa(t),B=((ae=(le=t[7])==null?void 0:le.q)==null?void 0:ae.m)==4&&Ja(t),O=m&&Qa(t),z=((ce=t[7])==null?void 0:ce.u)&&$a(t),Q=((ue=t[1])==null?void 0:ue.a)&&er(t),Z=t[7]&&tr(t);return k=new pl({props:{active:t[5],message:((Se=(me=t[2].conf)==null?void 0:me.mask)==null?void 0:Se.loading)??"Loading"}}),P=new pl({props:{active:t[6],message:((Te=(we=t[2].conf)==null?void 0:we.mask)==null?void 0:Te.saving)??"Saving"}}),I=new pl({props:{active:t[11],message:((Ue=(Ie=t[2].conf)==null?void 0:Ie.mask)==null?void 0:Ue.reset)??"Factory reset"}}),R=new pl({props:{active:t[12],message:((Ye=(Ve=t[2].conf)==null?void 0:Ve.mask)==null?void 0:Ye.reset_done)??"Done"}}),{c(){e=_("form"),l=_("div"),G&&G.c(),n=h(),X&&X.c(),i=h(),Y&&Y.c(),s=h(),D&&D.c(),o=h(),y&&y.c(),u=h(),W&&W.c(),r=h(),B&&B.c(),c=h(),O&&O.c(),p=h(),z&&z.c(),d=h(),b=_("div"),Q&&Q.c(),w=h(),Z&&Z.c(),g=h(),Me(k.$$.fragment),v=h(),Me(P.$$.fragment),q=h(),Me(I.$$.fragment),A=h(),Me(R.$$.fragment),f(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),f(b,"class","grid grid-cols-3 mt-3"),f(e,"autocomplete","off")},m(he,ve){N(he,e,ve),a(e,l),G&&G.m(l,null),a(l,n),X&&X.m(l,null),a(l,i),Y&&Y.m(l,null),a(l,s),D&&D.m(l,null),a(l,o),y&&y.m(l,null),a(l,u),W&&W.m(l,null),a(l,r),B&&B.m(l,null),a(l,c),O&&O.m(l,null),a(l,p),z&&z.m(l,null),a(e,d),a(e,b),Q&&Q.m(b,null),a(b,w),Z&&Z.m(b,null),N(he,g,ve),ye(k,he,ve),N(he,v,ve),ye(P,he,ve),N(he,q,ve),ye(I,he,ve),N(he,A,ve),ye(R,he,ve),L=!0,j||(V=pe(e,"submit",mn(t[16])),j=!0)},p(he,ve){var Dt,At,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et;(Dt=he[7])!=null&&Dt.g?G?(G.p(he,ve),ve[0]&128&&ee(G,1)):(G=Na(he),G.c(),ee(G,1),G.m(l,n)):G&&(Pt(),se(G,1,1,()=>{G=null}),Tt()),(At=he[7])!=null&&At.fw?X?X.p(he,ve):(X=qa(he),X.c(),X.m(l,i)):X&&(X.d(1),X=null),(ot=he[7])!=null&&ot.m?Y?Y.p(he,ve):(Y=La(he),Y.c(),Y.m(l,s)):Y&&(Y.d(1),Y=null),(dt=he[7])!=null&&dt.w?D?D.p(he,ve):(D=ja(he),D.c(),D.m(l,o)):D&&(D.d(1),D=null),(Ht=he[7])!=null&&Ht.q?y?(y.p(he,ve),ve[0]&128&&ee(y,1)):(y=Va(he),y.c(),ee(y,1),y.m(l,u)):y&&(Pt(),se(y,1,1,()=>{y=null}),Tt()),((Oe=(ct=he[7])==null?void 0:ct.q)==null?void 0:Oe.m)==3?W?W.p(he,ve):(W=Xa(he),W.c(),W.m(l,r)):W&&(W.d(1),W=null),((Ft=(Xe=he[7])==null?void 0:Xe.q)==null?void 0:Ft.m)==4?B?B.p(he,ve):(B=Ja(he),B.c(),B.m(l,c)):B&&(B.d(1),B=null),ve[0]&128&&(m=((Ne=(xe=(at=he[7])==null?void 0:at.p)==null?void 0:xe.r)==null?void 0:Ne.startsWith("NO"))||((Qe=(Je=(We=he[7])==null?void 0:We.p)==null?void 0:Je.r)==null?void 0:Qe.startsWith("10YNO"))||((bt=(qe=(de=he[7])==null?void 0:de.p)==null?void 0:qe.r)==null?void 0:bt.startsWith("10Y1001A1001A4"))),m?O?O.p(he,ve):(O=Qa(he),O.c(),O.m(l,p)):O&&(O.d(1),O=null),(Ut=he[7])!=null&&Ut.u?z?z.p(he,ve):(z=$a(he),z.c(),z.m(l,null)):z&&(z.d(1),z=null),(vt=he[1])!=null&&vt.a?Q?Q.p(he,ve):(Q=er(he),Q.c(),Q.m(b,w)):Q&&(Q.d(1),Q=null),he[7]?Z?Z.p(he,ve):(Z=tr(he),Z.c(),Z.m(b,null)):Z&&(Z.d(1),Z=null);const He={};ve[0]&32&&(He.active=he[5]),ve[0]&4&&(He.message=((rt=(Ge=he[2].conf)==null?void 0:Ge.mask)==null?void 0:rt.loading)??"Loading"),k.$set(He);const lt={};ve[0]&64&&(lt.active=he[6]),ve[0]&4&&(lt.message=((Ee=(Fe=he[2].conf)==null?void 0:Fe.mask)==null?void 0:Ee.saving)??"Saving"),P.$set(lt);const gt={};ve[0]&2048&&(gt.active=he[11]),ve[0]&4&&(gt.message=((Le=(Re=he[2].conf)==null?void 0:Re.mask)==null?void 0:Le.reset)??"Factory reset"),I.$set(gt);const pt={};ve[0]&4096&&(pt.active=he[12]),ve[0]&4&&(pt.message=((et=(De=he[2].conf)==null?void 0:De.mask)==null?void 0:et.reset_done)??"Done"),R.$set(pt)},i(he){L||(ee(G),ee(y),ee(k.$$.fragment,he),ee(P.$$.fragment,he),ee(I.$$.fragment,he),ee(R.$$.fragment,he),L=!0)},o(he){se(G),se(y),se(k.$$.fragment,he),se(P.$$.fragment,he),se(I.$$.fragment,he),se(R.$$.fragment,he),L=!1},d(he){he&&(M(e),M(g),M(v),M(q),M(A)),G&&G.d(),X&&X.d(),Y&&Y.d(),D&&D.d(),y&&y.d(),W&&W.d(),B&&B.d(),O&&O.d(),z&&z.d(),Q&&Q.d(),Z&&Z.d(),Ce(k,he),Ce(P,he),Ce(I,he),Ce(R,he),j=!1,V()}}}async function mm(){await(await fetch("reboot",{method:"POST"})).json()}function ai(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function _m(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:_s,medium:ms,low:cs,off:ps};o.off;let u={};Nl.subscribe(Ee=>{l(2,u=Ee)});let r=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],c=!0,m=!1,p,d=[],b="",w=null;vn.subscribe(Ee=>{var Re,Le,De,et;if(Ee.version){(Re=Ee==null?void 0:Ee.c)==null||Re.e,l(7,p=Ee),l(5,c=!1);const it=((Le=u.consent)==null?void 0:Le.load_from_server)??"Load from server";l(3,d=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),p!=null&&p.fw?l(7,p.fw={a:!!p.fw.a,s:Number(p.fw.s??2),e:Number(p.fw.e??3)},p):l(7,p={...p,fw:{a:!1,s:2,e:3}}),(De=p==null?void 0:p.u)!=null&&De.lang&&!d.find(ut=>ut.code===p.u.lang)&&d.push({code:p.u.lang,name:((et=u.language)==null?void 0:et.name)??"Unknown"}),d.push({code:"hub",name:it})}}),mf();let g={},k=[];af.subscribe(Ee=>{var Re;for(let Le=0;Le<Ee.n.length&&Ee.n[Le].s!=((Re=p==null?void 0:p.w)==null?void 0:Re.s);Le++);l(4,g=Ee)});let v=!1,P=!1;async function q(){if(confirm("Factory reset?")){l(11,v=!0);const Ee=new URLSearchParams;Ee.append("perform","true");let Le=await(await fetch("reset",{method:"POST",body:Ee})).json();l(11,v=!1),l(12,P=Le.success)}}async function I(Ee){l(6,m=!0);const Re=new FormData(Ee.target),Le=new URLSearchParams;for(let it of Re){const[ut,wt]=it;Le.append(ut,wt)}let et=await(await fetch("save",{method:"POST",body:Le})).json();ml.update(it=>(it.hostname=Re.get("gh"),it.usrcfg=et.success,it.booting=et.reboot,Re.get("nm")=="static"&&(it.net.ip=Re.get("ni"),it.net.mask=Re.get("nu"),it.net.gw=Re.get("ng"),it.net.dns1=Re.get("nd")),it.ui=p.u,it)),l(6,m=!1),jl(n)}const A=function(){confirm("Reboot?")&&(ml.update(Ee=>(Ee.booting=!0,Ee)),mm())};async function R(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.c=!1,Re)))}async function L(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.r=!1,Re)))}async function j(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),vn.update(Re=>(Re.q.s.k=!1,Re)))}const V=function(){p.q.s.e?p.q.p==1883&&l(7,p.q.p=8883,p):p.q.p==8883&&l(7,p.q.p=1883,p)};async function G(){if(p.u.lang=="hub"){const Ee=await Ml("http://hub.amsleser.no/hub/language/list.json");l(3,d=await Ee.json()),l(7,p.u.lang=u.language.code,p);return}p.u.lang&&await Jn(p.u.lang)}function X(Ee){l(8,b=Ee);const Re=pf(Ee);if(l(9,w=Re??null),!Re||!(p!=null&&p.m))return;const Le=Il(p.m),De=df(Le,Re),et=hf(p.m,De);l(7,p={...p,m:et})}function Y(){l(8,b=""),l(9,w=null)}async function D(){l(7,p.p.e=!0,p)}const y=window||global;y.bindToCloud=function(){console.log("BIND CALLED")};const W=[[]];function B(){p.g.h=this.value,l(7,p)}function O(){p.g.t=nl(this),l(7,p)}function z(){p.u.lang=nl(this),l(7,p)}function Q(){p.p.r=nl(this),l(7,p)}function Z(){p.p.c=nl(this),l(7,p)}function K(){p.p.e=this.checked,l(7,p)}function ne(){p.p.t=this.value,l(7,p)}function fe(){p.g.s=nl(this),l(7,p)}function oe(){p.g.u=this.value,l(7,p)}function ie(){p.g.p=this.value,l(7,p)}function re(){p.g.c=this.value,l(7,p)}function x(){p.fw.a=this.checked,l(7,p)}function $(){p.fw.s=St(this.value),l(7,p)}function te(){p.fw.e=St(this.value),l(7,p)}function ge(){b=nl(this),l(8,b)}const ke=Ee=>X(Ee.target.value);function T(){p.m.a=nl(this),l(7,p)}function C(){p.m.b=St(this.value),l(7,p)}function U(){p.m.i=this.checked,l(7,p)}function F(){p.m.b=nl(this),l(7,p)}function H(){p.m.p=nl(this),l(7,p)}function le(){p.m.s=St(this.value),l(7,p)}function ae(){p.m.d=nl(this),l(7,p)}function ce(){p.m.f=St(this.value),l(7,p)}function ue(){p.m.r=St(this.value),l(7,p)}function me(){p.m.e.e=this.checked,l(7,p)}function Se(){p.m.e.k=this.value,l(7,p)}function we(){p.m.e.a=this.value,l(7,p)}function Te(){p.m.m.e=this.checked,l(7,p)}function Ie(){p.m.m.w=St(this.value),l(7,p)}function Ue(){p.m.m.v=St(this.value),l(7,p)}function Ve(){p.m.m.a=St(this.value),l(7,p)}function Ye(){p.m.m.c=St(this.value),l(7,p)}function he(){p.w.s=this.__value,l(7,p)}function ve(){p.w.p=this.value,l(7,p)}function He(){p.w.z=nl(this),l(7,p)}function lt(){p.w.w=St(this.value),l(7,p)}function gt(){p.w.b=this.checked,l(7,p)}function pt(){p.q.s.e=this.checked,l(7,p)}function Dt(){p.q.h=this.value,l(7,p)}function At(){p.q.p=St(this.value),l(7,p)}function ot(){p.q.u=this.value,l(7,p)}function dt(){p.q.a=this.value,l(7,p)}function Ht(){p.q.c=this.value,l(7,p)}function ct(){p.q.m=nl(this),l(7,p)}function Oe(){p.q.b=this.value,l(7,p)}function Xe(){p.q.r=this.value,l(7,p)}function Ft(){p.q.t=nl(this),l(7,p)}function at(){p.q.d=St(this.value),l(7,p)}function xe(){p.q.i=St(this.value),l(7,p)}function Ne(){p.q.k=St(this.value),l(7,p)}function We(){p.o.e=this.value,l(7,p)}function Je(){p.o.c=this.value,l(7,p)}function Qe(){p.o.u1=this.value,l(7,p)}function de(){p.o.u2=this.value,l(7,p)}function qe(){p.o.u3=this.value,l(7,p)}function bt(){p.h.t=this.value,l(7,p)}function Ut(){p.h.h=this.value,l(7,p)}function vt(){p.h.n=this.value,l(7,p)}function Ge(Ee){p.t.t[Ee]=St(this.value),l(7,p)}function rt(){p.t.h=St(this.value),l(7,p)}function Fe(Ee){p.u[Ee.key]=nl(this),l(7,p)}return t.$$set=Ee=>{"basepath"in Ee&&l(26,n=Ee.basepath),"sysinfo"in Ee&&l(0,i=Ee.sysinfo),"data"in Ee&&l(1,s=Ee.data)},t.$$.update=()=>{var Ee;if(t.$$.dirty[0]&12&&d.length){const Re=((Ee=u.consent)==null?void 0:Ee.load_from_server)??"Load from server";d.some(De=>De.code==="hub")?d.find(et=>et.code==="hub"&&et.name!==Re)&&l(3,d=d.map(et=>et.code==="hub"?{...et,name:Re}:et)):l(3,d=[...d,{code:"hub",name:Re}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Re,label:Le}=Vn(s==null?void 0:s.r);o[Re]??o.off}t.$$.dirty[0]&16&&l(10,k=Array.isArray(g==null?void 0:g.n)?g.n.map(Re=>{const{level:Le,label:De}=Vn(Re==null?void 0:Re.r);return{icon:o[Le]??o.off,title:De}}):[])},[i,s,u,d,g,c,m,p,b,w,k,v,P,o,r,q,I,A,R,L,j,V,G,X,Y,D,n,B,O,z,Q,Z,K,ne,fe,oe,ie,re,x,$,te,ge,ke,T,C,U,F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,W,ve,He,lt,gt,pt,Dt,At,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe,de,qe,bt,Ut,vt,Ge,rt,Fe]}class pm extends Ot{constructor(e){super(),It(this,e,_m,cm,Lt,{basepath:26,sysinfo:0,data:1},null,[-1,-1,-1,-1])}}function lr(t,e,l){const n=t.slice();return n[21]=e[l],n}function nr(t){let e,l=t[1].cpu+"",n,i;return{c(){e=S("("),n=S(l),i=S("MHz)")},m(s,o){N(s,e,o),N(s,n,o),N(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&E(n,l)},d(s){s&&(M(e),M(n),M(i))}}}function dm(t){let e=$e(t[1].chip,t[1].board)+"",l;return{c(){l=S(e)},m(n,i){N(n,l,i)},p(n,i){i&2&&e!==(e=$e(n[1].chip,n[1].board)+"")&&E(l,e)},d(n){n&&M(l)}}}function ir(t){var B,O,z,Q,Z,K,ne,fe;let e,l=(((O=(B=t[3].status)==null?void 0:B.device)==null?void 0:O.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,u,r,c=(((Q=(z=t[3].status)==null?void 0:z.device)==null?void 0:Q.last_boot)??"Last boot")+"",m,p,d,b,w,g,k=(((K=(Z=t[3].status)==null?void 0:Z.device)==null?void 0:K.reason)??"Reason")+"",v,P,q=(((fe=(ne=t[3][$s(t[1].chip)])==null?void 0:ne.reason)==null?void 0:fe[t[1].boot_reason])??t[1].boot_reason)+"",I,A,R=t[1].boot_reason+"",L,j,V=t[1].ex_cause+"",G,X,Y;const D=[bm,hm],y=[];function W(oe,ie){return oe[0].u>0?0:1}return d=W(t),b=y[d]=D[d](t),{c(){e=_("div"),n=S(l),i=S(": "),o=S(s),u=h(),r=_("div"),m=S(c),p=S(`:
            `),b.c(),w=h(),g=_("div"),v=S(k),P=S(": "),I=S(q),A=S(" ("),L=S(R),j=S("/"),G=S(V),X=S(")"),f(e,"class","my-2"),f(r,"class","my-2"),f(g,"class","my-2")},m(oe,ie){N(oe,e,ie),a(e,n),a(e,i),a(e,o),N(oe,u,ie),N(oe,r,ie),a(r,m),a(r,p),y[d].m(r,null),N(oe,w,ie),N(oe,g,ie),a(g,v),a(g,P),a(g,I),a(g,A),a(g,L),a(g,j),a(g,G),a(g,X),Y=!0},p(oe,ie){var x,$,te,ge,ke,T,C,U;(!Y||ie&8)&&l!==(l=((($=(x=oe[3].status)==null?void 0:x.device)==null?void 0:$.apmac)??"AP MAC")+"")&&E(n,l),(!Y||ie&2)&&s!==(s=oe[1].apmac+"")&&E(o,s),(!Y||ie&8)&&c!==(c=(((ge=(te=oe[3].status)==null?void 0:te.device)==null?void 0:ge.last_boot)??"Last boot")+"")&&E(m,c);let re=d;d=W(oe),d===re?y[d].p(oe,ie):(Pt(),se(y[re],1,1,()=>{y[re]=null}),Tt(),b=y[d],b?b.p(oe,ie):(b=y[d]=D[d](oe),b.c()),ee(b,1),b.m(r,null)),(!Y||ie&8)&&k!==(k=(((T=(ke=oe[3].status)==null?void 0:ke.device)==null?void 0:T.reason)??"Reason")+"")&&E(v,k),(!Y||ie&10)&&q!==(q=(((U=(C=oe[3][$s(oe[1].chip)])==null?void 0:C.reason)==null?void 0:U[oe[1].boot_reason])??oe[1].boot_reason)+"")&&E(I,q),(!Y||ie&2)&&R!==(R=oe[1].boot_reason+"")&&E(L,R),(!Y||ie&2)&&V!==(V=oe[1].ex_cause+"")&&E(G,V)},i(oe){Y||(ee(b),Y=!0)},o(oe){se(b),Y=!1},d(oe){oe&&(M(e),M(u),M(r),M(w),M(g)),y[d].d()}}}function hm(t){let e;return{c(){e=S("-")},m(l,n){N(l,e,n)},p:Ke,i:Ke,o:Ke,d(l){l&&M(e)}}}function bm(t){let e,l;return e=new uf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function sr(t){var m;let e,l,n,i,s=(((m=t[3].btn)==null?void 0:m.reboot)??"Reboot")+"",o,u,r,c;return l=new Sl({props:{to:"/consent",$$slots:{default:[gm]},$$scope:{ctx:t}}}),{c(){e=_("div"),Me(l.$$.fragment),n=h(),i=_("button"),o=S(s),f(i,"class","btn-yellow-sm float-right"),f(e,"class","my-2")},m(p,d){N(p,e,d),ye(l,e,null),a(e,n),a(e,i),a(i,o),u=!0,r||(c=pe(i,"click",t[11]),r=!0)},p(p,d){var w;const b={};d&16777224&&(b.$$scope={dirty:d,ctx:p}),l.$set(b),(!u||d&8)&&s!==(s=(((w=p[3].btn)==null?void 0:w.reboot)??"Reboot")+"")&&E(o,s)},i(p){u||(ee(l.$$.fragment,p),u=!0)},o(p){se(l.$$.fragment,p),u=!1},d(p){p&&M(e),Ce(l),r=!1,c()}}}function gm(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.device)==null?void 0:s.btn_consents)??"Consents")+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","btn-pri-sm")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.device)==null?void 0:c.btn_consents)??"Consents")+"")&&E(n,l)},d(o){o&&M(e)}}}function or(t){var G,X,Y,D,y,W,B,O;let e,l,n=(((X=(G=t[3].status)==null?void 0:G.meter)==null?void 0:X.title)??"Meter")+"",i,s,o,u=(((D=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:D.manufacturer)??"Manufacturer")+"",r,c,m=hi(t[1].meter.mfg)+"",p,d,b,w=(((W=(y=t[3].status)==null?void 0:y.meter)==null?void 0:W.model)??"Model")+"",g,k,v=(t[1].meter.model?t[1].meter.model:"unknown")+"",P,q,I,A=(((O=(B=t[3].status)==null?void 0:B.meter)==null?void 0:O.id)??"ID")+"",R,L,j=(t[1].meter.id?t[1].meter.id:"unknown")+"",V;return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("div"),r=S(u),c=S(": "),p=S(m),d=h(),b=_("div"),g=S(w),k=S(": "),P=S(v),q=h(),I=_("div"),R=S(A),L=S(": "),V=S(j),f(l,"class","text-sm"),f(o,"class","my-2"),f(b,"class","my-2"),f(I,"class","my-2"),f(e,"class","cnt")},m(z,Q){N(z,e,Q),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,p),a(e,d),a(e,b),a(b,g),a(b,k),a(b,P),a(e,q),a(e,I),a(I,R),a(I,L),a(I,V)},p(z,Q){var Z,K,ne,fe,oe,ie,re,x;Q&8&&n!==(n=(((K=(Z=z[3].status)==null?void 0:Z.meter)==null?void 0:K.title)??"Meter")+"")&&E(i,n),Q&8&&u!==(u=(((fe=(ne=z[3].status)==null?void 0:ne.meter)==null?void 0:fe.manufacturer)??"Manufacturer")+"")&&E(r,u),Q&2&&m!==(m=hi(z[1].meter.mfg)+"")&&E(p,m),Q&8&&w!==(w=(((ie=(oe=z[3].status)==null?void 0:oe.meter)==null?void 0:ie.model)??"Model")+"")&&E(g,w),Q&2&&v!==(v=(z[1].meter.model?z[1].meter.model:"unknown")+"")&&E(P,v),Q&8&&A!==(A=(((x=(re=z[3].status)==null?void 0:re.meter)==null?void 0:x.id)??"ID")+"")&&E(R,A),Q&2&&j!==(j=(z[1].meter.id?z[1].meter.id:"unknown")+"")&&E(V,j)},d(z){z&&M(e)}}}function ar(t){var O,z,Q,Z,K,ne,fe,oe;let e,l,n=(((z=(O=t[3].status)==null?void 0:O.network)==null?void 0:z.title)??"Network")+"",i,s,o,u=(((Z=(Q=t[3].conf)==null?void 0:Q.network)==null?void 0:Z.ip)??"IP")+"",r,c,m=t[1].net.ip+"",p,d,b,w=(((ne=(K=t[3].conf)==null?void 0:K.network)==null?void 0:ne.mask)??"Mask")+"",g,k,v=t[1].net.mask+"",P,q,I,A=(((oe=(fe=t[3].conf)==null?void 0:fe.network)==null?void 0:oe.gw)??"Gateway")+"",R,L,j=t[1].net.gw+"",V,G,X,Y,D,y=t[1].net.dns1&&rr(t),W=t[1].net.dns2&&ur(t),B=t[1].net.ipv6&&fr(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("div"),r=S(u),c=S(": "),p=S(m),d=h(),b=_("div"),g=S(w),k=S(": "),P=S(v),q=h(),I=_("div"),R=S(A),L=S(": "),V=S(j),G=h(),X=_("div"),y&&y.c(),Y=h(),W&&W.c(),D=h(),B&&B.c(),f(l,"class","text-sm"),f(o,"class","my-2"),f(b,"class","my-2"),f(I,"class","my-2"),f(X,"class","my-2"),f(e,"class","cnt")},m(ie,re){N(ie,e,re),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,p),a(e,d),a(e,b),a(b,g),a(b,k),a(b,P),a(e,q),a(e,I),a(I,R),a(I,L),a(I,V),a(e,G),a(e,X),y&&y.m(X,null),a(X,Y),W&&W.m(X,null),a(e,D),B&&B.m(e,null)},p(ie,re){var x,$,te,ge,ke,T,C,U;re&8&&n!==(n=((($=(x=ie[3].status)==null?void 0:x.network)==null?void 0:$.title)??"Network")+"")&&E(i,n),re&8&&u!==(u=(((ge=(te=ie[3].conf)==null?void 0:te.network)==null?void 0:ge.ip)??"IP")+"")&&E(r,u),re&2&&m!==(m=ie[1].net.ip+"")&&E(p,m),re&8&&w!==(w=(((T=(ke=ie[3].conf)==null?void 0:ke.network)==null?void 0:T.mask)??"Mask")+"")&&E(g,w),re&2&&v!==(v=ie[1].net.mask+"")&&E(P,v),re&8&&A!==(A=(((U=(C=ie[3].conf)==null?void 0:C.network)==null?void 0:U.gw)??"Gateway")+"")&&E(R,A),re&2&&j!==(j=ie[1].net.gw+"")&&E(V,j),ie[1].net.dns1?y?y.p(ie,re):(y=rr(ie),y.c(),y.m(X,Y)):y&&(y.d(1),y=null),ie[1].net.dns2?W?W.p(ie,re):(W=ur(ie),W.c(),W.m(X,null)):W&&(W.d(1),W=null),ie[1].net.ipv6?B?B.p(ie,re):(B=fr(ie),B.c(),B.m(e,null)):B&&(B.d(1),B=null)},d(ie){ie&&M(e),y&&y.d(),W&&W.d(),B&&B.d()}}}function rr(t){var o,u;let e=(((u=(o=t[3].conf)==null?void 0:o.network)==null?void 0:u.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,p;c&8&&e!==(e=(((p=(m=r[3].conf)==null?void 0:m.network)==null?void 0:p.dns)??"DNS")+"")&&E(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&E(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function ur(t){var o,u;let e=(((u=(o=t[3].conf)==null?void 0:o.network)==null?void 0:u.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){N(r,l,c),N(r,n,c),N(r,s,c)},p(r,c){var m,p;c&8&&e!==(e=(((p=(m=r[3].conf)==null?void 0:m.network)==null?void 0:p.dns)??"DNS")+"")&&E(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&E(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function fr(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,u,r,c=t[1].net.dns1v6&&cr(t),m=t[1].net.dns2v6&&mr(t);return{c(){e=_("div"),l=S("IPv6: "),n=_("span"),s=S(i),o=h(),u=_("div"),c&&c.c(),r=h(),m&&m.c(),tn(n,"font-size","14px"),f(e,"class","my-2"),f(u,"class","my-2")},m(p,d){N(p,e,d),a(e,l),a(e,n),a(n,s),N(p,o,d),N(p,u,d),c&&c.m(u,null),a(u,r),m&&m.m(u,null)},p(p,d){d&2&&i!==(i=p[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&E(s,i),p[1].net.dns1v6?c?c.p(p,d):(c=cr(p),c.c(),c.m(u,r)):c&&(c.d(1),c=null),p[1].net.dns2v6?m?m.p(p,d):(m=mr(p),m.c(),m.m(u,null)):m&&(m.d(1),m=null)},d(p){p&&(M(e),M(o),M(u)),c&&c.d(),m&&m.d()}}}function cr(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=_("span"),i=S(n),tn(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&E(i,n)},d(s){s&&(M(e),M(l))}}}function mr(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=_("span"),i=S(n),tn(l,"font-size","14px")},m(s,o){N(s,e,o),N(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&E(i,n)},d(s){s&&(M(e),M(l))}}}function _r(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","my-2 text-green-600")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&E(n,l)},d(o){o&&M(e)}}}function pr(t){var r,c,m,p;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((p=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:p[t[1].upgrade.e])??t[1].upgrade.e)+"",u;return{c(){e=_("div"),l=_("div"),i=S(n),s=h(),u=S(o),f(l,"class","bd-yellow"),f(e,"class","my-2")},m(d,b){N(d,e,b),a(e,l),a(l,i),a(l,s),a(l,u)},p(d,b){var w,g,k,v;b&10&&n!==(n=(((g=(w=d[3].status)==null?void 0:w.firmware)==null?void 0:g.failed)??"Upgrade from {0} to {1} failed").replace("{0}",d[1].upgrade.f).replace("{1}",d[1].upgrade.t)+"")&&E(i,n),b&10&&o!==(o=(((v=(k=d[3].errors)==null?void 0:k.upgrade)==null?void 0:v[d[1].upgrade.e])??d[1].upgrade.e)+"")&&E(u,o)},d(d){d&&M(e)}}}function dr(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=_("div"),l=_("div"),n=S("Last HTTP status: "),s=S(i),f(l,"class","bd-gray text-xs"),f(e,"class","my-2")},m(o,u){N(o,e,u),a(e,l),a(l,n),a(l,s)},p(o,u){u&2&&i!==(i=o[1].upgrade.x+"")&&E(s,i)},d(o){o&&M(e)}}}function hr(t){var w,g;let e,l=(((g=(w=t[3].status)==null?void 0:w.firmware)==null?void 0:g.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",u,r,c,m,p,d=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&br(t),b=t[1].fwconsent===2&&gr(t);return{c(){e=_("div"),n=S(l),i=S(`: 
                `),s=_("a"),u=S(o),c=h(),d&&d.c(),m=h(),b&&b.c(),p=tl(),f(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),f(s,"class","ml-2 text-blue-600 hover:text-blue-800"),f(s,"target","_blank"),f(s,"rel","noreferrer"),f(e,"class","my-2 flex")},m(k,v){N(k,e,v),a(e,n),a(e,i),a(e,s),a(s,u),a(e,c),d&&d.m(e,null),N(k,m,v),b&&b.m(k,v),N(k,p,v)},p(k,v){var P,q;v&8&&l!==(l=(((q=(P=k[3].status)==null?void 0:P.firmware)==null?void 0:q.latest)??"Latest")+"")&&E(n,l),v&2&&o!==(o=k[1].upgrade.n+"")&&E(u,o),v&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+k[1].upgrade.n)&&f(s,"href",r),(k[1].security==0||k[0].a)&&k[1].fwconsent===1&&k[1].upgrade.n&&k[1].upgrade.n!=k[1].version?d?d.p(k,v):(d=br(k),d.c(),d.m(e,null)):d&&(d.d(1),d=null),k[1].fwconsent===2?b?b.p(k,v):(b=gr(k),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},d(k){k&&(M(e),M(m),M(p)),d&&d.d(),b&&b.d(k)}}}function br(t){let e,l,n,i,s;return{c(){var o,u;e=_("div"),l=_("button"),l.textContent="⇓",f(e,"class","flex-none ml-2 text-green-500"),f(e,"title",n=((u=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:u.install)??"Install")},m(o,u){N(o,e,u),a(e,l),i||(s=pe(l,"click",t[10]),i=!0)},p(o,u){var r,c;u&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&f(e,"title",n)},d(o){o&&M(e),i=!1,s()}}}function gr(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=_("div"),l=_("div"),i=S(n),f(l,"class","bd-yellow"),f(e,"class","my-2")},m(u,r){N(u,e,r),a(e,l),a(l,i)},p(u,r){var c,m;r&8&&n!==(n=(((m=(c=u[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&E(i,n)},d(u){u&&M(e)}}}function vr(t){let e,l=lo($e(t[1].chip,t[1].board))+"",n;return{c(){e=_("div"),n=S(l),f(e,"class","bd-red")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=lo($e(i[1].chip,i[1].board))+"")&&E(n,l)},d(i){i&&M(e)}}}function kr(t){let e,l,n,i,s,o;function u(m,p){return m[5].length==0?km:vm}let r=u(t),c=r(t);return{c(){e=_("div"),l=_("form"),n=_("input"),i=h(),c.c(),tn(n,"display","none"),f(n,"name","file"),f(n,"type","file"),f(n,"accept",".bin"),f(l,"action","firmware"),f(l,"enctype","multipart/form-data"),f(l,"method","post"),f(l,"autocomplete","off"),f(e,"class","my-2 flex")},m(m,p){N(m,e,p),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[pe(n,"change",t[14]),pe(l,"submit",t[16])],s=!0)},p(m,p){r===(r=u(m))&&c?c.p(m,p):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&M(e),t[13](null),c.d(),s=!1,Vt(o)}}}function vm(t){var u;let e=t[5][0].name+"",l,n,i,s=(((u=t[3].btn)==null?void 0:u.upload)??"Upload")+"",o;return{c(){l=S(e),n=h(),i=_("button"),o=S(s),f(i,"type","submit"),f(i,"class","btn-pri-sm float-right ml-2")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&E(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&E(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function km(t){var o,u;let e,l=(((u=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:u.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","btn-pri-sm float-right")},m(r,c){N(r,e,c),a(e,n),i||(s=pe(e,"click",t[15]),i=!0)},p(r,c){var m,p;c&8&&l!==(l=(((p=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:p.btn_select_file)??"Select file")+"")&&E(n,l)},d(r){r&&M(e),i=!1,s()}}}function wr(t){var W,B,O,z,Q,Z;let e,l,n=(((B=(W=t[3].status)==null?void 0:W.backup)==null?void 0:B.title)??"Backup")+"",i,s,o,u,r,c,m,p,d=(((z=(O=t[3].status)==null?void 0:O.backup)==null?void 0:z.secrets)??"Include secrets")+"",b,w,g,k=(((Z=(Q=t[3].status)==null?void 0:Q.backup)==null?void 0:Z.secrets_desc)??"")+"",v,P,q,I,A,R,L,j,V=st(t[9]),G=[];for(let K=0;K<V.length;K+=1)G[K]=Sr(lr(t,V,K));let X=t[2].length==0&&yr(t);function Y(K,ne){return K[2].length==0?Sm:wm}let D=Y(t),y=D(t);return{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("form"),u=_("div");for(let K=0;K<G.length;K+=1)G[K].c();r=h(),c=_("label"),m=_("input"),p=h(),b=S(d),w=_("br"),g=_("small"),v=S(k),P=h(),X&&X.c(),q=h(),I=_("form"),A=_("input"),R=h(),y.c(),f(l,"class","text-sm"),f(m,"type","checkbox"),f(m,"class","rounded"),f(m,"name","ic"),m.value="true",f(c,"class","my-1 mx-3 col-span-2"),f(u,"class","grid grid-cols-2"),f(o,"method","get"),f(o,"action","configfile.cfg"),f(o,"autocomplete","off"),tn(A,"display","none"),f(A,"name","file"),f(A,"type","file"),f(A,"accept",".cfg"),f(I,"autocomplete","off"),f(e,"class","cnt")},m(K,ne){N(K,e,ne),a(e,l),a(l,i),a(e,s),a(e,o),a(o,u);for(let fe=0;fe<G.length;fe+=1)G[fe]&&G[fe].m(u,null);a(u,r),a(u,c),a(c,m),a(c,p),a(c,b),a(c,w),a(c,g),a(g,v),a(o,P),X&&X.m(o,null),a(e,q),a(e,I),a(I,A),t[17](A),a(I,R),y.m(I,null),L||(j=[pe(A,"change",t[18]),pe(I,"submit",mn(t[12]))],L=!0)},p(K,ne){var fe,oe,ie,re,x,$;if(ne&8&&n!==(n=(((oe=(fe=K[3].status)==null?void 0:fe.backup)==null?void 0:oe.title)??"Backup")+"")&&E(i,n),ne&520){V=st(K[9]);let te;for(te=0;te<V.length;te+=1){const ge=lr(K,V,te);G[te]?G[te].p(ge,ne):(G[te]=Sr(ge),G[te].c(),G[te].m(u,r))}for(;te<G.length;te+=1)G[te].d(1);G.length=V.length}ne&8&&d!==(d=(((re=(ie=K[3].status)==null?void 0:ie.backup)==null?void 0:re.secrets)??"Include secrets")+"")&&E(b,d),ne&8&&k!==(k=((($=(x=K[3].status)==null?void 0:x.backup)==null?void 0:$.secrets_desc)??"")+"")&&E(v,k),K[2].length==0?X?X.p(K,ne):(X=yr(K),X.c(),X.m(o,null)):X&&(X.d(1),X=null),D===(D=Y(K))&&y?y.p(K,ne):(y.d(1),y=D(K),y&&(y.c(),y.m(I,null)))},d(K){K&&M(e),el(G,K),X&&X.d(),t[17](null),y.d(),L=!1,Vt(j)}}}function Sr(t){var o,u;let e,l,n,i=(((u=(o=t[3].status)==null?void 0:o.backup)==null?void 0:u[t[21].key])??t[21].name)+"",s;return{c(){e=_("label"),l=_("input"),n=h(),s=S(i),f(l,"type","checkbox"),f(l,"class","rounded"),f(l,"name",t[21].key),l.value="true",l.checked=!0,f(e,"class","my-1 mx-3")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,p;c&8&&i!==(i=(((p=(m=r[3].status)==null?void 0:m.backup)==null?void 0:p[r[21].key])??r[21].name)+"")&&E(s,i)},d(r){r&&M(e)}}}function yr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=_("button"),n=S(l),f(e,"type","submit"),f(e,"class","btn-pri-sm float-right")},m(o,u){N(o,e,u),a(e,n)},p(o,u){var r,c;u&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&E(n,l)},d(o){o&&M(e)}}}function wm(t){var u;let e=t[2][0].name+"",l,n,i,s=(((u=t[3].btn)==null?void 0:u.upload)??"Upload")+"",o;return{c(){l=S(e),n=h(),i=_("button"),o=S(s),f(i,"type","submit"),f(i,"class","btn-pri-sm")},m(r,c){N(r,l,c),N(r,n,c),N(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&E(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&E(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function Sm(t){var o,u;let e,l=(((u=(o=t[3].status)==null?void 0:o.backup)==null?void 0:u.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","btn-pri-sm")},m(r,c){N(r,e,c),a(e,n),i||(s=pe(e,"click",t[19]),i=!0)},p(r,c){var m,p;c&8&&l!==(l=(((p=(m=r[3].status)==null?void 0:m.backup)==null?void 0:p.btn_select_file)??"Select file")+"")&&E(n,l)},d(r){r&&M(e),i=!1,s()}}}function ym(t){var lt,gt,pt,Dt,At,ot,dt,Ht,ct,Oe,Xe,Ft,at,xe,Ne,We,Je,Qe;let e,l,n,i=(((lt=t[3].status)==null?void 0:lt.device.title)??"Device")+"",s,o,u,r=(((pt=(gt=t[3].status)==null?void 0:gt.device)==null?void 0:pt.chip)??"Chip")+"",c,m,p=t[1].chip+"",d,b,w,g,k=(((At=(Dt=t[3].status)==null?void 0:Dt.device)==null?void 0:At.device)??"Device")+"",v,P,q,I,A,R=(((dt=(ot=t[3].status)==null?void 0:ot.device)==null?void 0:dt.mac)??"MAC")+"",L,j,V=t[1].mac+"",G,X,Y,D,y,W,B,O,z=(((ct=(Ht=t[3].status)==null?void 0:Ht.firmware)==null?void 0:ct.title)??"Firmware")+"",Q,Z,K,ne=(((Xe=(Oe=t[3].status)==null?void 0:Oe.firmware)==null?void 0:Xe.installed)??"Installed")+"",fe,oe,ie=t[1].version+"",re,x,$,te,ge,ke,T=(t[1].security==0||t[0].a)&&Hn(t[1].board),C,U,F,H,le,ae,ce,ue=t[1].cpu&&nr(t);q=new Sl({props:{to:"/vendor",$$slots:{default:[dm]},$$scope:{ctx:t}}});let me=t[1].apmac&&t[1].apmac!=t[1].mac&&ir(t),Se=((Ft=t[0])==null?void 0:Ft.a)&&sr(t),we=t[1].meter&&or(t),Te=t[1].net&&ar(t),Ie=((at=t[1].upgrade)==null?void 0:at.m)===!0&&_r(t),Ue=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&pr(t),Ve=((xe=t[1].upgrade)==null?void 0:xe.x)!==void 0&&t[1].upgrade.x!==-1&&dr(t),Ye=t[1].upgrade.n&&hr(t),he=T&&vr(t),ve=(t[1].security==0||t[0].a)&&kr(t),He=(t[1].security==0||t[0].a)&&wr(t);return H=new pl({props:{active:t[6],message:((We=(Ne=t[3].status)==null?void 0:Ne.mask)==null?void 0:We.firmware)??"Uploading"}}),ae=new pl({props:{active:t[8],message:((Qe=(Je=t[3].status)==null?void 0:Je.mask)==null?void 0:Qe.config)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=S(i),o=h(),u=_("div"),c=S(r),m=S(": "),d=S(p),b=h(),ue&&ue.c(),w=h(),g=_("div"),v=S(k),P=S(": "),Me(q.$$.fragment),I=h(),A=_("div"),L=S(R),j=S(": "),G=S(V),X=h(),me&&me.c(),Y=h(),Se&&Se.c(),D=h(),we&&we.c(),y=h(),Te&&Te.c(),W=h(),B=_("div"),O=_("strong"),Q=S(z),Z=h(),K=_("div"),fe=S(ne),oe=S(": "),re=S(ie),x=h(),Ie&&Ie.c(),$=h(),Ue&&Ue.c(),te=h(),Ve&&Ve.c(),ge=h(),Ye&&Ye.c(),ke=h(),he&&he.c(),C=h(),ve&&ve.c(),U=h(),He&&He.c(),F=h(),Me(H.$$.fragment),le=h(),Me(ae.$$.fragment),f(n,"class","text-sm"),f(u,"class","my-2"),f(g,"class","my-2"),f(A,"class","my-2"),f(l,"class","cnt"),f(O,"class","text-sm"),f(K,"class","my-2"),f(B,"class","cnt"),f(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(de,qe){N(de,e,qe),a(e,l),a(l,n),a(n,s),a(l,o),a(l,u),a(u,c),a(u,m),a(u,d),a(u,b),ue&&ue.m(u,null),a(l,w),a(l,g),a(g,v),a(g,P),ye(q,g,null),a(l,I),a(l,A),a(A,L),a(A,j),a(A,G),a(l,X),me&&me.m(l,null),a(l,Y),Se&&Se.m(l,null),a(e,D),we&&we.m(e,null),a(e,y),Te&&Te.m(e,null),a(e,W),a(e,B),a(B,O),a(O,Q),a(B,Z),a(B,K),a(K,fe),a(K,oe),a(K,re),a(B,x),Ie&&Ie.m(B,null),a(B,$),Ue&&Ue.m(B,null),a(B,te),Ve&&Ve.m(B,null),a(B,ge),Ye&&Ye.m(B,null),a(B,ke),he&&he.m(B,null),a(B,C),ve&&ve.m(B,null),a(e,U),He&&He.m(e,null),N(de,F,qe),ye(H,de,qe),N(de,le,qe),ye(ae,de,qe),ce=!0},p(de,[qe]){var Ge,rt,Fe,Ee,Re,Le,De,et,it,ut,wt,Rt,Gt,kt,jt,sl,Bt,nt;(!ce||qe&8)&&i!==(i=(((Ge=de[3].status)==null?void 0:Ge.device.title)??"Device")+"")&&E(s,i),(!ce||qe&8)&&r!==(r=(((Fe=(rt=de[3].status)==null?void 0:rt.device)==null?void 0:Fe.chip)??"Chip")+"")&&E(c,r),(!ce||qe&2)&&p!==(p=de[1].chip+"")&&E(d,p),de[1].cpu?ue?ue.p(de,qe):(ue=nr(de),ue.c(),ue.m(u,null)):ue&&(ue.d(1),ue=null),(!ce||qe&8)&&k!==(k=(((Re=(Ee=de[3].status)==null?void 0:Ee.device)==null?void 0:Re.device)??"Device")+"")&&E(v,k);const bt={};qe&16777218&&(bt.$$scope={dirty:qe,ctx:de}),q.$set(bt),(!ce||qe&8)&&R!==(R=(((De=(Le=de[3].status)==null?void 0:Le.device)==null?void 0:De.mac)??"MAC")+"")&&E(L,R),(!ce||qe&2)&&V!==(V=de[1].mac+"")&&E(G,V),de[1].apmac&&de[1].apmac!=de[1].mac?me?(me.p(de,qe),qe&2&&ee(me,1)):(me=ir(de),me.c(),ee(me,1),me.m(l,Y)):me&&(Pt(),se(me,1,1,()=>{me=null}),Tt()),(et=de[0])!=null&&et.a?Se?(Se.p(de,qe),qe&1&&ee(Se,1)):(Se=sr(de),Se.c(),ee(Se,1),Se.m(l,null)):Se&&(Pt(),se(Se,1,1,()=>{Se=null}),Tt()),de[1].meter?we?we.p(de,qe):(we=or(de),we.c(),we.m(e,y)):we&&(we.d(1),we=null),de[1].net?Te?Te.p(de,qe):(Te=ar(de),Te.c(),Te.m(e,W)):Te&&(Te.d(1),Te=null),(!ce||qe&8)&&z!==(z=(((ut=(it=de[3].status)==null?void 0:it.firmware)==null?void 0:ut.title)??"Firmware")+"")&&E(Q,z),(!ce||qe&8)&&ne!==(ne=(((Rt=(wt=de[3].status)==null?void 0:wt.firmware)==null?void 0:Rt.installed)??"Installed")+"")&&E(fe,ne),(!ce||qe&2)&&ie!==(ie=de[1].version+"")&&E(re,ie),((Gt=de[1].upgrade)==null?void 0:Gt.m)===!0?Ie?Ie.p(de,qe):(Ie=_r(de),Ie.c(),Ie.m(B,$)):Ie&&(Ie.d(1),Ie=null),de[1].upgrade.t&&de[1].upgrade.t!=de[1].version&&de[1].upgrade.e!=0&&de[1].upgrade.e!=123?Ue?Ue.p(de,qe):(Ue=pr(de),Ue.c(),Ue.m(B,te)):Ue&&(Ue.d(1),Ue=null),((kt=de[1].upgrade)==null?void 0:kt.x)!==void 0&&de[1].upgrade.x!==-1?Ve?Ve.p(de,qe):(Ve=dr(de),Ve.c(),Ve.m(B,ge)):Ve&&(Ve.d(1),Ve=null),de[1].upgrade.n?Ye?Ye.p(de,qe):(Ye=hr(de),Ye.c(),Ye.m(B,ke)):Ye&&(Ye.d(1),Ye=null),qe&3&&(T=(de[1].security==0||de[0].a)&&Hn(de[1].board)),T?he?he.p(de,qe):(he=vr(de),he.c(),he.m(B,C)):he&&(he.d(1),he=null),de[1].security==0||de[0].a?ve?ve.p(de,qe):(ve=kr(de),ve.c(),ve.m(B,null)):ve&&(ve.d(1),ve=null),de[1].security==0||de[0].a?He?He.p(de,qe):(He=wr(de),He.c(),He.m(e,null)):He&&(He.d(1),He=null);const Ut={};qe&64&&(Ut.active=de[6]),qe&8&&(Ut.message=((sl=(jt=de[3].status)==null?void 0:jt.mask)==null?void 0:sl.firmware)??"Uploading"),H.$set(Ut);const vt={};qe&256&&(vt.active=de[8]),qe&8&&(vt.message=((nt=(Bt=de[3].status)==null?void 0:Bt.mask)==null?void 0:nt.config)??"Uploading"),ae.$set(vt)},i(de){ce||(ee(q.$$.fragment,de),ee(me),ee(Se),ee(H.$$.fragment,de),ee(ae.$$.fragment,de),ce=!0)},o(de){se(q.$$.fragment,de),se(me),se(Se),se(H.$$.fragment,de),se(ae.$$.fragment,de),ce=!1},d(de){de&&(M(e),M(F),M(le)),ue&&ue.d(),Ce(q),me&&me.d(),Se&&Se.d(),we&&we.d(),Te&&Te.d(),Ie&&Ie.d(),Ue&&Ue.d(),Ve&&Ve.d(),Ye&&Ye.d(),he&&he.d(),ve&&ve.d(),He&&He.d(),Ce(H,de),Ce(ae,de)}}}async function Cm(){await(await fetch("reboot",{method:"POST"})).json()}function Mm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Nl.subscribe(j=>{l(3,o=j)});function u(){var j;confirm((((j=o.header)==null?void 0:j.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(rf(i.upgrade.n),ml.update(V=>(V.upgrade.t=i.upgrade.n,V.upgrade.p=0,V.upgrading=!0,V)))}const r=function(){var j;confirm(((j=o.device)==null?void 0:j.reboot_confirm)??"Reboot?")&&(ml.update(V=>(V.booting=!0,V)),Cm())};let c,m=[],p=!1,d,b=[],w=!1;Si();let g={hostname:"",ip:""};function k(j){l(8,w=!0);const V=new FormData;V.append("file",b[0]),fetch("configfile",{method:"POST",body:V}).then(G=>G.json()).then(G=>{ml.update(X=>(g&&g.hostname&&(X.hostname=g.hostname),X.booting=G.reboot,g&&g.ip&&(X.net.ip=g.ip),setTimeout(un,5e3,i),X))}).catch(G=>{console.error("Error:",G),setTimeout(un,5e3,i)})}function v(j){pi[j?"unshift":"push"](()=>{c=j,l(4,c)})}function P(){m=this.files,l(5,m)}const q=()=>{c.click()},I=()=>l(6,p=!0);function A(j){pi[j?"unshift":"push"](()=>{d=j,l(7,d)})}function R(){b=this.files,l(2,b)}const L=()=>{d.click()};return t.$$set=j=>{"data"in j&&l(0,n=j.data),"sysinfo"in j&&l(1,i=j.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&b.length==1){let j=b[0],V=new FileReader,G=X=>{let Y=X.target.result.split(`
`);for(let D in Y){let y=Y[D];y.startsWith("hostname ")?g.hostname=y.split(" ")[1]:y.startsWith("ip ")&&(g.ip=y.split(" ")[1])}};V.onload=G,V.readAsText(j)}},[n,i,b,o,c,m,p,d,w,s,u,r,k,v,P,q,I,A,R,L]}class Nm extends Ot{constructor(e){super(),It(this,e,Mm,ym,Lt,{data:0,sysinfo:1})}}function Cr(t){let e,l,n=$e(t[0],7)+"",i,s,o=$e(t[0],5)+"",u,r,c=$e(t[0],4)+"",m,p,d=$e(t[0],3)+"",b,w,g,k,v=$e(t[0],2)+"",P,q,I=$e(t[0],1)+"",A,R,L=$e(t[0],0)+"",j,V,G,X,Y=$e(t[0],101)+"",D,y,W=$e(t[0],100)+"",B;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(o),r=_("option"),m=S(c),p=_("option"),b=S(d),w=h(),g=_("optgroup"),k=_("option"),P=S(v),q=_("option"),A=S(I),R=_("option"),j=S(L),V=h(),G=_("optgroup"),X=_("option"),D=S(Y),y=_("option"),B=S(W),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),p.__value=3,J(p,p.__value),f(e,"label","amsleser.no"),k.__value=2,J(k,k.__value),q.__value=1,J(q,q.__value),R.__value=0,J(R,R.__value),f(g,"label","Custom hardware"),X.__value=101,J(X,X.__value),y.__value=100,J(y,y.__value),f(G,"label","Generic hardware")},m(O,z){N(O,e,z),a(e,l),a(l,i),a(e,s),a(s,u),a(e,r),a(r,m),a(e,p),a(p,b),N(O,w,z),N(O,g,z),a(g,k),a(k,P),a(g,q),a(q,A),a(g,R),a(R,j),N(O,V,z),N(O,G,z),a(G,X),a(X,D),a(G,y),a(y,B)},p(O,z){z&1&&n!==(n=$e(O[0],7)+"")&&E(i,n),z&1&&o!==(o=$e(O[0],5)+"")&&E(u,o),z&1&&c!==(c=$e(O[0],4)+"")&&E(m,c),z&1&&d!==(d=$e(O[0],3)+"")&&E(b,d),z&1&&v!==(v=$e(O[0],2)+"")&&E(P,v),z&1&&I!==(I=$e(O[0],1)+"")&&E(A,I),z&1&&L!==(L=$e(O[0],0)+"")&&E(j,L),z&1&&Y!==(Y=$e(O[0],101)+"")&&E(D,Y),z&1&&W!==(W=$e(O[0],100)+"")&&E(B,W)},d(O){O&&(M(e),M(w),M(g),M(V),M(G))}}}function Mr(t){let e,l,n=$e(t[0],201)+"",i,s,o=$e(t[0],202)+"",u,r,c=$e(t[0],203)+"",m,p,d=$e(t[0],241)+"",b,w,g=$e(t[0],242)+"",k,v,P=$e(t[0],243)+"",q,I,A=$e(t[0],245)+"",R,L,j=$e(t[0],200)+"",V;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(o),r=_("option"),m=S(c),p=_("option"),b=S(d),w=_("option"),k=S(g),v=_("option"),q=S(P),I=_("option"),R=S(A),L=_("option"),V=S(j),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),p.__value=241,J(p,p.__value),w.__value=242,J(w,w.__value),v.__value=243,J(v,v.__value),I.__value=245,J(I,I.__value),L.__value=200,J(L,L.__value),f(e,"label","Generic hardware")},m(G,X){N(G,e,X),a(e,l),a(l,i),a(e,s),a(s,u),a(e,r),a(r,m),a(e,p),a(p,b),a(e,w),a(w,k),a(e,v),a(v,q),a(e,I),a(I,R),a(e,L),a(L,V)},p(G,X){X&1&&n!==(n=$e(G[0],201)+"")&&E(i,n),X&1&&o!==(o=$e(G[0],202)+"")&&E(u,o),X&1&&c!==(c=$e(G[0],203)+"")&&E(m,c),X&1&&d!==(d=$e(G[0],241)+"")&&E(b,d),X&1&&g!==(g=$e(G[0],242)+"")&&E(k,g),X&1&&P!==(P=$e(G[0],243)+"")&&E(q,P),X&1&&A!==(A=$e(G[0],245)+"")&&E(R,A),X&1&&j!==(j=$e(G[0],200)+"")&&E(V,j)},d(G){G&&M(e)}}}function Nr(t){let e,l,n=$e(t[0],7)+"",i,s,o=$e(t[0],6)+"",u,r,c=$e(t[0],5)+"",m,p,d,b,w=$e(t[0],51)+"",g,k,v=$e(t[0],50)+"",P;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=_("option"),u=S(o),r=_("option"),m=S(c),p=h(),d=_("optgroup"),b=_("option"),g=S(w),k=_("option"),P=S(v),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),f(e,"label","amsleser.no"),b.__value=51,J(b,b.__value),k.__value=50,J(k,k.__value),f(d,"label","Generic hardware")},m(q,I){N(q,e,I),a(e,l),a(l,i),a(e,s),a(s,u),a(e,r),a(r,m),N(q,p,I),N(q,d,I),a(d,b),a(b,g),a(d,k),a(k,P)},p(q,I){I&1&&n!==(n=$e(q[0],7)+"")&&E(i,n),I&1&&o!==(o=$e(q[0],6)+"")&&E(u,o),I&1&&c!==(c=$e(q[0],5)+"")&&E(m,c),I&1&&w!==(w=$e(q[0],51)+"")&&E(g,w),I&1&&v!==(v=$e(q[0],50)+"")&&E(P,v)},d(q){q&&(M(e),M(p),M(d))}}}function Pr(t){let e,l,n=$e(t[0],8)+"",i,s,o,u,r=$e(t[0],71)+"",c,m,p=$e(t[0],70)+"",d;return{c(){e=_("optgroup"),l=_("option"),i=S(n),s=h(),o=_("optgroup"),u=_("option"),c=S(r),m=_("option"),d=S(p),l.__value=8,J(l,l.__value),f(e,"label","Custom hardware"),u.__value=71,J(u,u.__value),m.__value=70,J(m,m.__value),f(o,"label","Generic hardware")},m(b,w){N(b,e,w),a(e,l),a(l,i),N(b,s,w),N(b,o,w),a(o,u),a(u,c),a(o,m),a(m,d)},p(b,w){w&1&&n!==(n=$e(b[0],8)+"")&&E(i,n),w&1&&r!==(r=$e(b[0],71)+"")&&E(c,r),w&1&&p!==(p=$e(b[0],70)+"")&&E(d,p)},d(b){b&&(M(e),M(s),M(o))}}}function Tr(t){let e,l,n=$e(t[0],200)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=S(n),l.__value=200,J(l,l.__value),f(e,"label","Generic hardware")},m(s,o){N(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=$e(s[0],200)+"")&&E(i,n)},d(s){s&&M(e)}}}function Er(t){let e,l,n=$e(t[0],80)+"",i;return{c(){e=_("optgroup"),l=_("option"),i=S(n),l.__value=80,J(l,l.__value),f(e,"label","Generic hardware")},m(s,o){N(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=$e(s[0],80)+"")&&E(i,n)},d(s){s&&M(e)}}}function Pm(t){let e,l,n,i,s,o,u,r,c=t[0]=="esp8266"&&Cr(t),m=t[0]=="esp32"&&Mr(t),p=t[0]=="esp32s2"&&Nr(t),d=t[0]=="esp32c3"&&Pr(t),b=t[0]=="esp32solo"&&Tr(t),w=t[0]=="esp32s3"&&Er(t);return{c(){e=_("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),p&&p.c(),s=h(),d&&d.c(),o=h(),b&&b.c(),u=h(),w&&w.c(),r=tl(),e.__value=-1,J(e,e.__value)},m(g,k){N(g,e,k),N(g,l,k),c&&c.m(g,k),N(g,n,k),m&&m.m(g,k),N(g,i,k),p&&p.m(g,k),N(g,s,k),d&&d.m(g,k),N(g,o,k),b&&b.m(g,k),N(g,u,k),w&&w.m(g,k),N(g,r,k)},p(g,[k]){g[0]=="esp8266"?c?c.p(g,k):(c=Cr(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?m?m.p(g,k):(m=Mr(g),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]=="esp32s2"?p?p.p(g,k):(p=Nr(g),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),g[0]=="esp32c3"?d?d.p(g,k):(d=Pr(g),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),g[0]=="esp32solo"?b?b.p(g,k):(b=Tr(g),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null),g[0]=="esp32s3"?w?w.p(g,k):(w=Er(g),w.c(),w.m(r.parentNode,r)):w&&(w.d(1),w=null)},i:Ke,o:Ke,d(g){g&&(M(e),M(l),M(n),M(i),M(s),M(o),M(u),M(r)),c&&c.d(g),m&&m.d(g),p&&p.d(g),d&&d.d(g),b&&b.d(g),w&&w.d(g)}}}function Tm(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class Em extends Ot{constructor(e){super(),It(this,e,Tm,Pm,Lt,{chip:0})}}function Ar(t){let e;return{c(){e=_("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",f(e,"class","bd-red")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function qr(t){let e,l,n,i,s,o,u;return o=new T1({props:{chip:t[0].chip}}),{c(){e=_("div"),l=S("HAN GPIO"),n=_("br"),i=h(),s=_("select"),Me(o.$$.fragment),f(s,"name","vh"),f(s,"class","in-s"),f(e,"class","my-3")},m(r,c){N(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),ye(o,s,null),u=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){u||(ee(o.$$.fragment,r),u=!0)},o(r){se(o.$$.fragment,r),u=!1},d(r){r&&M(e),Ce(o)}}}function Am(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y,D,y=t[0].usrcfg&&Ar();w=new Em({props:{chip:t[0].chip}});let W=t[0].board&&t[0].board>20&&qr(t);return G=new pl({props:{active:t[1],message:"Saving"}}),{c(){e=_("div"),l=_("div"),n=_("form"),i=_("input"),s=h(),o=_("strong"),o.textContent="Initial configuration",u=h(),y&&y.c(),r=h(),c=_("div"),m=S("Board type"),p=_("br"),d=h(),b=_("select"),Me(w.$$.fragment),g=h(),W&&W.c(),k=h(),v=_("div"),P=_("label"),q=_("input"),I=S(" Clear all other configuration"),A=h(),R=_("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',L=h(),j=_("span"),j.textContent=" ",V=h(),Me(G.$$.fragment),f(i,"type","hidden"),f(i,"name","v"),i.value="true",f(o,"class","text-sm"),f(b,"name","vb"),f(b,"class","in-s"),t[0].board===void 0&&Jt(()=>t[5].call(b)),f(c,"class","my-3"),f(q,"type","checkbox"),f(q,"name","vr"),q.__value="true",J(q,q.__value),f(q,"class","rounded mb-1"),f(v,"class","my-3"),f(R,"class","my-3"),f(j,"class","clear-both"),f(n,"autocomplete","off"),f(l,"class","cnt"),f(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(B,O){N(B,e,O),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,u),y&&y.m(n,null),a(n,r),a(n,c),a(c,m),a(c,p),a(c,d),a(c,b),ye(w,b,null),ft(b,t[0].board,!0),a(n,g),W&&W.m(n,null),a(n,k),a(n,v),a(v,P),a(P,q),q.checked=t[2],a(P,I),a(n,A),a(n,R),a(n,L),a(n,j),N(B,V,O),ye(G,B,O),X=!0,Y||(D=[pe(b,"change",t[5]),pe(q,"change",t[6]),pe(n,"submit",mn(t[3]))],Y=!0)},p(B,[O]){B[0].usrcfg?y||(y=Ar(),y.c(),y.m(n,r)):y&&(y.d(1),y=null);const z={};O&1&&(z.chip=B[0].chip),w.$set(z),O&1&&ft(b,B[0].board),B[0].board&&B[0].board>20?W?(W.p(B,O),O&1&&ee(W,1)):(W=qr(B),W.c(),ee(W,1),W.m(n,k)):W&&(Pt(),se(W,1,1,()=>{W=null}),Tt()),O&4&&(q.checked=B[2]);const Q={};O&2&&(Q.active=B[1]),G.$set(Q)},i(B){X||(ee(w.$$.fragment,B),ee(W),ee(G.$$.fragment,B),X=!0)},o(B){se(w.$$.fragment,B),se(W),se(G.$$.fragment,B),X=!1},d(B){B&&(M(e),M(V)),y&&y.d(),Ce(w),W&&W.d(),Ce(G,B),Y=!1,Vt(D)}}}function qm(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const p=new FormData(m.target),d=new URLSearchParams;for(let g of p){const[k,v]=g;d.append(k,v)}let w=await(await fetch("save",{method:"POST",body:d})).json();l(1,s=!1),ml.update(g=>(g.vndcfg=w.success,g.booting=w.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),jl(n+(i.usrcfg?"":"setup"))}let u=!0;ml.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,u=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){u=this.checked,l(2,u)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,u,o,n,r,c]}class Lm extends Ot{constructor(e){super(),It(this,e,qm,Am,Lt,{basepath:4,sysinfo:0})}}function Lr(t,e,l){const n=t.slice();return n[33]=e[l],n}function Dr(t,e,l){const n=t.slice();return n[36]=e[l],n[38]=l,n}function Dm(t){var u;let e,l,n=((u=t[1])==null?void 0:u.c)==-1&&Ir(t);function i(r,c){var m,p,d;if((p=(m=r[1])==null?void 0:m.n)!=null&&p.length)return Fm;if(((d=r[1])==null?void 0:d.c)!=-1)return Om}let s=i(t),o=s&&s(t);return{c(){n&&n.c(),e=h(),o&&o.c(),l=tl()},m(r,c){n&&n.m(r,c),N(r,e,c),o&&o.m(r,c),N(r,l,c)},p(r,c){var m;((m=r[1])==null?void 0:m.c)==-1?n?n.p(r,c):(n=Ir(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s===(s=i(r))&&o?o.p(r,c):(o&&o.d(1),o=s&&s(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&(M(e),M(l)),n&&n.d(r),o&&o.d(r)}}}function Im(t){let e;return{c(){e=_("input"),f(e,"name","ss"),f(e,"type","text"),f(e,"pattern",Yn),f(e,"placeholder","Enter network name (SSID)"),f(e,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),e.required=vs==1},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Ir(t){var u,r;let e,l,n,i,s=(((r=(u=t[3].conf)==null?void 0:u.connection)==null?void 0:r.searching)??"Scanning for networks...")+"",o;return{c(){e=_("div"),l=_("div"),n=h(),i=_("span"),o=S(s),f(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"),f(i,"class","text-sm"),f(e,"class","flex items-center justify-center py-8 text-slate-500 dark:text-slate-400")},m(c,m){N(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var p,d;m[0]&8&&s!==(s=(((d=(p=c[3].conf)==null?void 0:p.connection)==null?void 0:d.searching)??"Scanning for networks...")+"")&&E(o,s)},d(c){c&&M(e)}}}function Om(t){var d,b;let e,l,n,i,s,o=(((b=(d=t[3].conf)==null?void 0:d.connection)==null?void 0:b.no_networks)??"No networks found")+"",u,r,c,m,p;return{c(){e=_("div"),l=Et("svg"),n=Et("path"),i=h(),s=_("p"),u=S(o),r=h(),c=_("button"),c.textContent="Enter network manually",f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),f(l,"class","w-12 h-12 mx-auto mb-3 opacity-50"),f(l,"fill","none"),f(l,"stroke","currentColor"),f(l,"viewBox","0 0 24 24"),f(s,"class","text-sm"),f(c,"type","button"),f(c,"class","mt-2 text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"),f(e,"class","text-center py-8 text-slate-500 dark:text-slate-400")},m(w,g){N(w,e,g),a(e,l),a(l,n),a(e,i),a(e,s),a(s,u),a(e,r),a(e,c),m||(p=pe(c,"click",t[16]),m=!0)},p(w,g){var k,v;g[0]&8&&o!==(o=(((v=(k=w[3].conf)==null?void 0:k.connection)==null?void 0:v.no_networks)??"No networks found")+"")&&E(u,o)},d(w){w&&M(e),m=!1,p()}}}function Fm(t){let e,l=[],n=new Map,i=st(t[1].n);const s=o=>o[36].s??o[38];for(let o=0;o<i.length;o+=1){let u=Dr(t,i,o),r=s(u);n.set(r,l[o]=Fr(r,u))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","space-y-2 max-h overflow-y-auto")},m(o,u){N(o,e,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,u){u[0]&906&&(i=st(o[1].n),l=Cu(l,u,s,1,o,i,n,e,yu,Fr,null,Dr))},d(o){o&&M(e);for(let u=0;u<l.length;u+=1)l[u].d()}}}function Or(t){let e;return{c(){e=_("div"),f(e,"class","w-2 h-2 bg-blue-600 rounded-full")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Fr(t,e){var Y,D,y,W,B;let l,n,i,s,o=!1,u,r,c,m=(e[36].s||(((D=(Y=e[3].conf)==null?void 0:Y.connection)==null?void 0:D.hidden_ssid)??"Hidden network"))+"",p,d,b,w=(((y=e[7][e[38]])==null?void 0:y.title)??((B=(W=e[3].conf)==null?void 0:W.connection)==null?void 0:B.wifi_offline)??"Signal unavailable")+"",g,k,v,P,q,I,A,R,L,j,V,G,X=e[8]===e[36].s&&Or();return j=_i(e[15][0]),{key:t,first:null,c(){var O,z,Q;l=_("label"),n=_("span"),i=_("input"),u=h(),r=_("span"),c=_("span"),p=S(m),d=h(),b=_("span"),g=S(w),k=h(),v=_("div"),P=_("img"),R=h(),X&&X.c(),L=h(),f(i,"type","radio"),f(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),f(i,"name","ss"),i.__value=s=e[36].s,J(i,i.__value),i.required=vs==1,f(c,"class","font-medium text-slate-900 dark:text-slate-100 truncate"),f(b,"class","text-xs text-slate-500 dark:text-slate-400"),f(r,"class","flex flex-col min-w-0 flex-1"),f(n,"class","flex items-center gap-3 flex-1 min-w-0"),f(P,"class","h-5 w-5 opacity-70 group-hover:opacity-100"),fn(P.src,q=((O=e[7][e[38]])==null?void 0:O.icon)??e[9].off)||f(P,"src",q),f(P,"alt",I=((z=e[7][e[38]])==null?void 0:z.title)??"Wi-Fi offline"),f(P,"title",A=((Q=e[7][e[38]])==null?void 0:Q.title)??"Wi-Fi offline"),f(v,"class","flex items-center gap-2 flex-shrink-0"),f(l,"class","group flex items-center justify-between gap-4 rounded-lg border border-slate-200 bg-slate-50/50 px-4 py-3 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/50 dark:hover:border-blue-300 dark:hover:bg-slate-700 cursor-pointer"),j.p(i),this.first=l},m(O,z){N(O,l,z),a(l,n),a(n,i),i.checked=i.__value===e[8],a(n,u),a(n,r),a(r,c),a(c,p),a(r,d),a(r,b),a(b,g),a(l,k),a(l,v),a(v,P),a(v,R),X&&X.m(v,null),a(l,L),V||(G=pe(i,"change",e[14]),V=!0)},p(O,z){var Q,Z,K,ne,fe,oe,ie,re;e=O,z[0]&2&&s!==(s=e[36].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||z[0]&258)&&(i.checked=i.__value===e[8]),z[0]&10&&m!==(m=(e[36].s||(((Z=(Q=e[3].conf)==null?void 0:Q.connection)==null?void 0:Z.hidden_ssid)??"Hidden network"))+"")&&E(p,m),z[0]&138&&w!==(w=(((K=e[7][e[38]])==null?void 0:K.title)??((fe=(ne=e[3].conf)==null?void 0:ne.connection)==null?void 0:fe.wifi_offline)??"Signal unavailable")+"")&&E(g,w),z[0]&130&&!fn(P.src,q=((oe=e[7][e[38]])==null?void 0:oe.icon)??e[9].off)&&f(P,"src",q),z[0]&130&&I!==(I=((ie=e[7][e[38]])==null?void 0:ie.title)??"Wi-Fi offline")&&f(P,"alt",I),z[0]&130&&A!==(A=((re=e[7][e[38]])==null?void 0:re.title)??"Wi-Fi offline")&&f(P,"title",A),e[8]===e[36].s?X||(X=Or(),X.c(),X.m(v,null)):X&&(X.d(1),X=null)},d(O){O&&M(l),X&&X.d(),j.r(),V=!1,G()}}}function Rr(t){var G,X,Y,D;let e,l,n,i,s,o,u,r,c,m,p,d,b,w=(((X=(G=t[3].conf)==null?void 0:G.network)==null?void 0:X.gw)??"Gateway")+"",g,k,v,P,q,I,A=(((D=(Y=t[3].conf)==null?void 0:Y.network)==null?void 0:D.dns)??"DNS Server")+"",R,L,j,V;return c=new O1({}),{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Static IP Address",i=h(),s=_("div"),o=_("input"),u=h(),r=_("select"),Me(c.$$.fragment),m=h(),p=_("div"),d=_("div"),b=_("label"),g=S(w),k=h(),v=_("input"),P=h(),q=_("div"),I=_("label"),R=S(A),L=h(),j=_("input"),f(n,"for","static-ip"),f(n,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(o,"id","static-ip"),f(o,"name","si"),f(o,"type","text"),f(o,"class","flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),o.required=t[5],f(o,"pattern",Ei),f(o,"placeholder","192.168.1.100"),f(r,"name","su"),f(r,"class","px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),r.required=t[5],f(s,"class","flex space-x-2"),f(b,"for","gateway"),f(b,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(v,"id","gateway"),f(v,"name","sg"),f(v,"type","text"),f(v,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(v,"pattern",Ei),f(v,"placeholder","192.168.1.1"),f(I,"for","dns"),f(I,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(j,"id","dns"),f(j,"name","sd"),f(j,"type","text"),f(j,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(j,"pattern",Ei),f(j,"placeholder","8.8.8.8"),f(p,"class","grid grid-cols-2 gap-4"),f(e,"class","mt-4 space-y-4 p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-600")},m(y,W){N(y,e,W),a(e,l),a(l,n),a(l,i),a(l,s),a(s,o),a(s,u),a(s,r),ye(c,r,null),a(e,m),a(e,p),a(p,d),a(d,b),a(b,g),a(d,k),a(d,v),a(p,P),a(p,q),a(q,I),a(I,R),a(q,L),a(q,j),V=!0},p(y,W){var B,O,z,Q;(!V||W[0]&32)&&(o.required=y[5]),(!V||W[0]&32)&&(r.required=y[5]),(!V||W[0]&8)&&w!==(w=(((O=(B=y[3].conf)==null?void 0:B.network)==null?void 0:O.gw)??"Gateway")+"")&&E(g,w),(!V||W[0]&8)&&A!==(A=(((Q=(z=y[3].conf)==null?void 0:z.network)==null?void 0:Q.dns)??"DNS Server")+"")&&E(R,A)},i(y){V||(ee(c.$$.fragment,y),V=!0)},o(y){se(c.$$.fragment,y),V=!1},d(y){y&&M(e),Ce(c)}}}function Ur(t){var P,q,I,A;let e,l,n,i,s,o,u,r=(((q=(P=t[3].setup)==null?void 0:P.reconnect)==null?void 0:q.title)??"Setup Complete!")+"",c,m,p,d=(((A=(I=t[3].setup)==null?void 0:I.reconnect)==null?void 0:A.info)??"Device is rebooting. You can reconnect using these addresses:")+"",b,w,g,k=st(t[6]),v=[];for(let R=0;R<k.length;R+=1)v[R]=Br(Lr(t,k,R));return{c(){e=_("div"),l=_("div"),n=Et("svg"),i=Et("path"),s=h(),o=_("div"),u=_("h4"),c=S(r),m=h(),p=_("p"),b=S(d),w=h(),g=_("div");for(let R=0;R<v.length;R+=1)v[R].c();f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),f(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),f(n,"fill","none"),f(n,"stroke","currentColor"),f(n,"viewBox","0 0 24 24"),f(u,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),f(p,"class","text-sm text-green-700 dark:text-green-300 mb-3"),f(g,"class","space-y-1"),f(l,"class","flex items-start"),f(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(R,L){N(R,e,L),a(e,l),a(l,n),a(n,i),a(l,s),a(l,o),a(o,u),a(u,c),a(o,m),a(o,p),a(p,b),a(o,w),a(o,g);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(g,null)},p(R,L){var j,V,G,X;if(L[0]&8&&r!==(r=(((V=(j=R[3].setup)==null?void 0:j.reconnect)==null?void 0:V.title)??"Setup Complete!")+"")&&E(c,r),L[0]&8&&d!==(d=(((X=(G=R[3].setup)==null?void 0:G.reconnect)==null?void 0:X.info)??"Device is rebooting. You can reconnect using these addresses:")+"")&&E(b,d),L[0]&64){k=st(R[6]);let Y;for(Y=0;Y<k.length;Y+=1){const D=Lr(R,k,Y);v[Y]?v[Y].p(D,L):(v[Y]=Br(D),v[Y].c(),v[Y].m(g,null))}for(;Y<v.length;Y+=1)v[Y].d(1);v.length=k.length}},d(R){R&&M(e),el(v,R)}}}function Br(t){let e,l,n=(t[33].startsWith("http://")||t[33].startsWith("https://")?t[33]:`http://${t[33]}`)+"",i,s;return{c(){e=_("div"),l=_("code"),i=S(n),s=h(),f(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),f(e,"class","flex items-center")},m(o,u){N(o,e,u),a(e,l),a(l,i),a(e,s)},p(o,u){u[0]&64&&n!==(n=(o[33].startsWith("http://")||o[33].startsWith("https://")?o[33]:`http://${o[33]}`)+"")&&E(i,n)},d(o){o&&M(e)}}}function Rm(t){var lt,gt,pt,Dt,At,ot,dt,Ht,ct;let e,l,n,i,s,o,u,r,c,m,p,d=(((lt=t[3].setup)==null?void 0:lt.title)??"WiFi Setup")+"",b,w,g,k,v,P,q,I=(((pt=(gt=t[3].conf)==null?void 0:gt.connection)==null?void 0:pt.ssid)??"Select Network")+"",A,R,L,j=t[4]?"Show Networks":"Manual Entry",V,G,X,Y,D,y=(((At=(Dt=t[3].conf)==null?void 0:Dt.connection)==null?void 0:At.psk)??"WiFi Password")+"",W,B,O,z,Q,Z,K=(((dt=(ot=t[3].conf)==null?void 0:ot.general)==null?void 0:dt.hostname)??"Device Name")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,T,C,U,F,H,le,ae,ce=(((Ht=t[3].btn)==null?void 0:Ht.save)??"Connect & Continue")+"",ue,me,Se,we,Te,Ie,Ue;function Ve(Oe,Xe){return Oe[4]?Im:Dm}let Ye=Ve(t),he=Ye(t),ve=t[5]&&Rr(t),He=t[6].length&&Ur(t);return we=new pl({props:{active:t[2],message:((ct=t[3].setup)==null?void 0:ct.mask)??"Connecting..."}}),{c(){e=_("div"),l=_("div"),l.innerHTML=`<svg class="w-24 h-24 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${fs}" class="w-full h-full"/></svg>`,n=h(),i=_("div"),s=_("form"),o=_("input"),u=h(),r=_("input"),c=h(),m=_("div"),p=_("h1"),b=S(d),w=h(),g=_("p"),g.textContent="Connect your device to the internet",k=h(),v=_("div"),P=_("div"),q=_("span"),A=S(I),R=h(),L=_("button"),V=S(j),G=h(),he.c(),X=h(),Y=_("div"),D=_("label"),W=S(y),B=h(),O=_("input"),z=h(),Q=_("div"),Z=_("label"),ne=S(K),fe=h(),oe=_("input"),ie=h(),re=_("p"),re.textContent="Optional: Give your device a custom name",x=h(),$=_("div"),te=_("button"),ge=_("span"),ge.textContent="Advanced Network Settings",ke=h(),T=Et("svg"),C=Et("path"),F=h(),ve&&ve.c(),H=h(),le=_("div"),ae=_("button"),ue=S(ce),me=h(),He&&He.c(),Se=h(),Me(we.$$.fragment),f(l,"class","mb-8"),f(o,"type","hidden"),f(o,"name","s"),o.value="true",f(r,"type","hidden"),f(r,"name","fw"),r.value="true",f(p,"class","text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-2"),f(g,"class","text-sm text-slate-600 dark:text-slate-400"),f(m,"class","text-center mb-8"),f(q,"class","block text-sm font-medium text-slate-900 dark:text-slate-100"),f(L,"type","button"),f(L,"class","text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium"),f(P,"class","flex items-center justify-between mb-3"),f(v,"class","mb-6"),f(D,"for","wifi-password"),f(D,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(O,"id","wifi-password"),f(O,"name","sp"),f(O,"type","password"),f(O,"pattern",Yn),f(O,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(O,"placeholder","Enter WiFi password"),f(O,"autocomplete","off"),O.required=vs==2,f(Y,"class","mb-6"),f(Z,"for","hostname-input"),f(Z,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(oe,"id","hostname-input"),f(oe,"name","sh"),f(oe,"type","text"),f(oe,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(oe,"maxlength","32"),f(oe,"pattern",Xn),f(oe,"placeholder","e.g., ams-reader-01"),f(oe,"autocomplete","off"),f(re,"class","mt-1 text-xs text-slate-500 dark:text-slate-400"),f(Q,"class","mb-6"),f(ge,"class","text-sm font-medium text-slate-900 dark:text-slate-100"),f(C,"stroke-linecap","round"),f(C,"stroke-linejoin","round"),f(C,"stroke-width","2"),f(C,"d","M19 9l-7 7-7-7"),f(T,"class",U="w-4 h-4 text-slate-500 dark:text-slate-400 transform transition-transform "+(t[5]?"rotate-180":"")),f(T,"fill","none"),f(T,"stroke","currentColor"),f(T,"viewBox","0 0 24 24"),f(te,"type","button"),f(te,"class","flex items-center justify-between w-full p-3 text-left bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"),f($,"class","mb-6"),f(ae,"type","submit"),f(ae,"class","w-full bg-neas-lightgreen hover:bg-neas-lightgreen-30 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),f(le,"class","text-center"),f(i,"class","bg-neas-green dark:neas-green rounded-2xl max-w-md w-full p-8"),f(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4")},m(Oe,Xe){N(Oe,e,Xe),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,u),a(s,r),a(s,c),a(s,m),a(m,p),a(p,b),a(m,w),a(m,g),a(s,k),a(s,v),a(v,P),a(P,q),a(q,A),a(P,R),a(P,L),a(L,V),a(v,G),he.m(v,null),a(s,X),a(s,Y),a(Y,D),a(D,W),a(Y,B),a(Y,O),a(s,z),a(s,Q),a(Q,Z),a(Z,ne),a(Q,fe),a(Q,oe),J(oe,t[0].hostname),a(Q,ie),a(Q,re),a(s,x),a(s,$),a($,te),a(te,ge),a(te,ke),a(te,T),a(T,C),a($,F),ve&&ve.m($,null),a(s,H),a(s,le),a(le,ae),a(ae,ue),a(s,me),He&&He.m(s,null),N(Oe,Se,Xe),ye(we,Oe,Xe),Te=!0,Ie||(Ue=[pe(L,"click",t[13]),pe(oe,"input",t[17]),pe(te,"click",t[18]),pe(s,"submit",mn(t[10]))],Ie=!0)},p(Oe,Xe){var at,xe,Ne,We,Je,Qe,de,qe,bt;(!Te||Xe[0]&8)&&d!==(d=(((at=Oe[3].setup)==null?void 0:at.title)??"WiFi Setup")+"")&&E(b,d),(!Te||Xe[0]&8)&&I!==(I=(((Ne=(xe=Oe[3].conf)==null?void 0:xe.connection)==null?void 0:Ne.ssid)??"Select Network")+"")&&E(A,I),(!Te||Xe[0]&16)&&j!==(j=Oe[4]?"Show Networks":"Manual Entry")&&E(V,j),Ye===(Ye=Ve(Oe))&&he?he.p(Oe,Xe):(he.d(1),he=Ye(Oe),he&&(he.c(),he.m(v,null))),(!Te||Xe[0]&8)&&y!==(y=(((Je=(We=Oe[3].conf)==null?void 0:We.connection)==null?void 0:Je.psk)??"WiFi Password")+"")&&E(W,y),(!Te||Xe[0]&8)&&K!==(K=(((de=(Qe=Oe[3].conf)==null?void 0:Qe.general)==null?void 0:de.hostname)??"Device Name")+"")&&E(ne,K),Xe[0]&1&&oe.value!==Oe[0].hostname&&J(oe,Oe[0].hostname),(!Te||Xe[0]&32&&U!==(U="w-4 h-4 text-slate-500 dark:text-slate-400 transform transition-transform "+(Oe[5]?"rotate-180":"")))&&f(T,"class",U),Oe[5]?ve?(ve.p(Oe,Xe),Xe[0]&32&&ee(ve,1)):(ve=Rr(Oe),ve.c(),ee(ve,1),ve.m($,null)):ve&&(Pt(),se(ve,1,1,()=>{ve=null}),Tt()),(!Te||Xe[0]&8)&&ce!==(ce=(((qe=Oe[3].btn)==null?void 0:qe.save)??"Connect & Continue")+"")&&E(ue,ce),Oe[6].length?He?He.p(Oe,Xe):(He=Ur(Oe),He.c(),He.m(s,null)):He&&(He.d(1),He=null);const Ft={};Xe[0]&4&&(Ft.active=Oe[2]),Xe[0]&8&&(Ft.message=((bt=Oe[3].setup)==null?void 0:bt.mask)??"Connecting..."),we.$set(Ft)},i(Oe){Te||(ee(ve),ee(we.$$.fragment,Oe),Te=!0)},o(Oe){se(ve),se(we.$$.fragment,Oe),Te=!1},d(Oe){Oe&&(M(e),M(Se)),he.d(),ve&&ve.d(),He&&He.d(),Ce(we,Oe),Ie=!1,Vt(Ue)}}}let vs=1;function Um(t,e,l){const n={high:_s,medium:ms,low:cs,off:ps};n.off;let i={};Nl.subscribe(D=>{l(3,i=D)});let s,o,u=!1;const r=vn.subscribe(D=>{s=D,D!=null&&D.m&&!u&&(o=Il(D.m),u=!0)});vi(()=>{mf()}),ki(()=>{typeof r=="function"&&r()});function c(){!u&&(s!=null&&s.m)&&(o=Il(s.m),u=!0),!o&&(s!=null&&s.m)&&(o=Il(s.m))}function m(){var W,B,O,z,Q,Z,K,ne,fe,oe,ie;c();const D=o??Il(s==null?void 0:s.m);if(!D)return null;const y=(s==null?void 0:s.m)??{};return{source:D.source??y.o??1,parser:D.parser??y.a??0,baud:D.baud??y.b??0,parity:D.parity??y.p??3,invert:D.invert??y.i??!1,distributionSystem:D.distributionSystem??y.d??2,mainFuse:D.mainFuse??y.f??0,production:D.production??y.r??0,buffer:D.buffer??y.s??256,encrypted:D.encrypted??((W=y==null?void 0:y.e)==null?void 0:W.e)??!1,encryptionKey:D.encryptionKey??((B=y==null?void 0:y.e)==null?void 0:B.k)??"",authenticationKey:D.authenticationKey??((O=y==null?void 0:y.e)==null?void 0:O.a)??"",multipliers:{watt:((z=D.multipliers)==null?void 0:z.watt)??((Q=y==null?void 0:y.m)==null?void 0:Q.w)??1,volt:((Z=D.multipliers)==null?void 0:Z.volt)??((K=y==null?void 0:y.m)==null?void 0:K.v)??1,amp:((ne=D.multipliers)==null?void 0:ne.amp)??((fe=y==null?void 0:y.m)==null?void 0:fe.a)??1,kwh:((oe=D.multipliers)==null?void 0:oe.kwh)??((ie=y==null?void 0:y.m)==null?void 0:ie.c)??1}}}let p=!1,d={};af.subscribe(D=>{l(1,d=D)});let{sysinfo:b={}}=e,{data:w={}}=e,g=!1,k=!1,v=[],P=[],q="",I;function A(D){ml.update(y=>(y.trying=D,y))}async function R(D){var T,C,U,F;l(2,k=!0);const y=new FormData(D.target),W=new URLSearchParams;for(let H of y){const[le,ae]=H;W.append(le,typeof ae=="string"?ae:String(ae))}const B=m();B&&(W.set("m","true"),W.set("mo",String(B.source??1)),W.set("ma",String(B.parser??0)),W.set("mb",String(B.baud??0)),W.set("mp",String(B.parity??3)),W.set("mi",B.invert?"true":"false"),W.set("md",String(B.distributionSystem??2)),W.set("mf",String(B.mainFuse??0)),W.set("mr",String(B.production??0)),W.set("ms",String(B.buffer??256)),B.encrypted&&(W.set("me","true"),W.set("mek",B.encryptionKey??""),W.set("mea",B.authenticationKey??"")),W.set("mmw",String(((T=B.multipliers)==null?void 0:T.watt)??1)),W.set("mmv",String(((C=B.multipliers)==null?void 0:C.volt)??1)),W.set("mma",String(((U=B.multipliers)==null?void 0:U.amp)??1)),W.set("mmc",String(((F=B.multipliers)==null?void 0:F.kwh)??1)));const z=y.get("fwa")==="true";let Z=await(await fetch("save",{method:"POST",body:W})).json();l(2,k=!1);const K=String(y.get("sh")??"").trim(),fe=(typeof Z.message=="string"?Z.message:"").split("|").map(H=>H.trim()),oe=fe[0]??"",ie=fe[1]??"",re=fe[2]??"",x=oe||K||b.hostname||(b!=null&&b.chipId?`ams-${b.chipId}`:"ams-reader"),$=ie||(x&&x.indexOf(".")===-1&&x.indexOf(":")===-1?`${x}.local`:x),te=g?String(y.get("si")??"").trim():re,ge=Array.from(new Set([te,x,$].filter(H=>H&&H.length>0)));l(6,v=Z.reboot?[...ge]:[]),ml.update(H=>{H.net||(H.net={});const le=x||H.hostname||K;return H.hostname=le,(!H.upgrade||typeof H.upgrade!="object")&&(H.upgrade={x:-1,e:0,f:null,t:null,m:!1}),H.upgrade.auto=z,g?(H.net.ip=te,H.net.mask=y.get("su"),H.net.gw=y.get("sg"),H.net.dns1=y.get("sd")):re&&(H.net.ip=re),H.targets=[...ge],H.usrcfg=Z.success,H.booting=Z.reboot,H});const ke=en(ml);l(0,b=ke),Z.reboot&&setTimeout(()=>un(ke,A),5e3)}const L=[[]],j=()=>l(4,p=!p);function V(){q=this.__value,l(8,q)}const G=()=>l(4,p=!0);function X(){b.hostname=this.value,l(0,b)}const Y=()=>l(5,g=!g);return t.$$set=D=>{"sysinfo"in D&&l(0,b=D.sysinfo),"data"in D&&l(11,w=D.data)},t.$$.update=()=>{var D;if(t.$$.dirty[0]&4101){const y=(D=b==null?void 0:b.upgrade)==null?void 0:D.auto;!k&&y!==I&&l(12,I=y)}if(t.$$.dirty[0]&2048){const{level:y,label:W}=Vn(w==null?void 0:w.r);n[y]??n.off}t.$$.dirty[0]&2&&l(7,P=Array.isArray(d==null?void 0:d.n)?d.n.map(y=>{const{level:W,label:B}=Vn(y==null?void 0:y.r);return{icon:n[W]??n.off,title:B}}):[])},[b,d,k,i,p,g,v,P,q,n,R,w,I,j,V,L,G,X,Y]}class Bm extends Ot{constructor(e){super(),It(this,e,Um,Rm,Lt,{sysinfo:0,data:11},null,[-1,-1])}}function jm(t){let e;return{c(){e=S("Kopier til utklippstavlen")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Hm(t){let e;return{c(){e=S("Kopier mislyktes")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Wm(t){let e;return{c(){e=S("Kopiert!")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function zm(t){let e;return{c(){e=S("Kopierer…")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Km(t){let e;return{c(){e=S("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Vm(t){let e;return{c(){e=S("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Gm(t){let e;return{c(){e=S("Lim adressen inn i nettleserens adresselinje.")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function jr(t){let e;return{c(){e=_("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",f(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Hr(t){let e;return{c(){e=_("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",f(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Ym(t){let e;return{c(){e=_("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Xm(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Jm(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Qm(t){let e;return{c(){e=_("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",f(e,"class","list-decimal space-y-1 pl-5")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Wr(t){let e;return{c(){e=_("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',f(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){N(l,e,n)},d(l){l&&M(e)}}}function Zm(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y,D,y,W,B,O,z,Q,Z,K,ne,fe,oe;function ie(le,ae){return le[5]==="pending"?zm:le[5]==="success"?Wm:le[5]==="error"?Hm:jm}let re=ie(t),x=re(t);function $(le,ae){return le[5]==="success"?Gm:le[5]==="error"?Vm:Km}let te=$(t),ge=te(t),ke=t[7]&&!t[8]&&jr(),T=t[8]&&Hr();function C(le,ae){return le[2]?Qm:le[3]?Jm:le[4]?Xm:Ym}let U=C(t),F=U(t),H=t[1]&&t[6]&&Wr();return{c(){e=_("section"),l=_("div"),n=_("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=_("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",o=h(),u=_("div"),r=_("div"),c=_("p"),c.textContent="1. Kopier adressen",m=h(),p=_("p"),d=S("Adressen er "),b=_("code"),w=S(t[0]),g=S(" og virker mens du er tilkoblet "),k=_("strong"),k.textContent="NEAS-WATTUP",v=S("."),P=h(),q=_("div"),I=_("button"),x.c(),A=h(),R=_("span"),ge.c(),L=h(),ke&&ke.c(),j=h(),T&&T.c(),V=h(),G=_("div"),X=_("p"),X.textContent="2. Åpne den i nettleseren",Y=h(),D=_("div"),F.c(),y=h(),H&&H.c(),W=h(),B=_("div"),O=_("p"),O.textContent="3. Start selve oppsettet",z=h(),Q=_("a"),Z=S("Åpne oppsettet i nettleseren"),K=h(),ne=_("p"),ne.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",f(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),f(s,"class","mt-3 text-slate-600 dark:text-slate-300"),f(c,"class","font-medium text-slate-800 dark:text-slate-100"),f(b,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),f(p,"class","mt-2"),f(I,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),f(R,"class","text-xs text-slate-500 dark:text-slate-400"),f(q,"class","mt-3 flex flex-wrap items-center gap-2"),f(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),f(X,"class","font-medium"),f(D,"class","mt-2 space-y-2"),f(G,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),f(O,"class","font-medium text-slate-800 dark:text-slate-100"),f(Q,"class","btn-pri inline-block"),f(Q,"href",t[0]),f(Q,"target","_blank"),f(Q,"rel","noreferrer"),f(ne,"class","text-xs text-slate-500 dark:text-slate-400"),f(B,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),f(u,"class","mt-5 space-y-5"),f(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),f(e,"class","mt-6")},m(le,ae){N(le,e,ae),a(e,l),a(l,n),a(l,i),a(l,s),a(l,o),a(l,u),a(u,r),a(r,c),a(r,m),a(r,p),a(p,d),a(p,b),a(b,w),a(p,g),a(p,k),a(p,v),a(r,P),a(r,q),a(q,I),x.m(I,null),a(q,A),a(q,R),ge.m(R,null),a(q,L),ke&&ke.m(q,null),a(q,j),T&&T.m(q,null),a(u,V),a(u,G),a(G,X),a(G,Y),a(G,D),F.m(D,null),a(u,y),H&&H.m(u,null),a(u,W),a(u,B),a(B,O),a(B,z),a(B,Q),a(Q,Z),a(B,K),a(B,ne),fe||(oe=pe(I,"click",t[9]),fe=!0)},p(le,[ae]){ae&1&&E(w,le[0]),re!==(re=ie(le))&&(x.d(1),x=re(le),x&&(x.c(),x.m(I,null))),te!==(te=$(le))&&(ge.d(1),ge=te(le),ge&&(ge.c(),ge.m(R,null))),le[7]&&!le[8]?ke||(ke=jr(),ke.c(),ke.m(q,j)):ke&&(ke.d(1),ke=null),le[8]?T||(T=Hr(),T.c(),T.m(q,null)):T&&(T.d(1),T=null),U!==(U=C(le))&&(F.d(1),F=U(le),F&&(F.c(),F.m(D,null))),le[1]&&le[6]?H||(H=Wr(),H.c(),H.m(u,W)):H&&(H.d(1),H=null),ae&1&&f(Q,"href",le[0])},i:Ke,o:Ke,d(le){le&&M(e),x.d(),ge.d(),ke&&ke.d(),T&&T.d(),F.d(),H&&H.d(),fe=!1,oe()}}}function $m(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,u=!1,r=!1,c="idle",m=!1,p=!1,d=!1;vi(()=>{l(0,i=b()),w()}),ki(()=>{});function b(){const v="http://192.168.4.1/setup";try{const P=new URL(n||"/",window.location.href);return new URL("./setup",P).href}catch{return v}}function w(){if(typeof navigator>"u")return!1;const v=navigator.userAgent||"",P=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(v)&&!window.MSStream),l(3,u=/Macintosh|Mac OS X/.test(v)),l(4,r=/Android/.test(v)),l(1,s=P.some(q=>q.test(v))),l(2,o=s&&o),l(3,u=s&&u&&!o),l(4,r=s&&r),s}async function g(v){var q,I;(q=v==null?void 0:v.preventDefault)==null||q.call(v),l(5,c="pending");const P=()=>{try{const A=document.createElement("textarea");A.value=i,A.setAttribute("readonly",""),A.style.position="absolute",A.style.left="-9999px",document.body.appendChild(A),A.select();const R=document.execCommand("copy");return document.body.removeChild(A),R}catch{return!1}};try{(I=navigator.clipboard)!=null&&I.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):P()?l(5,c="success"):l(5,c="error")}catch{P()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(k(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function k(){if(!s||p)return;l(7,p=!0);let v=!1;try{window.close(),v=window.closed}catch{v=!1}if(!v)try{window.open("","_self"),window.close(),v=window.closed}catch{v=!1}if(v){l(8,d=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,d=!0)},400)}return t.$$set=v=>{"basepath"in v&&l(10,n=v.basepath)},[i,s,o,u,r,c,m,p,d,g,n]}class xm extends Ot{constructor(e){super(),It(this,e,$m,Zm,Lt,{basepath:10})}}function e_(t){var G,X,Y,D;let e,l,n,i=(((G=t[2].upload)==null?void 0:G.title)??"Upload")+"",s,o,u,r,c,m=(((X=t[2].upload)==null?void 0:X.desc)??"")+"",p,d,b,w,g,k,v,P,q=(((Y=t[2].btn)==null?void 0:Y.upload)??"Upload")+"",I,A,R,L,j,V;return R=new pl({props:{active:t[3],message:((D=t[2].upload)==null?void 0:D.mask)??"Uploading"}}),{c(){e=_("div"),l=_("div"),n=_("strong"),s=S(i),o=h(),u=S(t[1]),r=h(),c=_("p"),p=S(m),d=h(),b=_("form"),w=_("input"),g=h(),k=_("div"),v=_("button"),P=_("p"),I=S(q),A=h(),Me(R.$$.fragment),f(c,"class","mb-4"),f(w,"name","file"),f(w,"type","file"),f(P,"class","mb-4"),f(v,"type","submit"),f(v,"class","btn-pri"),f(k,"class","w-full text-right mt-4"),f(b,"action",t[0]),f(b,"enctype","multipart/form-data"),f(b,"method","post"),f(b,"autocomplete","off"),f(l,"class","cnt"),f(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(y,W){N(y,e,W),a(e,l),a(l,n),a(n,s),a(n,o),a(n,u),a(l,r),a(l,c),a(c,p),a(l,d),a(l,b),a(b,w),a(b,g),a(b,k),a(k,v),a(v,P),a(P,I),N(y,A,W),ye(R,y,W),L=!0,j||(V=pe(b,"submit",t[4]),j=!0)},p(y,[W]){var O,z,Q,Z;(!L||W&4)&&i!==(i=(((O=y[2].upload)==null?void 0:O.title)??"Upload")+"")&&E(s,i),(!L||W&2)&&E(u,y[1]),(!L||W&4)&&m!==(m=(((z=y[2].upload)==null?void 0:z.desc)??"")+"")&&E(p,m),(!L||W&4)&&q!==(q=(((Q=y[2].btn)==null?void 0:Q.upload)??"Upload")+"")&&E(I,q),(!L||W&1)&&f(b,"action",y[0]);const B={};W&8&&(B.active=y[3]),W&4&&(B.message=((Z=y[2].upload)==null?void 0:Z.mask)??"Uploading"),R.$set(B)},i(y){L||(ee(R.$$.fragment,y),L=!0)},o(y){se(R.$$.fragment,y),L=!1},d(y){y&&(M(e),M(A)),Ce(R,y),j=!1,V()}}}function t_(t,e,l){let{action:n}=e,{title:i}=e,s={};Nl.subscribe(r=>{l(2,s=r)});let o=!1;const u=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,u]}class ks extends Ot{constructor(e){super(),It(this,e,t_,e_,Lt,{action:0,title:1})}}function zr(t,e,l){const n=t.slice();return n[27]=e[l],n}function l_(t,e,l){const n=t.slice();return n[30]=e[l],n}function n_(t){let e;return{c(){e=_("option"),e.textContent=`${t[30].label}`,e.__value=t[30].id,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function Kr(t){var o,u,r;let e,l=(((r=(u=(o=t[0].conf)==null?void 0:o.meter)==null?void 0:u.preset)==null?void 0:r.clear)??"Clear selection")+"",n,i,s;return{c(){e=_("button"),n=S(l),f(e,"type","button"),f(e,"class","text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium")},m(c,m){N(c,e,m),a(e,n),i||(s=pe(e,"click",t[12]),i=!0)},p(c,m){var p,d,b;m[0]&1&&l!==(l=(((b=(d=(p=c[0].conf)==null?void 0:p.meter)==null?void 0:d.preset)==null?void 0:b.clear)??"Clear selection")+"")&&E(n,l)},d(c){c&&M(e),i=!1,s()}}}function Vr(t){let e,l,n=gi(t[9])+"",i,s,o=t[9].notes&&Gr(t);return{c(){e=_("div"),l=_("p"),i=S(n),s=h(),o&&o.c(),f(l,"class","text-xs text-blue-800 dark:text-blue-200 leading-relaxed"),f(e,"class","mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg")},m(u,r){N(u,e,r),a(e,l),a(l,i),a(l,s),o&&o.m(l,null)},p(u,r){r[0]&512&&n!==(n=gi(u[9])+"")&&E(i,n),u[9].notes?o?o.p(u,r):(o=Gr(u),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},d(u){u&&M(e),o&&o.d()}}}function Gr(t){let e,l=t[9].notes+"",n;return{c(){e=_("span"),n=S(l),f(e,"class","block mt-1 font-medium")},m(i,s){N(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&E(n,l)},d(i){i&&M(e)}}}function Yr(t){var A,R,L;let e,l,n=(((A=t[0].common)==null?void 0:A.voltage)??"Voltage System")+"",i,s,o,u,r,c,m,p,d=(((L=(R=t[0].conf)==null?void 0:R.meter)==null?void 0:L.fuse)??"Main Fuse")+"",b,w,g,k,v,P,q,I;return{c(){e=_("div"),l=_("label"),i=S(n),s=h(),o=_("select"),u=_("option"),u.textContent="400V (TN - Three-phase)",r=_("option"),r.textContent="230V (IT/TT - Single-phase)",c=h(),m=_("div"),p=_("label"),b=S(d),w=h(),g=_("div"),k=_("input"),v=h(),P=_("span"),P.textContent="A",f(l,"for","voltage-select"),f(l,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),u.__value=2,J(u,u.__value),r.__value=1,J(r,r.__value),f(o,"id","voltage-select"),f(o,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[7].distributionSystem===void 0&&Jt(()=>t[23].call(o)),f(e,"class","mb-6"),f(p,"for","main-fuse-input"),f(p,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),f(k,"id","main-fuse-input"),f(k,"type","number"),f(k,"min","5"),f(k,"max","65535"),f(k,"class","w-full px-3 py-2 pr-8 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),f(P,"class","absolute right-3 top-2 text-slate-500 dark:text-slate-400 text-sm"),f(g,"class","relative"),f(m,"class","mb-6")},m(j,V){N(j,e,V),a(e,l),a(l,i),a(e,s),a(e,o),a(o,u),a(o,r),ft(o,t[7].distributionSystem,!0),N(j,c,V),N(j,m,V),a(m,p),a(p,b),a(m,w),a(m,g),a(g,k),J(k,t[7].mainFuse),a(g,v),a(g,P),q||(I=[pe(o,"change",t[23]),pe(k,"input",t[24])],q=!0)},p(j,V){var G,X,Y;V[0]&1&&n!==(n=(((G=j[0].common)==null?void 0:G.voltage)??"Voltage System")+"")&&E(i,n),V[0]&128&&ft(o,j[7].distributionSystem),V[0]&1&&d!==(d=(((Y=(X=j[0].conf)==null?void 0:X.meter)==null?void 0:Y.fuse)??"Main Fuse")+"")&&E(b,d),V[0]&128&&St(k.value)!==j[7].mainFuse&&J(k,j[7].mainFuse)},d(j){j&&(M(e),M(c),M(m)),q=!1,Vt(I)}}}function Xr(t){let e,l=t[27].name+"",n,i;return{c(){e=_("option"),n=S(l),e.__value=i=t[27].code,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){o[0]&32&&l!==(l=s[27].name+"")&&E(n,l),o[0]&32&&i!==(i=s[27].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function i_(t){var jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt,be,mt,tt,ol,Xt,Zt,cl,ul;let e,l,n,i,s,o,u,r=(((jt=t[0].consent)==null?void 0:jt.title)??"Initial Setup")+"",c,m,p,d,b,w,g,k=(((sl=t[0].consent)==null?void 0:sl.one_click)??"Data Collection")+"",v,P,q,I,A=(((Bt=t[0].consent)==null?void 0:Bt.read_more)??"Read more")+"",R,L,j,V,G,X,Y,D=(((nt=t[0].consent)==null?void 0:nt.yes)??"Yes, allow data collection")+"",y,W,B,O,z,Q,Z=(((Wt=t[0].consent)==null?void 0:Wt.no)??"No, disable data collection")+"",K,ne,fe,oe,ie,re,x,$=(((Yt=t[0].consent)==null?void 0:Yt.auto_update)??"Automatic Updates")+"",te,ge,ke,T,C,U,F,H=(((yt=t[0].consent)==null?void 0:yt.yes)??"Yes, enable automatic updates")+"",le,ae,ce,ue,me,Se,we=(((ht=t[0].consent)==null?void 0:ht.no)??"No, manual updates only")+"",Te,Ie,Ue,Ve,Ye=(((be=(Kt=(Mt=t[0].conf)==null?void 0:Mt.meter)==null?void 0:Kt.preset)==null?void 0:be.title)??"Meter Configuration")+"",he,ve,He,lt,gt,pt=(((ol=(tt=(mt=t[0].conf)==null?void 0:mt.meter)==null?void 0:tt.preset)==null?void 0:ol.manual)??"Select your meter type...")+"",Dt,At,ot,dt,Ht,ct,Oe,Xe=(((Xt=t[0].consent)==null?void 0:Xt.language)??"Language")+"",Ft,at,xe,Ne,We=(((Zt=t[0].consent)==null?void 0:Zt.load_from_server)??"Load from server")+"",Je,Qe,de,qe,bt=(((cl=t[0].btn)==null?void 0:cl.save)??"Complete Setup")+"",Ut,vt,Ge,rt,Fe,Ee,Re,Le,De,et=st(gs),it=[];for(let Pe=0;Pe<et.length;Pe+=1)it[Pe]=n_(l_(t,et,Pe));let ut=t[8]&&Kr(t),wt=t[9]&&Vr(t),Rt=t[9]&&Yr(t),Gt=st(t[5]),kt=[];for(let Pe=0;Pe<Gt.length;Pe+=1)kt[Pe]=Xr(zr(t,Gt,Pe));return rt=new pl({props:{active:t[1],message:((ul=t[0].consent)==null?void 0:ul.mask_saving)??"Saving setup..."}}),Ee=_i(t[17][0]),Re=_i(t[17][1]),{c(){e=_("div"),l=_("div"),l.innerHTML=`<svg class="w-24 h-24 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${fs}" class="w-full h-full"/></svg>`,n=h(),i=_("div"),s=_("form"),o=_("div"),u=_("h1"),c=S(r),m=h(),p=_("p"),p.textContent="Complete the setup to get started",d=h(),b=_("div"),w=_("div"),g=_("h3"),v=S(k),P=h(),q=_("p"),I=_("a"),R=S(A),L=h(),j=_("div"),V=_("label"),G=_("input"),X=h(),Y=_("span"),y=S(D),W=h(),B=_("label"),O=_("input"),z=h(),Q=_("span"),K=S(Z),ne=h(),fe=_("input"),oe=h(),ie=_("div"),re=_("div"),x=_("h3"),te=S($),ge=h(),ke=_("div"),T=_("label"),C=_("input"),U=h(),F=_("span"),le=S(H),ae=h(),ce=_("label"),ue=_("input"),me=h(),Se=_("span"),Te=S(we),Ie=h(),Ue=_("div"),Ve=_("label"),he=S(Ye),ve=h(),He=_("div"),lt=_("select"),gt=_("option"),Dt=S(pt);for(let Pe=0;Pe<it.length;Pe+=1)it[Pe].c();At=h(),ut&&ut.c(),ot=h(),wt&&wt.c(),dt=h(),Rt&&Rt.c(),Ht=h(),ct=_("div"),Oe=_("label"),Ft=S(Xe),at=h(),xe=_("select");for(let Pe=0;Pe<kt.length;Pe+=1)kt[Pe].c();Ne=_("option"),Je=S(We),Qe=h(),de=_("div"),qe=_("button"),Ut=S(bt),Ge=h(),Me(rt.$$.fragment),f(l,"class","mb-8"),f(u,"class","text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-2"),f(p,"class","text-sm text-slate-600 dark:text-slate-400"),f(o,"class","text-center mb-8"),f(g,"class","text-sm font-medium text-slate-900 dark:text-slate-100 mb-1"),f(I,"href",Fl("Data-collection-on-one-click-firmware-upgrade")),f(I,"target","_blank"),f(I,"class","text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline"),f(q,"class","text-xs text-slate-600 dark:text-slate-400 mb-2"),f(w,"class","mb-3"),f(G,"type","radio"),f(G,"name","sf"),G.__value="1",J(G,G.__value),f(G,"class","mr-3 text-blue-600"),G.required=!0,f(Y,"class","text-sm text-slate-700 dark:text-slate-300"),f(V,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(O,"type","radio"),f(O,"name","sf"),O.__value="2",J(O,O.__value),f(O,"class","mr-3 text-blue-600"),O.required=!0,f(Q,"class","text-sm text-slate-700 dark:text-slate-300"),f(B,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(j,"class","space-y-2"),f(b,"class","mb-6"),f(fe,"type","hidden"),f(fe,"name","fw"),fe.value="true",f(x,"class","text-sm font-medium text-slate-900 dark:text-slate-100 mb-1"),f(re,"class","mb-3"),f(C,"type","radio"),f(C,"name","fwa"),C.__value="true",J(C,C.__value),f(C,"class","mr-3 text-blue-600"),C.required=!0,f(F,"class","text-sm text-slate-700 dark:text-slate-300"),f(T,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(ue,"type","radio"),f(ue,"name","fwa"),ue.__value="false",J(ue,ue.__value),f(ue,"class","mr-3 text-blue-600"),ue.required=!0,f(Se,"class","text-sm text-slate-700 dark:text-slate-300"),f(ce,"class","flex items-center p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-neas-green-100 dark:bg-neas-green-90 hover:bg-neas-green-90 dark:hover:bg-neas-green cursor-pointer transition-colors"),f(ke,"class","space-y-2"),f(ie,"class","mb-6"),f(Ve,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3"),f(Ve,"for","consent-meter-preset"),gt.__value="",J(gt,gt.__value),f(lt,"id","consent-meter-preset"),f(lt,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[8]===void 0&&Jt(()=>t[21].call(lt)),f(He,"class","space-y-2"),f(Ue,"class","mb-6"),f(Oe,"for","language-select"),f(Oe,"class","block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2"),Ne.__value="hub",J(Ne,Ne.__value),f(xe,"id","language-select"),f(xe,"name","ulang"),f(xe,"class","w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"),t[4]===void 0&&Jt(()=>t[25].call(xe)),f(ct,"class","mb-8"),f(qe,"type","submit"),f(qe,"class","w-full bg-neas-lightgreen hover:bg-neas-lightgreen-30 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),qe.disabled=vt=!t[6],f(de,"class","text-center"),f(s,"autocomplete","off"),f(i,"class","bg-neas-green dark:neas-green rounded-2xl max-w-md w-full p-8"),f(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4"),Ee.p(C,ue),Re.p(G,O)},m(Pe,Ze){N(Pe,e,Ze),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(o,u),a(u,c),a(o,m),a(o,p),a(s,d),a(s,b),a(b,w),a(w,g),a(g,v),a(w,P),a(w,q),a(q,I),a(I,R),a(b,L),a(b,j),a(j,V),a(V,G),G.checked=G.__value===t[2],a(V,X),a(V,Y),a(Y,y),a(j,W),a(j,B),a(B,O),O.checked=O.__value===t[2],a(B,z),a(B,Q),a(Q,K),a(s,ne),a(s,fe),a(s,oe),a(s,ie),a(ie,re),a(re,x),a(x,te),a(ie,ge),a(ie,ke),a(ke,T),a(T,C),C.checked=C.__value===t[3],a(T,U),a(T,F),a(F,le),a(ke,ae),a(ke,ce),a(ce,ue),ue.checked=ue.__value===t[3],a(ce,me),a(ce,Se),a(Se,Te),a(s,Ie),a(s,Ue),a(Ue,Ve),a(Ve,he),a(Ue,ve),a(Ue,He),a(He,lt),a(lt,gt),a(gt,Dt);for(let $t=0;$t<it.length;$t+=1)it[$t]&&it[$t].m(lt,null);ft(lt,t[8],!0),a(He,At),ut&&ut.m(He,null),a(Ue,ot),wt&&wt.m(Ue,null),a(s,dt),Rt&&Rt.m(s,null),a(s,Ht),a(s,ct),a(ct,Oe),a(Oe,Ft),a(ct,at),a(ct,xe);for(let $t=0;$t<kt.length;$t+=1)kt[$t]&&kt[$t].m(xe,null);a(xe,Ne),a(Ne,Je),ft(xe,t[4],!0),a(s,Qe),a(s,de),a(de,qe),a(qe,Ut),N(Pe,Ge,Ze),ye(rt,Pe,Ze),Fe=!0,Le||(De=[pe(G,"change",t[16]),pe(O,"change",t[18]),pe(C,"change",t[19]),pe(ue,"change",t[20]),pe(lt,"change",t[21]),pe(lt,"change",t[22]),pe(xe,"change",t[25]),pe(xe,"change",t[10]),pe(s,"submit",mn(t[13]))],Le=!0)},p(Pe,Ze){var Ae,_e,zt,Be,Nt,fl,dl,hl,bl,gl,vl,kl,Pl,Tl,El,ze,_t,Al;if((!Fe||Ze[0]&1)&&r!==(r=(((Ae=Pe[0].consent)==null?void 0:Ae.title)??"Initial Setup")+"")&&E(c,r),(!Fe||Ze[0]&1)&&k!==(k=(((_e=Pe[0].consent)==null?void 0:_e.one_click)??"Data Collection")+"")&&E(v,k),(!Fe||Ze[0]&1)&&A!==(A=(((zt=Pe[0].consent)==null?void 0:zt.read_more)??"Read more")+"")&&E(R,A),Ze[0]&4&&(G.checked=G.__value===Pe[2]),(!Fe||Ze[0]&1)&&D!==(D=(((Be=Pe[0].consent)==null?void 0:Be.yes)??"Yes, allow data collection")+"")&&E(y,D),Ze[0]&4&&(O.checked=O.__value===Pe[2]),(!Fe||Ze[0]&1)&&Z!==(Z=(((Nt=Pe[0].consent)==null?void 0:Nt.no)??"No, disable data collection")+"")&&E(K,Z),(!Fe||Ze[0]&1)&&$!==($=(((fl=Pe[0].consent)==null?void 0:fl.auto_update)??"Automatic Updates")+"")&&E(te,$),Ze[0]&8&&(C.checked=C.__value===Pe[3]),(!Fe||Ze[0]&1)&&H!==(H=(((dl=Pe[0].consent)==null?void 0:dl.yes)??"Yes, enable automatic updates")+"")&&E(le,H),Ze[0]&8&&(ue.checked=ue.__value===Pe[3]),(!Fe||Ze[0]&1)&&we!==(we=(((hl=Pe[0].consent)==null?void 0:hl.no)??"No, manual updates only")+"")&&E(Te,we),(!Fe||Ze[0]&1)&&Ye!==(Ye=(((vl=(gl=(bl=Pe[0].conf)==null?void 0:bl.meter)==null?void 0:gl.preset)==null?void 0:vl.title)??"Meter Configuration")+"")&&E(he,Ye),(!Fe||Ze[0]&1)&&pt!==(pt=(((Tl=(Pl=(kl=Pe[0].conf)==null?void 0:kl.meter)==null?void 0:Pl.preset)==null?void 0:Tl.manual)??"Select your meter type...")+"")&&E(Dt,pt),Ze[0]&256&&ft(lt,Pe[8]),Pe[8]?ut?ut.p(Pe,Ze):(ut=Kr(Pe),ut.c(),ut.m(He,null)):ut&&(ut.d(1),ut=null),Pe[9]?wt?wt.p(Pe,Ze):(wt=Vr(Pe),wt.c(),wt.m(Ue,null)):wt&&(wt.d(1),wt=null),Pe[9]?Rt?Rt.p(Pe,Ze):(Rt=Yr(Pe),Rt.c(),Rt.m(s,Ht)):Rt&&(Rt.d(1),Rt=null),(!Fe||Ze[0]&1)&&Xe!==(Xe=(((El=Pe[0].consent)==null?void 0:El.language)??"Language")+"")&&E(Ft,Xe),Ze[0]&32){Gt=st(Pe[5]);let al;for(al=0;al<Gt.length;al+=1){const ql=zr(Pe,Gt,al);kt[al]?kt[al].p(ql,Ze):(kt[al]=Xr(ql),kt[al].c(),kt[al].m(xe,Ne))}for(;al<kt.length;al+=1)kt[al].d(1);kt.length=Gt.length}(!Fe||Ze[0]&1)&&We!==(We=(((ze=Pe[0].consent)==null?void 0:ze.load_from_server)??"Load from server")+"")&&E(Je,We),Ze[0]&48&&ft(xe,Pe[4]),(!Fe||Ze[0]&1)&&bt!==(bt=(((_t=Pe[0].btn)==null?void 0:_t.save)??"Complete Setup")+"")&&E(Ut,bt),(!Fe||Ze[0]&64&&vt!==(vt=!Pe[6]))&&(qe.disabled=vt);const $t={};Ze[0]&2&&($t.active=Pe[1]),Ze[0]&1&&($t.message=((Al=Pe[0].consent)==null?void 0:Al.mask_saving)??"Saving setup..."),rt.$set($t)},i(Pe){Fe||(ee(rt.$$.fragment,Pe),Fe=!0)},o(Pe){se(rt.$$.fragment,Pe),Fe=!1},d(Pe){Pe&&(M(e),M(Ge)),el(it,Pe),ut&&ut.d(),wt&&wt.d(),Rt&&Rt.d(),el(kt,Pe),Ce(rt,Pe),Ee.r(),Re.r(),Le=!1,Vt(De)}}}function s_(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s={};Nl.subscribe(y=>{l(0,s=y)});let o=!1,u="",r="",c="no",m=[{code:"en",name:"English"},{code:"no",name:"Norsk"}],p=!1,d=Il(),b="",w=null;c==="no"&&Jn("no");async function g(y){const W=y.target.value;if(W==="hub"){try{const B=await Ml("http://hub.amsleser.no/hub/language/list.json");l(5,m=await B.json()),l(4,c=s.language.code)}catch(B){console.error("Failed to load languages from hub",B),l(4,c=s.language.code)}return}l(4,c=W),c&&await Jn(c)}function k(y){l(8,b=y);const W=pf(y);l(9,w=W??null),W?l(7,d=df(Il(),W)):l(7,d=Il())}function v(){l(8,b=""),l(9,w=null),l(7,d=Il())}function P(){var W,B,O,z;if(!w)return null;const y=d??Il();return{source:y.source??1,parser:y.parser??0,baud:y.baud??0,parity:y.parity??3,invert:y.invert??!1,distributionSystem:y.distributionSystem??2,mainFuse:y.mainFuse??0,production:y.production??0,buffer:y.buffer??256,encrypted:y.encrypted??!1,encryptionKey:y.encryptionKey??"",authenticationKey:y.authenticationKey??"",multipliers:{watt:((W=y.multipliers)==null?void 0:W.watt)??1,volt:((B=y.multipliers)==null?void 0:B.volt)??1,amp:((O=y.multipliers)==null?void 0:O.amp)??1,kwh:((z=y.multipliers)==null?void 0:z.kwh)??1}}}async function q(y){var fe,oe,ie,re;l(1,o=!0);const W=new FormData(y.target),B=new URLSearchParams;for(let x of W){const[$,te]=x;B.append($,typeof te=="string"?te:String(te))}const O=W.get("sf"),z=W.get("fwa"),Q=z==="true"?!0:z==="false"?!1:null,Z=P();Z&&(B.set("m","true"),B.set("mo",String(Z.source??1)),B.set("ma",String(Z.parser??0)),B.set("mb",String(Z.baud??0)),B.set("mp",String(Z.parity??3)),B.set("mi",Z.invert?"true":"false"),B.set("md",String(Z.distributionSystem??2)),B.set("mf",String(Z.mainFuse??0)),B.set("mr",String(Z.production??0)),B.set("ms",String(Z.buffer??256)),Z.encrypted&&(B.set("me","true"),B.set("mek",Z.encryptionKey??""),B.set("mea",Z.authenticationKey??"")),B.set("mmw",String(((fe=Z.multipliers)==null?void 0:fe.watt)??1)),B.set("mmv",String(((oe=Z.multipliers)==null?void 0:oe.volt)??1)),B.set("mma",String(((ie=Z.multipliers)==null?void 0:ie.amp)??1)),B.set("mmc",String(((re=Z.multipliers)==null?void 0:re.kwh)??1)));let ne=await(await fetch("save",{method:"POST",body:B})).json();l(1,o=!1),ml.update(x=>{if(x.fwconsent=O==="1"?1:O==="2"?2:0,(!x.ui||typeof x.ui!="object")&&(x.ui={}),c&&(x.ui.lang=c),(!x.upgrade||typeof x.upgrade!="object")&&(x.upgrade={x:-1,e:0,f:null,t:null,m:!1}),Q!==null&&(x.upgrade.auto=Q),Z){const $=hf(x.m??{},d);$.appliedPresetId=d.appliedPresetId,x.m=$}return x.booting=ne.reboot,x}),jl(n)}const I=[[],[]];function A(){u=this.__value,l(2,u),l(15,i),l(5,m),l(0,s),l(4,c)}function R(){u=this.__value,l(2,u),l(15,i),l(5,m),l(0,s),l(4,c)}function L(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function j(){r=this.__value,l(3,r),l(15,i),l(5,m),l(0,s),l(4,c)}function V(){b=nl(this),l(8,b)}const G=()=>k(b);function X(){d.distributionSystem=nl(this),l(7,d)}function Y(){d.mainFuse=St(this.value),l(7,d)}function D(){c=nl(this),l(4,c),l(15,i),l(5,m),l(0,s),l(5,m),l(0,s),l(15,i),l(4,c)}return t.$$set=y=>{"basepath"in y&&l(14,n=y.basepath),"sysinfo"in y&&l(15,i=y.sysinfo)},t.$$.update=()=>{var y,W,B,O;if(t.$$.dirty[0]&33&&(y=s==null?void 0:s.language)!=null&&y.code&&!m.find(z=>z.code===s.language.code)&&l(5,m=[...m,{code:s.language.code,name:s.language.name??s.language.code}]),t.$$.dirty[0]&32817&&i){(i.fwconsent===1||i.fwconsent===2)&&l(2,u=String(i.fwconsent));const z=(W=i==null?void 0:i.upgrade)==null?void 0:W.auto;z===!0?l(3,r="true"):z===!1&&l(3,r="false");const Q=(B=i==null?void 0:i.ui)==null?void 0:B.lang;Q&&!m.find(Z=>Z.code===Q)&&l(5,m=[...m,{code:Q,name:((O=s.language)==null?void 0:O.name)??Q.toUpperCase()}]),!c&&Q&&l(4,c=Q)}t.$$.dirty[0]&16&&(c||l(4,c="no")),t.$$.dirty[0]&14&&l(6,p=u!==""&&r!==""&&!o)},[s,o,u,r,c,m,p,d,b,w,g,k,v,q,n,i,A,I,R,L,j,V,G,X,Y,D]}class o_ extends Ot{constructor(e){super(),It(this,e,s_,i_,Lt,{basepath:14,sysinfo:15},null,[-1,-1])}}function Jr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Qr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function a_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function r_(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function $r(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function xr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function eu(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function tu(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function lu(t){let e,l=st(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=uu(Jr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=tl()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);N(i,e,s)},p(i,s){if(s[0]&1875){l=st(i[1].o);let o;for(o=0;o<l.length;o+=1){const u=Jr(i,l,o);n[o]?n[o].p(u,s):(n[o]=uu(u),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&M(e),el(n,i)}}}function nu(t){let e,l=t[4][t[35]]+"",n,i,s,o;function u(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function iu(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function u(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function su(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function u(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function ou(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function u(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=_("span"),n=S(l),f(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){N(r,e,c),a(e,n),s||(o=pe(e,"click",u),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&f(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function u_(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function au(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:Ct(t[35]+1))+"",n;return{c(){e=_("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var u;o[0]&1&&l!==(l=(s[0].months?(u=s[0].months)==null?void 0:u[s[35]]:Ct(s[35]+1))+"")&&E(n,l)},d(s){s&&M(e)}}}function f_(t){let e;return{c(){e=_("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){N(l,e,n)},p:Ke,d(l){l&&M(e)}}}function ru(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:Ct(t[35]+1))+"",n;return{c(){e=_("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){N(s,e,o),a(e,n)},p(s,o){var u;o[0]&1&&l!==(l=(s[0].months?(u=s[0].months)==null?void 0:u[s[35]]:Ct(s[35]+1))+"")&&E(n,l)},d(s){s&&M(e)}}}function uu(t){var jt,sl,Bt,nt,Wt,Yt,yt,ht,Mt,Kt;let e,l,n,i,s,o,u,r=(((sl=(jt=t[0].conf)==null?void 0:jt.common)==null?void 0:sl.import)??"Import")+"",c,m,p=(((nt=(Bt=t[0].conf)==null?void 0:Bt.common)==null?void 0:nt.export)??"Export")+"",d,b,w=(((Yt=(Wt=t[0].conf)==null?void 0:Wt.price)==null?void 0:Yt.both)??"Both")+"",g,k,v,P,q=(((ht=(yt=t[0].conf)==null?void 0:yt.price)==null?void 0:ht.fixed)??"Fixed")+"",I,A,R,L,j,V,G,X,Y,D=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",y,W,B,O,z,Q,Z,K=(((Kt=t[0].common)==null?void 0:Kt.hours)??"Hours")+"",ne,fe,oe,ie,re,x,$,te,ge,ke,T,C,U,F,H,le,ae,ce,ue,me,Se,we,Te,Ie,Ue,Ve,Ye,he,ve,He,lt,gt,pt,Dt,At,ot,dt;function Ht(){t[12].call(n,t[31],t[32])}function ct(){t[13].call(o,t[31],t[32])}function Oe(){t[14].call(v,t[31],t[32])}function Xe(){t[15].call(V,t[31],t[32])}let Ft=st({length:7}),at=[];for(let be=0;be<Ft.length;be+=1)at[be]=nu(tu(t,Ft,be));let xe=st({length:8}),Ne=[];for(let be=0;be<xe.length;be+=1)Ne[be]=iu(eu(t,xe,be));let We=st({length:8}),Je=[];for(let be=0;be<We.length;be+=1)Je[be]=su(xr(t,We,be));let Qe=st({length:8}),de=[];for(let be=0;be<Qe.length;be+=1)de[be]=ou($r(t,Qe,be));let qe=st({length:31}),bt=[];for(let be=0;be<qe.length;be+=1)bt[be]=u_(r_(t,qe,be));function Ut(){t[20].call(C,t[31],t[32])}let vt=st({length:12}),Ge=[];for(let be=0;be<vt.length;be+=1)Ge[be]=au(Zr(t,vt,be));function rt(){t[21].call(H,t[31],t[32])}let Fe=st({length:31}),Ee=[];for(let be=0;be<Fe.length;be+=1)Ee[be]=f_(a_(t,Fe,be));function Re(){t[22].call(me,t[31],t[32])}let Le=st({length:12}),De=[];for(let be=0;be<Le.length;be+=1)De[be]=ru(Qr(t,Le,be));function et(){t[23].call(Te,t[31],t[32])}function it(){return t[24](t[32])}function ut(){return t[25](t[32])}function wt(){return t[26](t[32])}function Rt(){return t[27](t[32])}function Gt(){return t[28](t[32])}function kt(){return t[29](t[32])}return{c(){e=_("div"),l=_("div"),n=_("input"),i=h(),s=_("div"),o=_("select"),u=_("option"),c=S(r),m=_("option"),d=S(p),b=_("option"),g=S(w),k=h(),v=_("select"),P=_("option"),I=S(q),A=_("option"),A.textContent="+",R=_("option"),R.textContent="-",L=_("option"),L.textContent="%",j=h(),V=_("input"),G=h(),X=_("div"),Y=_("span"),y=S(D),W=S(":"),B=h(),O=_("div");for(let be=0;be<at.length;be+=1)at[be].c();z=h(),Q=_("div"),Z=_("span"),ne=S(K),fe=S(":"),oe=h(),ie=_("div"),re=_("div");for(let be=0;be<Ne.length;be+=1)Ne[be].c();x=h(),$=_("div");for(let be=0;be<Je.length;be+=1)Je[be].c();te=h(),ge=_("div");for(let be=0;be<de.length;be+=1)de[be].c();ke=h(),T=_("div"),C=_("select"),U=_("option"),U.textContent="-";for(let be=0;be<bt.length;be+=1)bt[be].c();F=h(),H=_("select"),le=_("option"),le.textContent="-";for(let be=0;be<Ge.length;be+=1)Ge[be].c();ae=h(),ce=_("input"),ue=h(),me=_("select"),Se=_("option"),Se.textContent="-";for(let be=0;be<Ee.length;be+=1)Ee[be].c();we=h(),Te=_("select"),Ie=_("option"),Ie.textContent="-";for(let be=0;be<De.length;be+=1)De[be].c();Ue=h(),Ve=_("div"),Ye=_("span"),Ye.textContent="⇧",he=h(),ve=_("span"),He=S("⇩"),gt=h(),pt=_("span"),pt.textContent="🗑",Dt=h(),At=_("hr"),f(n,"name","n"),f(n,"type","text"),f(n,"class","in-s"),f(l,"class","mr-3"),u.__value=1,J(u,u.__value),m.__value=2,J(m,m.__value),b.__value=3,J(b,b.__value),f(o,"name","rd"),f(o,"class","in-f"),t[30].d===void 0&&Jt(ct),P.__value=0,J(P,P.__value),A.__value=1,J(A,A.__value),R.__value=3,J(R,R.__value),L.__value=2,J(L,L.__value),f(v,"name","rt"),f(v,"class","in-m"),t[30].t===void 0&&Jt(Oe),f(V,"name","rv"),f(V,"type","number"),f(V,"class","in-l tr"),tn(V,"width","100px"),f(V,"min","0.0001"),f(V,"max","99.9999"),f(V,"step","0.0001"),f(s,"class","flex mr-3"),f(Y,"class","mr-2"),f(X,"class","flex flex-wrap mr-3"),f(Z,"class","mr-2"),f(Q,"class","flex flex-wrap mr-3"),U.__value=0,J(U,U.__value),f(C,"name","rsd"),f(C,"class","in-f"),t[30].s.d===void 0&&Jt(Ut),le.__value=0,J(le,le.__value),f(H,"name","rsm"),f(H,"class","in-m"),t[30].s.m===void 0&&Jt(rt),f(ce,"class","in-m"),ce.disabled=!0,ce.value="to",tn(ce,"width","20px"),tn(ce,"color","#888"),Se.__value=0,J(Se,Se.__value),f(me,"name","red"),f(me,"class","in-m"),t[30].e.d===void 0&&Jt(Re),Ie.__value=0,J(Ie,Ie.__value),f(Te,"name","rem"),f(Te,"class","in-l"),t[30].e.m===void 0&&Jt(et),f(T,"class","flex flex-wrap mr-3"),f(Ye,"class",t[32]>0?"text-green-600":"text-gray-300"),f(ve,"class",lt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),f(pt,"class","text-red-500 text-xs"),f(Ve,"class","mt-1.5 ml-3"),f(e,"class","flex flex-wrap"),f(At,"class","m-3")},m(be,mt){N(be,e,mt),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,u),a(u,c),a(o,m),a(m,d),a(o,b),a(b,g),ft(o,t[30].d,!0),a(s,k),a(s,v),a(v,P),a(P,I),a(v,A),a(v,R),a(v,L),ft(v,t[30].t,!0),a(s,j),a(s,V),J(V,t[30].v),a(e,G),a(e,X),a(X,Y),a(Y,y),a(Y,W),a(X,B),a(X,O);for(let tt=0;tt<at.length;tt+=1)at[tt]&&at[tt].m(O,null);a(e,z),a(e,Q),a(Q,Z),a(Z,ne),a(Z,fe),a(Q,oe),a(Q,ie),a(ie,re);for(let tt=0;tt<Ne.length;tt+=1)Ne[tt]&&Ne[tt].m(re,null);a(ie,x),a(ie,$);for(let tt=0;tt<Je.length;tt+=1)Je[tt]&&Je[tt].m($,null);a(ie,te),a(ie,ge);for(let tt=0;tt<de.length;tt+=1)de[tt]&&de[tt].m(ge,null);a(e,ke),a(e,T),a(T,C),a(C,U);for(let tt=0;tt<bt.length;tt+=1)bt[tt]&&bt[tt].m(C,null);ft(C,t[30].s.d,!0),a(T,F),a(T,H),a(H,le);for(let tt=0;tt<Ge.length;tt+=1)Ge[tt]&&Ge[tt].m(H,null);ft(H,t[30].s.m,!0),a(T,ae),a(T,ce),a(T,ue),a(T,me),a(me,Se);for(let tt=0;tt<Ee.length;tt+=1)Ee[tt]&&Ee[tt].m(me,null);ft(me,t[30].e.d,!0),a(T,we),a(T,Te),a(Te,Ie);for(let tt=0;tt<De.length;tt+=1)De[tt]&&De[tt].m(Te,null);ft(Te,t[30].e.m,!0),a(e,Ue),a(e,Ve),a(Ve,Ye),a(Ve,he),a(Ve,ve),a(ve,He),a(Ve,gt),a(Ve,pt),N(be,Dt,mt),N(be,At,mt),ot||(dt=[pe(n,"input",Ht),pe(o,"change",ct),pe(v,"change",Oe),pe(V,"input",Xe),pe(C,"change",Ut),pe(H,"change",rt),pe(me,"change",Re),pe(Te,"change",et),pe(Ye,"click",it),pe(Ye,"keypress",ut),pe(ve,"click",wt),pe(ve,"keypress",Rt),pe(pt,"click",Gt),pe(pt,"keypress",kt)],ot=!0)},p(be,mt){var tt,ol,Xt,Zt,cl,ul,Pe,Ze,$t,Ae;if(t=be,mt[0]&2&&n.value!==t[30].n&&J(n,t[30].n),mt[0]&1&&r!==(r=(((ol=(tt=t[0].conf)==null?void 0:tt.common)==null?void 0:ol.import)??"Import")+"")&&E(c,r),mt[0]&1&&p!==(p=(((Zt=(Xt=t[0].conf)==null?void 0:Xt.common)==null?void 0:Zt.export)??"Export")+"")&&E(d,p),mt[0]&1&&w!==(w=(((ul=(cl=t[0].conf)==null?void 0:cl.price)==null?void 0:ul.both)??"Both")+"")&&E(g,w),mt[0]&2&&ft(o,t[30].d),mt[0]&1&&q!==(q=(((Ze=(Pe=t[0].conf)==null?void 0:Pe.price)==null?void 0:Ze.fixed)??"Fixed")+"")&&E(I,q),mt[0]&2&&ft(v,t[30].t),mt[0]&2&&St(V.value)!==t[30].v&&J(V,t[30].v),mt[0]&1&&D!==(D=((($t=t[0].common)==null?void 0:$t.days)??"Days")+"")&&E(y,D),mt[0]&82){Ft=st({length:7});let _e;for(_e=0;_e<Ft.length;_e+=1){const zt=tu(t,Ft,_e);at[_e]?at[_e].p(zt,mt):(at[_e]=nu(zt),at[_e].c(),at[_e].m(O,null))}for(;_e<at.length;_e+=1)at[_e].d(1);at.length=Ft.length}if(mt[0]&1&&K!==(K=(((Ae=t[0].common)==null?void 0:Ae.hours)??"Hours")+"")&&E(ne,K),mt[0]&66){xe=st({length:8});let _e;for(_e=0;_e<xe.length;_e+=1){const zt=eu(t,xe,_e);Ne[_e]?Ne[_e].p(zt,mt):(Ne[_e]=iu(zt),Ne[_e].c(),Ne[_e].m(re,null))}for(;_e<Ne.length;_e+=1)Ne[_e].d(1);Ne.length=xe.length}if(mt[0]&66){We=st({length:8});let _e;for(_e=0;_e<We.length;_e+=1){const zt=xr(t,We,_e);Je[_e]?Je[_e].p(zt,mt):(Je[_e]=su(zt),Je[_e].c(),Je[_e].m($,null))}for(;_e<Je.length;_e+=1)Je[_e].d(1);Je.length=We.length}if(mt[0]&66){Qe=st({length:8});let _e;for(_e=0;_e<Qe.length;_e+=1){const zt=$r(t,Qe,_e);de[_e]?de[_e].p(zt,mt):(de[_e]=ou(zt),de[_e].c(),de[_e].m(ge,null))}for(;_e<de.length;_e+=1)de[_e].d(1);de.length=Qe.length}if(mt[0]&2&&ft(C,t[30].s.d),mt[0]&1){vt=st({length:12});let _e;for(_e=0;_e<vt.length;_e+=1){const zt=Zr(t,vt,_e);Ge[_e]?Ge[_e].p(zt,mt):(Ge[_e]=au(zt),Ge[_e].c(),Ge[_e].m(H,null))}for(;_e<Ge.length;_e+=1)Ge[_e].d(1);Ge.length=vt.length}if(mt[0]&2&&ft(H,t[30].s.m),mt[0]&2&&ft(me,t[30].e.d),mt[0]&1){Le=st({length:12});let _e;for(_e=0;_e<Le.length;_e+=1){const zt=Qr(t,Le,_e);De[_e]?De[_e].p(zt,mt):(De[_e]=ru(zt),De[_e].c(),De[_e].m(Te,null))}for(;_e<De.length;_e+=1)De[_e].d(1);De.length=Le.length}mt[0]&2&&ft(Te,t[30].e.m),mt[0]&2&&lt!==(lt=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&f(ve,"class",lt)},d(be){be&&(M(e),M(Dt),M(At)),el(at,be),el(Ne,be),el(Je,be),el(de,be),el(bt,be),el(Ge,be),el(Ee,be),el(De,be),ot=!1,Vt(dt)}}}function c_(t){var z,Q,Z,K,ne,fe,oe,ie,re;let e,l,n=(((Q=(z=t[0].conf)==null?void 0:z.price)==null?void 0:Q.title)??"Price")+"",i,s,o,u,r,c,m,p,d,b,w,g,k,v=(((K=(Z=t[0].conf)==null?void 0:Z.price)==null?void 0:K.btn_add)??"Add")+"",P,q,I,A,R,L,j=(((ne=t[0].btn)==null?void 0:ne.save)??"Save")+"",V,G,X,Y,D,y,W,B,O=t[1].o&&lu(t);return X=new pl({props:{active:t[2],message:((oe=(fe=t[0].conf)==null?void 0:fe.price)==null?void 0:oe.mask_loading)??"Loading"}}),D=new pl({props:{active:t[3],message:((re=(ie=t[0].conf)==null?void 0:ie.price)==null?void 0:re.mask_saving)??"Saving"}}),{c(){e=_("div"),l=_("strong"),i=S(n),s=h(),o=_("a"),o.textContent="ⓘ",u=h(),r=_("hr"),c=h(),m=_("form"),p=_("input"),d=h(),O&&O.c(),b=h(),w=_("div"),g=_("div"),k=_("button"),P=S(v),q=h(),I=_("div"),I.innerHTML="",A=h(),R=_("div"),L=_("button"),V=S(j),G=h(),Me(X.$$.fragment),Y=h(),Me(D.$$.fragment),f(l,"class","text-sm"),f(o,"href",Fl("Price-configuration")),f(o,"target","_blank"),f(o,"class","float-right"),f(r,"class","m-3"),f(p,"type","hidden"),f(p,"name","r"),p.value="true",f(k,"type","button"),f(k,"class","btn-pri"),f(I,"class","text-center"),f(L,"type","submit"),f(L,"class","btn-pri"),f(R,"class","text-right"),f(w,"class","grid grid-cols-3"),f(m,"autocomplete","off"),f(e,"class","cnt")},m(x,$){N(x,e,$),a(e,l),a(l,i),a(e,s),a(e,o),a(e,u),a(e,r),a(e,c),a(e,m),a(m,p),a(m,d),O&&O.m(m,null),a(m,b),a(m,w),a(w,g),a(g,k),a(k,P),a(w,q),a(w,I),a(w,A),a(w,R),a(R,L),a(L,V),N(x,G,$),ye(X,x,$),N(x,Y,$),ye(D,x,$),y=!0,W||(B=[pe(k,"click",t[7]),pe(m,"submit",mn(t[5]))],W=!0)},p(x,$){var ke,T,C,U,F,H,le,ae,ce;(!y||$[0]&1)&&n!==(n=(((T=(ke=x[0].conf)==null?void 0:ke.price)==null?void 0:T.title)??"Price")+"")&&E(i,n),x[1].o?O?O.p(x,$):(O=lu(x),O.c(),O.m(m,b)):O&&(O.d(1),O=null),(!y||$[0]&1)&&v!==(v=(((U=(C=x[0].conf)==null?void 0:C.price)==null?void 0:U.btn_add)??"Add")+"")&&E(P,v),(!y||$[0]&1)&&j!==(j=(((F=x[0].btn)==null?void 0:F.save)??"Save")+"")&&E(V,j);const te={};$[0]&4&&(te.active=x[2]),$[0]&1&&(te.message=((le=(H=x[0].conf)==null?void 0:H.price)==null?void 0:le.mask_loading)??"Loading"),X.$set(te);const ge={};$[0]&8&&(ge.active=x[3]),$[0]&1&&(ge.message=((ce=(ae=x[0].conf)==null?void 0:ae.price)==null?void 0:ce.mask_saving)??"Saving"),D.$set(ge)},i(x){y||(ee(X.$$.fragment,x),ee(D.$$.fragment,x),y=!0)},o(x){se(X.$$.fragment,x),se(D.$$.fragment,x),y=!1},d(x){x&&(M(e),M(G),M(Y)),O&&O.d(),Ce(X,x),Ce(D,x),W=!1,Vt(B)}}}function m_(t,e,l){let{basepath:n="/"}=e,i={};Nl.subscribe(O=>{l(0,i=O)});let s=["mo","tu","we","th","fr","sa","su"],o={},u=!0,r=!1;_f.subscribe(O=>{O.o&&(l(1,o=O),l(2,u=!1))}),M1();async function c(O){l(3,r=!0);const z=new URLSearchParams;z.append("r","true"),z.append("rc",o.o.length),o.o.forEach(function(Z,K){z.append("rt"+K,Z.t),z.append("rn"+K,Z.n),z.append("rd"+K,Z.d),z.append("ra"+K,Z.a),z.append("rh"+K,Z.h),z.append("rv"+K,Z.v),z.append("rsm"+K,Z.s.m),z.append("rsd"+K,Z.s.d),z.append("rem"+K,Z.e.m),z.append("red"+K,Z.e.d)}),await(await fetch("save",{method:"POST",body:z})).json(),l(3,r=!1),jl(n+"configuration")}let m=function(O,z){return O.includes(z)?O=O.filter(function(Q){return Q!==z}):O.push(z),O},p=function(){let O=o.o;O.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=O,o)},d=function(O){let z=o.o;z.splice(O,1),l(1,o.o=z,o)},b=function(O){if(O<=0)return;let z=o.o;var Q=z[O];z[O]=z[O-1],z[O-1]=Q,l(1,o.o=z,o)},w=function(O){let z=o.o;if(!(O>=z.length-1)){var Q=z[O];z[O]=z[O+1],z[O+1]=Q,l(1,o.o=z,o)}};function g(O,z){O[z].n=this.value,l(1,o)}function k(O,z){O[z].d=nl(this),l(1,o)}function v(O,z){O[z].t=nl(this),l(1,o)}function P(O,z){O[z].v=St(this.value),l(1,o)}const q=(O,z,Q,Z)=>l(1,Q[Z].a=m(O.a,z),o),I=(O,z,Q,Z)=>l(1,Q[Z].h=m(O.h,z),o),A=(O,z,Q,Z)=>l(1,Q[Z].h=m(O.h,z+8),o),R=(O,z,Q,Z)=>l(1,Q[Z].h=m(O.h,z+16),o);function L(O,z){O[z].s.d=nl(this),l(1,o)}function j(O,z){O[z].s.m=nl(this),l(1,o)}function V(O,z){O[z].e.d=nl(this),l(1,o)}function G(O,z){O[z].e.m=nl(this),l(1,o)}const X=O=>b(O),Y=O=>b(O),D=O=>w(O),y=O=>w(O),W=O=>d(O),B=O=>d(O);return t.$$set=O=>{"basepath"in O&&l(11,n=O.basepath)},[i,o,u,r,s,c,m,p,d,b,w,n,g,k,v,P,q,I,A,R,L,j,V,G,X,Y,D,y,W,B]}class __ extends Ot{constructor(e){super(),It(this,e,m_,c_,Lt,{basepath:11},null,[-1,-1])}}function fu(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function cu(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function mu(t){let e,l,n,i=st(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=_u(cu(t,i,o));return{c(){e=_("div"),e.textContent="Import",l=h(),n=_("div");for(let o=0;o<s.length;o+=1)s[o].c();f(e,"class","text-sm font-bold"),f(n,"class","flex flex-wrap my-1")},m(o,u){N(o,e,u),N(o,l,u),N(o,n,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,u){if(u&3){i=st(o[1]);let r;for(r=0;r<i.length;r+=1){const c=cu(o,i,r);s[r]?s[r].p(c,u):(s[r]=_u(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),el(s,o)}}}function _u(t){let e,l,n=t[13].name+"",i,s,o,u,r,c,m,p,d;function b(){t[11].call(o,t[13])}return{c(){e=_("label"),l=_("span"),i=S(n),s=h(),o=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),f(l,"class","in-pre"),f(o,"name",u=t[13].key),f(o,"type","number"),f(o,"step","0.01"),f(o,"class","in-txt w-full text-right"),f(c,"class","in-post"),f(e,"class","flex w-60 m-1")},m(w,g){N(w,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),p||(d=pe(o,"input",b),p=!0)},p(w,g){t=w,g&2&&n!==(n=t[13].name+"")&&E(i,n),g&2&&u!==(u=t[13].key)&&f(o,"name",u),g&3&&St(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),p=!1,d()}}}function pu(t){let e,l,n,i=st(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=du(fu(t,i,o));return{c(){e=_("div"),e.textContent="Export",l=h(),n=_("div");for(let o=0;o<s.length;o+=1)s[o].c();f(e,"class","text-sm font-bold"),f(n,"class","flex flex-wrap my-1")},m(o,u){N(o,e,u),N(o,l,u),N(o,n,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,u){if(u&5){i=st(o[2]);let r;for(r=0;r<i.length;r+=1){const c=fu(o,i,r);s[r]?s[r].p(c,u):(s[r]=du(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),el(s,o)}}}function du(t){let e,l,n=t[13].name+"",i,s,o,u,r,c,m,p,d;function b(){t[12].call(o,t[13])}return{c(){e=_("label"),l=_("span"),i=S(n),s=h(),o=_("input"),r=h(),c=_("span"),c.textContent="kWh",m=h(),f(l,"class","in-pre"),f(o,"name",u=t[13].key),f(o,"type","number"),f(o,"step","0.01"),f(o,"class","in-txt w-full text-right"),f(c,"class","in-post"),f(e,"class","flex w-60 m-1")},m(w,g){N(w,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),p||(d=pe(o,"input",b),p=!0)},p(w,g){t=w,g&4&&n!==(n=t[13].name+"")&&E(i,n),g&4&&u!==(u=t[13].key)&&f(o,"name",u),g&5&&St(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),p=!1,d()}}}function p_(t){var I,A,R;let e,l,n,i,s,o,u,r,c,m,p=(((I=t[3].btn)==null?void 0:I.save)??"Save")+"",d,b,w,g,k,v,P=t[1]&&mu(t),q=t[2]&&t[4]&&pu(t);return w=new pl({props:{active:t[5],message:((R=(A=t[3].conf)==null?void 0:A.mask)==null?void 0:R.saving)??"Saving"}}),{c(){e=_("form"),l=_("div"),P&&P.c(),n=h(),q&&q.c(),i=h(),s=_("div"),o=_("div"),u=_("button"),u.textContent="Clear all",r=h(),c=_("div"),m=_("button"),d=S(p),b=h(),Me(w.$$.fragment),f(u,"type","button"),f(u,"class","btn-red"),f(m,"type","submit"),f(m,"class","btn-pri"),f(c,"class","text-right"),f(s,"class","grid grid-cols-2 mt-3"),f(l,"class","cnt"),f(e,"autocomplete","off")},m(L,j){N(L,e,j),a(e,l),P&&P.m(l,null),a(l,n),q&&q.m(l,null),a(l,i),a(l,s),a(s,o),a(o,u),a(s,r),a(s,c),a(c,m),a(m,d),N(L,b,j),ye(w,L,j),g=!0,k||(v=[pe(u,"click",t[6]),pe(e,"submit",mn(t[7]))],k=!0)},p(L,[j]){var G,X,Y;L[1]?P?P.p(L,j):(P=mu(L),P.c(),P.m(l,n)):P&&(P.d(1),P=null),L[2]&&L[4]?q?q.p(L,j):(q=pu(L),q.c(),q.m(l,i)):q&&(q.d(1),q=null),(!g||j&8)&&p!==(p=(((G=L[3].btn)==null?void 0:G.save)??"Save")+"")&&E(d,p);const V={};j&32&&(V.active=L[5]),j&8&&(V.message=((Y=(X=L[3].conf)==null?void 0:X.mask)==null?void 0:Y.saving)??"Saving"),w.$set(V)},i(L){g||(ee(w.$$.fragment,L),g=!0)},o(L){se(w.$$.fragment,L),g=!1},d(L){L&&(M(e),M(b)),P&&P.d(),q&&q.d(),Ce(w,L),k=!1,Vt(v)}}}function d_(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,u={};Nl.subscribe(k=>{l(3,u=k)});let r=!1,c,m;async function p(){if(confirm("Clear all data?"))for(let k in i)(k.startsWith("i")||k.startsWith("e"))&&l(0,i[k]=0,i)}let d=!1;async function b(k){l(5,d=!0);const v=new FormData(k.target),P=new URLSearchParams;for(let I of v){const[A,R]=I;P.append(A,R)}await(await fetch(s,{method:"POST",body:P})).json(),l(5,d=!1),jl(o)}function w(k){i[k.key]=St(this.value),l(0,i)}function g(k){i[k.key]=St(this.value),l(0,i)}return t.$$set=k=>{"prefix"in k&&l(8,n=k.prefix),"data"in k&&l(0,i=k.data),"url"in k&&l(9,s=k.url),"basepath"in k&&l(10,o=k.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let k in i){let v=[];k.startsWith("i")?v=c:k.startsWith("e")&&(v=m,i[k]&&l(4,r=!0)),v.push({key:k,name:n+" "+k.substring(1),value:i[k]})}}},[i,c,m,u,r,d,p,b,n,s,o,w,g]}class bf extends Ot{constructor(e){super(),It(this,e,d_,p_,Lt,{prefix:8,data:0,url:9,basepath:10})}}function hu(t){let e,l;return e=new Pc({props:{data:t[6],basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h_(t){let e,l;return e=new xm({props:{basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function b_(t){let e,l;return e=new C1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function g_(t){let e,l;return e=new pm({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function v_(t){let e,l;return e=new __({props:{basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function k_(t){let e,l;return e=new Nm({props:{sysinfo:t[7],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function w_(t){let e,l;return e=new ks({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function S_(t){let e,l;return e=new ks({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function y_(t){let e,l;return e=new ks({props:{title:"private key",action:"/mqtt-key"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function C_(t){let e,l;return e=new o_({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function M_(t){let e,l;return e=new Bm({props:{sysinfo:t[7],data:t[6]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function N_(t){let e,l;return e=new Lm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function P_(t){let e,l;return e=new bf({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function T_(t){let e,l;return e=new bf({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function E_(t){let e,l,n,i,s,o,u,r,c,m,p,d,b,w,g,k,v,P,q,I,A,R,L,j,V,G,X,Y=!t[9]&&hu(t);return l=new wl({props:{path:"/welcome",$$slots:{default:[h_]},$$scope:{ctx:t}}}),i=new wl({props:{path:"/",$$slots:{default:[b_]},$$scope:{ctx:t}}}),o=new wl({props:{path:"/configuration",$$slots:{default:[g_]},$$scope:{ctx:t}}}),r=new wl({props:{path:"/priceconfig",$$slots:{default:[v_]},$$scope:{ctx:t}}}),m=new wl({props:{path:"/status",$$slots:{default:[k_]},$$scope:{ctx:t}}}),d=new wl({props:{path:"/mqtt-ca",$$slots:{default:[w_]},$$scope:{ctx:t}}}),w=new wl({props:{path:"/mqtt-cert",$$slots:{default:[S_]},$$scope:{ctx:t}}}),k=new wl({props:{path:"/mqtt-key",$$slots:{default:[y_]},$$scope:{ctx:t}}}),P=new wl({props:{path:"/consent",$$slots:{default:[C_]},$$scope:{ctx:t}}}),I=new wl({props:{path:"/setup",$$slots:{default:[M_]},$$scope:{ctx:t}}}),R=new wl({props:{path:"/vendor",$$slots:{default:[N_]},$$scope:{ctx:t}}}),j=new wl({props:{path:"/edit-day",$$slots:{default:[P_]},$$scope:{ctx:t}}}),G=new wl({props:{path:"/edit-month",$$slots:{default:[T_]},$$scope:{ctx:t}}}),{c(){Y&&Y.c(),e=h(),Me(l.$$.fragment),n=h(),Me(i.$$.fragment),s=h(),Me(o.$$.fragment),u=h(),Me(r.$$.fragment),c=h(),Me(m.$$.fragment),p=h(),Me(d.$$.fragment),b=h(),Me(w.$$.fragment),g=h(),Me(k.$$.fragment),v=h(),Me(P.$$.fragment),q=h(),Me(I.$$.fragment),A=h(),Me(R.$$.fragment),L=h(),Me(j.$$.fragment),V=h(),Me(G.$$.fragment)},m(D,y){Y&&Y.m(D,y),N(D,e,y),ye(l,D,y),N(D,n,y),ye(i,D,y),N(D,s,y),ye(o,D,y),N(D,u,y),ye(r,D,y),N(D,c,y),ye(m,D,y),N(D,p,y),ye(d,D,y),N(D,b,y),ye(w,D,y),N(D,g,y),ye(k,D,y),N(D,v,y),ye(P,D,y),N(D,q,y),ye(I,D,y),N(D,A,y),ye(R,D,y),N(D,L,y),ye(j,D,y),N(D,V,y),ye(G,D,y),X=!0},p(D,y){D[9]?Y&&(Pt(),se(Y,1,1,()=>{Y=null}),Tt()):Y?(Y.p(D,y),y&512&&ee(Y,1)):(Y=hu(D),Y.c(),ee(Y,1),Y.m(e.parentNode,e));const W={};y&65537&&(W.$$scope={dirty:y,ctx:D}),l.$set(W);const B={};y&66046&&(B.$$scope={dirty:y,ctx:D}),i.$set(B);const O={};y&65729&&(O.$$scope={dirty:y,ctx:D}),o.$set(O);const z={};y&65537&&(z.$$scope={dirty:y,ctx:D}),r.$set(z);const Q={};y&65728&&(Q.$$scope={dirty:y,ctx:D}),m.$set(Q);const Z={};y&65536&&(Z.$$scope={dirty:y,ctx:D}),d.$set(Z);const K={};y&65536&&(K.$$scope={dirty:y,ctx:D}),w.$set(K);const ne={};y&65536&&(ne.$$scope={dirty:y,ctx:D}),k.$set(ne);const fe={};y&65665&&(fe.$$scope={dirty:y,ctx:D}),P.$set(fe);const oe={};y&65728&&(oe.$$scope={dirty:y,ctx:D}),I.$set(oe);const ie={};y&65665&&(ie.$$scope={dirty:y,ctx:D}),R.$set(ie);const re={};y&65541&&(re.$$scope={dirty:y,ctx:D}),j.$set(re);const x={};y&65545&&(x.$$scope={dirty:y,ctx:D}),G.$set(x)},i(D){X||(ee(Y),ee(l.$$.fragment,D),ee(i.$$.fragment,D),ee(o.$$.fragment,D),ee(r.$$.fragment,D),ee(m.$$.fragment,D),ee(d.$$.fragment,D),ee(w.$$.fragment,D),ee(k.$$.fragment,D),ee(P.$$.fragment,D),ee(I.$$.fragment,D),ee(R.$$.fragment,D),ee(j.$$.fragment,D),ee(G.$$.fragment,D),X=!0)},o(D){se(Y),se(l.$$.fragment,D),se(i.$$.fragment,D),se(o.$$.fragment,D),se(r.$$.fragment,D),se(m.$$.fragment,D),se(d.$$.fragment,D),se(w.$$.fragment,D),se(k.$$.fragment,D),se(P.$$.fragment,D),se(I.$$.fragment,D),se(R.$$.fragment,D),se(j.$$.fragment,D),se(G.$$.fragment,D),X=!1},d(D){D&&(M(e),M(n),M(s),M(u),M(c),M(p),M(b),M(g),M(v),M(q),M(A),M(L),M(V)),Y&&Y.d(D),Ce(l,D),Ce(i,D),Ce(o,D),Ce(r,D),Ce(m,D),Ce(d,D),Ce(w,D),Ce(k,D),Ce(P,D),Ce(I,D),Ce(R,D),Ce(j,D),Ce(G,D)}}}function bu(t){let e,l,n,i;const s=[q_,A_],o=[];function u(r,c){return r[7].trying?0:1}return e=u(t),l=o[e]=s[e](t),{c(){l.c(),n=tl()},m(r,c){o[e].m(r,c),N(r,n,c),i=!0},p(r,c){let m=e;e=u(r),e===m?o[e].p(r,c):(Pt(),se(o[m],1,1,()=>{o[m]=null}),Tt(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),ee(l,1),l.m(n.parentNode,n))},i(r){i||(ee(l),i=!0)},o(r){se(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function A_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p:Ke,i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function q_(t){let e,l;return e=new pl({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Me(e.$$.fragment)},m(n,i){ye(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(ee(e.$$.fragment,n),l=!0)},o(n){se(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function L_(t){let e,l,n,i;l=new Vu({props:{basepath:t[0],$$slots:{default:[E_]},$$scope:{ctx:t}}});let s=t[7].booting&&bu(t);return{c(){e=_("div"),Me(l.$$.fragment),n=h(),s&&s.c(),f(e,"class","container mx-auto m-3")},m(o,u){N(o,e,u),ye(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[u]){const r={};u&1&&(r.basepath=o[0]),u&66559&&(r.$$scope={dirty:u,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,u),u&128&&ee(s,1)):(s=bu(o),s.c(),ee(s,1),s.m(e,null)):s&&(Pt(),se(s,1,1,()=>{s=null}),Tt())},i(o){i||(ee(l.$$.fragment,o),ee(s),i=!0)},o(o){se(l.$$.fragment,o),se(s),i=!1},d(o){o&&M(e),Ce(l),s&&s.d()}}}function D_(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/");let s;us.subscribe(q=>{l(1,s=q)});let o;tf.subscribe(q=>{l(2,o=q)});let u;lf.subscribe(q=>{l(3,u=q)});let r;nf.subscribe(q=>{l(4,r=q)});let c={};Nl.subscribe(q=>{l(5,c=q)});let m,p={},d={},b;const w=(q="")=>{if(typeof q!="string")return"/";let I=q||"/";return i&&i!=="/"&&I.startsWith(i)&&(I=I.slice(i.length),I.startsWith("/")||(I=`/${I}`)),I.startsWith("/")||(I=`/${I}`),I.length>1&&(I=I.replace(/\/+$/,"")),I||"/"};ml.subscribe(q=>{var A;l(7,d=q);const I=(()=>typeof window>"u"?"":w(window.location.pathname??"/").replace(/^\/+/,""))();d.vndcfg===!1?I==="setup"?jl(i+"vendor"):I!=="welcome"&&I!=="vendor"&&jl(i+"welcome"):d.usrcfg===!1?I!=="welcome"&&I!=="setup"&&jl(i+"welcome"):d.fwconsent===0&&I!=="consent"&&jl(i+"consent"),d.ui.k===1?document.documentElement.classList.add("dark"):d.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),d.ui.lang&&d.ui.lang!=((A=c==null?void 0:c.language)==null?void 0:A.code)&&Jn(d.ui.lang),d.version&&b&&d.version!=b&&window.location.reload(),b=d.version,m&&clearTimeout(m),m=setTimeout(Si,!p||!p.u||p.u<30||d!=null&&d.upgrading?1e4:3e5)}),Q0.subscribe(q=>{l(6,p=q),p1(q)});let g={};of.subscribe(q=>{l(8,g=q)}),sf();let k=typeof window<"u"?w(window.location.pathname??"/"):"/";const v=(q="/")=>q==="/setup"||q==="/consent"||q==="/welcome",P=()=>{typeof window<"u"&&l(10,k=w(window.location.pathname??"/"))};return vi(()=>{P();const q=()=>P();window.addEventListener("popstate",q);const I=history.pushState,A=history.replaceState;return history.pushState=function(...R){I.apply(this,R),P()},history.replaceState=function(...R){A.apply(this,R),P()},()=>{window.removeEventListener("popstate",q),history.pushState=I,history.replaceState=A}}),ki(()=>{P()}),t.$$.update=()=>{t.$$.dirty&1024&&l(9,n=v(k))},[i,s,o,u,r,c,p,d,g,n,k]}class I_ extends Ot{constructor(e){super(),It(this,e,D_,L_,Lt,{})}}new I_({target:document.getElementById("app")});
