var uu=Object.defineProperty;var cu=(t,e,l)=>e in t?uu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var wi=(t,e,l)=>(cu(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Ue(){}function hl(t,e){for(const l in e)t[l]=e[l];return t}function of(t){return t()}function Es(){return Object.create(null)}function Ht(t){t.forEach(of)}function Xi(t){return typeof t=="function"}function Nt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let xn;function fn(t,e){return t===e?!0:(xn||(xn=document.createElement("a")),xn.href=e,t===xn.href)}function mu(t){return Object.keys(t).length===0}function Ji(t,...e){if(t==null){for(const n of e)n(void 0);return Ue}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function xl(t){let e;return Ji(t,l=>e=l)(),e}function Pl(t,e,l){t.$$.on_destroy.push(Ji(e,l))}function Qi(t,e,l,n){if(t){const i=af(t,e,l,n);return t[0](i)}}function af(t,e,l,n){return t[1]&&n?hl(l.ctx.slice(),t[1](n(e))):l.ctx}function Zi(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let f=0;f<o;f+=1)s[f]=e.dirty[f]|i[f];return s}return e.dirty|i}return e.dirty}function $i(t,e,l,n,i,s){if(i){const o=af(e,l,n,s);t.p(o,i)}}function xi(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ri(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function fi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const _u=["",!0,1,"true","contenteditable"];function a(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function Qt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function p(t){return document.createElement(t)}function yt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function h(){return S(" ")}function el(){return S("")}function he(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Sn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const pu=["width","height"];function gn(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&pu.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function rf(t){let e;return{p(...l){e=l,e.forEach(n=>t.push(n))},r(){e.forEach(l=>t.splice(t.indexOf(l),1))}}}function kt(t){return t===""?null:+t}function du(t){return Array.from(t.childNodes)}function L(t,e){e=""+e,t.data!==e&&(t.data=e)}function hu(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function vu(t,e,l){~_u.indexOf(l)?hu(t,e):L(t,e)}function J(t,e){t.value=e??""}function en(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function st(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function nl(t){const e=t.querySelector(":checked");return e&&e.__value}let ei;function bu(){if(ei===void 0){ei=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ei=!0}}return ei}function es(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=p("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=bu();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=he(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=he(n.contentWindow,"resize",e),e()}),a(t,n),()=>{(i||s&&n.contentWindow)&&s(),M(n)}}function $l(t,e,l){t.classList.toggle(e,!!l)}function gu(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function As(t,e){return new t(e)}let Kn;function Wn(t){Kn=t}function Jn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function vi(t){Jn().$$.on_mount.push(t)}function bi(t){Jn().$$.on_destroy.push(t)}function ku(){const t=Jn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=gu(e,l,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function Hn(t,e){return Jn().$$.context.set(t,e),e}function ln(t){return Jn().$$.context.get(t)}const pn=[],ui=[];let bn=[];const qs=[],ff=Promise.resolve();let Ai=!1;function uf(){Ai||(Ai=!0,ff.then(cf))}function wu(){return uf(),ff}function Gt(t){bn.push(t)}const Si=new Set;let mn=0;function cf(){if(mn!==0)return;const t=Kn;do{try{for(;mn<pn.length;){const e=pn[mn];mn++,Wn(e),Su(e.$$)}}catch(e){throw pn.length=0,mn=0,e}for(Wn(null),pn.length=0,mn=0;ui.length;)ui.pop()();for(let e=0;e<bn.length;e+=1){const l=bn[e];Si.has(l)||(Si.add(l),l())}bn.length=0}while(pn.length);for(;qs.length;)qs.pop()();Ai=!1,Si.clear(),Wn(t)}function Su(t){if(t.fragment!==null){t.update(),Ht(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Gt)}}function yu(t){const e=[],l=[];bn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),bn=e}const si=new Set;let sn;function wt(){sn={r:0,c:[],p:sn}}function St(){sn.r||Ht(sn.c),sn=sn.p}function Z(t,e){t&&t.i&&(si.delete(t),t.i(e))}function ie(t,e,l,n){if(t&&t.o){if(si.has(t))return;si.add(t),sn.c.push(()=>{si.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Xe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function mf(t,e){t.d(1),e.delete(t.key)}function _f(t,e,l,n,i,s,o,f,r,c,m,d){let _=t.length,v=s.length,w=_;const g={};for(;w--;)g[t[w].key]=w;const k=[],b=new Map,T=new Map,q=[];for(w=v;w--;){const N=d(i,s,w),F=l(N);let V=o.get(F);V?n&&q.push(()=>V.p(N,e)):(V=c(F,N),V.c()),b.set(F,k[w]=V),F in g&&T.set(F,Math.abs(w-g[F]))}const O=new Set,A=new Set;function P(N){Z(N,1),N.m(f,m),o.set(N.key,N),m=N.first,v--}for(;_&&v;){const N=k[v-1],F=t[_-1],V=N.key,Y=F.key;N===F?(m=N.first,_--,v--):b.has(Y)?!o.has(V)||O.has(V)?P(N):A.has(Y)?_--:T.get(V)>T.get(Y)?(A.add(V),P(N)):(O.add(Y),_--):(r(F,o),_--)}for(;_--;){const N=t[_];b.has(N.key)||r(N,o)}for(;v;)P(k[v-1]);return Ht(q),k}function qi(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],f=e[s];if(f){for(const r in o)r in f||(n[r]=1);for(const r in f)i[r]||(l[r]=f[r],i[r]=1);t[s]=f}else for(const r in o)i[r]=1}for(const o in n)o in l||(l[o]=void 0);return l}function ti(t){return typeof t=="object"&&t!==null?t:{}}function Ne(t){t&&t.c()}function Me(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Gt(()=>{const s=t.$$.on_mount.map(of).filter(Xi);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ht(s),t.$$.on_mount=[]}),i.forEach(Gt)}function Ce(t,e){const l=t.$$;l.fragment!==null&&(yu(l.after_update),Ht(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Mu(t,e){t.$$.dirty[0]===-1&&(pn.push(t),uf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,l,n,i,s,o=null,f=[-1]){const r=Kn;Wn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ue,not_equal:i,bound:Es(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Es(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(d,_,...v)=>{const w=v.length?v[0]:_;return c.ctx&&i(c.ctx[d],c.ctx[d]=w)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](w),m&&Mu(t,d)),_}):[],c.update(),m=!0,Ht(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=du(e.target);c.fragment&&c.fragment.l(d),d.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&Z(t.$$.fragment),Me(t,e.target,e.anchor),cf()}Wn(r)}class At{constructor(){wi(this,"$$");wi(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Ue}$on(e,l){if(!Xi(l))return Ue;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!mu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Cu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cu);const Ls=t=>typeof t>"u",pf=t=>typeof t=="function",df=t=>typeof t=="number";function Nu(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hf(){let t=0;return()=>t++}function Pu(){return Math.random().toString(36).substring(2)}const Ll=typeof window>"u";function vf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const bf=(t,e)=>t?{}:{style:e},Li=t=>({"aria-hidden":"true",...bf(t,"display:none;")}),_n=[];function gf(t,e){return{subscribe:il(t,e).subscribe}}function il(t,e=Ue){let l;const n=new Set;function i(f){if(Nt(t,f)&&(t=f,l)){const r=!_n.length;for(const c of n)c[1](),_n.push(c,t);if(r){for(let c=0;c<_n.length;c+=2)_n[c][0](_n[c+1]);_n.length=0}}}function s(f){i(f(t))}function o(f,r=Ue){const c=[f,r];return n.add(c),n.size===1&&(l=e(i,s)||Ue),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:s,subscribe:o}}function Tu(t,e,l){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return gf(l,(o,f)=>{let r=!1;const c=[];let m=0,d=Ue;const _=()=>{if(m)return;d();const w=e(n?c[0]:c,o,f);s?o(w):d=Xi(w)?w:Ue},v=i.map((w,g)=>Ji(w,k=>{c[g]=k,m&=~(1<<g),r&&_()},()=>{m|=1<<g}));return r=!0,_(),function(){Ht(v),d(),r=!1}})}const Qn=t=>`@@svnav-ctx__${t}`,Ii=Qn("LOCATION"),kn=Qn("ROUTER"),kf=Qn("ROUTE"),Eu=Qn("ROUTE_PARAMS"),Au=Qn("FOCUS_ELEM"),wf=/^:(.+)/,Rn=(t,e,l)=>t.substr(e,l),Oi=(t,e)=>Rn(t,0,e.length)===e,qu=t=>t==="",Lu=t=>wf.test(t),Sf=t=>t[0]==="*",Iu=t=>t.replace(/\*.*$/,""),yf=t=>t.replace(/(^\/+|\/+$)/g,"");function Tl(t,e=!1){const l=yf(t).split("/");return e?l.filter(Boolean):l}const yi=(t,e)=>t+(e?`?${e}`:""),ts=t=>`/${yf(t)}`;function Zn(...t){const e=n=>Tl(n,!0).join("/"),l=t.map(e).join("/");return ts(l)}const ls=1,gi=2,un=3,Ou=4,Mf=5,Du=6,Cf=7,Fu=8,Ru=9,Nf=10,Pf=11,Uu={[ls]:"Link",[gi]:"Route",[un]:"Router",[Ou]:"useFocus",[Mf]:"useLocation",[Du]:"useMatch",[Cf]:"useNavigate",[Fu]:"useParams",[Ru]:"useResolvable",[Nf]:"useResolve",[Pf]:"navigate"},ns=t=>Uu[t];function Bu(t,e){let l;return t===gi?l=e.path?`path="${e.path}"`:"default":t===ls?l=`to="${e.to}"`:t===un&&(l=`basepath="${e.basepath||""}"`),`<${ns(t)} ${l||""} />`}function Wu(t,e,l,n){const i=l&&Bu(n||t,l),s=i?`

Occurred in: ${i}`:"",o=ns(t),f=pf(e)?e(o):e;return`<${o}> ${f}${s}`}const Tf=t=>(...e)=>t(Wu(...e)),Ef=Tf(t=>{throw new Error(t)}),ci=Tf(console.warn),Is=4,Hu=3,ju=2,zu=1,Ku=1;function Vu(t,e){const l=t.default?0:Tl(t.fullPath).reduce((n,i)=>{let s=n;return s+=Is,qu(i)?s+=Ku:Lu(i)?s+=ju:Sf(i)?s-=Is+zu:s+=Hu,s},0);return{route:t,score:l,index:e}}function Gu(t){return t.map(Vu).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Af(t,e){let l,n;const[i]=e.split("?"),s=Tl(i),o=s[0]==="",f=Gu(t);for(let r=0,c=f.length;r<c;r++){const{route:m}=f[r];let d=!1;const _={},v=b=>({...m,params:_,uri:b});if(m.default){n=v(e);continue}const w=Tl(m.fullPath),g=Math.max(s.length,w.length);let k=0;for(;k<g;k++){const b=w[k],T=s[k];if(!Ls(b)&&Sf(b)){const O=b==="*"?"*":b.slice(1);_[O]=s.slice(k).map(decodeURIComponent).join("/");break}if(Ls(T)){d=!0;break}const q=wf.exec(b);if(q&&!o){const O=decodeURIComponent(T);_[q[1]]=O}else if(b!==T){d=!0;break}}if(!d){l=v(Zn(...s.slice(0,k)));break}}return l||n||null}function qf(t,e){return Af([t],e)}function Yu(t,e){if(Oi(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=Tl(l),o=Tl(i);if(s[0]==="")return yi(i,n);if(!Oi(s[0],".")){const c=o.concat(s).join("/");return yi((i==="/"?"":"/")+c,n)}const f=o.concat(s),r=[];return f.forEach(c=>{c===".."?r.pop():c!=="."&&r.push(c)}),yi(`/${r.join("/")}`,n)}function Os(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,o=Tl(e,!0),f=Tl(l,!0);for(;o.length;)o[0]!==f[0]&&Ef(un,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),o.shift(),f.shift();return{pathname:Zn(...f),hash:n,search:i,state:s}}const Ds=t=>t.length===1?"":t,is=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Ds(Rn(t,l)):"",o=i?Rn(t,0,l):t,f=n?Ds(Rn(o,e)):"";return{pathname:(n?Rn(o,0,e):o)||"/",search:f,hash:s}},Xu=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function Ju(t,e,l){return Zn(l,Yu(t,e))}function Qu(t,e){const l=ts(Iu(t)),n=Tl(l,!0),i=Tl(e,!0).slice(0,n.length),s=qf({fullPath:l},Zn(...i));return s&&s.uri}const Mi="POP",Zu="PUSH",$u="REPLACE";function Ci(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function xu(t){let e=[],l=Ci(t),n=Mi;const i=(s=e)=>s.forEach(o=>o({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const o=()=>{l=Ci(t),n=Mi,i([s])};i([s]);const f=vf(t,"popstate",o);return()=>{f(),e=e.filter(r=>r!==s)}},navigate(s,o){const{state:f={},replace:r=!1}=o||{};if(n=r?$u:Zu,df(s))o&&ci(Pf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Mi,t.history.go(s);else{const c={...f,_key:Pu()};try{t.history[r?"replaceState":"pushState"](c,"",s)}catch{t.location[r?"replace":"assign"](s)}}l=Ci(t),i()}}}function Ni(t,e){return{...is(e),state:t}}function e0(t="/"){let e=0,l=[Ni(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(Ni(n,s))},replaceState(n,i,s){l[e]=Ni(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const t0=!!(!Ll&&window.document&&window.document.createElement),l0=!Ll&&window.location.origin==="null",Lf=xu(t0&&!l0?window:e0()),{navigate:wn}=Lf;let El=null,If=!0;function n0(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function i0(t){(!El||t.level>El.level||t.level===El.level&&n0(t.routerId,El.routerId))&&(El=t)}function s0(){El=null}function o0(){If=!1}function Fs(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=vf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function a0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function r0(t){return/^H[1-6]$/i.test(t.tagName)}function Rs(t,e=document){return e.querySelector(t)}function f0(t){let l=Rs(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!a0(l,t);){if(r0(l))return l;const n=Rs("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function u0(t){Promise.resolve(xl(t.focusElement)).then(e=>{const l=e||f0(t.id);l||ci(un,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gi),!Fs(l)&&Fs(document.documentElement)})}const c0=(t,e,l)=>(n,i)=>wu().then(()=>{if(!El||If){o0();return}if(n&&u0(El.route),t.announcements&&i){const{path:s,fullPath:o,meta:f,params:r,uri:c}=El.route,m=t.createAnnouncement({path:s,fullPath:o,meta:f,params:r,uri:c},xl(l));Promise.resolve(m).then(d=>{e.set(d)})}s0()}),m0="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function _0(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},bf(t[6],m0)],i={};for(let s=0;s<n.length;s+=1)i=hl(i,n[s]);return{c(){e=p("div"),l=S(t[0]),gn(e,i)},m(s,o){C(s,e,o),a(e,l)},p(s,o){o[0]&1&&vu(l,s[0],i.contenteditable)},d(s){s&&M(e)}}}function p0(t){let e,l,n,i,s,o=[Li(t[6]),{"data-svnav-router":t[3]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);const r=t[22].default,c=Qi(r,t,t[21],null);let m=t[2]&&t[4]&&t[1].announcements&&_0(t);return{c(){e=p("div"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=el(),gn(e,f)},m(d,_){C(d,e,_),C(d,l,_),c&&c.m(d,_),C(d,n,_),m&&m.m(d,_),C(d,i,_),s=!0},p(d,_){c&&c.p&&(!s||_[0]&2097152)&&$i(c,r,d,d[21],s?Zi(r,d[21],_,null):xi(d[21]),null),d[2]&&d[4]&&d[1].announcements&&m.p(d,_)},i(d){s||(Z(c,d),s=!0)},o(d){ie(c,d),s=!1},d(d){d&&(M(e),M(l),M(n),M(i)),c&&c.d(d),m&&m.d(d)}}}const d0=hf(),Us="/";function h0(t,e,l){let n,i,s,o,f,{$$slots:r={},$$scope:c}=e,{basepath:m=Us}=e,{url:d=null}=e,{history:_=Lf}=e,{primary:v=!0}=e,{a11y:w={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:z=>`Navigated to ${z.uri}`,announcements:!0,...w},b=m,T=ts(m),q=ln(Ii),O=ln(kn),A=!q,P=d0(),N=v&&!(O&&!O.manageFocus),F=il("");Pl(t,F,z=>l(0,f=z));const V=O?O.disableInlineStyles:g,Y=il([]);Pl(t,Y,z=>l(20,o=z));const I=il(null);Pl(t,I,z=>l(18,i=z));let B=!1;const X=A?0:O.level+1,G=A?il((()=>Os(Ll?is(d):_.location,T))()):q;Pl(t,G,z=>l(17,n=z));const W=il(n);Pl(t,W,z=>l(19,s=z));const U=c0(k,F,G),H=z=>ee=>ee.filter(ce=>ce.id!==z);function x(z){if(Ll){if(B)return;const ee=qf(z,n.pathname);if(ee)return B=!0,ee}else Y.update(ee=>{const ce=H(z.id)(ee);return ce.push(z),ce})}function ne(z){Y.update(H(z))}return!A&&m!==Us&&ci(un,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:m}),A&&(vi(()=>_.listen(ee=>{const ce=Os(ee.location,T);W.set(n),G.set(ce)})),Hn(Ii,G)),Hn(kn,{activeRoute:I,registerRoute:x,unregisterRoute:ne,manageFocus:N,level:X,id:P,history:A?_:O.history,basepath:A?T:O.basepath,disableInlineStyles:V}),t.$$set=z=>{"basepath"in z&&l(11,m=z.basepath),"url"in z&&l(12,d=z.url),"history"in z&&l(13,_=z.history),"primary"in z&&l(14,v=z.primary),"a11y"in z&&l(15,w=z.a11y),"disableInlineStyles"in z&&l(16,g=z.disableInlineStyles),"$$scope"in z&&l(21,c=z.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&m!==b&&ci(un,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const z=Af(o,n.pathname);I.set(z)}if(t.$$.dirty[0]&655360&&A){const z=!!n.hash,ee=!z&&N,ce=!z||n.pathname!==s.pathname;U(ee,ce)}t.$$.dirty[0]&262144&&N&&i&&i.primary&&i0({level:X,routerId:P,route:i})},[f,k,A,P,N,F,V,Y,I,G,W,m,d,_,v,w,g,n,i,s,o,c,r]}class v0 extends At{constructor(e){super(),Et(this,e,h0,p0,Nt,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Of=v0;function $n(t,e,l=kn,n=un){ln(l)||Ef(t,s=>`You cannot use ${s} outside of a ${ns(n)}.`,e)}const b0=t=>{const{subscribe:e}=ln(t);return{subscribe:e}};function Df(){return $n(Mf),b0(Ii)}function Ff(){const{history:t}=ln(kn);return t}function Rf(){const t=ln(kf);return t?Tu(t,e=>e.base):il("/")}function Uf(){$n(Nf);const t=Rf(),{basepath:e}=ln(kn);return n=>Ju(n,xl(t),e)}function g0(){$n(Cf);const t=Uf(),{navigate:e}=Ff();return(n,i)=>{const s=df(n)?n:t(n);return e(s,i)}}const k0=t=>({params:t&16,location:t&8}),Bs=t=>({params:Ll?xl(t[10]):t[4],location:t[3],navigate:t[11]});function Ws(t){let e,l;return e=new Of({props:{primary:t[1],$$slots:{default:[y0]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function w0(t){let e;const l=t[18].default,n=Qi(l,t,t[19],Bs);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&$i(n,l,i,i[19],e?Zi(l,i[19],s,k0):xi(i[19]),Bs)},i(i){e||(Z(n,i),e=!0)},o(i){ie(n,i),e=!1},d(i){n&&n.d(i)}}}function S0(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Ll?xl(t[10]):t[4],t[12]];var s=t[0];function o(f,r){let c={};for(let m=0;m<i.length;m+=1)c=hl(c,i[m]);return r!==void 0&&r&7192&&(c=hl(c,qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Ll?xl(f[10]):f[4]),r&4096&&ti(f[12])]))),{props:c}}return s&&(e=As(s,o(t))),{c(){e&&Ne(e.$$.fragment),l=el()},m(f,r){e&&Me(e,f,r),C(f,l,r),n=!0},p(f,r){if(r&1&&s!==(s=f[0])){if(e){wt();const c=e;ie(c.$$.fragment,1,0,()=>{Ce(c,1)}),St()}s?(e=As(s,o(f,r)),Ne(e.$$.fragment),Z(e.$$.fragment,1),Me(e,l.parentNode,l)):e=null}else if(s){const c=r&7192?qi(i,[r&8&&{location:f[3]},r&2048&&{navigate:f[11]},r&1040&&ti(Ll?xl(f[10]):f[4]),r&4096&&ti(f[12])]):{};e.$set(c)}},i(f){n||(e&&Z(e.$$.fragment,f),n=!0)},o(f){e&&ie(e.$$.fragment,f),n=!1},d(f){f&&M(l),e&&Ce(e,f)}}}function y0(t){let e,l,n,i;const s=[S0,w0],o=[];function f(r,c){return r[0]!==null?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),ie(o[m],1,1,()=>{o[m]=null}),St(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),Z(l,1),l.m(n.parentNode,n))},i(r){i||(Z(l),i=!0)},o(r){ie(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function M0(t){let e,l,n,i,s,o=[Li(t[7]),{"data-svnav-route-start":t[5]}],f={};for(let d=0;d<o.length;d+=1)f=hl(f,o[d]);let r=t[2]&&Ws(t),c=[Li(t[7]),{"data-svnav-route-end":t[5]}],m={};for(let d=0;d<c.length;d+=1)m=hl(m,c[d]);return{c(){e=p("div"),l=h(),r&&r.c(),n=h(),i=p("div"),gn(e,f),gn(i,m)},m(d,_){C(d,e,_),C(d,l,_),r&&r.m(d,_),C(d,n,_),C(d,i,_),s=!0},p(d,[_]){d[2]?r?(r.p(d,_),_&4&&Z(r,1)):(r=Ws(d),r.c(),Z(r,1),r.m(n.parentNode,n)):r&&(wt(),ie(r,1,1,()=>{r=null}),St())},i(d){s||(Z(r),s=!0)},o(d){ie(r),s=!1},d(d){d&&(M(e),M(l),M(n),M(i)),r&&r.d(d)}}}const C0=hf();function N0(t,e,l){let n;const i=["path","component","meta","primary"];let s=fi(e,i),o,f,r,c,{$$slots:m={},$$scope:d}=e,{path:_=""}=e,{component:v=null}=e,{meta:w={}}=e,{primary:g=!0}=e;$n(gi,e);const k=C0(),{registerRoute:b,unregisterRoute:T,activeRoute:q,disableInlineStyles:O}=ln(kn);Pl(t,q,B=>l(16,o=B));const A=Rf();Pl(t,A,B=>l(17,r=B));const P=Df();Pl(t,P,B=>l(3,f=B));const N=il(null);let F;const V=il(),Y=il({});Pl(t,Y,B=>l(4,c=B)),Hn(kf,V),Hn(Eu,Y),Hn(Au,N);const I=g0();return Ll||bi(()=>T(k)),t.$$set=B=>{l(24,e=hl(hl({},e),ri(B))),l(12,s=fi(e,i)),"path"in B&&l(13,_=B.path),"component"in B&&l(0,v=B.component),"meta"in B&&l(14,w=B.meta),"primary"in B&&l(1,g=B.primary),"$$scope"in B&&l(19,d=B.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const B=_==="",X=Zn(r,_),j={id:k,path:_,meta:w,default:B,fullPath:B?"":X,base:B?r:Qu(X,f.pathname),primary:g,focusElement:N};V.set(j),l(15,F=b(j))}if(t.$$.dirty&98304&&l(2,n=!!(F||o&&o.id===k)),t.$$.dirty&98308&&n){const{params:B}=F||o;Y.set(B)}},e=ri(e),[v,g,n,f,c,k,q,O,A,P,Y,I,s,_,w,F,o,r,m,d]}class P0 extends At{constructor(e){super(),Et(this,e,N0,M0,Nt,{path:13,component:0,meta:14,primary:1})}}const dl=P0;function T0(t){let e,l,n,i;const s=t[13].default,o=Qi(s,t,t[12],null);let f=[{href:t[0]},t[2],t[1]],r={};for(let c=0;c<f.length;c+=1)r=hl(r,f[c]);return{c(){e=p("a"),o&&o.c(),gn(e,r)},m(c,m){C(c,e,m),o&&o.m(e,null),l=!0,n||(i=he(e,"click",t[4]),n=!0)},p(c,[m]){o&&o.p&&(!l||m&4096)&&$i(o,s,c,c[12],l?Zi(s,c[12],m,null):xi(c[12]),null),gn(e,r=qi(f,[(!l||m&1)&&{href:c[0]},m&4&&c[2],m&2&&c[1]]))},i(c){l||(Z(o,c),l=!0)},o(c){ie(o,c),l=!1},d(c){c&&M(e),o&&o.d(c),n=!1,i()}}}function E0(t,e,l){let n,i,s,o,f,r;const c=["to","replace","state","getProps"];let m=fi(e,c),d,{$$slots:_={},$$scope:v}=e,{to:w}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:b=null}=e;$n(ls,e);const T=Df();Pl(t,T,N=>l(11,d=N));const q=ku(),O=Uf(),{navigate:A}=Ff();function P(N){q("click",N),Nu(N)&&(N.preventDefault(),A(n,{state:k,replace:o||g}))}return t.$$set=N=>{l(19,e=hl(hl({},e),ri(N))),l(18,m=fi(e,c)),"to"in N&&l(5,w=N.to),"replace"in N&&l(6,g=N.replace),"state"in N&&l(7,k=N.state),"getProps"in N&&l(8,b=N.getProps),"$$scope"in N&&l(12,v=N.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=O(w,d)),t.$$.dirty&2049&&l(10,i=Oi(d.pathname,n)),t.$$.dirty&2049&&l(9,s=n===d.pathname),t.$$.dirty&2049&&(o=is(n)===Xu(d)),t.$$.dirty&512&&l(2,f=s?{"aria-current":"page"}:{}),l(1,r=(()=>{if(pf(b)){const N=b({location:d,href:n,isPartiallyCurrent:i,isCurrent:s});return{...m,...N}}return m})())},e=ri(e),[n,r,f,T,P,w,g,k,b,s,i,d,v,_]}class A0 extends At{constructor(e){super(),Et(this,e,E0,T0,Nt,{to:5,replace:6,state:7,getProps:8})}}const vl=A0;function li(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function q0(t,e){return t>218&&t<242?"#23ac05":t>212&&t<248?"#b1d900":t>208&&t<252?"#a3b200":"#b20000"}function ss(t,e){let l;return t>90?l="#b20000":t>85?l="#b19601":t>80?l="#a3b200":t>75?l="#569f12":l="#23ac05",l}function Vn(t){return t>75?"#23ac05":t>50?"#77d900":t>25?"#94d900":"#569f12"}function mi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function mt(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Gn(t){const e=typeof t=="string"?Number(t):t;return typeof e!="number"||Number.isNaN(e)?{level:"off",label:"Wi-Fi offline",rssi:t}:e>=-50?{level:"high",label:`Wi-Fi strong (${e} dBm)`,rssi:e}:e>=-60?{level:"medium",label:`Wi-Fi medium (${e} dBm)`,rssi:e}:e>=-75?{level:"low",label:`Wi-Fi weak (${e} dBm)`,rssi:e}:{level:"off",label:`Wi-Fi very weak/offline (${e} dBm)`,rssi:e}}function Re(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 245:return"wESP32";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}return"Unknown"}function jn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Vt(t,e){return t==1||t==2&&e}function Ol(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Wt(t,e){return t==null||isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function Il(t,e){return t.setTime(t.getTime()+e*36e5),t}function L0(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function I0(t){return t=="EOE"?"https://transparency.entsoe.eu/":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let Hs=0;function rn(t,e){Hs++;const l=O0(t);if(!l.length){e&&e(""),setTimeout(rn,1500,t,e);return}const n=l[(Hs-1)%l.length];if(!n){setTimeout(rn,1e3,t,e);return}const i=D0(n);console&&console.log("Trying url "+i),e&&e(i);const s=function(){setTimeout(rn,1e3,t,e)},o=new XMLHttpRequest;o.timeout=5e3,o.addEventListener("abort",s),o.addEventListener("error",s),o.addEventListener("timeout",s),o.addEventListener("load",function(){window.location.href=i||"/"});const f=i.replace(/\/$/,"")+"/is-alive";o.open("GET",f,!0),o.send()}function O0(t={}){const e=Array.isArray(t.targets)?t.targets:[],l=[];t.net&&t.net.ip&&l.push(t.net.ip),t.hostname&&(l.push(t.hostname),t.hostname.indexOf(".")===-1&&t.hostname.indexOf(":")===-1&&l.push(`${t.hostname}.local`));const n=[...e,...l],i=[];for(const s of n){if(!s)continue;const o=s.toString().trim();o&&(i.includes(o)||i.push(o))}return i}function D0(t){if(!t)return"";const e=t.toString().trim();return e.startsWith("http://")||e.startsWith("https://")?e:`http://${e}`}function ll(t){return t.charAt(0).toUpperCase()+t.slice(1)}function js(t){return t.startsWith("esp32")?"esp32":t}function fl(t,e){let l=[t,e];return typeof t>"u"?(l[0]="-",l[1]=e):t>=1e9?(l[0]=(t/1e6).toFixed(t>1e10?0:1),l[1]="M"+e):t>1e4?(l[0]=(t/1e3).toFixed(t>1e6?0:t>1e5?1:2),l[1]="k"+e):(l[0]=t.toFixed(0),l[1]=e),l}function Yn(t,e){let l=[Wt(t,2),e];if(typeof t>"u")l[0]="-",l[1]=e;else if(Math.abs(t*100)<100){switch(l[0]=Wt(t*100,2),e){case"NOK":case"DKK":e="øre";break;case"SEK":e="öre";break;case"EUR":e="cent";break;case"CHF":e="rp.";break;default:e=e+"/100"}l[1]=e}return l}let tn="[\\x20-\\x7E]+",_i="[\\x20-\\xFF]+",pi="[A-Za-z0-9_\\-]+",Bf="[0-9A-Fa-f]+",Fn="[0-9]+",oi={},Di=[];async function F0(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let Pi;async function Wf(){if(Di.length){let t=Di.shift();delete oi[t.resource];try{let e=await F0(t.resource,t.options);for(let l in t.callbacks)t.callbacks[l](e.clone())}catch(e){console.error("Error calling "+t.resource,e);for(let l in t.callbacks)t.callbacks[l]()}}Pi&&clearTimeout(Pi),Pi=setTimeout(Wf,100)}Wf();async function Ml(t,e={}){let l;return oi[t]?l=oi[t]:(l={resource:t,options:e,callbacks:[]},oi[t]=l,Di.push(l)),new Promise(i=>l.callbacks.push(i))}let Nl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null,m:!1},trying:null,if:{eth:!1}};async function ki(){Nl=await(await Ml("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),ul.set(Nl)}const ul=il(Nl,t=>(ki(),function(){}));function R0(t){ul.update(e=>(e.trying=t,e))}let zn={c:-1,n:[]};const zs=new Map;let U0=0,on=null,di=!1,dn=null,ai=null;async function B0(){try{const e=await(await Ml("wifiscan.json",{timeout:3e4})).json(),l=new Map;if(Array.isArray(e==null?void 0:e.n))for(let i=0;i<e.n.length;i++){const s=e.n[i];if(!s||typeof s.s!="string"||!s.s.length)continue;let o=zs.get(s.s);o===void 0&&(o=U0++,zs.set(s.s,o)),l.set(s.s,{...s,_order:o})}const n=Array.from(l.values()).sort((i,s)=>(i._order??0)-(s._order??0)).map(({_order:i,...s})=>s);zn={c:n.length,n},dn&&dn(zn)}catch{zn.c<0&&dn&&dn({c:-1,n:[]})}finally{ai=null}}function W0(){return ai||(ai=B0()),ai}function Hf(t=0){di&&(on&&clearTimeout(on),on=setTimeout(()=>{on=null,W0()},Math.max(0,t)))}let ni=0,Ks=-127,Vs=null,H0={};const j0=gf(H0,t=>{let e,l,n=!1;async function i(){Ml("data.json").then(s=>s.json()).then(s=>{t(s),Ks!=s.t&&(Ks=s.t,setTimeout(z0,2e3)),Vs==null&&s.pe&&s.p!=null&&(Vs=s.p,zf()),(!Nl||!Nl.chip||Nl.booting||ni>1&&!jn(Nl.board))&&(ki(),Al&&clearTimeout(Al),Al=setTimeout(Ui,2e3),ql&&clearTimeout(ql),ql=setTimeout(Wi,3e3)),s.u,Al||(Al=Ui()),ql||(ql=Wi());let o=5e3;if(jn(Nl.board)&&s.v>2.5){let f=3.3-Math.min(3.3,s.v);f>0&&(o=Math.max(f,.1)*10*5e3)}o>5e3&&console.log("Next in "+o+"ms"),e&&clearTimeout(e),e=setTimeout(i,o),ni=0,di&&!n&&(n=!0,Promise.resolve().then(()=>{n=!1,Hf(0)}))}).catch(s=>{ni++,ni>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(i,15e3),l||(l=setTimeout(rn,5e3,Nl,R0))):e=setTimeout(i,jn(Nl.board)?1e4:5e3)})}return i(),function(){clearTimeout(e)}});let Fi={},Un;const os=il(Fi);async function jf(){let t=!1;os.update(e=>{for(var l=0;l<36;l++){if(e[mt(l)]==null){t=l<12;break}e[mt(l)]=e[mt(l+1)]}return e}),t?zf():Un=setTimeout(jf,(60-new Date().getMinutes())*6e4)}async function zf(){Un&&(clearTimeout(Un),Un=0),Fi=await(await Ml("energyprice.json")).json(),os.set(Fi),Un=setTimeout(jf,(60-new Date().getMinutes())*6e4)}let Ri={},Al;async function Ui(){Al&&(clearTimeout(Al),Al=0),Ri=await(await Ml("dayplot.json")).json(),Kf.set(Ri),Al=setTimeout(Ui,(60-new Date().getMinutes())*6e4+20)}const Kf=il(Ri,t=>function(){});let Bi={},ql;async function Wi(){ql&&(clearTimeout(ql),ql=0),Bi=await(await Ml("monthplot.json")).json(),Vf.set(Bi),ql=setTimeout(Wi,(24-new Date().getHours())*36e5+40)}const Vf=il(Bi,t=>function(){});let Hi={};async function z0(){Hi=await(await Ml("temperature.json")).json(),Gf.set(Hi)}const Gf=il(Hi,t=>function(){});let ji={},ii;async function Yf(){ii&&(clearTimeout(ii),ii=0),ji=await(await Ml("tariff.json")).json(),Xf.set(ji),ii=setTimeout(Yf,(60-new Date().getMinutes())*6e4+30)}const Xf=il(ji,t=>function(){}),Jf=il(zn,t=>(dn=t,di=!0,t(zn),Hf(0),function(){di=!1,dn=null,on&&(clearTimeout(on),on=null)}));let zi=!1;const Cl=il(zi);async function hi(t){zi=await(await Ml("translations.json"+(t?"?lang="+t:""))).json(),Cl.set(zi)}hi();const Qf="/neas_logotype_white.svg",Zf="/wifi-low-light.svg",$f="/wifi-medium-light.svg",xf="/wifi-high-light.svg",eu="/wifi-off-light.svg";function Gs(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function tu(t){return await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Ys(t){var r;let e=(((r=t[1].header)==null?void 0:r.uptime)??"Up")+"",l,n,i;function s(c,m){return c[2]>1?Q0:c[2]>0?J0:c[3]>1?X0:c[3]>0?Y0:c[4]>1?G0:c[4]>0?V0:K0}let o=s(t),f=o(t);return{c(){l=S(e),n=h(),f.c(),i=el()},m(c,m){C(c,l,m),C(c,n,m),f.m(c,m),C(c,i,m)},p(c,m){var d;m&2&&e!==(e=(((d=c[1].header)==null?void 0:d.uptime)??"Up")+"")&&L(l,e),o===(o=s(c))&&f?f.p(c,m):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&(M(l),M(n),M(i)),f.d(c)}}}function K0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.seconds)??"s")+"",i;return{c(){e=S(t[0]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&1&&L(e,o[0]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.seconds)??"s")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function V0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minute)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&L(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minute)??"m")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function G0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.minutes)??"m")+"",i;return{c(){e=S(t[4]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&16&&L(e,o[4]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.minutes)??"m")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function Y0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hour)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&L(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hour)??"h")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function X0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.hours)??"h")+"",i;return{c(){e=S(t[3]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&8&&L(e,o[3]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.hours)??"h")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function J0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.day)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&L(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.day)??"d")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function Q0(t){var s;let e,l,n=(((s=t[1].common)==null?void 0:s.days)??"d")+"",i;return{c(){e=S(t[2]),l=h(),i=S(n)},m(o,f){C(o,e,f),C(o,l,f),C(o,i,f)},p(o,f){var r;f&4&&L(e,o[2]),f&2&&n!==(n=(((r=o[1].common)==null?void 0:r.days)??"d")+"")&&L(i,n)},d(o){o&&(M(e),M(l),M(i))}}}function Z0(t){let e,l=t[0]&&Ys(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Ys(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&M(e),l&&l.d(n)}}}function $0(t,e,l){let{epoch:n}=e,i={};Cl.subscribe(r=>{l(1,i=r)});let s=0,o=0,f=0;return t.$$set=r=>{"epoch"in r&&l(0,n=r.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(2,s=Math.floor(n/86400)),l(3,o=Math.floor(n/3600)),l(4,f=Math.floor(n/60)))},[n,i,s,o,f]}class x0 extends At{constructor(e){super(),Et(this,e,$0,Z0,Nt,{epoch:0})}}function ec(t){let e,l,n;return{c(){e=p("span"),l=S(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),a(e,l)},p(i,[s]){s&4&&L(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:Ue,o:Ue,d(i){i&&M(e)}}}function tc(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=o=>{"color"in o&&l(0,n=o.color),"title"in o&&l(1,i=o.title),"text"in o&&l(2,s=o.text)},[n,i,s]}class Xn extends At{constructor(e){super(),Et(this,e,tc,ec,Nt,{color:0,title:1,text:2})}}function lc(t){let e,l=`${mt(t[0].getDate())}.${mt(t[0].getMonth()+1)}.${t[0].getFullYear()} ${mt(t[0].getHours())}:${mt(t[0].getMinutes())}`,n;return{c(){e=p("span"),n=S(l),u(e,"class",t[1])},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=`${mt(i[0].getDate())}.${mt(i[0].getMonth()+1)}.${i[0].getFullYear()} ${mt(i[0].getHours())}:${mt(i[0].getMinutes())}`)&&L(n,l),s&2&&u(e,"class",i[1])},d(i){i&&M(e)}}}function nc(t){var n;let e=`${mt(t[0].getDate())}. ${t[2].months?(n=t[2].months)==null?void 0:n[t[0].getMonth()]:mt(t[0].getMonth()+1)} ${mt(t[0].getHours())}:${mt(t[0].getMinutes())}`,l;return{c(){l=S(e)},m(i,s){C(i,l,s)},p(i,s){var o;s&5&&e!==(e=`${mt(i[0].getDate())}. ${i[2].months?(o=i[2].months)==null?void 0:o[i[0].getMonth()]:mt(i[0].getMonth()+1)} ${mt(i[0].getHours())}:${mt(i[0].getMinutes())}`)&&L(l,e)},d(i){i&&M(l)}}}function ic(t){let e;function l(s,o){return s[3]?nc:lc}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),C(s,e,o)},p(s,[o]){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ue,o:Ue,d(s){s&&M(e),i.d(s)}}}function sc(t,e,l){let n={};Cl.subscribe(r=>{l(2,n=r)});let{timestamp:i}=e,{fullTimeColor:s}=e,{offset:o}=e,f;return t.$$set=r=>{"timestamp"in r&&l(0,i=r.timestamp),"fullTimeColor"in r&&l(1,s=r.fullTimeColor),"offset"in r&&l(4,o=r.offset)},t.$$.update=()=>{t.$$.dirty&17&&(l(3,f=Math.abs(new Date().getTime()-i.getTime())<3e5),isNaN(o)||Il(i,o-(24+i.getHours()-i.getUTCHours())%24))},[i,s,n,f,o]}class lu extends At{constructor(e){super(),Et(this,e,sc,ic,Nt,{timestamp:0,fullTimeColor:1,offset:4})}}function oc(t){let e,l,n;return{c(){e=yt("svg"),l=yt("path"),n=yt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p:Ue,i:Ue,o:Ue,d(i){i&&M(e)}}}class ac extends At{constructor(e){super(),Et(this,e,null,oc,Nt,{})}}function rc(t){let e,l;return{c(){e=yt("svg"),l=yt("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){C(n,e,i),a(e,l)},p:Ue,i:Ue,o:Ue,d(n){n&&M(e)}}}class fc extends At{constructor(e){super(),Et(this,e,null,rc,Nt,{})}}function uc(t){let e,l;return{c(){e=p("img"),u(e,"class","p-1"),u(e,"alt","Neas logo"),fn(e.src,l=Qf)||u(e,"src",l)},m(n,i){C(n,e,i)},p:Ue,d(n){n&&M(e)}}}function Xs(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=p("div"),n=S(l),i=S("°C"),u(e,"class","flex-none my-auto")},m(s,o){C(s,e,o),a(e,n),a(e,i)},p(s,o){o&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&L(n,l)},d(s){s&&M(e)}}}function Js(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.han)??"Han-port")+": "+(((o=(s=t[5].errors)==null?void 0:s.han)==null?void 0:o[t[0].he])??t[0].he),n;return{c(){e=p("div"),n=S(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.han)??"Han-port")+": "+(((d=(m=f[5].errors)==null?void 0:m.han)==null?void 0:d[f[0].he])??f[0].he))&&L(n,l)},d(f){f&&M(e)}}}function Qs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.mqtt)??"Minside")+": "+(((o=(s=t[5].errors)==null?void 0:s.mqtt)==null?void 0:o[t[0].me])??t[0].me),n;return{c(){e=p("div"),n=S(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.mqtt)??"Minside")+": "+(((d=(m=f[5].errors)==null?void 0:m.mqtt)==null?void 0:d[f[0].me])??f[0].me))&&L(n,l)},d(f){f&&M(e)}}}function Zs(t){var i,s,o;let e,l=(((i=t[5].header)==null?void 0:i.price)??"PS")+": "+(((o=(s=t[5].errors)==null?void 0:s.price)==null?void 0:o[t[0].ee])??t[0].ee),n;return{c(){e=p("div"),n=S(l),u(e,"class","bd-red")},m(f,r){C(f,e,r),a(e,n)},p(f,r){var c,m,d;r&33&&l!==(l=(((c=f[5].header)==null?void 0:c.price)??"PS")+": "+(((d=(m=f[5].errors)==null?void 0:m.price)==null?void 0:d[f[0].ee])??f[0].ee))&&L(n,l)},d(f){f&&M(e)}}}function $s(t){let e,l,n,i,s,o,f,r;return l=new vl({props:{to:"/configuration",$$slots:{default:[cc]},$$scope:{ctx:t}}}),o=new vl({props:{to:"/status",$$slots:{default:[mc]},$$scope:{ctx:t}}}),{c(){var c,m;e=p("div"),Ne(l.$$.fragment),i=h(),s=p("div"),Ne(o.$$.fragment),u(e,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(e,"title",n=((c=t[5].header)==null?void 0:c.config)??""),u(s,"class","flex-none px-1 mt-1 pt-[0.5rem]"),u(s,"title",f=((m=t[5].header)==null?void 0:m.status)??"")},m(c,m){C(c,e,m),Me(l,e,null),C(c,i,m),C(c,s,m),Me(o,s,null),r=!0},p(c,m){var v,w;const d={};m&512&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!r||m&32&&n!==(n=((v=c[5].header)==null?void 0:v.config)??""))&&u(e,"title",n);const _={};m&512&&(_.$$scope={dirty:m,ctx:c}),o.$set(_),(!r||m&32&&f!==(f=((w=c[5].header)==null?void 0:w.status)??""))&&u(s,"title",f)},i(c){r||(Z(l.$$.fragment,c),Z(o.$$.fragment,c),r=!0)},o(c){ie(l.$$.fragment,c),ie(o.$$.fragment,c),r=!1},d(c){c&&(M(e),M(i),M(s)),Ce(l),Ce(o)}}}function cc(t){let e,l;return e=new ac({}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function mc(t){let e,l;return e=new fc({}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function _c(t){let e,l;function n(o,f){return o[1].security==0||o[0].a?hc:dc}let i=n(t),s=i(t);return{c(){var o;e=p("div"),s.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",l=(((o=t[5].header)==null?void 0:o.new_version)??"Ny oppdatering")+": "+t[1].upgrade.n)},m(o,f){C(o,e,f),s.m(e,null)},p(o,f){var r;i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null))),f&34&&l!==(l=(((r=o[5].header)==null?void 0:r.new_version)??"Ny oppdatering")+": "+o[1].upgrade.n)&&u(e,"title",l)},d(o){o&&M(e),s.d()}}}function pc(t){let e,l,n=t[1].upgrade.t+"",i,s,o=t[4].toFixed(1)+"",f,r;return{c(){e=p("div"),l=S("Oppdaterer til "),i=S(n),s=S(", "),f=S(o),r=S("%"),u(e,"class","flex-none mr-3 mt-1 text-yellow-300")},m(c,m){C(c,e,m),a(e,l),a(e,i),a(e,s),a(e,f),a(e,r)},p(c,m){m&2&&n!==(n=c[1].upgrade.t+"")&&L(i,n),m&16&&o!==(o=c[4].toFixed(1)+"")&&L(f,o)},d(c){c&&M(e)}}}function dc(t){var f;let e,l=(((f=t[5].header)==null?void 0:f.new_version)??"Ny oppdatering")+"",n,i,s=t[1].upgrade.n+"",o;return{c(){e=p("span"),n=S(l),i=S(": "),o=S(s)},m(r,c){C(r,e,c),a(e,n),a(e,i),a(e,o)},p(r,c){var m;c&32&&l!==(l=(((m=r[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"")&&L(n,l),c&2&&s!==(s=r[1].upgrade.n+"")&&L(o,s)},d(r){r&&M(e)}}}function hc(t){var m;let e,l,n=(((m=t[5].header)==null?void 0:m.new_version)??"Ny oppdatering")+"",i,s,o=t[1].upgrade.n+"",f,r,c;return{c(){e=p("button"),l=p("span"),i=S(n),s=S(": "),f=S(o),u(l,"class","mt-1"),u(e,"class","flex")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(l,s),a(l,f),r||(c=he(e,"click",t[6]),r=!0)},p(d,_){var v;_&32&&n!==(n=(((v=d[5].header)==null?void 0:v.new_version)??"Ny oppdatering")+"")&&L(i,n),_&2&&o!==(o=d[1].upgrade.n+"")&&L(f,o)},d(d){d&&M(e),r=!1,c()}}}function vc(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F,V,Y,I,B;i=new vl({props:{to:"/",class:"flex space-x-2",$$slots:{default:[uc]},$$scope:{ctx:t}}}),r=new x0({props:{epoch:t[0].u}});let X=t[0].t>-50&&Xs(t);_=new Xn({props:{title:"Han-port",text:"Han-port",color:li(t[1].booting?9:t[0].hm)}}),w=new Xn({props:{title:"Minside",text:"Minside",color:li(t[1].booting?9:t[0].mm)}});let j=(t[0].he<0||t[0].he>0)&&Js(t),G=t[0].me<0&&Qs(t),W=(t[0].ee>0||t[0].ee<0)&&Zs(t);V=new lu({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let U=t[1].vndcfg&&t[1].usrcfg&&$s(t);function H(z,ee){if(z[1].upgrading)return pc;if(z[1].fwconsent===1&&z[1].upgrade.n)return _c}let x=H(t),ne=x&&x(t);return{c(){e=p("nav"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=p("div"),Ne(r.$$.fragment),c=h(),X&&X.c(),m=h(),d=p("div"),Ne(_.$$.fragment),v=h(),Ne(w.$$.fragment),g=h(),j&&j.c(),k=h(),G&&G.c(),b=h(),W&&W.c(),T=h(),q=p("div"),O=p("div"),A=p("img"),N=h(),F=p("div"),Ne(V.$$.fragment),Y=h(),U&&U.c(),I=h(),ne&&ne.c(),u(n,"class","flex text-xl text-neas-gray p-2 flex-auto"),u(f,"class","flex-none my-auto"),u(o,"class","flex-none my-auto p-2 flex space-x-4"),u(d,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(A,"class","h-10 w-10"),fn(A.src,P=t[2])||u(A,"src",P),u(A,"alt",t[3]),u(O,"class","flex-none flex text-xl text-neas-gray p-2 flex-auto"),u(F,"class","flex-none my-auto px-2"),u(q,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-l text-neas-gray"),u(e,"class","bg-neas-green-90 rounded-md")},m(z,ee){C(z,e,ee),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,f),Me(r,f,null),a(o,c),X&&X.m(o,null),a(l,m),a(l,d),Me(_,d,null),a(d,v),Me(w,d,null),a(l,g),j&&j.m(l,null),a(l,k),G&&G.m(l,null),a(l,b),W&&W.m(l,null),a(l,T),a(l,q),a(q,O),a(O,A),a(q,N),a(q,F),Me(V,F,null),a(q,Y),U&&U.m(q,null),a(q,I),ne&&ne.m(q,null),B=!0},p(z,[ee]){const ce={};ee&512&&(ce.$$scope={dirty:ee,ctx:z}),i.$set(ce);const ae={};ee&1&&(ae.epoch=z[0].u),r.$set(ae),z[0].t>-50?X?X.p(z,ee):(X=Xs(z),X.c(),X.m(o,null)):X&&(X.d(1),X=null);const oe={};ee&3&&(oe.color=li(z[1].booting?9:z[0].hm)),_.$set(oe);const ue={};ee&3&&(ue.color=li(z[1].booting?9:z[0].mm)),w.$set(ue),z[0].he<0||z[0].he>0?j?j.p(z,ee):(j=Js(z),j.c(),j.m(l,k)):j&&(j.d(1),j=null),z[0].me<0?G?G.p(z,ee):(G=Qs(z),G.c(),G.m(l,b)):G&&(G.d(1),G=null),z[0].ee>0||z[0].ee<0?W?W.p(z,ee):(W=Zs(z),W.c(),W.m(l,T)):W&&(W.d(1),W=null),(!B||ee&4&&!fn(A.src,P=z[2]))&&u(A,"src",P),(!B||ee&8)&&u(A,"alt",z[3]);const Q={};ee&1&&(Q.timestamp=z[0].c?new Date(z[0].c*1e3):new Date(0)),ee&2&&(Q.offset=z[1].clock_offset),V.$set(Q),z[1].vndcfg&&z[1].usrcfg?U?(U.p(z,ee),ee&2&&Z(U,1)):(U=$s(z),U.c(),Z(U,1),U.m(q,I)):U&&(wt(),ie(U,1,1,()=>{U=null}),St()),x===(x=H(z))&&ne?ne.p(z,ee):(ne&&ne.d(1),ne=x&&x(z),ne&&(ne.c(),ne.m(q,null)))},i(z){B||(Z(i.$$.fragment,z),Z(r.$$.fragment,z),Z(_.$$.fragment,z),Z(w.$$.fragment,z),Z(V.$$.fragment,z),Z(U),B=!0)},o(z){ie(i.$$.fragment,z),ie(r.$$.fragment,z),ie(_.$$.fragment,z),ie(w.$$.fragment,z),ie(V.$$.fragment,z),ie(U),B=!1},d(z){z&&M(e),Ce(i),Ce(r),X&&X.d(),Ce(_),Ce(w),j&&j.d(),G&&G.d(),W&&W.d(),Ce(V),U&&U.d(),ne&&ne.d()}}}function bc(t,e,l){const n={high:xf,medium:$f,low:Zf,off:eu};let i=n.off,s="Wi-Fi offline",{basepath:o="/"}=e,{data:f={}}=e,r={};function c(){var _;confirm((((_=d.header)==null?void 0:_.upgrade)??"Upgrade to {0}?").replace("{0}",r.upgrade.n))&&(tu(r.upgrade.n),ul.update(v=>(v.upgrade.t=r.upgrade.n,v.upgrade.p=0,v.upgrading=!0,v)))}let m;ul.subscribe(_=>{l(1,r=_)});let d={};return Cl.subscribe(_=>{l(5,d=_)}),t.$$set=_=>{"basepath"in _&&l(7,o=_.basepath),"data"in _&&l(0,f=_.data)},t.$$.update=()=>{if(t.$$.dirty&2&&l(4,m=Math.max(0,r.upgrade.p)),t.$$.dirty&1){const{level:_,label:v}=Gn(f==null?void 0:f.r);l(2,i=n[_]??n.off),l(3,s=v)}},[f,r,i,s,m,d,c,o]}class gc extends At{constructor(e){super(),Et(this,e,bc,vc,Nt,{basepath:7,data:0})}}function kc(t){let e,l,n,i;return{c(){e=yt("svg"),l=yt("path"),n=yt("path"),u(l,"d",Ti(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ti(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,o){C(s,e,o),a(e,l),a(e,n)},p(s,[o]){o&1&&i!==(i=Ti(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),o&2&&u(n,"stroke",s[1])},i:Ue,o:Ue,d(s){s&&M(e)}}}function xs(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ti(t,e,l,n,i){var s=xs(t,e,l,i),o=xs(t,e,l,n),f=i-n<=180?"0":"1",r=["M",s.x,s.y,"A",l,l,0,f,0,o.x,o.y].join(" ");return r}function wc(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Sc extends At{constructor(e){super(),Et(this,e,wc,kc,Nt,{pct:0,color:1})}}function eo(t){let e,l,n,i=t[1][0]+"",s,o,f,r=t[1][1]+"",c,m;return{c(){e=p("br"),l=h(),n=p("span"),s=S(i),o=h(),f=p("span"),c=S(r),m=S("/kWh"),u(n,"class","pl-sub"),u(f,"class","pl-snt")},m(d,_){C(d,e,_),C(d,l,_),C(d,n,_),a(n,s),C(d,o,_),C(d,f,_),a(f,c),a(f,m)},p(d,_){_&2&&i!==(i=d[1][0]+"")&&L(s,i),_&2&&r!==(r=d[1][1]+"")&&L(c,r)},d(d){d&&(M(e),M(l),M(n),M(o),M(f))}}}function yc(t){let e,l,n,i,s,o,f,r,c,m,d=t[3][0]+"",_,v,w,g=t[3][1]+"",k,b,T;l=new Sc({props:{pct:t[4],color:t[2](t[4],document.documentElement.classList.contains("dark"))}});let q=t[1]&&eo(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),i=p("span"),s=p("span"),o=S(t[0]),f=h(),r=p("br"),c=h(),m=p("span"),_=S(d),v=h(),w=p("span"),k=S(g),b=h(),q&&q.c(),u(s,"class","pl-lab"),u(m,"class","pl-val"),u(w,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(O,A){C(O,e,A),Me(l,e,null),a(e,n),a(e,i),a(i,s),a(s,o),a(i,f),a(i,r),a(i,c),a(i,m),a(m,_),a(i,v),a(i,w),a(w,k),a(i,b),q&&q.m(i,null),T=!0},p(O,[A]){const P={};A&16&&(P.pct=O[4]),A&20&&(P.color=O[2](O[4],document.documentElement.classList.contains("dark"))),l.$set(P),(!T||A&1)&&L(o,O[0]),(!T||A&8)&&d!==(d=O[3][0]+"")&&L(_,d),(!T||A&8)&&g!==(g=O[3][1]+"")&&L(k,g),O[1]?q?q.p(O,A):(q=eo(O),q.c(),q.m(i,null)):q&&(q.d(1),q=null)},i(O){T||(Z(l.$$.fragment,O),T=!0)},o(O){ie(l.$$.fragment,O),T=!1},d(O){O&&M(e),Ce(l),q&&q.d()}}}function Mc(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:o}=e,{sub:f=["",""]}=e,{colorFn:r}=e,c,m=0;return t.$$set=d=>{"val"in d&&l(5,n=d.val),"max"in d&&l(6,i=d.max),"unit"in d&&l(7,s=d.unit),"label"in d&&l(0,o=d.label),"sub"in d&&l(1,f=d.sub),"colorFn"in d&&l(2,r=d.colorFn)},t.$$.update=()=>{t.$$.dirty&224&&(l(3,c=fl(n,s)),l(4,m=Math.min(n,i)/i*100))},[o,f,r,c,m,n,i,s]}class nu extends At{constructor(e){super(),Et(this,e,Mc,yc,Nt,{val:5,max:6,unit:7,label:0,sub:1,colorFn:2})}}function to(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function lo(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function no(t,e,l){const n=t.slice();return n[15]=e[l],n}function io(t){let e,l,n,i,s,o,f,r=(t[0].title||t[0].link)&&so(t),c=Xe(t[0].y.ticks),m=[];for(let g=0;g<c.length;g+=1)m[g]=fo(no(t,c,g));let d=Xe(t[0].x.ticks),_=[];for(let g=0;g<d.length;g+=1)_[g]=mo(lo(t,d,g));let v=Xe(t[0].points),w=[];for(let g=0;g<v.length;g+=1)w[g]=wo(to(t,v,g));return{c(){r&&r.c(),e=h(),l=yt("svg"),n=yt("g");for(let g=0;g<m.length;g+=1)m[g].c();i=yt("g");for(let g=0;g<_.length;g+=1)_[g].c();s=yt("g");for(let g=0;g<w.length;g+=1)w[g].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox",o="0 0 "+t[1]+" "+t[4])},m(g,k){r&&r.m(g,k),C(g,e,k),C(g,l,k),a(l,n);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);a(l,i);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(i,null);a(l,s);for(let b=0;b<w.length;b+=1)w[b]&&w[b].m(s,null);f=!0},p(g,k){if(g[0].title||g[0].link?r?(r.p(g,k),k&1&&Z(r,1)):(r=so(g),r.c(),Z(r,1),r.m(e.parentNode,e)):r&&(wt(),ie(r,1,1,()=>{r=null}),St()),k&129){c=Xe(g[0].y.ticks);let b;for(b=0;b<c.length;b+=1){const T=no(g,c,b);m[b]?m[b].p(T,k):(m[b]=fo(T),m[b].c(),m[b].m(n,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=c.length}if(k&89){d=Xe(g[0].x.ticks);let b;for(b=0;b<d.length;b+=1){const T=lo(g,d,b);_[b]?_[b].p(T,k):(_[b]=mo(T),_[b].c(),_[b].m(i,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=d.length}if(k&457){v=Xe(g[0].points);let b;for(b=0;b<v.length;b+=1){const T=to(g,v,b);w[b]?w[b].p(T,k):(w[b]=wo(T),w[b].c(),w[b].m(s,null))}for(;b<w.length;b+=1)w[b].d(1);w.length=v.length}(!f||k&18&&o!==(o="0 0 "+g[1]+" "+g[4]))&&u(l,"viewBox",o)},i(g){f||(Z(r),f=!0)},o(g){ie(r),f=!1},d(g){g&&(M(e),M(l)),r&&r.d(g),Qt(m,g),Qt(_,g),Qt(w,g)}}}function so(t){let e,l,n,i=t[0].title&&oo(t),s=t[0].link&&ao(t);return{c(){e=p("div"),i&&i.c(),l=h(),s&&s.c(),u(e,"class","grid grid-cols-2")},m(o,f){C(o,e,f),i&&i.m(e,null),a(e,l),s&&s.m(e,null),n=!0},p(o,f){o[0].title?i?i.p(o,f):(i=oo(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].link?s?(s.p(o,f),f&1&&Z(s,1)):(s=ao(o),s.c(),Z(s,1),s.m(e,null)):s&&(wt(),ie(s,1,1,()=>{s=null}),St())},i(o){n||(Z(s),n=!0)},o(o){ie(s),n=!1},d(o){o&&M(e),i&&i.d(),s&&s.d()}}}function oo(t){let e,l=t[0].title+"",n,i;return{c(){e=p("div"),n=S(l),u(e,"class","text-sm font-bold"),Gt(()=>t[9].call(e))},m(s,o){C(s,e,o),a(e,n),i=es(e,t[9].bind(e))},p(s,o){o&1&&l!==(l=s[0].title+"")&&L(n,l)},d(s){s&&M(e),i()}}}function ao(t){let e,l,n,i;const s=[Nc,Cc],o=[];function f(r,c){return r[0].link.route?0:1}return l=f(t),n=o[l]=s[l](t),{c(){e=p("div"),n.c(),u(e,"class","text-xs text-right")},m(r,c){C(r,e,c),o[l].m(e,null),i=!0},p(r,c){let m=l;l=f(r),l===m?o[l].p(r,c):(wt(),ie(o[m],1,1,()=>{o[m]=null}),St(),n=o[l],n?n.p(r,c):(n=o[l]=s[l](r),n.c()),Z(n,1),n.m(e,null))},i(r){i||(Z(n),i=!0)},o(r){ie(n),i=!1},d(r){r&&M(e),o[l].d()}}}function Cc(t){let e,l=t[0].link.text+"",n,i,s;return{c(){e=p("a"),n=S(l),u(e,"href",i=t[0].link.url),u(e,"target",s=t[0].link.target)},m(o,f){C(o,e,f),a(e,n)},p(o,f){f&1&&l!==(l=o[0].link.text+"")&&L(n,l),f&1&&i!==(i=o[0].link.url)&&u(e,"href",i),f&1&&s!==(s=o[0].link.target)&&u(e,"target",s)},i:Ue,o:Ue,d(o){o&&M(e)}}}function Nc(t){let e,l;return e=new vl({props:{to:t[0].link.url,$$slots:{default:[Pc]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.to=n[0].link.url),i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Pc(t){let e=t[0].link.text+"",l;return{c(){l=S(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=n[0].link.text+"")&&L(l,e)},d(n){n&&M(l)}}}function ro(t){let e,l,n,i=t[15].label+"",s,o,f,r;return{c(){e=yt("g"),l=yt("line"),n=yt("text"),s=S(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",o=t[15].align=="right"?"85%":""),u(e,"class",f="tick tick-"+t[15].value+" tick-"+t[15].color),u(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(n,s)},p(c,m){m&1&&i!==(i=c[15].label+"")&&L(s,i),m&1&&o!==(o=c[15].align=="right"?"85%":"")&&u(n,"x",o),m&1&&f!==(f="tick tick-"+c[15].value+" tick-"+c[15].color)&&u(e,"class",f),m&129&&r!==(r="translate(0, "+c[7](c[15].value)+")")&&u(e,"transform",r)},d(c){c&&M(e)}}}function fo(t){let e=!isNaN(t[7](t[15].value)),l,n=e&&ro(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&129&&(e=!isNaN(i[7](i[15].value))),e?n?n.p(i,s):(n=ro(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function uo(t){let e,l,n=(t[3]>20||t[13]%2==0)&&co(t);return{c(){e=yt("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[6](t[13])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[13]%2==0?n?n.p(i,s):(n=co(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&80&&l!==(l="translate("+i[6](i[13])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&M(e),n&&n.d()}}}function co(t){let e,l=t[11].label+"",n,i;return{c(){e=yt("text"),n=S(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,o){C(s,e,o),a(e,n)},p(s,o){o&1&&l!==(l=s[11].label+"")&&L(n,l),o&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&M(e)}}}function mo(t){let e=!isNaN(t[6](t[13])),l,n=e&&uo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&64&&(e=!isNaN(i[6](i[13]))),e?n?n.p(i,s):(n=uo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function _o(t){let e,l,n=t[11].value!==void 0&&po(t),i=t[11].value2>1e-4&&bo(t);return{c(){e=yt("g"),n&&n.c(),l=yt("g"),i&&i.c()},m(s,o){C(s,e,o),n&&n.m(e,null),C(s,l,o),i&&i.m(l,null)},p(s,o){s[11].value!==void 0?n?n.p(s,o):(n=po(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[11].value2>1e-4?i?i.p(s,o):(i=bo(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&(M(e),M(l)),n&&n.d(),i&&i.d()}}}function po(t){let e,l,n,i,s,o,f,r=t[3]>15&&ho(t);return{c(){e=yt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](t[11].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),u(e,"fill",o=t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&129&&n!==(n=c[7](c[11].value))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](Math.min(c[0].y.min,0)+c[11].value))&&u(e,"height",s),m&1&&o!==(o=c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=ho(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function ho(t){let e,l=t[11].label+"",n,i,s,o,f,r,c=t[11].title&&vo(t);return{c(){e=yt("text"),n=S(l),c&&c.c(),r=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",s=t[3]<an||t[11].labelAngle?"left":"middle"),u(e,"fill",o=t[7](t[11].value)>t[7](0)-t[8]&&!t[0].dark?t[11].color:"white"),u(e,"transform",f="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<an?90:0)+")")},m(m,d){C(m,e,d),a(e,n),c&&c.m(m,d),C(m,r,d)},p(m,d){d&1&&l!==(l=m[11].label+"")&&L(n,l),d&8&&i!==(i=m[3]-4)&&u(e,"width",i),d&9&&s!==(s=m[3]<an||m[11].labelAngle?"left":"middle")&&u(e,"text-anchor",s),d&385&&o!==(o=m[7](m[11].value)>m[7](0)-m[8]&&!m[0].dark?m[11].color:"white")&&u(e,"fill",o),d&457&&f!==(f="translate("+(m[6](m[13])+m[3]/2)+" "+(m[7](m[11].value)>m[7](0)-m[8]?m[7](m[11].value)-m[8]:m[7](m[11].value)+10)+") rotate("+(m[11].labelAngle?m[11].labelAngle:m[3]<an?90:0)+")")&&u(e,"transform",f),m[11].title?c?c.p(m,d):(c=vo(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(m){m&&(M(e),M(r)),c&&c.d(m)}}}function vo(t){let e,l=t[11].title+"",n;return{c(){e=yt("title"),n=S(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title+"")&&L(n,l)},d(i){i&&M(e)}}}function bo(t){let e,l,n,i,s,o,f,r=t[3]>15&&go(t);return{c(){e=yt("rect"),r&&r.c(),f=el(),u(e,"x",l=t[6](t[13])+2),u(e,"y",n=t[7](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),u(e,"fill",o=t[11].color2?t[11].color2:t[11].color)},m(c,m){C(c,e,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&64&&l!==(l=c[6](c[13])+2)&&u(e,"x",l),m&128&&n!==(n=c[7](0))&&u(e,"y",n),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](c[0].y.min)-c[7](c[0].y.min+c[11].value2))&&u(e,"height",s),m&1&&o!==(o=c[11].color2?c[11].color2:c[11].color)&&u(e,"fill",o),c[3]>15?r?r.p(c,m):(r=go(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function go(t){let e,l=t[11].label2+"",n,i,s,o,f,r=t[11].title2&&ko(t);return{c(){e=yt("text"),n=S(l),r&&r.c(),f=el(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",s=t[7](-t[11].value2)<t[7](0)+15&&!t[0].dark?t[11].color2?t[11].color2:t[11].color:"white"),u(e,"transform",o="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<an?90:0)+")")},m(c,m){C(c,e,m),a(e,n),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&l!==(l=c[11].label2+"")&&L(n,l),m&8&&i!==(i=c[3]-4)&&u(e,"width",i),m&129&&s!==(s=c[7](-c[11].value2)<c[7](0)+15&&!c[0].dark?c[11].color2?c[11].color2:c[11].color:"white")&&u(e,"fill",s),m&201&&o!==(o="translate("+(c[6](c[13])+c[3]/2)+" "+(c[7](-c[11].value2)<c[7](0)+15?c[7](-c[11].value2)+15:c[7](-c[11].value2)-14)+") rotate("+(c[3]<an?90:0)+")")&&u(e,"transform",o),c[11].title2?r?r.p(c,m):(r=ko(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(f)),r&&r.d(c)}}}function ko(t){let e,l=t[11].title2+"",n;return{c(){e=yt("title"),n=S(l)},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&1&&l!==(l=i[11].title2+"")&&L(n,l)},d(i){i&&M(e)}}}function wo(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),l,n=e&&_o(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?n?n.p(i,s):(n=_o(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Tc(t){let e,l,n,i=t[0].x.ticks&&t[0].points&&t[4]&&io(t);return{c(){e=p("div"),i&&i.c(),u(e,"class","chart"),Gt(()=>t[10].call(e))},m(s,o){C(s,e,o),i&&i.m(e,null),l=es(e,t[10].bind(e)),n=!0},p(s,[o]){s[0].x.ticks&&s[0].points&&s[4]?i?(i.p(s,o),o&17&&Z(i,1)):(i=io(s),i.c(),Z(i,1),i.m(e,null)):i&&(wt(),ie(i,1,1,()=>{i=null}),St())},i(s){n||(Z(i),n=!0)},o(s){ie(i),n=!1},d(s){s&&M(e),i&&i.d(),l()}}}let an=30;function Ec(t,e,l){let{config:n}=e,i,s,o,f,r,c,m,d=0;function _(){d=this.clientHeight,l(5,d)}function v(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=w=>{"config"in w&&l(0,n=w.config)},t.$$.update=()=>{if(t.$$.dirty&63){l(4,c=s-d);let w=i-(n.padding.left+n.padding.right);l(3,o=w/n.points.length),l(8,m=o<an?30:15);let g=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(6,f=function(k){return k*o+n.padding.left}),l(7,r=function(k){let b=0;return k>n.y.max?b=n.padding.bottom:k<n.y.min?b=c-n.padding.bottom:b=c-n.padding.bottom-(k-n.y.min)*g,b>c||b<0?0:b})}},[n,i,s,o,c,d,f,r,m,_,v]}class cn extends At{constructor(e){super(),Et(this,e,Ec,Tc,Nt,{config:0})}}function Ac(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function qc(t,e,l){let{title:n}=e,{u1:i}=e,{u2:s}=e,{u3:o}=e,{ds:f}=e,r={};function c(m){return{label:Wt(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:q0(m||0,document.documentElement.classList.contains("dark"))}}return t.$$set=m=>{"title"in m&&l(1,n=m.title),"u1"in m&&l(2,i=m.u1),"u2"in m&&l(3,s=m.u2),"u3"in m&&l(4,o=m.u3),"ds"in m&&l(5,f=m.ds)},t.$$.update=()=>{if(t.$$.dirty&62){let m=[],d=[];i>0&&(m.push({label:f===1?"L1-L2":"L1"}),d.push(c(i))),s>0&&(m.push({label:f===1?"L1-L3":"L2"}),d.push(c(s))),o>0&&(m.push({label:f===1?"L2-L3":"L3"}),d.push(c(o))),l(0,r={title:n,padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:d})}},[r,n,i,s,o,f]}class Lc extends At{constructor(e){super(),Et(this,e,qc,Ac,Nt,{title:1,u1:2,u2:3,u3:4,ds:5})}}function Ic(t){var D,K,le,se,re;let e,l,n=(((D=t[0].reactive)==null?void 0:D.title)??"Reactive")+"",i,s,o,f,r=(((K=t[0].reactive)==null?void 0:K.instant_in)??"Instant in")+"",c,m,d,_=t[1][0]+"",v,w,g=t[1][1]+"",k,b,T,q=(((le=t[0].reactive)==null?void 0:le.instant_out)??"Instant out")+"",O,A,P,N=t[2][0]+"",F,V,Y=t[2][1]+"",I,B,X,j,G=(((se=t[0].reactive)==null?void 0:se.total_in)??"Total in")+"",W,U,H,x=t[3][0]+"",ne,z,ee=t[3][1]+"",ce,ae,oe,ue=(((re=t[0].reactive)==null?void 0:re.total_out)??"Total out")+"",Q,$,te,ve=t[4][0]+"",we,E,y=t[4][1]+"",R;return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("div"),f=p("div"),c=S(r),m=h(),d=p("div"),v=S(_),w=h(),k=S(g),b=h(),T=p("div"),O=S(q),A=h(),P=p("div"),F=S(N),V=h(),I=S(Y),B=h(),X=p("div"),j=p("div"),W=S(G),U=h(),H=p("div"),ne=S(x),z=h(),ce=S(ee),ae=h(),oe=p("div"),Q=S(ue),$=h(),te=p("div"),we=S(ve),E=h(),R=S(y),u(d,"class","text-right"),u(P,"class","text-right"),u(o,"class","grid grid-cols-2 mt-4"),u(H,"class","text-right"),u(te,"class","text-right"),u(X,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(me,fe){C(me,e,fe),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,v),a(d,w),a(d,k),a(o,b),a(o,T),a(T,O),a(o,A),a(o,P),a(P,F),a(P,V),a(P,I),a(e,B),a(e,X),a(X,j),a(j,W),a(X,U),a(X,H),a(H,ne),a(H,z),a(H,ce),a(X,ae),a(X,oe),a(oe,Q),a(X,$),a(X,te),a(te,we),a(te,E),a(te,R)},p(me,[fe]){var ke,ge,Ae,Le,Be;fe&1&&n!==(n=(((ke=me[0].reactive)==null?void 0:ke.title)??"Reactive")+"")&&L(i,n),fe&1&&r!==(r=(((ge=me[0].reactive)==null?void 0:ge.instant_in)??"Instant in")+"")&&L(c,r),fe&2&&_!==(_=me[1][0]+"")&&L(v,_),fe&2&&g!==(g=me[1][1]+"")&&L(k,g),fe&1&&q!==(q=(((Ae=me[0].reactive)==null?void 0:Ae.instant_out)??"Instant out")+"")&&L(O,q),fe&4&&N!==(N=me[2][0]+"")&&L(F,N),fe&4&&Y!==(Y=me[2][1]+"")&&L(I,Y),fe&1&&G!==(G=(((Le=me[0].reactive)==null?void 0:Le.total_in)??"Total in")+"")&&L(W,G),fe&8&&x!==(x=me[3][0]+"")&&L(ne,x),fe&8&&ee!==(ee=me[3][1]+"")&&L(ce,ee),fe&1&&ue!==(ue=(((Be=me[0].reactive)==null?void 0:Be.total_out)??"Total out")+"")&&L(Q,ue),fe&16&&ve!==(ve=me[4][0]+"")&&L(we,ve),fe&16&&y!==(y=me[4][1]+"")&&L(R,y)},i:Ue,o:Ue,d(me){me&&M(e)}}}function Oc(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:o}=e,{translations:f={}}=e,r,c,m,d;return t.$$set=_=>{"importInstant"in _&&l(5,n=_.importInstant),"exportInstant"in _&&l(6,i=_.exportInstant),"importTotal"in _&&l(7,s=_.importTotal),"exportTotal"in _&&l(8,o=_.exportTotal),"translations"in _&&l(0,f=_.translations)},t.$$.update=()=>{t.$$.dirty&480&&(l(1,r=fl(n,"VAr")),l(2,c=fl(i,"VAr")),l(3,m=fl(s*1e3,"VArh")),l(4,d=fl(o*1e3,"VArh")))},[f,r,c,m,d,n,i,s,o]}class Dc extends At{constructor(e){super(),Et(this,e,Oc,Ic,Nt,{importInstant:5,exportInstant:6,importTotal:7,exportTotal:8,translations:0})}}function So(t){let e;function l(s,o){return s[3]?Rc:Fc}let n=l(t),i=n(t);return{c(){i.c(),e=el()},m(s,o){i.m(s,o),C(s,e,o)},p(s,o){n===(n=l(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&M(e),i.d(s)}}}function Fc(t){var K,le,se,re,me;let e,l=(((K=t[4].realtime)==null?void 0:K.consumption)??"Consumption")+"",n,i,s,o,f=ll(((le=t[4].common)==null?void 0:le.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,v,w=t[6][1]+"",g,k,b,T=ll(((se=t[4].common)==null?void 0:se.day)??"Day")+"",q,O,A,P=t[7][0]+"",N,F,V=t[7][1]+"",Y,I,B,X=ll(((re=t[4].common)==null?void 0:re.month)??"Month")+"",j,G,W,U=t[8][0]+"",H,x,ne=t[8][1]+"",z,ee,ce,ae=(((me=t[4].realtime)==null?void 0:me.last_month)??"Last month")+"",oe,ue,Q,$=t[9][0]+"",te,ve,we=t[9][1]+"",E,y,R,D=t[5]&&yo(t);return{c(){e=p("strong"),n=S(l),i=h(),s=p("div"),o=p("div"),r=S(f),c=h(),m=p("div"),_=S(d),v=h(),g=S(w),k=h(),b=p("div"),q=S(T),O=h(),A=p("div"),N=S(P),F=h(),Y=S(V),I=h(),B=p("div"),j=S(X),G=h(),W=p("div"),H=S(U),x=h(),z=S(ne),ee=h(),ce=p("div"),oe=S(ae),ue=h(),Q=p("div"),te=S($),ve=h(),E=S(we),y=h(),D&&D.c(),R=el(),u(m,"class","text-right"),u(A,"class","text-right"),u(W,"class","text-right"),u(Q,"class","text-right"),u(s,"class","grid grid-cols-2 mb-3")},m(fe,ke){C(fe,e,ke),a(e,n),C(fe,i,ke),C(fe,s,ke),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,v),a(m,g),a(s,k),a(s,b),a(b,q),a(s,O),a(s,A),a(A,N),a(A,F),a(A,Y),a(s,I),a(s,B),a(B,j),a(s,G),a(s,W),a(W,H),a(W,x),a(W,z),a(s,ee),a(s,ce),a(ce,oe),a(s,ue),a(s,Q),a(Q,te),a(Q,ve),a(Q,E),C(fe,y,ke),D&&D.m(fe,ke),C(fe,R,ke)},p(fe,ke){var ge,Ae,Le,Be,ze;ke&16&&l!==(l=(((ge=fe[4].realtime)==null?void 0:ge.consumption)??"Consumption")+"")&&L(n,l),ke&16&&f!==(f=ll(((Ae=fe[4].common)==null?void 0:Ae.hour)??"Hour")+"")&&L(r,f),ke&64&&d!==(d=fe[6][0]+"")&&L(_,d),ke&64&&w!==(w=fe[6][1]+"")&&L(g,w),ke&16&&T!==(T=ll(((Le=fe[4].common)==null?void 0:Le.day)??"Day")+"")&&L(q,T),ke&128&&P!==(P=fe[7][0]+"")&&L(N,P),ke&128&&V!==(V=fe[7][1]+"")&&L(Y,V),ke&16&&X!==(X=ll(((Be=fe[4].common)==null?void 0:Be.month)??"Month")+"")&&L(j,X),ke&256&&U!==(U=fe[8][0]+"")&&L(H,U),ke&256&&ne!==(ne=fe[8][1]+"")&&L(z,ne),ke&16&&ae!==(ae=(((ze=fe[4].realtime)==null?void 0:ze.last_month)??"Last month")+"")&&L(oe,ae),ke&512&&$!==($=fe[9][0]+"")&&L(te,$),ke&512&&we!==(we=fe[9][1]+"")&&L(E,we),fe[5]?D?D.p(fe,ke):(D=yo(fe),D.c(),D.m(R.parentNode,R)):D&&(D.d(1),D=null)},d(fe){fe&&(M(e),M(i),M(s),M(y),M(R)),D&&D.d(fe)}}}function Rc(t){var it,Ke,ol,Jt,tl,_l,al,Zt,$t,cl;let e,l=(((it=t[4].common)==null?void 0:it.import)??"Import")+"",n,i,s,o,f=ll(((Ke=t[4].common)==null?void 0:Ke.hour)??"Hour")+"",r,c,m,d=t[6][0]+"",_,v,w=t[6][1]+"",g,k,b,T,q=ll(((ol=t[4].common)==null?void 0:ol.day)??"Day")+"",O,A,P,N=t[7][0]+"",F,V,Y=t[7][1]+"",I,B,X,j,G=ll(((Jt=t[4].common)==null?void 0:Jt.month)??"Month")+"",W,U,H,x=t[8][0]+"",ne,z,ee=t[8][1]+"",ce,ae,oe,ue,Q=(((tl=t[4].realtime)==null?void 0:tl.last_mo)??"Last mo.")+"",$,te,ve,we=t[9][0]+"",E,y,R=t[9][1]+"",D,K,le,se,re,me=(((_l=t[4].common)==null?void 0:_l.export)??"Export")+"",fe,ke,ge,Ae,Le=ll(((al=t[4].common)==null?void 0:al.hour)??"Hour")+"",Be,ze,Je,xe=t[10][0]+"",qe,lt,be=t[10][1]+"",ye,We,dt,_t,Qe=ll(((Zt=t[4].common)==null?void 0:Zt.day)??"Day")+"",ft,jt,pt,qt=t[11][0]+"",Pt,Lt,tt=t[11][1]+"",ot,Pe,He,$e,Ze=ll((($t=t[4].common)==null?void 0:$t.month)??"Month")+"",de,De,Tt,It=t[12][0]+"",bt,je,ct=t[12][1]+"",et,Ot,zt,Ve,Se=(((cl=t[4].realtime)==null?void 0:cl.last_mo)??"Last mo.")+"",Te,Ge,nt,at=t[13][0]+"",ht,Yt,Rt=t[13][1]+"",Ft,sl,Dt,Ye=t[5]&&Mo(t),Ut=t[5]&&Co(t),Xt=t[5]&&No(t),gt=t[5]&&Po(t),ut=t[5]&&To(t),Mt=t[5]&&Eo(t),Kt=t[5]&&Ao(t),pe=t[5]&&qo(t);return{c(){e=p("strong"),n=S(l),i=h(),s=p("div"),o=p("div"),r=S(f),c=h(),m=p("div"),_=S(d),v=h(),g=S(w),k=h(),Ye&&Ye.c(),b=h(),T=p("div"),O=S(q),A=h(),P=p("div"),F=S(N),V=h(),I=S(Y),B=h(),Ut&&Ut.c(),X=h(),j=p("div"),W=S(G),U=h(),H=p("div"),ne=S(x),z=h(),ce=S(ee),ae=h(),Xt&&Xt.c(),oe=h(),ue=p("div"),$=S(Q),te=h(),ve=p("div"),E=S(we),y=h(),D=S(R),K=h(),gt&&gt.c(),se=h(),re=p("strong"),fe=S(me),ke=h(),ge=p("div"),Ae=p("div"),Be=S(Le),ze=h(),Je=p("div"),qe=S(xe),lt=h(),ye=S(be),We=h(),ut&&ut.c(),dt=h(),_t=p("div"),ft=S(Qe),jt=h(),pt=p("div"),Pt=S(qt),Lt=h(),ot=S(tt),Pe=h(),Mt&&Mt.c(),He=h(),$e=p("div"),de=S(Ze),De=h(),Tt=p("div"),bt=S(It),je=h(),et=S(ct),Ot=h(),Kt&&Kt.c(),zt=h(),Ve=p("div"),Te=S(Se),Ge=h(),nt=p("div"),ht=S(at),Yt=h(),Ft=S(Rt),sl=h(),pe&&pe.c(),u(m,"class","text-right"),u(P,"class","text-right"),u(H,"class","text-right"),u(ve,"class","text-right"),u(s,"class",le="grid grid-cols-"+t[14]+" mb-3"),u(Je,"class","text-right"),u(pt,"class","text-right"),u(Tt,"class","text-right"),u(nt,"class","text-right"),u(ge,"class",Dt="grid grid-cols-"+t[14])},m(Ee,_e){C(Ee,e,_e),a(e,n),C(Ee,i,_e),C(Ee,s,_e),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,v),a(m,g),a(s,k),Ye&&Ye.m(s,null),a(s,b),a(s,T),a(T,O),a(s,A),a(s,P),a(P,F),a(P,V),a(P,I),a(s,B),Ut&&Ut.m(s,null),a(s,X),a(s,j),a(j,W),a(s,U),a(s,H),a(H,ne),a(H,z),a(H,ce),a(s,ae),Xt&&Xt.m(s,null),a(s,oe),a(s,ue),a(ue,$),a(s,te),a(s,ve),a(ve,E),a(ve,y),a(ve,D),a(s,K),gt&&gt.m(s,null),C(Ee,se,_e),C(Ee,re,_e),a(re,fe),C(Ee,ke,_e),C(Ee,ge,_e),a(ge,Ae),a(Ae,Be),a(ge,ze),a(ge,Je),a(Je,qe),a(Je,lt),a(Je,ye),a(ge,We),ut&&ut.m(ge,null),a(ge,dt),a(ge,_t),a(_t,ft),a(ge,jt),a(ge,pt),a(pt,Pt),a(pt,Lt),a(pt,ot),a(ge,Pe),Mt&&Mt.m(ge,null),a(ge,He),a(ge,$e),a($e,de),a(ge,De),a(ge,Tt),a(Tt,bt),a(Tt,je),a(Tt,et),a(ge,Ot),Kt&&Kt.m(ge,null),a(ge,zt),a(ge,Ve),a(Ve,Te),a(ge,Ge),a(ge,nt),a(nt,ht),a(nt,Yt),a(nt,Ft),a(ge,sl),pe&&pe.m(ge,null)},p(Ee,_e){var Bt,Oe,Ct,rl,bl,gl,kl,wl,Sl,yl;_e&16&&l!==(l=(((Bt=Ee[4].common)==null?void 0:Bt.import)??"Import")+"")&&L(n,l),_e&16&&f!==(f=ll(((Oe=Ee[4].common)==null?void 0:Oe.hour)??"Hour")+"")&&L(r,f),_e&64&&d!==(d=Ee[6][0]+"")&&L(_,d),_e&64&&w!==(w=Ee[6][1]+"")&&L(g,w),Ee[5]?Ye?Ye.p(Ee,_e):(Ye=Mo(Ee),Ye.c(),Ye.m(s,b)):Ye&&(Ye.d(1),Ye=null),_e&16&&q!==(q=ll(((Ct=Ee[4].common)==null?void 0:Ct.day)??"Day")+"")&&L(O,q),_e&128&&N!==(N=Ee[7][0]+"")&&L(F,N),_e&128&&Y!==(Y=Ee[7][1]+"")&&L(I,Y),Ee[5]?Ut?Ut.p(Ee,_e):(Ut=Co(Ee),Ut.c(),Ut.m(s,X)):Ut&&(Ut.d(1),Ut=null),_e&16&&G!==(G=ll(((rl=Ee[4].common)==null?void 0:rl.month)??"Month")+"")&&L(W,G),_e&256&&x!==(x=Ee[8][0]+"")&&L(ne,x),_e&256&&ee!==(ee=Ee[8][1]+"")&&L(ce,ee),Ee[5]?Xt?Xt.p(Ee,_e):(Xt=No(Ee),Xt.c(),Xt.m(s,oe)):Xt&&(Xt.d(1),Xt=null),_e&16&&Q!==(Q=(((bl=Ee[4].realtime)==null?void 0:bl.last_mo)??"Last mo.")+"")&&L($,Q),_e&512&&we!==(we=Ee[9][0]+"")&&L(E,we),_e&512&&R!==(R=Ee[9][1]+"")&&L(D,R),Ee[5]?gt?gt.p(Ee,_e):(gt=Po(Ee),gt.c(),gt.m(s,null)):gt&&(gt.d(1),gt=null),_e&16384&&le!==(le="grid grid-cols-"+Ee[14]+" mb-3")&&u(s,"class",le),_e&16&&me!==(me=(((gl=Ee[4].common)==null?void 0:gl.export)??"Export")+"")&&L(fe,me),_e&16&&Le!==(Le=ll(((kl=Ee[4].common)==null?void 0:kl.hour)??"Hour")+"")&&L(Be,Le),_e&1024&&xe!==(xe=Ee[10][0]+"")&&L(qe,xe),_e&1024&&be!==(be=Ee[10][1]+"")&&L(ye,be),Ee[5]?ut?ut.p(Ee,_e):(ut=To(Ee),ut.c(),ut.m(ge,dt)):ut&&(ut.d(1),ut=null),_e&16&&Qe!==(Qe=ll(((wl=Ee[4].common)==null?void 0:wl.day)??"Day")+"")&&L(ft,Qe),_e&2048&&qt!==(qt=Ee[11][0]+"")&&L(Pt,qt),_e&2048&&tt!==(tt=Ee[11][1]+"")&&L(ot,tt),Ee[5]?Mt?Mt.p(Ee,_e):(Mt=Eo(Ee),Mt.c(),Mt.m(ge,He)):Mt&&(Mt.d(1),Mt=null),_e&16&&Ze!==(Ze=ll(((Sl=Ee[4].common)==null?void 0:Sl.month)??"Month")+"")&&L(de,Ze),_e&4096&&It!==(It=Ee[12][0]+"")&&L(bt,It),_e&4096&&ct!==(ct=Ee[12][1]+"")&&L(et,ct),Ee[5]?Kt?Kt.p(Ee,_e):(Kt=Ao(Ee),Kt.c(),Kt.m(ge,zt)):Kt&&(Kt.d(1),Kt=null),_e&16&&Se!==(Se=(((yl=Ee[4].realtime)==null?void 0:yl.last_mo)??"Last mo.")+"")&&L(Te,Se),_e&8192&&at!==(at=Ee[13][0]+"")&&L(ht,at),_e&8192&&Rt!==(Rt=Ee[13][1]+"")&&L(Ft,Rt),Ee[5]?pe?pe.p(Ee,_e):(pe=qo(Ee),pe.c(),pe.m(ge,null)):pe&&(pe.d(1),pe=null),_e&16384&&Dt!==(Dt="grid grid-cols-"+Ee[14])&&u(ge,"class",Dt)},d(Ee){Ee&&(M(e),M(i),M(s),M(se),M(re),M(ke),M(ge)),Ye&&Ye.d(),Ut&&Ut.d(),Xt&&Xt.d(),gt&&gt.d(),ut&&ut.d(),Mt&&Mt.d(),Kt&&Kt.d(),pe&&pe.d()}}}function yo(t){var te,ve,we,E,y,R;let e,l=(((te=t[4].realtime)==null?void 0:te.cost)??"Cost")+"",n,i,s,o,f=ll(((ve=t[4].common)==null?void 0:ve.hour)??"Hour")+"",r,c,m,d=Wt(t[1].h.c,2)+"",_,v,w,g,k,b=ll(((we=t[4].common)==null?void 0:we.day)??"Day")+"",T,q,O,A=Wt(t[1].d.c,1)+"",P,N,F,V,Y,I=ll(((E=t[4].common)==null?void 0:E.month)??"Month")+"",B,X,j,G=Wt(t[1].m.c)+"",W,U,H,x,ne,z=(((y=t[4].realtime)==null?void 0:y.last_month)??"Last month")+"",ee,ce,ae,oe=Wt((R=t[0].last_month)==null?void 0:R.c)+"",ue,Q,$;return{c(){e=p("strong"),n=S(l),i=h(),s=p("div"),o=p("div"),r=S(f),c=h(),m=p("div"),_=S(d),v=h(),w=S(t[2]),g=h(),k=p("div"),T=S(b),q=h(),O=p("div"),P=S(A),N=h(),F=S(t[2]),V=h(),Y=p("div"),B=S(I),X=h(),j=p("div"),W=S(G),U=h(),H=S(t[2]),x=h(),ne=p("div"),ee=S(z),ce=h(),ae=p("div"),ue=S(oe),Q=h(),$=S(t[2]),u(m,"class","text-right"),u(O,"class","text-right"),u(j,"class","text-right"),u(ae,"class","text-right"),u(s,"class","grid grid-cols-2")},m(D,K){C(D,e,K),a(e,n),C(D,i,K),C(D,s,K),a(s,o),a(o,r),a(s,c),a(s,m),a(m,_),a(m,v),a(m,w),a(s,g),a(s,k),a(k,T),a(s,q),a(s,O),a(O,P),a(O,N),a(O,F),a(s,V),a(s,Y),a(Y,B),a(s,X),a(s,j),a(j,W),a(j,U),a(j,H),a(s,x),a(s,ne),a(ne,ee),a(s,ce),a(s,ae),a(ae,ue),a(ae,Q),a(ae,$)},p(D,K){var le,se,re,me,fe,ke;K&16&&l!==(l=(((le=D[4].realtime)==null?void 0:le.cost)??"Cost")+"")&&L(n,l),K&16&&f!==(f=ll(((se=D[4].common)==null?void 0:se.hour)??"Hour")+"")&&L(r,f),K&2&&d!==(d=Wt(D[1].h.c,2)+"")&&L(_,d),K&4&&L(w,D[2]),K&16&&b!==(b=ll(((re=D[4].common)==null?void 0:re.day)??"Day")+"")&&L(T,b),K&2&&A!==(A=Wt(D[1].d.c,1)+"")&&L(P,A),K&4&&L(F,D[2]),K&16&&I!==(I=ll(((me=D[4].common)==null?void 0:me.month)??"Month")+"")&&L(B,I),K&2&&G!==(G=Wt(D[1].m.c)+"")&&L(W,G),K&4&&L(H,D[2]),K&16&&z!==(z=(((fe=D[4].realtime)==null?void 0:fe.last_month)??"Last month")+"")&&L(ee,z),K&1&&oe!==(oe=Wt((ke=D[0].last_month)==null?void 0:ke.c)+"")&&L(ue,oe),K&4&&L($,D[2])},d(D){D&&(M(e),M(i),M(s))}}}function Mo(t){let e,l=Wt(t[1].h.c,2)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].h.c,2)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function Co(t){let e,l=Wt(t[1].d.c,1)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].d.c,1)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function No(t){let e,l=Wt(t[1].m.c)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].m.c)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function Po(t){var o;let e,l=Wt((o=t[0].last_month)==null?void 0:o.c)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Wt((c=f[0].last_month)==null?void 0:c.c)+"")&&L(n,l),r&4&&L(s,f[2])},d(f){f&&M(e)}}}function To(t){let e,l=Wt(t[1].h.i,2)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].h.i,2)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function Eo(t){let e,l=Wt(t[1].d.i,1)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].d.i,1)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function Ao(t){let e,l=Wt(t[1].m.i)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,n),a(e,i),a(e,s)},p(o,f){f&2&&l!==(l=Wt(o[1].m.i)+"")&&L(n,l),f&4&&L(s,o[2])},d(o){o&&M(e)}}}function qo(t){var o;let e,l=Wt((o=t[0].last_month)==null?void 0:o.i)+"",n,i,s;return{c(){e=p("div"),n=S(l),i=h(),s=S(t[2]),u(e,"class","text-right")},m(f,r){C(f,e,r),a(e,n),a(e,i),a(e,s)},p(f,r){var c;r&1&&l!==(l=Wt((c=f[0].last_month)==null?void 0:c.i)+"")&&L(n,l),r&4&&L(s,f[2])},d(f){f&&M(e)}}}function Uc(t){var m;let e,l,n=(((m=t[4].realtime)==null?void 0:m.title)??"Real time calculations")+"",i,s,o,f,r,c=t[1]&&So(t);return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("br"),f=p("br"),r=h(),c&&c.c(),u(e,"class","mx-2 text-sm neas-green")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),c&&c.m(e,null)},p(d,[_]){var v;_&16&&n!==(n=(((v=d[4].realtime)==null?void 0:v.title)??"Real time calculations")+"")&&L(i,n),d[1]?c?c.p(d,_):(c=So(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ue,o:Ue,d(d){d&&M(e),c&&c.d()}}}function Bc(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:o}=e,{translations:f={}}=e,r,c,m,d,_,v,w,g,k=!1,b=3;return t.$$set=T=>{"sysinfo"in T&&l(0,n=T.sysinfo),"data"in T&&l(1,i=T.data),"currency"in T&&l(2,s=T.currency),"hasExport"in T&&l(3,o=T.hasExport),"translations"in T&&l(4,f=T.translations)},t.$$.update=()=>{var T,q,O,A,P,N,F,V;t.$$.dirty&35&&(l(5,k=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(14,b=k?3:2),l(6,r=fl(((T=i==null?void 0:i.h)==null?void 0:T.u)*1e3,"Wh")),l(7,c=fl(((q=i==null?void 0:i.d)==null?void 0:q.u)*1e3,"Wh")),l(8,m=fl(((O=i==null?void 0:i.m)==null?void 0:O.u)*1e3,"Wh")),l(9,d=fl(((A=n==null?void 0:n.last_month)==null?void 0:A.u)*1e3,"Wh")),l(10,_=fl(((P=i==null?void 0:i.h)==null?void 0:P.p)*1e3,"Wh")),l(11,v=fl(((N=i==null?void 0:i.d)==null?void 0:N.p)*1e3,"Wh")),l(12,w=fl(((F=i==null?void 0:i.m)==null?void 0:F.p)*1e3,"Wh")),l(13,g=fl(((V=n==null?void 0:n.last_month)==null?void 0:V.p)*1e3,"Wh")))},[n,i,s,o,f,k,r,c,m,d,_,v,w,g,b]}class Wc extends At{constructor(e){super(),Et(this,e,Bc,Uc,Nt,{sysinfo:0,data:1,currency:2,hasExport:3,translations:4})}}function Hc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function jc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=i.currency,d=new Date().getUTCHours(),_=0,v=0,w=0,g=[],k=[],b=[];l(5,r=l(4,f=0));let T=new Date;for(Il(T,s.clock_offset-(24+T.getHours()-T.getUTCHours())%24),_=d;_<24&&(v=i[mt(w++)],v!=null);_++)k.push({label:mt(T.getHours())}),b.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Il(T,1);for(_=0;_<24&&(v=i[mt(w++)],v!=null);_++)k.push({label:mt(T.getHours())}),b.push(v*100),l(5,r=Math.min(r,v*100)),l(4,f=Math.max(f,v*100)),Il(T,1);let q=Yn(Math.max(Math.abs(r)/100,Math.abs(f)/100),m);if(q&&q[1]&&q[1]!=m)for(m=q[1],l(5,r*=100),l(4,f*=100),_=0;_<b.length;_++)b[_]*=100;let O=[];for(_=0;_<b.length;_++){v=b[_];let F=v*.01,V=Math.abs(v)<1e3?2:0;O.push({label:F>=0?F.toFixed(V):"",title:F>=0?F.toFixed(2)+" "+m:"",value:v>=0?Math.abs(v):0,label2:F<0?F.toFixed(V):"",title2:F<0?F.toFixed(2)+" "+m:"",value2:v<0?Math.abs(v):0,color:c?"#5c2da5":"#7c3aed"})}let A=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(A/4*-1,r));let F=Math.ceil(Math.abs(r)/A*4),V=r/F;for(_=1;_<F+1;_++){let Y=V*_;g.push({value:Y,label:(Y/100).toFixed(2)})}}l(4,f=Math.max(A/4,f));let P=Math.ceil(f/A*4),N=f/P;for(_=0;_<P+1;_++){let F=N*_;g.push({value:F,label:(F/100).toFixed(2)})}l(0,o={title:n+" ("+m+")",dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:g},x:{ticks:k},points:O,link:{text:"Provided by: "+L0(i.source),url:I0(i.source),target:"_blank"}})}},[o,n,i,s,f,r]}class zc extends At{constructor(e){super(),Et(this,e,jc,Hc,Nt,{title:1,json:2,sysinfo:3})}}function Kc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Vc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],v=[];l(5,r=l(4,f=0));let w=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset,b=w.getUTCHours();for(Il(w,-k-24),m=b;m<24;m++){let A=i["i"+mt(m)],P=i["e"+mt(m)];A===void 0&&(A=0),P===void 0&&(P=0),_.push({label:mt(w.getHours())}),v.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:P.toFixed(1),title2:P.toFixed(2)+" kWh",value2:P*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P*10)),l(4,f=Math.max(f,A*10)),Il(w,1)}for(m=0;m<b;m++){let A=i["i"+mt(m)],P=i["e"+mt(m)];A===void 0&&(A=0),P===void 0&&(P=0),_.push({label:mt(w.getHours())}),v.push({label:A.toFixed(1),title:A.toFixed(2)+" kWh",value:A*10,label2:P.toFixed(1),title2:P.toFixed(2)+" kWh",value2:P*10,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,P*10)),l(4,f=Math.max(f,A*10)),Il(w,1)}l(5,r*=-1);let T=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(T/4*-1,r));let A=Math.ceil(Math.abs(r)/T*4),P=r/A;for(m=1;m<A+1;m++){let N=P*m;d.push({value:N,label:(N/10).toFixed(1)})}}l(4,f=Math.max(T/4,f));let q=Math.ceil(f/T*4),O=f/q;for(m=0;m<q+1;m++){let A=O*m;d.push({value:A,label:(A/10).toFixed(1)})}l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:v,link:{route:!0,text:"Edit data",url:"/edit-day"}})}},[o,n,i,s,f,r]}class Gc extends At{constructor(e){super(),Et(this,e,Vc,Kc,Nt,{title:1,json:2,sysinfo:3})}}function Yc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Xc(t,e,l){let{title:n}=e,{json:i}=e,{sysinfo:s}=e,o={},f,r,c=document.documentElement.classList.contains("dark");return t.$$set=m=>{"title"in m&&l(1,n=m.title),"json"in m&&l(2,i=m.json),"sysinfo"in m&&l(3,s=m.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,d=[],_=[],v=[];l(5,r=l(4,f=0));let w=new Date,g=new Date;g.setDate(0),g.setHours(12);let k=(g.getHours()-g.getUTCHours())%24-s.clock_offset;for(Il(w,-k),Il(g,-k),m=w.getDate();m<=g.getDate();m++){let O=i["i"+mt(m)],A=i["e"+mt(m)];O===void 0&&(O=0),A===void 0&&(A=0),_.push({label:mt(m)}),v.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,f=Math.max(f,O))}for(m=1;m<w.getDate();m++){let O=i["i"+mt(m)],A=i["e"+mt(m)];O===void 0&&(O=0),A===void 0&&(A=0),_.push({label:mt(m)}),v.push({label:O.toFixed(O<10?1:0),title:O.toFixed(2)+" kWh",value:O,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:c?"#5c2da5":"#7c3aed",color2:c?"#27728e":"#37829e"}),l(5,r=Math.max(r,A)),l(4,f=Math.max(f,O))}l(5,r*=-1);let b=Math.max(f,Math.abs(r));if(r<0){l(5,r=Math.min(b/4*-1,r));let O=Math.ceil(Math.abs(r)/b*4),A=r/O;for(m=1;m<O+1;m++){let P=A*m;d.push({value:P,label:P.toFixed(0)})}}l(4,f=Math.max(b/4,f));let T=Math.ceil(f/b*4),q=f/T;for(m=0;m<T+1;m++){let O=q*m;d.push({value:O,label:O.toFixed(0)})}l(0,o={title:n.replace("{0}",g.getDate().toFixed(0))+" (kWh)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:v,link:{route:!0,text:"Edit data",url:"/edit-month"}})}},[o,n,i,s,f,r]}class Jc extends At{constructor(e){super(),Et(this,e,Xc,Yc,Nt,{title:1,json:2,sysinfo:3})}}function Qc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Zc(t,e,l){let{title:n}=e,{json:i}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,r=0;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"json"in c&&l(2,i=c.json)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,m=0,d=[],_=[],v=[];i.s&&i.s.forEach((k,b)=>{var T=k.n?k.n:k.a;m=k.v,m==-127&&(m=0),_.push({label:T.slice(-4)}),v.push({label:m.toFixed(1),value:m,color:s?"#5c2da5":"#7c3aed"}),l(4,r=Math.min(r,m)),l(3,f=Math.max(f,m))}),l(3,f=Math.ceil(f)),l(4,r=Math.floor(r));let w=f;r<0&&(w+=Math.abs(r));let g=w/4;for(c=0;c<5;c++)m=r+g*c,d.push({value:m,label:m.toFixed(1)});l(0,o={title:n+" (°C)",dark:document.documentElement.classList.contains("dark"),height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:f,ticks:d},x:{ticks:_},points:v})}},[o,n,i,f,r]}class $c extends At{constructor(e){super(),Et(this,e,Zc,Qc,Nt,{title:1,json:2})}}function xc(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}let e1=0;function t1(t,e,l){let{title:n}=e,{translations:i={}}=e,s=document.documentElement.classList.contains("dark"),o={},f=0,{tariffData:r}=e;return t.$$set=c=>{"title"in c&&l(1,n=c.title),"translations"in c&&l(2,i=c.translations),"tariffData"in c&&l(3,r=c.tariffData)},t.$$.update=()=>{var c;if(t.$$.dirty&30){let m=0,d=[],_=[],v=[];if(d.push({value:0,label:0}),r&&r.p)for(m=0;m<r.p.length;m++){let w=r.p[m];v.push({label:w.v.toFixed(2),value:w.v,color:s?"#5c2da5":"#7c3aed"}),_.push({label:w.d>0?mt(w.d)+"."+(i.months?(c=i.months)==null?void 0:c[new Date().getMonth()]:mt(new Date().getMonth()+1)):"-"}),l(4,f=Math.max(f,w.v))}if(r&&r.t){for(m=0;m<r.t.length;m++){let w=r.t[m];if(w>=f)break;d.push({value:w,label:w})}d.push({label:r.m.toFixed(1),align:"right",color:"green",value:r.m})}r&&r.c&&(d.push({label:r.c.toFixed(0),color:"orange",value:r.c}),l(4,f=Math.max(f,r.c))),l(4,f=Math.ceil(f)),l(0,o={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:35,bottom:20,left:35},y:{min:e1,max:f,ticks:d},x:{ticks:_},points:v})}},[o,n,i,r,f]}class l1 extends At{constructor(e){super(),Et(this,e,t1,xc,Nt,{title:1,translations:2,tariffData:3})}}let nn=0,n1={data:[]};async function as(){let e=await(await Ml(nn<0?"realtime.json":"realtime.json?offset="+nn)).json();rs.update(l=>{for(let n=0;n<e.size;n++)l.data[e.offset+n]=e.data[n];return l.size=l.data.length,l}),nn>=0&&(nn+=e.size,nn<e.total?setTimeout(as,2e3):nn=-1)}function i1(){return nn==-1}const rs=il(n1);let hn=0,iu=0,Ki=0,Ei=0,Lo=!1;function s1(){Ei==60||Ki>hn||Ki-hn>300?(as(),Ei=0):rs.update(t=>{if(t.lastUpdate)for(;hn>t.lastUpdate;)t.data.unshift(iu),t.data=t.data.slice(0,t.size),t.lastUpdate+=10,Ei++;else t.lastUpdate=hn;return t})}function o1(t){if(iu=t.i-t.e,hn=t.u,!Lo){as(),Lo=!0,Ki=hn;return}i1()&&s1()}function Io(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Oo(t,e,l){const n=t.slice();return n[21]=e[l],n}function a1(t){let e,l,n;return{c(){e=p("strong"),l=S(t[0]),n=S(" not available"),u(e,"class","text-sm")},m(i,s){C(i,e,s),a(e,l),a(e,n)},p(i,s){s&1&&L(l,i[0])},d(i){i&&M(e)}}}function r1(t){let e,l,n,i,s,o,f,r=t[8]&&Do(t);return{c(){e=p("strong"),l=S(t[0]),n=S(" ("),i=S(t[12]),s=S(")"),o=h(),r&&r.c(),f=el(),u(e,"class","text-sm")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(e,s),C(c,o,m),r&&r.m(c,m),C(c,f,m)},p(c,m){m&1&&L(l,c[0]),m&4096&&L(i,c[12]),c[8]?r?r.p(c,m):(r=Do(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&(M(e),M(o),M(f)),r&&r.d(c)}}}function Do(t){let e,l,n,i,s,o=Xe(t[8]),f=[];for(let m=0;m<o.length;m+=1)f[m]=Ro(Oo(t,o,m));let r=Xe(t[9]),c=[];for(let m=0;m<r.length;m+=1)c[m]=Bo(Io(t,r,m));return{c(){e=yt("svg"),l=yt("g");for(let m=0;m<f.length;m+=1)f[m].c();n=yt("g");for(let m=0;m<c.length;m+=1)c[m].c();i=yt("polyline"),u(l,"class","axis y-axis"),u(n,"class","axis x-axis"),u(i,"opacity","0.9"),u(i,"fill",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke",t[13]?"#5c2da5":"#7c3aed"),u(i,"stroke-width","1"),u(i,"points",t[7]),u(e,"viewBox",s="0 0 "+t[6]+" "+t[5]),u(e,"height","100%")},m(m,d){C(m,e,d),a(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(l,null);a(e,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);a(e,i)},p(m,d){if(d&16646){o=Xe(m[8]);let _;for(_=0;_<o.length;_+=1){const v=Oo(m,o,_);f[_]?f[_].p(v,d):(f[_]=Ro(v),f[_].c(),f[_].m(l,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}if(d&34336){r=Xe(m[9]);let _;for(_=0;_<r.length;_+=1){const v=Io(m,r,_);c[_]?c[_].p(v,d):(c[_]=Bo(v),c[_].c(),c[_].m(n,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=r.length}d&128&&u(i,"points",m[7]),d&96&&s!==(s="0 0 "+m[6]+" "+m[5])&&u(e,"viewBox",s)},d(m){m&&M(e),Qt(f,m),Qt(c,m)}}}function Fo(t){let e,l,n,i=t[21].label+"",s,o,f;return{c(){e=yt("g"),l=yt("line"),n=yt("text"),s=S(i),u(l,"x2","100%"),u(n,"y","-4"),u(e,"class",o="tick tick-"+t[21].value),u(e,"transform",f="translate(0, "+t[14](t[21].value,t[2],t[1])+")")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(n,s)},p(r,c){c&256&&i!==(i=r[21].label+"")&&L(s,i),c&256&&o!==(o="tick tick-"+r[21].value)&&u(e,"class",o),c&262&&f!==(f="translate(0, "+r[14](r[21].value,r[2],r[1])+")")&&u(e,"transform",f)},d(r){r&&M(e)}}}function Ro(t){let e=!isNaN(t[14](t[21].value,t[2],t[1])),l,n=e&&Fo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&262&&(e=!isNaN(i[14](i[21].value,i[2],i[1]))),e?n?n.p(i,s):(n=Fo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function Uo(t){let e,l,n=t[18].label+"",i,s,o;return{c(){e=yt("g"),l=yt("text"),i=S(n),u(l,"x",s=t[10]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",o="translate("+t[15](t[18].value)+","+t[5]+")")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){r&512&&n!==(n=f[18].label+"")&&L(i,n),r&1024&&s!==(s=f[10]/2)&&u(l,"x",s),r&544&&o!==(o="translate("+f[15](f[18].value)+","+f[5]+")")&&u(e,"transform",o)},d(f){f&&M(e)}}}function Bo(t){let e=!isNaN(t[15](t[18].value)),l,n=e&&Uo(t);return{c(){n&&n.c(),l=el()},m(i,s){n&&n.m(i,s),C(i,l,s)},p(i,s){s&512&&(e=!isNaN(i[15](i[18].value))),e?n?n.p(i,s):(n=Uo(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&M(l),n&&n.d(i)}}}function f1(t){let e,l;function n(o,f){return o[11]?r1:a1}let i=n(t),s=i(t);return{c(){e=p("div"),s.c(),u(e,"class","chart"),Gt(()=>t[17].call(e))},m(o,f){C(o,e,f),s.m(e,null),l=es(e,t[17].bind(e))},p(o,[f]){i===(i=n(o))&&s?s.p(o,f):(s.d(1),s=i(o),s&&(s.c(),s.m(e,null)))},i:Ue,o:Ue,d(o){o&&M(e),s.d(),l()}}}function u1(t,e,l){let{title:n}=e,i=document.documentElement.classList.contains("dark"),s=null;rs.subscribe(A=>{l(16,s=A)});let o=!1,f,r,c,m,d,_,v,w=function(A,P,N){return Math.ceil(d-(A-P)/(N-P)*d)-25},g=function(A){return 30+Math.ceil(A/s.size*(_-35))},k,b,T,q;function O(){c=this.clientWidth,m=this.clientHeight,l(3,c),l(4,m)}return t.$$set=A=>{"title"in A&&l(0,n=A.title)},t.$$.update=()=>{if(t.$$.dirty&67582)if(l(5,d=parseInt(m)-50),l(6,_=c-35),l(10,T=_/s.size),l(2,r=0),l(1,f=0),s.data&&d>10&&_>100&&T>.1){l(11,o=!0);for(let N in s.data){let F=s.data[N];isNaN(F)&&(F=0),l(1,f=Math.max(Math.ceil(F/1e3)*1e3,f)),l(2,r=Math.min(Math.floor(F/1e3)*1e3,r))}let A=f-r;l(12,q=f>2500?"kW":"W"),l(8,k=[]);for(let N=r;N<f&&(k.push({value:N,label:f>2500?(N/1e3).toFixed(1):N}),!(k.length>6));N+=A/5);l(9,b=[]);for(let N=0;N<s.size&&(b.push({value:N,label:"-"+Math.round((s.size-N)/6)+" min"}),!(b.length>12));N+=Math.round(s.size/Math.round(_/120)));let P=s.size;l(7,v=g(s.size)+","+w(0,r,f)+" "+g(1)+","+w(0,r,f));for(let N in s.data){if(P<0)break;let F=s.data[N];isNaN(F)&&(F=0),l(7,v=g(P--)+","+w(F,r,f)+" "+v)}}else l(11,o=!1)},[n,f,r,c,m,d,_,v,k,b,T,o,q,i,w,g,s,O]}class c1 extends At{constructor(e){super(),Et(this,e,u1,f1,Nt,{title:0})}}function m1(t){let e,l;return e=new cn({props:{config:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function _1(t,e,l){let{title:n}=e,{unit:i=""}=e,{l1:s=!1}=e,{l2:o=!1}=e,{l2x:f=!1}=e,{l3:r=!1}=e,{l1i:c=0}=e,{l2i:m=0}=e,{l3i:d=0}=e,{l1e:_=0}=e,{l2e:v=0}=e,{l3e:w=0}=e,{maxImport:g=0}=e,{maxExport:k=0}=e,{importColorFn:b}=e,{exportColorFn:T}=e,q={};function O(A,P){return{label:Wt(A>900?A/1e3:A)+(A>900?"k":"")+i,title:A.toFixed(2)+" "+i,value:isNaN(A)?0:A,color:b(A?A/g*100:0,document.documentElement.classList.contains("dark")),label2:Wt(P>900?P/1e3:P)+(P>900?"k":"")+i,title2:P.toFixed(2)+" "+i,value2:isNaN(P)?0:P,color2:T(P?P/k*100:0)}}return t.$$set=A=>{"title"in A&&l(1,n=A.title),"unit"in A&&l(2,i=A.unit),"l1"in A&&l(3,s=A.l1),"l2"in A&&l(4,o=A.l2),"l2x"in A&&l(5,f=A.l2x),"l3"in A&&l(6,r=A.l3),"l1i"in A&&l(7,c=A.l1i),"l2i"in A&&l(8,m=A.l2i),"l3i"in A&&l(9,d=A.l3i),"l1e"in A&&l(10,_=A.l1e),"l2e"in A&&l(11,v=A.l2e),"l3e"in A&&l(12,w=A.l3e),"maxImport"in A&&l(13,g=A.maxImport),"maxExport"in A&&l(14,k=A.maxExport),"importColorFn"in A&&l(15,b=A.importColorFn),"exportColorFn"in A&&l(16,T=A.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let A=[],P=[];s&&(A.push({label:"L1"}),P.push(O(c,_))),o&&(f?(A.push({label:"L2"}),P.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(A.push({label:"L2"}),P.push(O(m,v)))),r&&(A.push({label:"L3"}),P.push(O(d,w)));let N=[];if(k){let F=k>g?4:k*4/g;N.push({value:-k,label:"-100%"}),F>=4&&N.push({value:-k/4*3,label:"-75%"}),F>=2&&N.push({value:-k/2,label:"-50%"}),F>=4&&N.push({value:-k/4,label:"-25%"})}if(N.push({value:0,label:"0%"}),g){let F=g>k?4:g*4/k;N.push({value:g/4,label:"25%"}),F>=4&&N.push({value:g/2,label:"50%"}),F>=2&&N.push({value:g/4*3,label:"75%"}),F>=4&&N.push({value:g,label:"100%"})}l(0,q={title:n,dark:document.documentElement.classList.contains("dark"),padding:{top:20,right:15,bottom:20,left:35},y:{min:-k,max:g,ticks:N},x:{ticks:A},points:P})}},[q,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T]}class fs extends At{constructor(e){super(),Et(this,e,_1,m1,Nt,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Wo(t){var b;let e,l,n,i,s,o,f=(t[0].mt?mi(t[0].mt):"-")+"",r,c,m,d=t[11][0]+"",_,v,w=t[11][1]+"",g,k;return i=new nu({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:((b=t[6].common)==null?void 0:b.import)??"Import",sub:Yn(t[0].p,t[0].pc),colorFn:ss}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),r=S(f),c=h(),m=p("div"),_=S(d),v=h(),g=S(w),u(n,"class","col-span-2"),u(m,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(T,q){C(T,e,q),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(o,r),a(l,c),a(l,m),a(m,_),a(m,v),a(m,g),k=!0},p(T,q){var A;const O={};q&1&&(O.val=T[0].i?T[0].i:0),q&1&&(O.max=T[0].im?T[0].im:15e3),q&64&&(O.label=((A=T[6].common)==null?void 0:A.import)??"Import"),q&1&&(O.sub=Yn(T[0].p,T[0].pc)),i.$set(O),(!k||q&1)&&f!==(f=(T[0].mt?mi(T[0].mt):"-")+"")&&L(r,f),(!k||q&2048)&&d!==(d=T[11][0]+"")&&L(_,d),(!k||q&2048)&&w!==(w=T[11][1]+"")&&L(g,w)},i(T){k||(Z(i.$$.fragment,T),k=!0)},o(T){ie(i.$$.fragment,T),k=!1},d(T){T&&M(e),Ce(i)}}}function Ho(t){var g;let e,l,n,i,s,o,f,r,c=t[12][0]+"",m,d,_=t[12][1]+"",v,w;return i=new nu({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:((g=t[6].common)==null?void 0:g.export)??"Export",sub:Yn(t[0].px,t[0].pc),colorFn:Vn}}),{c(){e=p("div"),l=p("div"),n=p("div"),Ne(i.$$.fragment),s=h(),o=p("div"),f=h(),r=p("div"),m=S(c),d=h(),v=S(_),u(n,"class","col-span-2"),u(r,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(k,b){C(k,e,b),a(e,l),a(l,n),Me(i,n,null),a(l,s),a(l,o),a(l,f),a(l,r),a(r,m),a(r,d),a(r,v),w=!0},p(k,b){var q;const T={};b&1&&(T.val=k[0].e?k[0].e:0),b&1&&(T.max=k[0].om?k[0].om*1e3:1e4),b&64&&(T.label=((q=k[6].common)==null?void 0:q.export)??"Export"),b&1&&(T.sub=Yn(k[0].px,k[0].pc)),i.$set(T),(!w||b&4096)&&c!==(c=k[12][0]+"")&&L(m,c),(!w||b&4096)&&_!==(_=k[12][1]+"")&&L(v,_)},i(k){w||(Z(i.$$.fragment,k),w=!0)},o(k){ie(i.$$.fragment,k),w=!1},d(k){k&&M(e),Ce(i)}}}function jo(t){let e,l,n=t[0].l1&&zo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Z(n,1)):(n=zo(i),n.c(),Z(n,1),n.m(e,null)):n&&(wt(),ie(n,1,1,()=>{n=null}),St())},i(i){l||(Z(n),l=!0)},o(i){ie(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function zo(t){var n;let e,l;return e=new Lc({props:{title:((n=t[6].common)==null?void 0:n.voltage)??"Volt",u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.voltage)??"Volt"),s&1&&(o.u1=i[0].l1.u),s&1&&(o.u2=i[0].l2.u),s&1&&(o.u3=i[0].l3.u),s&1&&(o.ds=i[0].ds),e.$set(o)},i(i){l||(Z(e.$$.fragment,i),l=!0)},o(i){ie(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function Ko(t){let e,l,n=t[0].l1&&Vo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Z(n,1)):(n=Vo(i),n.c(),Z(n,1),n.m(e,null)):n&&(wt(),ie(n,1,1,()=>{n=null}),St())},i(i){l||(Z(n),l=!0)},o(i){ie(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function Vo(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].common)==null?void 0:n.amperage)??"Amp",unit:"A",importColorFn:ss,exportColorFn:Vn,maxImport:t[0].mf,l1:t[8],l2:t[9],l3:t[10],l2x:t[0].l2.e,l1i:Math.max(Math.abs(t[0].l1.i),0),l2i:Math.max(Math.abs(t[0].l2.i),0),l3i:Math.max(Math.abs(t[0].l3.i),0)}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].common)==null?void 0:f.amperage)??"Amp"),s&1&&(o.maxImport=i[0].mf),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l2x=i[0].l2.e),s&1&&(o.l1i=Math.max(Math.abs(i[0].l1.i),0)),s&1&&(o.l2i=Math.max(Math.abs(i[0].l2.i),0)),s&1&&(o.l3i=Math.max(Math.abs(i[0].l3.i),0)),e.$set(o)},i(i){l||(Z(e.$$.fragment,i),l=!0)},o(i){ie(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function Go(t){let e,l,n=t[0].l1&&Yo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Z(n,1)):(n=Yo(i),n.c(),Z(n,1),n.m(e,null)):n&&(wt(),ie(n,1,1,()=>{n=null}),St())},i(i){l||(Z(n),l=!0)},o(i){ie(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function Yo(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].dashboard)==null?void 0:n.phase)??"Phase",unit:"W",importColorFn:ss,exportColorFn:Vn,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om?t[13]?t[0].om*1e3/Math.sqrt(3):t[0].om*1e3:0,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.p,l2i:t[0].l2.p,l3i:t[0].l3.p,l1e:t[0].l1.q,l2e:t[0].l2.q,l3e:t[0].l3.q}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.phase)??"Phase"),s&1&&(o.maxImport=(i[0].mf?i[0].mf:32)*230),s&8193&&(o.maxExport=i[0].om?i[13]?i[0].om*1e3/Math.sqrt(3):i[0].om*1e3:0),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.p),s&1&&(o.l2i=i[0].l2.p),s&1&&(o.l3i=i[0].l3.p),s&1&&(o.l1e=i[0].l1.q),s&1&&(o.l2e=i[0].l2.q),s&1&&(o.l3e=i[0].l3.q),e.$set(o)},i(i){l||(Z(e.$$.fragment,i),l=!0)},o(i){ie(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function Xo(t){let e,l,n=t[0].l1&&Jo(t);return{c(){e=p("div"),n&&n.c(),u(e,"class","cnt")},m(i,s){C(i,e,s),n&&n.m(e,null),l=!0},p(i,s){i[0].l1?n?(n.p(i,s),s&1&&Z(n,1)):(n=Jo(i),n.c(),Z(n,1),n.m(e,null)):n&&(wt(),ie(n,1,1,()=>{n=null}),St())},i(i){l||(Z(n),l=!0)},o(i){ie(n),l=!1},d(i){i&&M(e),n&&n.d()}}}function Jo(t){var n;let e,l;return e=new fs({props:{title:((n=t[6].dashboard)==null?void 0:n.pf)??"Pf",importColorFn:Vn,exportColorFn:Vn,maxImport:1,l1:t[8],l2:t[9],l3:t[10],l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){Ne(e.$$.fragment)},m(i,s){Me(e,i,s),l=!0},p(i,s){var f;const o={};s&64&&(o.title=((f=i[6].dashboard)==null?void 0:f.pf)??"Pf"),s&256&&(o.l1=i[8]),s&512&&(o.l2=i[9]),s&1024&&(o.l3=i[10]),s&1&&(o.l1i=i[0].l1.f),s&1&&(o.l2i=i[0].l2.f),s&1&&(o.l3i=i[0].l3.f),e.$set(o)},i(i){l||(Z(e.$$.fragment,i),l=!0)},o(i){ie(e.$$.fragment,i),l=!1},d(i){Ce(e,i)}}}function Qo(t){let e,l,n;return l=new Dc({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.importInstant=i[0].ri),s&1&&(o.exportInstant=i[0].re),s&1&&(o.importTotal=i[0].ric),s&1&&(o.exportTotal=i[0].rec),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(Z(l.$$.fragment,i),n=!0)},o(i){ie(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function Zo(t){let e,l,n;return l=new Wc({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0,translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt")},m(i,s){C(i,e,s),Me(l,e,null),n=!0},p(i,s){const o={};s&2&&(o.sysinfo=i[1]),s&1&&(o.data=i[0].ea),s&1&&(o.currency=i[0].pc),s&1&&(o.hasExport=i[0].om>0||i[0].e>0),s&64&&(o.translations=i[6]),l.$set(o)},i(i){n||(Z(l.$$.fragment,i),n=!0)},o(i){ie(l.$$.fragment,i),n=!1},d(i){i&&M(e),Ce(l)}}}function $o(t){var i;let e,l,n;return l=new l1({props:{title:((i=t[6].dashboard)==null?void 0:i.tariffpeak)??"Tariff peaks",tariffData:t[7],translations:t[6]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt h-64")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.tariffpeak)??"Tariff peaks"),o&128&&(f.tariffData=s[7]),o&64&&(f.translations=s[6]),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function xo(t){var i;let e,l,n;return l=new c1({props:{title:((i=t[6].dashboard)==null?void 0:i.realtime)??"Real time"}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.realtime)??"Real time"),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ea(t){var i;let e,l,n;return l=new zc({props:{title:((i=t[6].dashboard)==null?void 0:i.price)??"Price",json:t[2],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.price)??"Price"),o&4&&(f.json=s[2]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function ta(t){var i;let e,l,n;return l=new Gc({props:{title:((i=t[6].dashboard)==null?void 0:i.day)??"24 hours",json:t[3],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.day)??"24 hours"),o&8&&(f.json=s[3]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function la(t){var i;let e,l,n;return l=new Jc({props:{title:((i=t[6].dashboard)==null?void 0:i.month)??"{0} days",json:t[4],sysinfo:t[1]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.month)??"{0} days"),o&16&&(f.json=s[4]),o&2&&(f.sysinfo=s[1]),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function na(t){var i;let e,l,n;return l=new $c({props:{title:((i=t[6].dashboard)==null?void 0:i.temperature)??"Temperature",json:t[5]}}),{c(){e=p("div"),Ne(l.$$.fragment),u(e,"class","cnt gwf")},m(s,o){C(s,e,o),Me(l,e,null),n=!0},p(s,o){var r;const f={};o&64&&(f.title=((r=s[6].dashboard)==null?void 0:r.temperature)??"Temperature"),o&32&&(f.json=s[5]),l.$set(f)},i(s){n||(Z(l.$$.fragment,s),n=!0)},o(s){ie(l.$$.fragment,s),n=!1},d(s){s&&M(e),Ce(l)}}}function p1(t){let e,l=Vt(t[1].ui.i,t[0].i),n,i=Vt(t[1].ui.e,t[0].om||t[0].e>0),s,o=Vt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),f,r=Vt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),c,m=Vt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),d,_=Vt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),v,w=Vt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,k=Vt(t[1].ui.c,t[0].ea),b,T=Vt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("NO")||t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),q,O=Vt(t[1].ui.l,t[0].hm==1),A,P=Vt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),N,F=Vt(t[1].ui.d,t[3]),V,Y=Vt(t[1].ui.m,t[4]),I,B=Vt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),X,j=l&&Wo(t),G=i&&Ho(t),W=o&&jo(t),U=r&&Ko(t),H=m&&Go(t),x=_&&Xo(t),ne=w&&Qo(t),z=k&&Zo(t),ee=T&&$o(t),ce=O&&xo(t),ae=P&&ea(t),oe=F&&ta(t),ue=Y&&la(t),Q=B&&na(t);return{c(){e=p("div"),j&&j.c(),n=h(),G&&G.c(),s=h(),W&&W.c(),f=h(),U&&U.c(),c=h(),H&&H.c(),d=h(),x&&x.c(),v=h(),ne&&ne.c(),g=h(),z&&z.c(),b=h(),ee&&ee.c(),q=h(),ce&&ce.c(),A=h(),ae&&ae.c(),N=h(),oe&&oe.c(),V=h(),ue&&ue.c(),I=h(),Q&&Q.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m($,te){C($,e,te),j&&j.m(e,null),a(e,n),G&&G.m(e,null),a(e,s),W&&W.m(e,null),a(e,f),U&&U.m(e,null),a(e,c),H&&H.m(e,null),a(e,d),x&&x.m(e,null),a(e,v),ne&&ne.m(e,null),a(e,g),z&&z.m(e,null),a(e,b),ee&&ee.m(e,null),a(e,q),ce&&ce.m(e,null),a(e,A),ae&&ae.m(e,null),a(e,N),oe&&oe.m(e,null),a(e,V),ue&&ue.m(e,null),a(e,I),Q&&Q.m(e,null),X=!0},p($,[te]){te&3&&(l=Vt($[1].ui.i,$[0].i)),l?j?(j.p($,te),te&3&&Z(j,1)):(j=Wo($),j.c(),Z(j,1),j.m(e,n)):j&&(wt(),ie(j,1,1,()=>{j=null}),St()),te&3&&(i=Vt($[1].ui.e,$[0].om||$[0].e>0)),i?G?(G.p($,te),te&3&&Z(G,1)):(G=Ho($),G.c(),Z(G,1),G.m(e,s)):G&&(wt(),ie(G,1,1,()=>{G=null}),St()),te&3&&(o=Vt($[1].ui.v,$[0].l1&&($[0].l1.u>100||$[0].l2.u>100||$[0].l3.u>100))),o?W?(W.p($,te),te&3&&Z(W,1)):(W=jo($),W.c(),Z(W,1),W.m(e,f)):W&&(wt(),ie(W,1,1,()=>{W=null}),St()),te&3&&(r=Vt($[1].ui.a,$[0].l1&&($[0].l1.i>.01||$[0].l2.i>.01||$[0].l3.i>.01))),r?U?(U.p($,te),te&3&&Z(U,1)):(U=Ko($),U.c(),Z(U,1),U.m(e,c)):U&&(wt(),ie(U,1,1,()=>{U=null}),St()),te&3&&(m=Vt($[1].ui.h,$[0].l1&&($[0].l1.p>.01||$[0].l2.p>.01||$[0].l3.p>.01||$[0].l1.q>.01||$[0].l2.q>.01||$[0].l3.q>.01))),m?H?(H.p($,te),te&3&&Z(H,1)):(H=Go($),H.c(),Z(H,1),H.m(e,d)):H&&(wt(),ie(H,1,1,()=>{H=null}),St()),te&3&&(_=Vt($[1].ui.f,$[0].l1&&($[0].l1.f>.01||$[0].l2.f>.01||$[0].l3.f>.01))),_?x?(x.p($,te),te&3&&Z(x,1)):(x=Xo($),x.c(),Z(x,1),x.m(e,v)):x&&(wt(),ie(x,1,1,()=>{x=null}),St()),te&3&&(w=Vt($[1].ui.r,$[0].ri>0||$[0].re>0||$[0].ric>0||$[0].rec>0)),w?ne?(ne.p($,te),te&3&&Z(ne,1)):(ne=Qo($),ne.c(),Z(ne,1),ne.m(e,g)):ne&&(wt(),ie(ne,1,1,()=>{ne=null}),St()),te&3&&(k=Vt($[1].ui.c,$[0].ea)),k?z?(z.p($,te),te&3&&Z(z,1)):(z=Zo($),z.c(),Z(z,1),z.m(e,b)):z&&(wt(),ie(z,1,1,()=>{z=null}),St()),te&3&&(T=Vt($[1].ui.t,$[0].pr&&($[0].pr.startsWith("NO")||$[0].pr.startsWith("10YNO")||$[0].pr.startsWith("10Y1001A1001A4")))),T?ee?(ee.p($,te),te&3&&Z(ee,1)):(ee=$o($),ee.c(),Z(ee,1),ee.m(e,q)):ee&&(wt(),ie(ee,1,1,()=>{ee=null}),St()),te&3&&(O=Vt($[1].ui.l,$[0].hm==1)),O?ce?(ce.p($,te),te&3&&Z(ce,1)):(ce=xo($),ce.c(),Z(ce,1),ce.m(e,A)):ce&&(wt(),ie(ce,1,1,()=>{ce=null}),St()),te&3&&(P=Vt($[1].ui.p,$[0].pe&&!Number.isNaN($[0].p))),P?ae?(ae.p($,te),te&3&&Z(ae,1)):(ae=ea($),ae.c(),Z(ae,1),ae.m(e,N)):ae&&(wt(),ie(ae,1,1,()=>{ae=null}),St()),te&10&&(F=Vt($[1].ui.d,$[3])),F?oe?(oe.p($,te),te&10&&Z(oe,1)):(oe=ta($),oe.c(),Z(oe,1),oe.m(e,V)):oe&&(wt(),ie(oe,1,1,()=>{oe=null}),St()),te&18&&(Y=Vt($[1].ui.m,$[4])),Y?ue?(ue.p($,te),te&18&&Z(ue,1)):(ue=la($),ue.c(),Z(ue,1),ue.m(e,I)):ue&&(wt(),ie(ue,1,1,()=>{ue=null}),St()),te&35&&(B=Vt($[1].ui.s,$[0].t&&$[0].t!=-127&&$[5].c>1)),B?Q?(Q.p($,te),te&35&&Z(Q,1)):(Q=na($),Q.c(),Z(Q,1),Q.m(e,null)):Q&&(wt(),ie(Q,1,1,()=>{Q=null}),St())},i($){X||(Z(j),Z(G),Z(W),Z(U),Z(H),Z(x),Z(ne),Z(z),Z(ee),Z(ce),Z(ae),Z(oe),Z(ue),Z(Q),X=!0)},o($){ie(j),ie(G),ie(W),ie(U),ie(H),ie(x),ie(ne),ie(z),ie(ee),ie(ce),ie(ae),ie(oe),ie(ue),ie(Q),X=!1},d($){$&&M(e),j&&j.d(),G&&G.d(),W&&W.d(),U&&U.d(),H&&H.d(),x&&x.d(),ne&&ne.d(),z&&z.d(),ee&&ee.d(),ce&&ce.d(),ae&&ae.d(),oe&&oe.d(),ue&&ue.d(),Q&&Q.d()}}}function d1(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,{prices:s={}}=e,{dayPlot:o={}}=e,{monthPlot:f={}}=e,{temperatures:r={}}=e,{translations:c={}}=e,{tariffData:m={}}=e,d,_,v,w,g,k;return t.$$set=b=>{"data"in b&&l(0,n=b.data),"sysinfo"in b&&l(1,i=b.sysinfo),"prices"in b&&l(2,s=b.prices),"dayPlot"in b&&l(3,o=b.dayPlot),"monthPlot"in b&&l(4,f=b.monthPlot),"temperatures"in b&&l(5,r=b.temperatures),"translations"in b&&l(6,c=b.translations),"tariffData"in b&&l(7,m=b.tariffData)},t.$$.update=()=>{var b,T,q,O,A,P,N,F,V,Y,I,B,X,j,G;t.$$.dirty&1793&&(l(11,d=fl((n==null?void 0:n.ic)*1e3,"Wh")),l(12,_=fl((n==null?void 0:n.ec)*1e3,"Wh")),((b=n==null?void 0:n.l1)==null?void 0:b.u)==0&&((T=n==null?void 0:n.l2)==null?void 0:T.u)==0&&((q=n==null?void 0:n.l3)==null?void 0:q.u)==0?l(8,w=l(9,g=l(10,k=l(13,v=!0)))):(l(8,w=((O=n==null?void 0:n.l1)==null?void 0:O.u)>0||((A=n==null?void 0:n.l1)==null?void 0:A.i)>0||((P=n==null?void 0:n.l1)==null?void 0:P.p)>0||((N=n==null?void 0:n.l1)==null?void 0:N.q)>0),l(9,g=((F=n==null?void 0:n.l2)==null?void 0:F.u)>0||((V=n==null?void 0:n.l2)==null?void 0:V.i)>0||((Y=n==null?void 0:n.l2)==null?void 0:Y.p)>0||((I=n==null?void 0:n.l2)==null?void 0:I.q)>0),l(10,k=((B=n==null?void 0:n.l3)==null?void 0:B.u)>0||((X=n==null?void 0:n.l3)==null?void 0:X.i)>0||((j=n==null?void 0:n.l3)==null?void 0:j.p)>0||((G=n==null?void 0:n.l3)==null?void 0:G.q)>0),l(13,v=w&&g&&k)))},[n,i,s,o,f,r,c,m,w,g,k,d,_,v]}class h1 extends At{constructor(e){super(),Et(this,e,d1,p1,Nt,{data:0,sysinfo:1,prices:2,dayPlot:3,monthPlot:4,temperatures:5,translations:6,tariffData:7})}}let Vi={};const vn=il(Vi);async function su(){Vi=await(await fetch("configuration.json")).json(),vn.set(Vi)}let Gi={};const ou=il(Gi);async function v1(){Gi=await(await fetch("priceconfig.json")).json(),ou.set(Gi)}function ia(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function sa(t){let e,l,n;return{c(){e=p("option"),e.textContent="UART0",l=h(),n=p("option"),n.textContent="UART2",e.__value=3,J(e,e.__value),n.__value=113,J(n,n.__value)},m(i,s){C(i,e,s),C(i,l,s),C(i,n,s)},d(i){i&&(M(e),M(l),M(n))}}}function oa(t){let e;return{c(){e=p("option"),e.textContent=`GPIO${t[4]}`,e.__value=t[4],J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function aa(t){let e,l=t[4]>1&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&oa(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,i){n[4]>1&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=oa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&M(e),l&&l.d(n)}}}function b1(t){let e,l,n,i,s=t[0]=="esp8266"&&sa(),o=Xe({length:t[1]+1}),f=[];for(let r=0;r<o.length;r+=1)f[r]=aa(ia(t,o,r));return{c(){e=p("option"),e.textContent="disabled",l=h(),s&&s.c(),n=h();for(let r=0;r<f.length;r+=1)f[r].c();i=el(),e.__value=-1,J(e,e.__value)},m(r,c){C(r,e,c),C(r,l,c),s&&s.m(r,c),C(r,n,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);C(r,i,c)},p(r,[c]){if(r[0]=="esp8266"?s||(s=sa(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c&3){o=Xe({length:r[1]+1});let m;for(m=0;m<o.length;m+=1){const d=ia(r,o,m);f[m]?f[m].p(d,c):(f[m]=aa(d),f[m].c(),f[m].m(i.parentNode,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=o.length}},i:Ue,o:Ue,d(r){r&&(M(e),M(l),M(n),M(i)),s&&s.d(r),Qt(f,r)}}}function g1(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32s3":l(1,i=46);break;case"esp32c3":l(1,i=21);break}},[n,i]}class k1 extends At{constructor(e){super(),Et(this,e,g1,b1,Nt,{chip:0})}}function ra(t){let e,l,n=t[1]&&fa(t);return{c(){e=p("div"),l=p("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){C(i,e,s),a(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=fa(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&M(e),n&&n.d()}}}function fa(t){let e,l;return{c(){e=p("div"),l=S(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){C(n,e,i),a(e,l)},p(n,i){i&2&&L(l,n[1])},d(n){n&&M(e)}}}function w1(t){let e,l=t[0]&&ra(t);return{c(){l&&l.c(),e=el()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ra(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(n){n&&M(e),l&&l.d(n)}}}function S1(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class ml extends At{constructor(e){super(),Et(this,e,S1,w1,Nt,{active:0,message:1})}}function ua(t,e,l){const n=t.slice();return n[1]=e[l],n}function ca(t){let e,l,n=t[1]+"",i;return{c(){e=p("option"),l=S("Europe/"),i=S(n),e.__value="Europe/"+t[1],J(e,e.__value)},m(s,o){C(s,e,o),a(e,l),a(e,i)},p:Ue,d(s){s&&M(e)}}}function y1(t){let e,l,n,i=Xe(t[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ca(ua(t,i,o));return{c(){e=p("option"),e.textContent="GMT",l=h();for(let o=0;o<s.length;o+=1)s[o].c();n=el(),e.__value="GMT",J(e,e.__value)},m(o,f){C(o,e,f),C(o,l,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,f);C(o,n,f)},p(o,[f]){if(f&1){i=Xe(o[0]);let r;for(r=0;r<i.length;r+=1){const c=ua(o,i,r);s[r]?s[r].p(c,f):(s[r]=ca(c),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},i:Ue,o:Ue,d(o){o&&(M(e),M(l),M(n)),Qt(s,o)}}}function M1(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class C1 extends At{constructor(e){super(),Et(this,e,M1,y1,Nt,{})}}var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P1={exports:{}};(function(t,e){(function(l,n){t.exports=n()})(N1,function(){var l=function(){},n=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function s(E,y){var R;return typeof Object.create=="function"?R=Object.create(E):(l.prototype=E,R=new l,l.prototype=null),y&&f(!0,R,y),R}function o(E,y,R,D){var K=this;return typeof E!="string"&&(D=R,R=y,y=E,E=null),typeof y!="function"&&(D=R,R=y,y=function(){return K.apply(this,arguments)}),f(!1,y,K,D),y.prototype=s(K.prototype,R),y.prototype.constructor=y,y.class_=E||K.class_,y.super_=K,y}function f(E,y,R){R=i.call(arguments,2);for(var D,K,le=0,se=R.length;le<se;le++){K=R[le];for(D in K)(!E||n.call(K,D))&&(y[D]=K[D])}}var r=o;function c(){}c.class_="Nevis",c.super_=Object,c.extend=r;var m=c,d=m,_=d.extend(function(E,y,R){this.qrious=E,this.element=y,this.element.qrious=E,this.enabled=!!R},{draw:function(E){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(E){var y=this.qrious,R=y.padding||0,D=Math.floor((y.size-R*2)/E.width);return Math.max(1,D)},getOffset:function(E){var y=this.qrious,R=y.padding;if(R!=null)return R;var D=this.getModuleSize(E),K=Math.floor((y.size-D*E.width)/2);return Math.max(0,K)},render:function(E){this.enabled&&(this.resize(),this.reset(),this.draw(E))},reset:function(){},resize:function(){}}),v=_,w=v.extend({draw:function(E){var y,R,D=this.qrious,K=this.getModuleSize(E),le=this.getOffset(E),se=this.element.getContext("2d");for(se.fillStyle=D.foreground,se.globalAlpha=D.foregroundAlpha,y=0;y<E.width;y++)for(R=0;R<E.width;R++)E.buffer[R*E.width+y]&&se.fillRect(K*y+le,K*R+le,K,K)},reset:function(){var E=this.qrious,y=this.element.getContext("2d"),R=E.size;y.lineWidth=1,y.clearRect(0,0,R,R),y.fillStyle=E.background,y.globalAlpha=E.backgroundAlpha,y.fillRect(0,0,R,R)},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),g=w,k=d.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),b=k,T=d.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),q=T,O=d.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),A=O,P=d.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),N=P,F=d.extend(function(E){var y,R,D,K,le,se=E.value.length;for(this._badness=[],this._level=q.LEVELS[E.level],this._polynomial=[],this._value=E.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,D=(this._level-1)*4+(this._version-1)*16,K=q.BLOCKS[D++],le=q.BLOCKS[D++],y=q.BLOCKS[D++],R=q.BLOCKS[D],D=y*(K+le)+le-3+(this._version<=9),!(se<=D)););this._dataBlock=y,this._eccBlock=R,this._neccBlock1=K,this._neccBlock2=le;var re=this.width=17+4*this._version;this.buffer=F._createArray(re*re),this._ecc=F._createArray(y+(y+R)*(K+le)+le),this._mask=F._createArray((re*(re+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+re*(re-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(se),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(E,y){var R,D=this.buffer,K=this.width;for(D[E+K*y]=1,R=-2;R<2;R++)D[E+R+K*(y-2)]=1,D[E-2+K*(y+R+1)]=1,D[E+2+K*(y+R)]=1,D[E+R+1+K*(y+2)]=1;for(R=0;R<2;R++)this._setMask(E-1,y+R),this._setMask(E+1,y-R),this._setMask(E-R,y-1),this._setMask(E+R,y+1)},_appendData:function(E,y,R,D){var K,le,se,re=this._polynomial,me=this._stringBuffer;for(le=0;le<D;le++)me[R+le]=0;for(le=0;le<y;le++){if(K=A.LOG[me[E+le]^me[R]],K!==255)for(se=1;se<D;se++)me[R+se-1]=me[R+se]^A.EXPONENT[F._modN(K+re[D-se])];else for(se=R;se<R+D;se++)me[se]=me[se+1];me[R+D-1]=K===255?0:A.EXPONENT[F._modN(K+re[0])]}},_appendEccToData:function(){var E,y=0,R=this._dataBlock,D=this._calculateMaxLength(),K=this._eccBlock;for(E=0;E<this._neccBlock1;E++)this._appendData(y,R,D,K),y+=R,D+=K;for(E=0;E<this._neccBlock2;E++)this._appendData(y,R+1,D,K),y+=R+1,D+=K},_applyMask:function(E){var y,R,D,K,le=this.buffer,se=this.width;switch(E){case 0:for(K=0;K<se;K++)for(D=0;D<se;D++)!(D+K&1)&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 1:for(K=0;K<se;K++)for(D=0;D<se;D++)!(K&1)&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 2:for(K=0;K<se;K++)for(y=0,D=0;D<se;D++,y++)y===3&&(y=0),!y&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 3:for(R=0,K=0;K<se;K++,R++)for(R===3&&(R=0),y=R,D=0;D<se;D++,y++)y===3&&(y=0),!y&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 4:for(K=0;K<se;K++)for(y=0,R=K>>1&1,D=0;D<se;D++,y++)y===3&&(y=0,R=!R),!R&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 5:for(R=0,K=0;K<se;K++,R++)for(R===3&&(R=0),y=0,D=0;D<se;D++,y++)y===3&&(y=0),!((D&K&1)+!(!y|!R))&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 6:for(R=0,K=0;K<se;K++,R++)for(R===3&&(R=0),y=0,D=0;D<se;D++,y++)y===3&&(y=0),!((D&K&1)+(y&&y===R)&1)&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break;case 7:for(R=0,K=0;K<se;K++,R++)for(R===3&&(R=0),y=0,D=0;D<se;D++,y++)y===3&&(y=0),!((y&&y===R)+(D+K&1)&1)&&!this._isMasked(D,K)&&(le[D+K*se]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var E,y,R=this._eccBlock,D=this._polynomial;for(D[0]=1,E=0;E<R;E++){for(D[E+1]=1,y=E;y>0;y--)D[y]=D[y]?D[y-1]^A.EXPONENT[F._modN(A.LOG[D[y]]+E)]:D[y-1];D[0]=A.EXPONENT[F._modN(A.LOG[D[0]]+E)]}for(E=0;E<=R;E++)D[E]=A.LOG[D[E]]},_checkBadness:function(){var E,y,R,D,K,le=0,se=this._badness,re=this.buffer,me=this.width;for(K=0;K<me-1;K++)for(D=0;D<me-1;D++)(re[D+me*K]&&re[D+1+me*K]&&re[D+me*(K+1)]&&re[D+1+me*(K+1)]||!(re[D+me*K]||re[D+1+me*K]||re[D+me*(K+1)]||re[D+1+me*(K+1)]))&&(le+=F.N2);var fe=0;for(K=0;K<me;K++){for(R=0,se[0]=0,E=0,D=0;D<me;D++)y=re[D+me*K],E===y?se[R]++:se[++R]=1,E=y,fe+=E?1:-1;le+=this._getBadness(R)}fe<0&&(fe=-fe);var ke=0,ge=fe;for(ge+=ge<<2,ge<<=1;ge>me*me;)ge-=me*me,ke++;for(le+=ke*F.N4,D=0;D<me;D++){for(R=0,se[0]=0,E=0,K=0;K<me;K++)y=re[D+me*K],E===y?se[R]++:se[++R]=1,E=y;le+=this._getBadness(R)}return le},_convertBitStream:function(E){var y,R,D=this._ecc,K=this._version;for(R=0;R<E;R++)D[R]=this._value.charCodeAt(R);var le=this._stringBuffer=D.slice(),se=this._calculateMaxLength();E>=se-2&&(E=se-2,K>9&&E--);var re=E;if(K>9){for(le[re+2]=0,le[re+3]=0;re--;)y=le[re],le[re+3]|=255&y<<4,le[re+2]=y>>4;le[2]|=255&E<<4,le[1]=E>>4,le[0]=64|E>>12}else{for(le[re+1]=0,le[re+2]=0;re--;)y=le[re],le[re+2]|=255&y<<4,le[re+1]=y>>4;le[1]|=255&E<<4,le[0]=64|E>>4}for(re=E+3-(K<10);re<se;)le[re++]=236,le[re++]=17},_getBadness:function(E){var y,R=0,D=this._badness;for(y=0;y<=E;y++)D[y]>=5&&(R+=F.N1+D[y]-5);for(y=3;y<E-1;y+=2)D[y-2]===D[y+2]&&D[y+2]===D[y-1]&&D[y-1]===D[y+1]&&D[y-1]*3===D[y]&&(D[y-3]===0||y+3>E||D[y-3]*3>=D[y]*4||D[y+3]*3>=D[y]*4)&&(R+=F.N3);return R},_finish:function(){this._stringBuffer=this.buffer.slice();var E,y,R=0,D=3e4;for(y=0;y<8&&(this._applyMask(y),E=this._checkBadness(),E<D&&(D=E,R=y),R!==7);y++)this.buffer=this._stringBuffer.slice();R!==y&&this._applyMask(R),D=q.FINAL_FORMAT[R+(this._level-1<<3)];var K=this.buffer,le=this.width;for(y=0;y<8;y++,D>>=1)D&1&&(K[le-1-y+le*8]=1,y<6?K[8+le*y]=1:K[8+le*(y+1)]=1);for(y=0;y<7;y++,D>>=1)D&1&&(K[8+le*(le-7+y)]=1,y?K[6-y+le*8]=1:K[7+le*8]=1)},_interleaveBlocks:function(){var E,y,R=this._dataBlock,D=this._ecc,K=this._eccBlock,le=0,se=this._calculateMaxLength(),re=this._neccBlock1,me=this._neccBlock2,fe=this._stringBuffer;for(E=0;E<R;E++){for(y=0;y<re;y++)D[le++]=fe[E+y*R];for(y=0;y<me;y++)D[le++]=fe[re*R+E+y*(R+1)]}for(y=0;y<me;y++)D[le++]=fe[re*R+E+y*(R+1)];for(E=0;E<K;E++)for(y=0;y<re+me;y++)D[le++]=fe[se+E+y*K];this._stringBuffer=D},_insertAlignments:function(){var E,y,R,D=this._version,K=this.width;if(D>1)for(E=b.BLOCK[D],R=K-7;;){for(y=K-7;y>E-3&&(this._addAlignment(y,R),!(y<E));)y-=E;if(R<=E+9)break;R-=E,this._addAlignment(6,R),this._addAlignment(R,6)}},_insertFinders:function(){var E,y,R,D,K=this.buffer,le=this.width;for(E=0;E<3;E++){for(y=0,D=0,E===1&&(y=le-7),E===2&&(D=le-7),K[D+3+le*(y+3)]=1,R=0;R<6;R++)K[D+R+le*y]=1,K[D+le*(y+R+1)]=1,K[D+6+le*(y+R)]=1,K[D+R+1+le*(y+6)]=1;for(R=1;R<5;R++)this._setMask(D+R,y+1),this._setMask(D+1,y+R+1),this._setMask(D+5,y+R),this._setMask(D+R+1,y+5);for(R=2;R<4;R++)K[D+R+le*(y+2)]=1,K[D+2+le*(y+R+1)]=1,K[D+4+le*(y+R)]=1,K[D+R+1+le*(y+4)]=1}},_insertTimingGap:function(){var E,y,R=this.width;for(y=0;y<7;y++)this._setMask(7,y),this._setMask(R-8,y),this._setMask(7,y+R-7);for(E=0;E<8;E++)this._setMask(E,7),this._setMask(E+R-8,7),this._setMask(E,R-8)},_insertTimingRowAndColumn:function(){var E,y=this.buffer,R=this.width;for(E=0;E<R-14;E++)E&1?(this._setMask(8+E,6),this._setMask(6,8+E)):(y[8+E+R*6]=1,y[6+R*(8+E)]=1)},_insertVersion:function(){var E,y,R,D,K=this.buffer,le=this._version,se=this.width;if(le>6)for(E=N.BLOCK[le-7],y=17,R=0;R<6;R++)for(D=0;D<3;D++,y--)1&(y>11?le>>y-12:E>>y)?(K[5-R+se*(2-D+se-11)]=1,K[2-D+se-11+se*(5-R)]=1):(this._setMask(5-R,2-D+se-11),this._setMask(2-D+se-11,5-R))},_isMasked:function(E,y){var R=F._getMaskBit(E,y);return this._mask[R]===1},_pack:function(){var E,y,R,D=1,K=1,le=this.width,se=le-1,re=le-1,me=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(y=0;y<me;y++)for(E=this._stringBuffer[y],R=0;R<8;R++,E<<=1){128&E&&(this.buffer[se+le*re]=1);do K?se--:(se++,D?re!==0?re--:(se-=2,D=!D,se===6&&(se--,re=9)):re!==le-1?re++:(se-=2,D=!D,se===6&&(se--,re-=8))),K=!K;while(this._isMasked(se,re))}},_reverseMask:function(){var E,y,R=this.width;for(E=0;E<9;E++)this._setMask(E,8);for(E=0;E<8;E++)this._setMask(E+R-8,8),this._setMask(8,E);for(y=0;y<7;y++)this._setMask(8,y+R-7)},_setMask:function(E,y){var R=F._getMaskBit(E,y);this._mask[R]=1},_syncMask:function(){var E,y,R=this.width;for(y=0;y<R;y++)for(E=0;E<=y;E++)this.buffer[E+R*y]&&this._setMask(E,y)}},{_createArray:function(E){var y,R=[];for(y=0;y<E;y++)R[y]=0;return R},_getMaskBit:function(E,y){var R;return E>y&&(R=E,E=y,y=R),R=y,R+=y*y,R>>=1,R+=E,R},_modN:function(E){for(;E>=255;)E-=255,E=(E>>8)+(E&255);return E},N1:3,N2:3,N3:40,N4:10}),V=F,Y=v.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),I=Y,B=d.extend(function(E,y,R,D){this.name=E,this.modifiable=!!y,this.defaultValue=R,this._valueTransformer=D},{transform:function(E){var y=this._valueTransformer;return typeof y=="function"?y(E,this):E}}),X=B,j=d.extend(null,{abs:function(E){return E!=null?Math.abs(E):null},hasOwn:function(E,y){return Object.prototype.hasOwnProperty.call(E,y)},noop:function(){},toUpperCase:function(E){return E!=null?E.toUpperCase():null}}),G=j,W=d.extend(function(E){this.options={},E.forEach(function(y){this.options[y.name]=y},this)},{exists:function(E){return this.options[E]!=null},get:function(E,y){return W._get(this.options[E],y)},getAll:function(E){var y,R=this.options,D={};for(y in R)G.hasOwn(R,y)&&(D[y]=W._get(R[y],E));return D},init:function(E,y,R){typeof R!="function"&&(R=G.noop);var D,K;for(D in this.options)G.hasOwn(this.options,D)&&(K=this.options[D],W._set(K,K.defaultValue,y),W._createAccessor(K,y,R));this._setAll(E,y,!0)},set:function(E,y,R){return this._set(E,y,R)},setAll:function(E,y){return this._setAll(E,y)},_set:function(E,y,R,D){var K=this.options[E];if(!K)throw new Error("Invalid option: "+E);if(!K.modifiable&&!D)throw new Error("Option cannot be modified: "+E);return W._set(K,y,R)},_setAll:function(E,y,R){if(!E)return!1;var D,K=!1;for(D in E)G.hasOwn(E,D)&&this._set(D,E[D],y,R)&&(K=!0);return K}},{_createAccessor:function(E,y,R){var D={get:function(){return W._get(E,y)}};E.modifiable&&(D.set=function(K){W._set(E,K,y)&&R(K,E)}),Object.defineProperty(y,E.name,D)},_get:function(E,y){return y["_"+E.name]},_set:function(E,y,R){var D="_"+E.name,K=R[D],le=E.transform(y??E.defaultValue);return R[D]=le,le!==K}}),U=W,H=d.extend(function(){this._services={}},{getService:function(E){var y=this._services[E];if(!y)throw new Error("Service is not being managed with name: "+E);return y},setService:function(E,y){if(this._services[E])throw new Error("Service is already managed with name: "+E);y&&(this._services[E]=y)}}),x=H,ne=new U([new X("background",!0,"white"),new X("backgroundAlpha",!0,1,G.abs),new X("element"),new X("foreground",!0,"black"),new X("foregroundAlpha",!0,1,G.abs),new X("level",!0,"L",G.toUpperCase),new X("mime",!0,"image/png"),new X("padding",!0,null,G.abs),new X("size",!0,100,G.abs),new X("value",!0,"")]),z=new x,ee=d.extend(function(E){ne.init(E,this,this.update.bind(this));var y=ne.get("element",this),R=z.getService("element"),D=y&&R.isCanvas(y)?y:R.createCanvas(),K=y&&R.isImage(y)?y:R.createImage();this._canvasRenderer=new g(this,D,!0),this._imageRenderer=new I(this,K,K===y),this.update()},{get:function(){return ne.getAll(this)},set:function(E){ne.setAll(E,this)&&this.update()},toDataURL:function(E){return this.canvas.toDataURL(E||this.mime)},update:function(){var E=new V({level:this.level,value:this.value});this._canvasRenderer.render(E),this._imageRenderer.render(E)}},{use:function(E){z.setService(E.getName(),E)}});Object.defineProperties(ee.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var ce=ee,ae=ce,oe=d.extend({getName:function(){}}),ue=oe,Q=ue.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(E){},isImage:function(E){}}),$=Q,te=$.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(E){return E instanceof HTMLCanvasElement},isImage:function(E){return E instanceof HTMLImageElement}}),ve=te;ae.use(new ve);var we=ae;return we})})(P1);const Yi={"7N1":2,"8N1":3,"8N2":7,"7E1":10,"8E1":11};function T1(t){if(!(!t||Number.isNaN(t)))return t>=115200?512:t>=57600?384:t>=19200?256:192}const au=[{id:"aidon-rj12",manufacturer:"Aidon",label:"Aidon – P1 RJ12 (6442/6490/6492)",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"Built-in P1 interface used by Norwegian DSOs.",parser:0},{id:"aidon-rj45-han",manufacturer:"Aidon",label:"Aidon – HAN RJ45 (65xx/6474/6476/6477/6479/6484)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"HAN-NVE adapter for Norwegian HAN ports.",parser:0},{id:"kaifa-rj45",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – HAN RJ45 (MA105/MA304)",interface:"RJ45 HAN-NVE",baud:2400,parity:"8E1",invert:!1,encryption:"optional",notes:"Standard HAN profile in Norway.",parser:0},{id:"kaifa-rj12",manufacturer:"Kaifa/Nuri",label:"Kaifa/Nuri – P1 RJ12 (MA309MH4)",interface:"RJ12",baud:2400,parity:"8N1",invert:!0,encryption:"optional",notes:"P1 breakout offered by select Norwegian operators.",parser:0},{id:"kamstrup-omnipower-han",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – HAN adapter",interface:"RJ45 HAN-NVE",baud:2400,parity:"8N1",invert:!1,encryption:"optional",notes:"Pow-K / HAN adapter for Norwegian Omnipower installs.",parser:0},{id:"kamstrup-omnipower-p1",manufacturer:"Kamstrup",label:"Kamstrup Omnipower – P1 adapter",interface:"RJ12 P1",baud:115200,parity:"8N1",invert:!0,encryption:"none",notes:"P1 conversion cable provided by some Norwegian grid companies.",parser:0}];function E1(t){return au.find(e=>e.id===t)}function A1(t,e){if(!e)return t;const l={...t};typeof e.parser=="number"&&(l.parser=e.parser),typeof e.baud=="number"&&(l.baud=e.baud),e.parity&&(l.parity=Yi[e.parity]??l.parity),typeof e.invert=="boolean"&&(l.invert=e.invert);const n=T1(e.baud);return n&&(l.buffer=n),e.encryption==="none"?(l.encrypted=!1,l.encryptionKey="",l.authenticationKey=""):e.encryption==="required"&&(l.encrypted=!0),l.appliedPresetId=e.id,l}function Bn(t){var e,l,n,i,s,o,f,r;return t?{source:(t==null?void 0:t.o)??1,parser:(t==null?void 0:t.a)??0,baud:(t==null?void 0:t.b)??2400,parity:(t==null?void 0:t.p)??Yi["8N1"],invert:!!(t!=null&&t.i),distributionSystem:(t==null?void 0:t.d)??2,mainFuse:(t==null?void 0:t.f)??63,production:(t==null?void 0:t.r)??0,buffer:(t==null?void 0:t.s)??256,encrypted:!!((e=t==null?void 0:t.e)!=null&&e.e),encryptionKey:((l=t==null?void 0:t.e)==null?void 0:l.k)??"",authenticationKey:((n=t==null?void 0:t.e)==null?void 0:n.a)??"",multipliers:{enabled:!!((i=t==null?void 0:t.m)!=null&&i.e),watt:((s=t==null?void 0:t.m)==null?void 0:s.w)??1,volt:((o=t==null?void 0:t.m)==null?void 0:o.v)??1,amp:((f=t==null?void 0:t.m)==null?void 0:f.a)??1,kwh:((r=t==null?void 0:t.m)==null?void 0:r.c)??1}}:{source:1,parser:0,baud:2400,parity:Yi["8N1"],invert:!1,distributionSystem:2,mainFuse:63,production:0,buffer:256,encrypted:!1,encryptionKey:"",authenticationKey:"",multipliers:{enabled:!1,watt:1,volt:1,amp:1,kwh:1}}}function q1(t,e){var n,i,s,o,f;if(!t||!e)return t;const l={...t};return l.a=e.parser,l.b=e.baud,l.p=e.parity,l.i=e.invert,l.d=e.distributionSystem,l.f=e.mainFuse,l.r=e.production,l.s=e.buffer,l.o=e.source??1,l.e={...l.e,e:!!e.encrypted,k:e.encryptionKey??"",a:e.authenticationKey??""},l.m={...l.m,e:!!((n=e.multipliers)!=null&&n.enabled),w:((i=e.multipliers)==null?void 0:i.watt)??1,v:((s=e.multipliers)==null?void 0:s.volt)??1,a:((o=e.multipliers)==null?void 0:o.amp)??1,c:((f=e.multipliers)==null?void 0:f.kwh)??1},l}function ma(t){if(!t)return"";const e=[];return t.baud&&e.push(`${t.baud} baud`),t.parity&&e.push(t.parity),typeof t.invert=="boolean"&&e.push(t.invert?"Inverted":"Normal"),t.interface&&e.push(t.interface),e.join(" • ")}function _a(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function pa(t,e,l){const n=t.slice();return n[103]=e[l],n[104]=e,n[105]=l,n}function da(t,e,l){const n=t.slice();return n[106]=e[l],n[108]=l,n}function L1(t,e,l){const n=t.slice();return n[109]=e[l],n}function I1(t,e,l){const n=t.slice();return n[112]=e[l],n}function ha(t,e,l){const n=t.slice();return n[115]=e[l],n}function O1(t,e,l){const n=t.slice();return n[118]=e[l],n}function va(t,e,l){const n=t.slice();return n[121]=e[l],n}function ba(t){var cl,Ee,_e,Bt,Oe,Ct,rl,bl,gl,kl,wl,Sl,yl,Dl,Fl,Rl,Fe,rt,Ul,Bl,Wl,Hl,jl,zl,Kl,Vl,Gl,Yl,Xl,Jl;let e,l,n=(((Ee=(cl=t[2].conf)==null?void 0:cl.general)==null?void 0:Ee.title)??"General")+"",i,s,o,f,r,c,m,d,_,v=(((Bt=(_e=t[2].conf)==null?void 0:_e.general)==null?void 0:Bt.hostname)??"Hostname")+"",w,g,k,b,T,q,O=(((Ct=(Oe=t[2].conf)==null?void 0:Oe.general)==null?void 0:Ct.timezone)??"Time zone")+"",A,P,N,F,V,Y,I,B=(((bl=(rl=t[2].conf)==null?void 0:rl.general)==null?void 0:bl.language)??((kl=(gl=t[2].conf)==null?void 0:gl.ui)==null?void 0:kl.lang)??"Language")+"",X,j,G,W,U,H,x,ne,z,ee,ce=(((Sl=(wl=t[2].conf)==null?void 0:wl.price)==null?void 0:Sl.region)??"Price region")+"",ae,oe,ue,Q,$,te,ve,we,E,y,R,D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be,ze,Je,xe,qe,lt,be,ye,We,dt,_t,Qe,ft=(((Dl=(yl=t[2].conf)==null?void 0:yl.price)==null?void 0:Dl.currency)??"Currency")+"",jt,pt,qt,Pt,Lt,tt,ot,Pe,He,$e,Ze,de,De=(((Rl=(Fl=t[2].conf)==null?void 0:Fl.price)==null?void 0:Rl.enabled)??"Enabled")+"",Tt,It,bt,je,ct=(((Ul=(rt=(Fe=t[2].conf)==null?void 0:Fe.general)==null?void 0:rt.security)==null?void 0:Ul.title)??"Security")+"",et,Ot,zt,Ve,Se,Te=(((Hl=(Wl=(Bl=t[2].conf)==null?void 0:Bl.general)==null?void 0:Wl.security)==null?void 0:Hl.none)??"None")+"",Ge,nt,at=(((Kl=(zl=(jl=t[2].conf)==null?void 0:jl.general)==null?void 0:zl.security)==null?void 0:Kl.conf)??"Conf")+"",ht,Yt,Rt=(((Yl=(Gl=(Vl=t[2].conf)==null?void 0:Vl.general)==null?void 0:Gl.security)==null?void 0:Yl.all)??"All")+"",Ft,sl,Dt,Ye,Ut=(((Jl=(Xl=t[2].conf)==null?void 0:Xl.general)==null?void 0:Jl.context)??"Context")+"",Xt,gt,ut,Mt,Kt,pe,it,Ke;V=new C1({});let ol=Xe(t[4]),Jt=[];for(let Ie=0;Ie<ol.length;Ie+=1)Jt[Ie]=ga(va(t,ol,Ie));let tl=!t[3].p.t&&ka(),_l=Xe(["NOK","SEK","DKK","EUR","CHF"]),al=[];for(let Ie=0;Ie<5;Ie+=1)al[Ie]=D1(O1(t,_l,Ie));ot=new vl({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[F1]},$$scope:{ctx:t}}});let Zt=t[3].p.e&&t[0].chip!="esp8266"&&wa(t),$t=t[3].g.s>0&&Sa(t);return{c(){var Ie,vt;e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=p("div"),_=p("div"),w=S(v),g=p("br"),k=h(),b=p("input"),T=h(),q=p("div"),A=S(O),P=p("br"),N=h(),F=p("select"),Ne(V.$$.fragment),Y=h(),I=p("div"),X=S(B),j=p("br"),G=h(),W=p("select");for(let xt=0;xt<Jt.length;xt+=1)Jt[xt].c();U=h(),H=p("input"),x=h(),ne=p("div"),z=p("div"),ee=p("div"),ae=S(ce),oe=p("br"),ue=h(),Q=p("select"),$=p("optgroup"),tl&&tl.c(),te=p("option"),te.textContent="NO1",ve=p("option"),ve.textContent="NO2",we=p("option"),we.textContent="NO3",E=p("option"),E.textContent="NO4",y=p("option"),y.textContent="NO5",R=p("optgroup"),D=p("option"),D.textContent="SE1",K=p("option"),K.textContent="SE2",le=p("option"),le.textContent="SE3",se=p("option"),se.textContent="SE4",re=p("optgroup"),me=p("option"),me.textContent="DK1",fe=p("option"),fe.textContent="DK2",ke=p("option"),ke.textContent="Austria",ge=p("option"),ge.textContent="Belgium",Ae=p("option"),Ae.textContent="Czech Republic",Le=p("option"),Le.textContent="Estonia",Be=p("option"),Be.textContent="Finland",ze=p("option"),ze.textContent="France",Je=p("option"),Je.textContent="Germany",xe=p("option"),xe.textContent="Great Britain",qe=p("option"),qe.textContent="Latvia",lt=p("option"),lt.textContent="Lithuania",be=p("option"),be.textContent="Netherland",ye=p("option"),ye.textContent="Poland",We=p("option"),We.textContent="Slovenia",dt=p("option"),dt.textContent="Switzerland",_t=h(),Qe=p("div"),jt=S(ft),pt=p("br"),qt=h(),Pt=p("select");for(let xt=0;xt<5;xt+=1)al[xt].c();Lt=h(),tt=p("div"),Ne(ot.$$.fragment),Pe=h(),He=p("div"),$e=p("label"),Ze=p("input"),de=h(),Tt=S(De),It=h(),Zt&&Zt.c(),bt=h(),je=p("div"),et=S(ct),Ot=p("br"),zt=h(),Ve=p("select"),Se=p("option"),Ge=S(Te),nt=p("option"),ht=S(at),Yt=p("option"),Ft=S(Rt),sl=h(),$t&&$t.c(),Dt=h(),Ye=p("div"),Xt=S(Ut),gt=p("br"),ut=h(),Mt=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("General-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(b,"name","gh"),u(b,"type","text"),u(b,"class","in-f w-full"),u(b,"pattern",pi),u(F,"name","gt"),u(F,"class","in-l w-full"),t[3].g.t===void 0&&Gt(()=>t[29].call(F)),u(d,"class","flex"),u(m,"class","my-1"),u(W,"name","ulang"),u(W,"class","in-s"),t[3].u.lang===void 0&&Gt(()=>t[30].call(W)),u(I,"class","my-1"),u(H,"type","hidden"),u(H,"name","p"),H.value="true",te.__value="10YNO-1--------2",J(te,te.__value),ve.__value="10YNO-2--------T",J(ve,ve.__value),we.__value="10YNO-3--------J",J(we,we.__value),E.__value="10YNO-4--------9",J(E,E.__value),y.__value="10Y1001A1001A48H",J(y,y.__value),u($,"label","Norway"),D.__value="10Y1001A1001A44P",J(D,D.__value),K.__value="10Y1001A1001A45N",J(K,K.__value),le.__value="10Y1001A1001A46L",J(le,le.__value),se.__value="10Y1001A1001A47J",J(se,se.__value),u(R,"label","Sweden"),me.__value="10YDK-1--------W",J(me,me.__value),fe.__value="10YDK-2--------M",J(fe,fe.__value),u(re,"label","Denmark"),ke.__value="10YAT-APG------L",J(ke,ke.__value),ge.__value="10YBE----------2",J(ge,ge.__value),Ae.__value="10YCZ-CEPS-----N",J(Ae,Ae.__value),Le.__value="10Y1001A1001A39I",J(Le,Le.__value),Be.__value="10YFI-1--------U",J(Be,Be.__value),ze.__value="10YFR-RTE------C",J(ze,ze.__value),Je.__value="10Y1001A1001A83F",J(Je,Je.__value),xe.__value="10YGB----------A",J(xe,xe.__value),qe.__value="10YLV-1001A00074",J(qe,qe.__value),lt.__value="10YLT-1001A0008Q",J(lt,lt.__value),be.__value="10YNL----------L",J(be,be.__value),ye.__value="10YPL-AREA-----S",J(ye,ye.__value),We.__value="10YSI-ELES-----O",J(We,We.__value),dt.__value="10YCH-SWISSGRIDZ",J(dt,dt.__value),u(Q,"name","pr"),u(Q,"class","in-f w-full"),t[3].p.r===void 0&&Gt(()=>t[31].call(Q)),u(ee,"class","w-full"),u(Pt,"name","pc"),u(Pt,"class","in-l"),t[3].p.c===void 0&&Gt(()=>t[32].call(Pt)),u(z,"class","flex"),u(ne,"class","my-1"),u(tt,"class","my-1"),u(Ze,"type","checkbox"),u(Ze,"name","pe"),Ze.__value="true",J(Ze,Ze.__value),u(Ze,"class","rounded mb-1"),u(He,"class","my-1"),Se.__value=0,J(Se,Se.__value),nt.__value=1,J(nt,nt.__value),Yt.__value=2,J(Yt,Yt.__value),u(Ve,"name","gs"),u(Ve,"class","in-s"),t[3].g.s===void 0&&Gt(()=>t[35].call(Ve)),u(je,"class","my-1"),u(Mt,"name","gc"),u(Mt,"type","text"),u(Mt,"pattern",pi),u(Mt,"placeholder",Kt=((vt=(Ie=t[2].conf)==null?void 0:Ie.general)==null?void 0:vt.context_placeholder)??"/"),u(Mt,"class","in-s"),u(Mt,"maxlength","36"),u(Ye,"class","my-1"),u(e,"class","cnt")},m(Ie,vt){C(Ie,e,vt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,_),a(_,w),a(_,g),a(_,k),a(_,b),J(b,t[3].g.h),a(d,T),a(d,q),a(q,A),a(q,P),a(q,N),a(q,F),Me(V,F,null),st(F,t[3].g.t,!0),a(e,Y),a(e,I),a(I,X),a(I,j),a(I,G),a(I,W);for(let xt=0;xt<Jt.length;xt+=1)Jt[xt]&&Jt[xt].m(W,null);st(W,t[3].u.lang,!0),a(e,U),a(e,H),a(e,x),a(e,ne),a(ne,z),a(z,ee),a(ee,ae),a(ee,oe),a(ee,ue),a(ee,Q),a(Q,$),tl&&tl.m($,null),a($,te),a($,ve),a($,we),a($,E),a($,y),a(Q,R),a(R,D),a(R,K),a(R,le),a(R,se),a(Q,re),a(re,me),a(re,fe),a(Q,ke),a(Q,ge),a(Q,Ae),a(Q,Le),a(Q,Be),a(Q,ze),a(Q,Je),a(Q,xe),a(Q,qe),a(Q,lt),a(Q,be),a(Q,ye),a(Q,We),a(Q,dt),st(Q,t[3].p.r,!0),a(z,_t),a(z,Qe),a(Qe,jt),a(Qe,pt),a(Qe,qt),a(Qe,Pt);for(let xt=0;xt<5;xt+=1)al[xt]&&al[xt].m(Pt,null);st(Pt,t[3].p.c,!0),a(e,Lt),a(e,tt),Me(ot,tt,null),a(e,Pe),a(e,He),a(He,$e),a($e,Ze),Ze.checked=t[3].p.e,a($e,de),a($e,Tt),a(He,It),Zt&&Zt.m(He,null),a(e,bt),a(e,je),a(je,et),a(je,Ot),a(je,zt),a(je,Ve),a(Ve,Se),a(Se,Ge),a(Ve,nt),a(nt,ht),a(Ve,Yt),a(Yt,Ft),st(Ve,t[3].g.s,!0),a(e,sl),$t&&$t.m(e,null),a(e,Dt),a(e,Ye),a(Ye,Xt),a(Ye,gt),a(Ye,ut),a(Ye,Mt),J(Mt,t[3].g.c),pe=!0,it||(Ke=[he(b,"input",t[28]),he(F,"change",t[29]),he(W,"change",t[30]),he(W,"change",t[23]),he(Q,"change",t[31]),he(Q,"change",t[26]),he(Pt,"change",t[32]),he(Ze,"change",t[33]),he(Ve,"change",t[35]),he(Mt,"input",t[38])],it=!0)},p(Ie,vt){var Ql,Zl,yn,Mn,Cn,Nn,Pn,Tn,En,An,qn,Ln,In,On,Dn,cs,ms,_s,ps,ds,hs,vs,bs,gs,ks,ws,Ss,ys,Ms,Cs,Ns,Ps;if((!pe||vt[0]&4)&&n!==(n=(((Zl=(Ql=Ie[2].conf)==null?void 0:Ql.general)==null?void 0:Zl.title)??"General")+"")&&L(i,n),(!pe||vt[0]&4)&&v!==(v=(((Mn=(yn=Ie[2].conf)==null?void 0:yn.general)==null?void 0:Mn.hostname)??"Hostname")+"")&&L(w,v),vt[0]&8&&b.value!==Ie[3].g.h&&J(b,Ie[3].g.h),(!pe||vt[0]&4)&&O!==(O=(((Nn=(Cn=Ie[2].conf)==null?void 0:Cn.general)==null?void 0:Nn.timezone)??"Time zone")+"")&&L(A,O),vt[0]&8&&st(F,Ie[3].g.t),(!pe||vt[0]&4)&&B!==(B=(((Tn=(Pn=Ie[2].conf)==null?void 0:Pn.general)==null?void 0:Tn.language)??((An=(En=Ie[2].conf)==null?void 0:En.ui)==null?void 0:An.lang)??"Language")+"")&&L(X,B),vt[0]&16){ol=Xe(Ie[4]);let pl;for(pl=0;pl<ol.length;pl+=1){const Ts=va(Ie,ol,pl);Jt[pl]?Jt[pl].p(Ts,vt):(Jt[pl]=ga(Ts),Jt[pl].c(),Jt[pl].m(W,null))}for(;pl<Jt.length;pl+=1)Jt[pl].d(1);Jt.length=ol.length}vt[0]&8&&st(W,Ie[3].u.lang),(!pe||vt[0]&4)&&ce!==(ce=(((Ln=(qn=Ie[2].conf)==null?void 0:qn.price)==null?void 0:Ln.region)??"Price region")+"")&&L(ae,ce),Ie[3].p.t?tl&&(tl.d(1),tl=null):tl||(tl=ka(),tl.c(),tl.m($,te)),vt[0]&8&&st(Q,Ie[3].p.r),(!pe||vt[0]&4)&&ft!==(ft=(((On=(In=Ie[2].conf)==null?void 0:In.price)==null?void 0:On.currency)??"Currency")+"")&&L(jt,ft),vt[0]&8&&st(Pt,Ie[3].p.c);const xt={};vt[0]&4|vt[4]&1&&(xt.$$scope={dirty:vt,ctx:Ie}),ot.$set(xt),vt[0]&8&&(Ze.checked=Ie[3].p.e),(!pe||vt[0]&4)&&De!==(De=(((cs=(Dn=Ie[2].conf)==null?void 0:Dn.price)==null?void 0:cs.enabled)??"Enabled")+"")&&L(Tt,De),Ie[3].p.e&&Ie[0].chip!="esp8266"?Zt?Zt.p(Ie,vt):(Zt=wa(Ie),Zt.c(),Zt.m(He,null)):Zt&&(Zt.d(1),Zt=null),(!pe||vt[0]&4)&&ct!==(ct=(((ps=(_s=(ms=Ie[2].conf)==null?void 0:ms.general)==null?void 0:_s.security)==null?void 0:ps.title)??"Security")+"")&&L(et,ct),(!pe||vt[0]&4)&&Te!==(Te=(((vs=(hs=(ds=Ie[2].conf)==null?void 0:ds.general)==null?void 0:hs.security)==null?void 0:vs.none)??"None")+"")&&L(Ge,Te),(!pe||vt[0]&4)&&at!==(at=(((ks=(gs=(bs=Ie[2].conf)==null?void 0:bs.general)==null?void 0:gs.security)==null?void 0:ks.conf)??"Conf")+"")&&L(ht,at),(!pe||vt[0]&4)&&Rt!==(Rt=(((ys=(Ss=(ws=Ie[2].conf)==null?void 0:ws.general)==null?void 0:Ss.security)==null?void 0:ys.all)??"All")+"")&&L(Ft,Rt),vt[0]&8&&st(Ve,Ie[3].g.s),Ie[3].g.s>0?$t?$t.p(Ie,vt):($t=Sa(Ie),$t.c(),$t.m(e,Dt)):$t&&($t.d(1),$t=null),(!pe||vt[0]&4)&&Ut!==(Ut=(((Cs=(Ms=Ie[2].conf)==null?void 0:Ms.general)==null?void 0:Cs.context)??"Context")+"")&&L(Xt,Ut),(!pe||vt[0]&4&&Kt!==(Kt=((Ps=(Ns=Ie[2].conf)==null?void 0:Ns.general)==null?void 0:Ps.context_placeholder)??"/"))&&u(Mt,"placeholder",Kt),vt[0]&8&&Mt.value!==Ie[3].g.c&&J(Mt,Ie[3].g.c)},i(Ie){pe||(Z(V.$$.fragment,Ie),Z(ot.$$.fragment,Ie),pe=!0)},o(Ie){ie(V.$$.fragment,Ie),ie(ot.$$.fragment,Ie),pe=!1},d(Ie){Ie&&M(e),Ce(V),Qt(Jt,Ie),tl&&tl.d(),Qt(al,Ie),Ce(ot),Zt&&Zt.d(),$t&&$t.d(),it=!1,Ht(Ke)}}}function ga(t){let e,l=t[121].name+"",n,i;return{c(){e=p("option"),n=S(l),e.__value=i=t[121].code,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){o[0]&16&&l!==(l=s[121].name+"")&&L(n,l),o[0]&16&&i!==(i=s[121].code)&&(e.__value=i,J(e,e.__value))},d(s){s&&M(e)}}}function ka(t){let e,l,n,i,s;return{c(){e=p("option"),e.textContent="NO1 with support",l=p("option"),l.textContent="NO2 with support",n=p("option"),n.textContent="NO3 with support",i=p("option"),i.textContent="NO4 with support",s=p("option"),s.textContent="NO5 with support",e.__value="NO1S",J(e,e.__value),l.__value="NO2S",J(l,l.__value),n.__value="NO3S",J(n,n.__value),i.__value="NO4S",J(i,i.__value),s.__value="NO5S",J(s,s.__value)},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f),C(o,i,f),C(o,s,f)},d(o){o&&(M(e),M(l),M(n),M(i),M(s))}}}function D1(t){let e;return{c(){e=p("option"),e.textContent=`${t[118]}`,e.__value=t[118],J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function F1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.price)==null?void 0:i.conf)??"Configure")+"",l;return{c(){l=S(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.price)==null?void 0:r.conf)??"Configure")+"")&&L(l,e)},d(s){s&&M(l)}}}function wa(t){let e,l,n,i,s;return{c(){var o,f;e=p("br"),l=p("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder",n=((f=(o=t[2].conf)==null?void 0:o.price)==null?void 0:f.api_key_placeholder)??""),u(l,"pattern",pi)},m(o,f){C(o,e,f),C(o,l,f),J(l,t[3].p.t),i||(s=he(l,"input",t[34]),i=!0)},p(o,f){var r,c;f[0]&4&&n!==(n=((c=(r=o[2].conf)==null?void 0:r.price)==null?void 0:c.api_key_placeholder)??"")&&u(l,"placeholder",n),f[0]&8&&l.value!==o[3].p.t&&J(l,o[3].p.t)},d(o){o&&(M(e),M(l)),i=!1,s()}}}function Sa(t){var k,b,T,q,O,A;let e,l=(((T=(b=(k=t[2].conf)==null?void 0:k.general)==null?void 0:b.security)==null?void 0:T.username)??"Username")+"",n,i,s,o,f,r,c=(((A=(O=(q=t[2].conf)==null?void 0:q.general)==null?void 0:O.security)==null?void 0:A.password)??"Password")+"",m,d,_,v,w,g;return{c(){e=p("div"),n=S(l),i=p("br"),s=h(),o=p("input"),f=h(),r=p("div"),m=S(c),d=p("br"),_=h(),v=p("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(o,"maxlength","36"),u(o,"pattern",tn),u(e,"class","my-1"),u(v,"name","gp"),u(v,"type","password"),u(v,"class","in-s"),u(v,"maxlength","36"),u(v,"pattern",tn),u(r,"class","my-1")},m(P,N){C(P,e,N),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].g.u),C(P,f,N),C(P,r,N),a(r,m),a(r,d),a(r,_),a(r,v),J(v,t[3].g.p),w||(g=[he(o,"input",t[36]),he(v,"input",t[37])],w=!0)},p(P,N){var F,V,Y,I,B,X;N[0]&4&&l!==(l=(((Y=(V=(F=P[2].conf)==null?void 0:F.general)==null?void 0:V.security)==null?void 0:Y.username)??"Username")+"")&&L(n,l),N[0]&8&&o.value!==P[3].g.u&&J(o,P[3].g.u),N[0]&4&&c!==(c=(((X=(B=(I=P[2].conf)==null?void 0:I.general)==null?void 0:B.security)==null?void 0:X.password)??"Password")+"")&&L(m,c),N[0]&8&&v.value!==P[3].g.p&&J(v,P[3].g.p)},d(P){P&&(M(e),M(f),M(r)),w=!1,Ht(g)}}}function ya(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F=Qa(t[3].fw.s)+"",V,Y,I,B,X,j;function G(H,x){var ne,z,ee,ce;return((z=(ne=H[0])==null?void 0:ne.upgrade)==null?void 0:z.m)===!0?B1:(ce=(ee=H[0])==null?void 0:ee.upgrade)!=null&&ce.n?U1:R1}let W=G(t),U=W(t);return{c(){e=p("div"),l=p("strong"),l.textContent="Firmware updates",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=S(`
                    Enable nightly auto-updates`),m=h(),d=p("div"),_=p("div"),v=S("Update hour"),w=p("br"),g=h(),k=p("input"),T=h(),q=p("input"),A=h(),P=p("div"),N=S("When enabled, the device checks for updates daily at "),V=S(F),Y=S(" (local time) and applies them automatically if available."),I=h(),B=p("div"),U.c(),u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","fw"),i.value="true",u(r,"type","checkbox"),u(r,"name","fwa"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(k,"name","fws"),u(k,"type","number"),u(k,"min","0"),u(k,"max","23"),u(k,"class","in-s w-full"),k.disabled=b=!t[3].fw.a,u(q,"type","hidden"),u(q,"name","fwe"),q.value=O=t[3].fw.s,u(_,"class","col-span-2"),u(d,"class","my-1 grid grid-cols-2 gap-2"),u(P,"class","my-1 text-xs text-gray-500"),u(B,"class","my-1 text-xs"),u(e,"class","cnt")},m(H,x){C(H,e,x),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].fw.a,a(f,c),a(e,m),a(e,d),a(d,_),a(_,v),a(_,w),a(_,g),a(_,k),J(k,t[3].fw.s),a(_,T),a(_,q),a(e,A),a(e,P),a(P,N),a(P,V),a(P,Y),a(e,I),a(e,B),U.m(B,null),X||(j=[he(r,"change",t[39]),he(k,"input",t[40])],X=!0)},p(H,x){x[0]&8&&(r.checked=H[3].fw.a),x[0]&8&&b!==(b=!H[3].fw.a)&&(k.disabled=b),x[0]&8&&kt(k.value)!==H[3].fw.s&&J(k,H[3].fw.s),x[0]&8&&O!==(O=H[3].fw.s)&&(q.value=O),x[0]&8&&F!==(F=Qa(H[3].fw.s)+"")&&L(V,F),W===(W=G(H))&&U?U.p(H,x):(U.d(1),U=W(H),U&&(U.c(),U.m(B,null)))},d(H){H&&M(e),U.d(),X=!1,Ht(j)}}}function R1(t){let e;return{c(){e=S("Checking for updates…")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function U1(t){let e,l=t[0].upgrade.n+"",n;return{c(){e=S("Latest available: "),n=S(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s[0]&1&&l!==(l=i[0].upgrade.n+"")&&L(n,l)},d(i){i&&(M(e),M(n))}}}function B1(t){let e;return{c(){e=p("span"),e.textContent="Latest firmware already installed.",u(e,"class","text-green-600")},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function Ma(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F,V=Xe(t[14]),Y=[];for(let I=0;I<V.length;I+=1)Y[I]=Ca(ha(t,V,I));return{c(){e=p("div"),l=p("strong"),l.textContent="Debug logging",n=h(),i=p("input"),s=h(),o=p("div"),f=p("label"),r=p("input"),c=S(`
                    Enable telnet (RemoteDebug)`),m=h(),d=p("div"),_=p("label"),v=p("input"),w=S(`
                    Enable serial log output`),g=h(),k=p("div"),b=S("Log level"),T=p("br"),q=h(),O=p("select");for(let I=0;I<Y.length;I+=1)Y[I].c();A=h(),P=p("div"),P.textContent="Telnet logging requires the device to be connected to the network. Leave telnet off for normal operation.",u(l,"class","text-sm"),u(i,"type","hidden"),u(i,"name","d"),i.value="true",u(r,"type","checkbox"),u(r,"name","dt"),r.__value="true",J(r,r.__value),u(r,"class","rounded mb-1"),u(o,"class","my-1"),u(v,"type","checkbox"),u(v,"name","ds"),v.__value="true",J(v,v.__value),u(v,"class","rounded mb-1"),u(d,"class","my-1"),u(O,"name","dl"),u(O,"class","in-s"),t[3].d.l===void 0&&Gt(()=>t[43].call(O)),u(k,"class","my-1"),u(P,"class","my-1 text-xs text-gray-500"),u(e,"class","cnt")},m(I,B){C(I,e,B),a(e,l),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,r),r.checked=t[3].d.t,a(f,c),a(e,m),a(e,d),a(d,_),a(_,v),v.checked=t[3].d.s,a(_,w),a(e,g),a(e,k),a(k,b),a(k,T),a(k,q),a(k,O);for(let X=0;X<Y.length;X+=1)Y[X]&&Y[X].m(O,null);st(O,t[3].d.l,!0),a(e,A),a(e,P),N||(F=[he(r,"change",t[41]),he(v,"change",t[42]),he(O,"change",t[43])],N=!0)},p(I,B){if(B[0]&8&&(r.checked=I[3].d.t),B[0]&8&&(v.checked=I[3].d.s),B[0]&16384){V=Xe(I[14]);let X;for(X=0;X<V.length;X+=1){const j=ha(I,V,X);Y[X]?Y[X].p(j,B):(Y[X]=Ca(j),Y[X].c(),Y[X].m(O,null))}for(;X<Y.length;X+=1)Y[X].d(1);Y.length=V.length}B[0]&8&&st(O,I[3].d.l)},d(I){I&&M(e),Qt(Y,I),N=!1,Ht(F)}}}function Ca(t){let e,l=t[115].label+"",n;return{c(){e=p("option"),n=S(l),e.__value=t[115].value,J(e,e.__value)},m(i,s){C(i,e,s),a(e,n)},p:Ue,d(i){i&&M(e)}}}function Na(t){var nt,at,ht,Yt,Rt,Ft,sl,Dt,Ye,Ut,Xt,gt,ut,Mt,Kt,pe,it,Ke,ol,Jt,tl,_l,al,Zt,$t,cl,Ee,_e,Bt;let e,l,n=(((at=(nt=t[2].conf)==null?void 0:nt.meter)==null?void 0:at.title)??"Meter")+"",i,s,o,f,r,c,m,d,_,v,w=(((Rt=(Yt=(ht=t[2].conf)==null?void 0:ht.meter)==null?void 0:Yt.preset)==null?void 0:Rt.title)??"Meter preset")+"",g,k,b,T,q,O=(((Dt=(sl=(Ft=t[2].conf)==null?void 0:Ft.meter)==null?void 0:sl.preset)==null?void 0:Dt.manual)??"Manual configuration")+"",A,P,N,F,V,Y=(((Xt=(Ut=(Ye=t[2].conf)==null?void 0:Ye.meter)==null?void 0:Ut.comm)==null?void 0:Xt.title)??"Communication")+"",I,B,X,j,G,W=(((Mt=(ut=(gt=t[2].conf)==null?void 0:gt.meter)==null?void 0:ut.comm)==null?void 0:Mt.passive)??"Passive")+"",U,H,x=(((it=(pe=(Kt=t[2].conf)==null?void 0:Kt.meter)==null?void 0:pe.comm)==null?void 0:it.pulse)??"Pulse")+"",ne,z=(ol=(Ke=t[0])==null?void 0:Ke.features)==null?void 0:ol.includes("kmp"),ee,ce,ae,oe=(((Jt=t[2].common)==null?void 0:Jt.voltage)??"Voltage")+"",ue,Q,$,te,ve,we,E,y,R,D=(((_l=(tl=t[2].conf)==null?void 0:tl.meter)==null?void 0:_l.fuse)??"Main fuse")+"",K,le,se,re,me,fe,ke,ge,Ae,Le=(((Zt=(al=t[2].conf)==null?void 0:al.meter)==null?void 0:Zt.prod)??"Production")+"",Be,ze,Je,xe,qe,lt,be,ye,We,dt,_t,Qe,ft,jt,pt=(((cl=($t=t[2].conf)==null?void 0:$t.meter)==null?void 0:cl.encrypted)??"Encrypted")+"",qt,Pt,Lt,tt,ot,Pe,He,$e=(((Bt=(_e=(Ee=t[2].conf)==null?void 0:Ee.meter)==null?void 0:_e.multipliers)==null?void 0:Bt.title)??"Multipliers")+"",Ze,de,De,Tt,It=Xe(au),bt=[];for(let Oe=0;Oe<It.length;Oe+=1)bt[Oe]=W1(I1(t,It,Oe));let je=t[8]&&Pa(t),ct=t[9]&&Ta(t),et=z&&Aa();function Ot(Oe,Ct){return Oe[3].m.a===2?j1:H1}let zt=Ot(t),Ve=zt(t),Se=t[3].m.e.e&&qa(t),Te=t[3].m.e.e&&La(t),Ge=t[3].m.m.e&&Ia(t);return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("input"),d=h(),_=p("div"),v=p("label"),g=S(w),k=h(),b=p("div"),T=p("select"),q=p("option"),A=S(O);for(let Oe=0;Oe<bt.length;Oe+=1)bt[Oe].c();P=h(),je&&je.c(),N=h(),ct&&ct.c(),F=h(),V=p("div"),I=S(Y),B=p("br"),X=h(),j=p("select"),G=p("option"),U=S(W),H=p("option"),ne=S(x),et&&et.c(),ee=h(),Ve.c(),ce=h(),ae=p("div"),ue=S(oe),Q=p("br"),$=h(),te=p("select"),ve=p("option"),ve.textContent="400V (TN)",we=p("option"),we.textContent="230V (IT/TT)",E=h(),y=p("div"),R=p("div"),K=S(D),le=p("br"),se=h(),re=p("label"),me=p("input"),fe=h(),ke=p("span"),ke.textContent="A",ge=h(),Ae=p("div"),Be=S(Le),ze=p("br"),Je=h(),xe=p("label"),qe=p("input"),lt=h(),be=p("span"),be.textContent="kWp",ye=h(),We=p("div"),We.innerHTML="",dt=h(),_t=p("div"),Qe=p("label"),ft=p("input"),jt=h(),qt=S(pt),Pt=h(),Se&&Se.c(),Lt=h(),Te&&Te.c(),tt=h(),ot=p("label"),Pe=p("input"),He=h(),Ze=S($e),de=h(),Ge&&Ge.c(),u(l,"class","text-sm"),u(o,"href",Ol("Meter-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","m"),r.value="true",u(m,"type","hidden"),u(m,"name","mo"),m.value="1",u(v,"class","text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"),u(v,"for","meter-preset-select"),q.__value="",J(q,q.__value),u(T,"id","meter-preset-select"),u(T,"class","in-s w-full"),t[8]===void 0&&Gt(()=>t[44].call(T)),u(b,"class","mt-1 flex gap-2"),u(_,"class","my-1"),G.__value=0,J(G,G.__value),H.__value=2,J(H,H.__value),u(j,"name","ma"),u(j,"class","in-s"),t[3].m.a===void 0&&Gt(()=>t[46].call(j)),u(V,"class","my-1"),ve.__value=2,J(ve,ve.__value),we.__value=1,J(we,we.__value),u(te,"name","md"),u(te,"class","in-s"),t[3].m.d===void 0&&Gt(()=>t[52].call(te)),u(ae,"class","my-1"),u(me,"name","mf"),u(me,"type","number"),u(me,"min","5"),u(me,"max","65535"),u(me,"class","in-f tr w-full"),u(ke,"class","in-post"),u(re,"class","flex"),u(R,"class","mx-1"),u(qe,"name","mr"),u(qe,"type","number"),u(qe,"min","0"),u(qe,"max","65535"),u(qe,"class","in-f tr w-full"),u(be,"class","in-post"),u(xe,"class","flex"),u(Ae,"class","mx-1"),u(y,"class","my-1 flex"),u(We,"class","my-1"),u(ft,"type","checkbox"),u(ft,"name","me"),ft.__value="true",J(ft,ft.__value),u(ft,"class","rounded mb-1"),u(_t,"class","my-1"),u(Pe,"type","checkbox"),u(Pe,"name","mm"),Pe.__value="true",J(Pe,Pe.__value),u(Pe,"class","rounded mb-1"),u(e,"class","cnt")},m(Oe,Ct){C(Oe,e,Ct),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(e,d),a(e,_),a(_,v),a(v,g),a(_,k),a(_,b),a(b,T),a(T,q),a(q,A);for(let rl=0;rl<bt.length;rl+=1)bt[rl]&&bt[rl].m(T,null);st(T,t[8],!0),a(b,P),je&&je.m(b,null),a(_,N),ct&&ct.m(_,null),a(e,F),a(e,V),a(V,I),a(V,B),a(V,X),a(V,j),a(j,G),a(G,U),a(j,H),a(H,ne),et&&et.m(j,null),st(j,t[3].m.a,!0),a(e,ee),Ve.m(e,null),a(e,ce),a(e,ae),a(ae,ue),a(ae,Q),a(ae,$),a(ae,te),a(te,ve),a(te,we),st(te,t[3].m.d,!0),a(e,E),a(e,y),a(y,R),a(R,K),a(R,le),a(R,se),a(R,re),a(re,me),J(me,t[3].m.f),a(re,fe),a(re,ke),a(y,ge),a(y,Ae),a(Ae,Be),a(Ae,ze),a(Ae,Je),a(Ae,xe),a(xe,qe),J(qe,t[3].m.r),a(xe,lt),a(xe,be),a(e,ye),a(e,We),a(e,dt),a(e,_t),a(_t,Qe),a(Qe,ft),ft.checked=t[3].m.e.e,a(Qe,jt),a(Qe,qt),a(_t,Pt),Se&&Se.m(_t,null),a(e,Lt),Te&&Te.m(e,null),a(e,tt),a(e,ot),a(ot,Pe),Pe.checked=t[3].m.m.e,a(ot,He),a(ot,Ze),a(e,de),Ge&&Ge.m(e,null),De||(Tt=[he(T,"change",t[44]),he(T,"change",t[45]),he(j,"change",t[46]),he(te,"change",t[52]),he(me,"input",t[53]),he(qe,"input",t[54]),he(ft,"change",t[55]),he(Pe,"change",t[58])],De=!0)},p(Oe,Ct){var rl,bl,gl,kl,wl,Sl,yl,Dl,Fl,Rl,Fe,rt,Ul,Bl,Wl,Hl,jl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,vt,xt,Ql,Zl;Ct[0]&4&&n!==(n=(((bl=(rl=Oe[2].conf)==null?void 0:rl.meter)==null?void 0:bl.title)??"Meter")+"")&&L(i,n),Ct[0]&4&&w!==(w=(((wl=(kl=(gl=Oe[2].conf)==null?void 0:gl.meter)==null?void 0:kl.preset)==null?void 0:wl.title)??"Meter preset")+"")&&L(g,w),Ct[0]&4&&O!==(O=(((Dl=(yl=(Sl=Oe[2].conf)==null?void 0:Sl.meter)==null?void 0:yl.preset)==null?void 0:Dl.manual)??"Manual configuration")+"")&&L(A,O),Ct[0]&256&&st(T,Oe[8]),Oe[8]?je?je.p(Oe,Ct):(je=Pa(Oe),je.c(),je.m(b,null)):je&&(je.d(1),je=null),Oe[9]?ct?ct.p(Oe,Ct):(ct=Ta(Oe),ct.c(),ct.m(_,null)):ct&&(ct.d(1),ct=null),Ct[0]&4&&Y!==(Y=(((Fe=(Rl=(Fl=Oe[2].conf)==null?void 0:Fl.meter)==null?void 0:Rl.comm)==null?void 0:Fe.title)??"Communication")+"")&&L(I,Y),Ct[0]&4&&W!==(W=(((Bl=(Ul=(rt=Oe[2].conf)==null?void 0:rt.meter)==null?void 0:Ul.comm)==null?void 0:Bl.passive)??"Passive")+"")&&L(U,W),Ct[0]&4&&x!==(x=(((jl=(Hl=(Wl=Oe[2].conf)==null?void 0:Wl.meter)==null?void 0:Hl.comm)==null?void 0:jl.pulse)??"Pulse")+"")&&L(ne,x),Ct[0]&1&&(z=(Kl=(zl=Oe[0])==null?void 0:zl.features)==null?void 0:Kl.includes("kmp")),z?et||(et=Aa(),et.c(),et.m(j,null)):et&&(et.d(1),et=null),Ct[0]&8&&st(j,Oe[3].m.a),zt===(zt=Ot(Oe))&&Ve?Ve.p(Oe,Ct):(Ve.d(1),Ve=zt(Oe),Ve&&(Ve.c(),Ve.m(e,ce))),Ct[0]&4&&oe!==(oe=(((Vl=Oe[2].common)==null?void 0:Vl.voltage)??"Voltage")+"")&&L(ue,oe),Ct[0]&8&&st(te,Oe[3].m.d),Ct[0]&4&&D!==(D=(((Yl=(Gl=Oe[2].conf)==null?void 0:Gl.meter)==null?void 0:Yl.fuse)??"Main fuse")+"")&&L(K,D),Ct[0]&8&&kt(me.value)!==Oe[3].m.f&&J(me,Oe[3].m.f),Ct[0]&4&&Le!==(Le=(((Jl=(Xl=Oe[2].conf)==null?void 0:Xl.meter)==null?void 0:Jl.prod)??"Production")+"")&&L(Be,Le),Ct[0]&8&&kt(qe.value)!==Oe[3].m.r&&J(qe,Oe[3].m.r),Ct[0]&8&&(ft.checked=Oe[3].m.e.e),Ct[0]&4&&pt!==(pt=(((vt=(Ie=Oe[2].conf)==null?void 0:Ie.meter)==null?void 0:vt.encrypted)??"Encrypted")+"")&&L(qt,pt),Oe[3].m.e.e?Se?Se.p(Oe,Ct):(Se=qa(Oe),Se.c(),Se.m(_t,null)):Se&&(Se.d(1),Se=null),Oe[3].m.e.e?Te?Te.p(Oe,Ct):(Te=La(Oe),Te.c(),Te.m(e,tt)):Te&&(Te.d(1),Te=null),Ct[0]&8&&(Pe.checked=Oe[3].m.m.e),Ct[0]&4&&$e!==($e=(((Zl=(Ql=(xt=Oe[2].conf)==null?void 0:xt.meter)==null?void 0:Ql.multipliers)==null?void 0:Zl.title)??"Multipliers")+"")&&L(Ze,$e),Oe[3].m.m.e?Ge?Ge.p(Oe,Ct):(Ge=Ia(Oe),Ge.c(),Ge.m(e,null)):Ge&&(Ge.d(1),Ge=null)},d(Oe){Oe&&M(e),Qt(bt,Oe),je&&je.d(),ct&&ct.d(),et&&et.d(),Ve.d(),Se&&Se.d(),Te&&Te.d(),Ge&&Ge.d(),De=!1,Ht(Tt)}}}function W1(t){let e;return{c(){e=p("option"),e.textContent=`${t[112].label}`,e.__value=t[112].id,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function Pa(t){var o,f,r;let e,l=(((r=(f=(o=t[2].conf)==null?void 0:o.meter)==null?void 0:f.preset)==null?void 0:r.clear)??"Clear")+"",n,i,s;return{c(){e=p("button"),n=S(l),u(e,"type","button"),u(e,"class","text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200")},m(c,m){C(c,e,m),a(e,n),i||(s=he(e,"click",t[25]),i=!0)},p(c,m){var d,_,v;m[0]&4&&l!==(l=(((v=(_=(d=c[2].conf)==null?void 0:d.meter)==null?void 0:_.preset)==null?void 0:v.clear)??"Clear")+"")&&L(n,l)},d(c){c&&M(e),i=!1,s()}}}function Ta(t){let e,l=ma(t[9])+"",n,i,s=t[9].notes&&Ea(t);return{c(){e=p("div"),n=S(l),i=h(),s&&s.c(),u(e,"class","mt-1 text-xs text-slate-500 dark:text-slate-400 leading-snug")},m(o,f){C(o,e,f),a(e,n),a(e,i),s&&s.m(e,null)},p(o,f){f[0]&512&&l!==(l=ma(o[9])+"")&&L(n,l),o[9].notes?s?s.p(o,f):(s=Ea(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&M(e),s&&s.d()}}}function Ea(t){let e,l=t[9].notes+"",n;return{c(){e=p("span"),n=S(l),u(e,"class","block")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s[0]&512&&l!==(l=i[9].notes+"")&&L(n,l)},d(i){i&&M(e)}}}function Aa(t){let e;return{c(){e=p("option"),e.textContent="KMP",e.__value=9,J(e,e.__value)},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function H1(t){var ce,ae,oe,ue,Q,$;let e,l,n=(((ae=(ce=t[2].conf)==null?void 0:ce.meter)==null?void 0:ae.buffer)??"Buffer size")+"",i,s,o,f=(((ue=(oe=t[2].conf)==null?void 0:oe.meter)==null?void 0:ue.serial)??"Serial conf.")+"",r,c,m,d,_,v=((($=(Q=t[2].conf)==null?void 0:Q.meter)==null?void 0:$.inverted)??"inverted")+"",w,g,k,b,T,q,O,A,P,N,F,V,Y,I,B,X,j,G,W,U,H,x,ne,z=Xe([3,12,24,48,96,192,384,576,1152]),ee=[];for(let te=0;te<9;te+=1)ee[te]=z1(L1(t,z,te));return{c(){e=p("div"),l=p("span"),i=S(n),s=h(),o=p("span"),r=S(f),c=h(),m=p("label"),d=p("input"),_=h(),w=S(v),g=h(),k=p("div"),b=p("select"),T=p("option"),q=S("Autodetect");for(let te=0;te<9;te+=1)ee[te].c();A=h(),P=p("select"),N=p("option"),F=S("-"),Y=p("option"),Y.textContent="7N1",I=p("option"),I.textContent="8N1",B=p("option"),B.textContent="8N2",X=p("option"),X.textContent="7E1",j=p("option"),j.textContent="8E1",W=h(),U=p("input"),u(l,"class","float-right"),u(d,"name","mi"),d.__value="true",J(d,d.__value),u(d,"type","checkbox"),u(d,"class","rounded mb-1"),u(m,"class","mt-2 ml-3 whitespace-nowrap"),T.__value=0,J(T,T.__value),T.disabled=O=t[3].m.b!=0,u(b,"name","mb"),u(b,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Gt(()=>t[49].call(b)),N.__value=0,J(N,N.__value),N.disabled=V=t[3].m.b!=0,Y.__value=2,J(Y,Y.__value),I.__value=3,J(I,I.__value),B.__value=7,J(B,B.__value),X.__value=10,J(X,X.__value),j.__value=11,J(j,j.__value),u(P,"name","mp"),u(P,"class","in-m"),P.disabled=G=t[3].m.b==0,t[3].m.p===void 0&&Gt(()=>t[50].call(P)),u(U,"name","ms"),u(U,"type","number"),u(U,"min",64),u(U,"max",H=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:256:4096),u(U,"step",64),u(U,"class","in-l tr w-1/2"),u(k,"class","flex w-full"),u(e,"class","my-1")},m(te,ve){C(te,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(e,c),a(e,m),a(m,d),d.checked=t[3].m.i,a(m,_),a(m,w),a(e,g),a(e,k),a(k,b),a(b,T),a(T,q);for(let we=0;we<9;we+=1)ee[we]&&ee[we].m(b,null);st(b,t[3].m.b,!0),a(k,A),a(k,P),a(P,N),a(N,F),a(P,Y),a(P,I),a(P,B),a(P,X),a(P,j),st(P,t[3].m.p,!0),a(k,W),a(k,U),J(U,t[3].m.s),x||(ne=[he(d,"change",t[48]),he(b,"change",t[49]),he(P,"change",t[50]),he(U,"input",t[51])],x=!0)},p(te,ve){var we,E,y,R,D,K;ve[0]&4&&n!==(n=(((E=(we=te[2].conf)==null?void 0:we.meter)==null?void 0:E.buffer)??"Buffer size")+"")&&L(i,n),ve[0]&4&&f!==(f=(((R=(y=te[2].conf)==null?void 0:y.meter)==null?void 0:R.serial)??"Serial conf.")+"")&&L(r,f),ve[0]&8&&(d.checked=te[3].m.i),ve[0]&4&&v!==(v=(((K=(D=te[2].conf)==null?void 0:D.meter)==null?void 0:K.inverted)??"inverted")+"")&&L(w,v),ve[0]&8&&O!==(O=te[3].m.b!=0)&&(T.disabled=O),ve[0]&8&&st(b,te[3].m.b),ve[0]&8&&V!==(V=te[3].m.b!=0)&&(N.disabled=V),ve[0]&8&&G!==(G=te[3].m.b==0)&&(P.disabled=G),ve[0]&8&&st(P,te[3].m.p),ve[0]&9&&H!==(H=te[0].chip=="esp8266"?te[3].i.h.p==3||te[3].i.h.p==113?512:256:4096)&&u(U,"max",H),ve[0]&8&&kt(U.value)!==te[3].m.s&&J(U,te[3].m.s)},d(te){te&&M(e),Qt(ee,te),x=!1,Ht(ne)}}}function j1(t){var c,m;let e,l,n=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.pulses)??"Pulses per kWh")+"",i,s,o,f,r;return{c(){e=p("div"),l=p("span"),i=S(n),s=h(),o=p("input"),u(o,"name","mb"),u(o,"class","in-s tr"),u(o,"type","number"),u(o,"min",1),u(o,"max",3600),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[3].m.b),f||(r=he(o,"input",t[47]),f=!0)},p(d,_){var v,w;_[0]&4&&n!==(n=(((w=(v=d[2].conf)==null?void 0:v.meter)==null?void 0:w.pulses)??"Pulses per kWh")+"")&&L(i,n),_[0]&8&&kt(o.value)!==d[3].m.b&&J(o,d[3].m.b)},d(d){d&&M(e),f=!1,r()}}}function z1(t){let e;return{c(){e=p("option"),e.textContent=`${t[109]*100}`,e.__value=t[109]*100,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function qa(t){let e,l,n,i;return{c(){e=p("br"),l=p("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s"),u(l,"pattern",Bf)},m(s,o){C(s,e,o),C(s,l,o),J(l,t[3].m.e.k),n||(i=he(l,"input",t[56]),n=!0)},p(s,o){o[0]&8&&l.value!==s[3].m.e.k&&J(l,s[3].m.e.k)},d(s){s&&(M(e),M(l)),n=!1,i()}}}function La(t){var c,m;let e,l=(((m=(c=t[2].conf)==null?void 0:c.meter)==null?void 0:m.authkey)??"Authentication key")+"",n,i,s,o,f,r;return{c(){e=p("div"),n=S(l),i=p("br"),s=h(),o=p("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(o,"pattern",Bf),u(e,"class","my-1")},m(d,_){C(d,e,_),a(e,n),a(e,i),a(e,s),a(e,o),J(o,t[3].m.e.a),f||(r=he(o,"input",t[57]),f=!0)},p(d,_){var v,w;_[0]&4&&l!==(l=(((w=(v=d[2].conf)==null?void 0:v.meter)==null?void 0:w.authkey)??"Authentication key")+"")&&L(n,l),_[0]&8&&o.value!==d[3].m.e.a&&J(o,d[3].m.e.a)},d(d){d&&M(e),f=!1,r()}}}function Ia(t){var G,W,U,H,x,ne,z,ee,ce,ae,oe,ue;let e,l,n=(((U=(W=(G=t[2].conf)==null?void 0:G.meter)==null?void 0:W.multipliers)==null?void 0:U.watt)??"Watt")+"",i,s,o,f,r,c,m=(((ne=(x=(H=t[2].conf)==null?void 0:H.meter)==null?void 0:x.multipliers)==null?void 0:ne.volt)??"Volt")+"",d,_,v,w,g,k,b=(((ce=(ee=(z=t[2].conf)==null?void 0:z.meter)==null?void 0:ee.multipliers)==null?void 0:ce.amp)??"Amp")+"",T,q,O,A,P,N,F=(((ue=(oe=(ae=t[2].conf)==null?void 0:ae.meter)==null?void 0:oe.multipliers)==null?void 0:ue.kwh)??"kWh")+"",V,Y,I,B,X,j;return{c(){e=p("div"),l=p("div"),i=S(n),s=p("br"),o=h(),f=p("input"),r=h(),c=p("div"),d=S(m),_=p("br"),v=h(),w=p("input"),g=h(),k=p("div"),T=S(b),q=p("br"),O=h(),A=p("input"),P=h(),N=p("div"),V=S(F),Y=p("br"),I=h(),B=p("input"),u(f,"name","mmw"),u(f,"type","number"),u(f,"min","0.00"),u(f,"max","1000"),u(f,"step","0.001"),u(f,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(w,"name","mmv"),u(w,"type","number"),u(w,"min","0.00"),u(w,"max","1000"),u(w,"step","0.001"),u(w,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(A,"name","mma"),u(A,"type","number"),u(A,"min","0.00"),u(A,"max","1000"),u(A,"step","0.001"),u(A,"class","in-m tr w-full"),u(k,"class","w-1/4"),u(B,"name","mmc"),u(B,"type","number"),u(B,"min","0.00"),u(B,"max","1000"),u(B,"step","0.001"),u(B,"class","in-l tr w-full"),u(N,"class","w-1/4"),u(e,"class","flex my-1")},m(Q,$){C(Q,e,$),a(e,l),a(l,i),a(l,s),a(l,o),a(l,f),J(f,t[3].m.m.w),a(e,r),a(e,c),a(c,d),a(c,_),a(c,v),a(c,w),J(w,t[3].m.m.v),a(e,g),a(e,k),a(k,T),a(k,q),a(k,O),a(k,A),J(A,t[3].m.m.a),a(e,P),a(e,N),a(N,V),a(N,Y),a(N,I),a(N,B),J(B,t[3].m.m.c),X||(j=[he(f,"input",t[59]),he(w,"input",t[60]),he(A,"input",t[61]),he(B,"input",t[62])],X=!0)},p(Q,$){var te,ve,we,E,y,R,D,K,le,se,re,me;$[0]&4&&n!==(n=(((we=(ve=(te=Q[2].conf)==null?void 0:te.meter)==null?void 0:ve.multipliers)==null?void 0:we.watt)??"Watt")+"")&&L(i,n),$[0]&8&&kt(f.value)!==Q[3].m.m.w&&J(f,Q[3].m.m.w),$[0]&4&&m!==(m=(((R=(y=(E=Q[2].conf)==null?void 0:E.meter)==null?void 0:y.multipliers)==null?void 0:R.volt)??"Volt")+"")&&L(d,m),$[0]&8&&kt(w.value)!==Q[3].m.m.v&&J(w,Q[3].m.m.v),$[0]&4&&b!==(b=(((le=(K=(D=Q[2].conf)==null?void 0:D.meter)==null?void 0:K.multipliers)==null?void 0:le.amp)??"Amp")+"")&&L(T,b),$[0]&8&&kt(A.value)!==Q[3].m.m.a&&J(A,Q[3].m.m.a),$[0]&4&&F!==(F=(((me=(re=(se=Q[2].conf)==null?void 0:se.meter)==null?void 0:re.multipliers)==null?void 0:me.kwh)??"kWh")+"")&&L(V,F),$[0]&8&&kt(B.value)!==Q[3].m.m.c&&J(B,Q[3].m.m.c)},d(Q){Q&&M(e),X=!1,Ht(j)}}}function Oa(t){var d,_;let e,l,n=(((_=(d=t[2].conf)==null?void 0:d.connection)==null?void 0:_.title)??"Connection")+"",i,s,o,f,r,c,m=(t[3].n.c==1||t[3].n.c==2)&&Da(t);return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m&&m.c(),u(l,"class","text-sm"),u(o,"href",Ol("Network-connection")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","w"),r.value="true",u(e,"class","cnt")},m(v,w){C(v,e,w),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),m&&m.m(e,null)},p(v,w){var g,k;w[0]&4&&n!==(n=(((k=(g=v[2].conf)==null?void 0:g.connection)==null?void 0:k.title)??"Connection")+"")&&L(i,n),v[3].n.c==1||v[3].n.c==2?m?m.p(v,w):(m=Da(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&M(e),m&&m.d()}}}function Da(t){var ke,ge,Ae,Le,Be,ze,Je,xe,qe,lt,be,ye,We,dt,_t,Qe,ft,jt,pt,qt,Pt,Lt,tt,ot;let e,l=(((ge=(ke=t[2].conf)==null?void 0:ke.connection)==null?void 0:ge.ssid)??"Network name (SSID)")+"",n,i,s,o,f,r,c,m=(((Le=(Ae=t[2].conf)==null?void 0:Ae.connection)==null?void 0:Le.psk)??"Password")+"",d,_,v,w,g,k,b,T=(((Je=(ze=(Be=t[2].conf)==null?void 0:Be.connection)==null?void 0:ze.ps)==null?void 0:Je.title)??"Power saving")+"",q,O,A,P,N,F=(((lt=(qe=(xe=t[2].conf)==null?void 0:xe.connection)==null?void 0:qe.ps)==null?void 0:lt.default)??"Default")+"",V,Y,I=(((We=(ye=(be=t[2].conf)==null?void 0:be.connection)==null?void 0:ye.ps)==null?void 0:We.off)??"Off")+"",B,X,j=(((Qe=(_t=(dt=t[2].conf)==null?void 0:dt.connection)==null?void 0:_t.ps)==null?void 0:Qe.min)??"Min")+"",G,W,U=(((pt=(jt=(ft=t[2].conf)==null?void 0:ft.connection)==null?void 0:jt.ps)==null?void 0:pt.max)??"Max")+"",H,x,ne,z=(((Pt=(qt=t[2].conf)==null?void 0:qt.connection)==null?void 0:Pt.pwr)??"Power")+"",ee,ce,ae,oe,ue,Q,$,te,ve,we,E,y,R=(((tt=(Lt=t[2].conf)==null?void 0:Lt.connection)==null?void 0:tt.tick_11b)??"802.11b")+"",D,K,le,se=((ot=t[5])==null?void 0:ot.c)==-1&&Fa(t);function re(Pe,He){var $e,Ze,de;if((Ze=($e=Pe[5])==null?void 0:$e.n)!=null&&Ze.length)return V1;if(((de=Pe[5])==null?void 0:de.c)!=-1)return K1}let me=re(t),fe=me&&me(t);return{c(){e=p("div"),n=S(l),i=h(),s=p("br"),o=h(),se&&se.c(),f=h(),fe&&fe.c(),r=h(),c=p("div"),d=S(m),_=p("br"),v=h(),w=p("input"),g=h(),k=p("div"),b=p("div"),q=S(T),O=p("br"),A=h(),P=p("select"),N=p("option"),V=S(F),Y=p("option"),B=S(I),X=p("option"),G=S(j),W=p("option"),H=S(U),x=h(),ne=p("div"),ee=S(z),ce=p("br"),ae=h(),oe=p("div"),ue=p("input"),Q=h(),$=p("span"),$.textContent="dBm",te=h(),ve=p("div"),we=p("label"),E=p("input"),y=h(),D=S(R),u(e,"class","my-1"),u(w,"name","wp"),u(w,"type","password"),u(w,"class","in-s"),u(w,"pattern",_i),u(c,"class","my-1"),N.__value=255,J(N,N.__value),Y.__value=0,J(Y,Y.__value),X.__value=1,J(X,X.__value),W.__value=2,J(W,W.__value),u(P,"name","wz"),u(P,"class","in-s"),t[3].w.z===void 0&&Gt(()=>t[66].call(P)),u(b,"class","w-1/2"),u(ue,"name","ww"),u(ue,"type","number"),u(ue,"min","0"),u(ue,"max","20.5"),u(ue,"step","0.5"),u(ue,"class","in-f tr w-full"),u($,"class","in-post"),u(oe,"class","flex"),u(ne,"class","ml-2 w-1/2"),u(k,"class","my-1 flex"),u(E,"type","checkbox"),u(E,"name","wb"),E.__value="true",J(E,E.__value),u(E,"class","rounded mb-1"),u(ve,"class","my-3")},m(Pe,He){C(Pe,e,He),a(e,n),a(e,i),a(e,s),a(e,o),se&&se.m(e,null),a(e,f),fe&&fe.m(e,null),C(Pe,r,He),C(Pe,c,He),a(c,d),a(c,_),a(c,v),a(c,w),J(w,t[3].w.p),C(Pe,g,He),C(Pe,k,He),a(k,b),a(b,q),a(b,O),a(b,A),a(b,P),a(P,N),a(N,V),a(P,Y),a(Y,B),a(P,X),a(X,G),a(P,W),a(W,H),st(P,t[3].w.z,!0),a(k,x),a(k,ne),a(ne,ee),a(ne,ce),a(ne,ae),a(ne,oe),a(oe,ue),J(ue,t[3].w.w),a(oe,Q),a(oe,$),C(Pe,te,He),C(Pe,ve,He),a(ve,we),a(we,E),E.checked=t[3].w.b,a(we,y),a(we,D),K||(le=[he(w,"input",t[65]),he(P,"change",t[66]),he(ue,"input",t[67]),he(E,"change",t[68])],K=!0)},p(Pe,He){var $e,Ze,de,De,Tt,It,bt,je,ct,et,Ot,zt,Ve,Se,Te,Ge,nt,at,ht,Yt,Rt,Ft,sl,Dt;He[0]&4&&l!==(l=(((Ze=($e=Pe[2].conf)==null?void 0:$e.connection)==null?void 0:Ze.ssid)??"Network name (SSID)")+"")&&L(n,l),((de=Pe[5])==null?void 0:de.c)==-1?se?se.p(Pe,He):(se=Fa(Pe),se.c(),se.m(e,f)):se&&(se.d(1),se=null),me===(me=re(Pe))&&fe?fe.p(Pe,He):(fe&&fe.d(1),fe=me&&me(Pe),fe&&(fe.c(),fe.m(e,null))),He[0]&4&&m!==(m=(((Tt=(De=Pe[2].conf)==null?void 0:De.connection)==null?void 0:Tt.psk)??"Password")+"")&&L(d,m),He[0]&8&&w.value!==Pe[3].w.p&&J(w,Pe[3].w.p),He[0]&4&&T!==(T=(((je=(bt=(It=Pe[2].conf)==null?void 0:It.connection)==null?void 0:bt.ps)==null?void 0:je.title)??"Power saving")+"")&&L(q,T),He[0]&4&&F!==(F=(((Ot=(et=(ct=Pe[2].conf)==null?void 0:ct.connection)==null?void 0:et.ps)==null?void 0:Ot.default)??"Default")+"")&&L(V,F),He[0]&4&&I!==(I=(((Se=(Ve=(zt=Pe[2].conf)==null?void 0:zt.connection)==null?void 0:Ve.ps)==null?void 0:Se.off)??"Off")+"")&&L(B,I),He[0]&4&&j!==(j=(((nt=(Ge=(Te=Pe[2].conf)==null?void 0:Te.connection)==null?void 0:Ge.ps)==null?void 0:nt.min)??"Min")+"")&&L(G,j),He[0]&4&&U!==(U=(((Yt=(ht=(at=Pe[2].conf)==null?void 0:at.connection)==null?void 0:ht.ps)==null?void 0:Yt.max)??"Max")+"")&&L(H,U),He[0]&8&&st(P,Pe[3].w.z),He[0]&4&&z!==(z=(((Ft=(Rt=Pe[2].conf)==null?void 0:Rt.connection)==null?void 0:Ft.pwr)??"Power")+"")&&L(ee,z),He[0]&8&&kt(ue.value)!==Pe[3].w.w&&J(ue,Pe[3].w.w),He[0]&8&&(E.checked=Pe[3].w.b),He[0]&4&&R!==(R=(((Dt=(sl=Pe[2].conf)==null?void 0:sl.connection)==null?void 0:Dt.tick_11b)??"802.11b")+"")&&L(D,R)},d(Pe){Pe&&(M(e),M(r),M(c),M(g),M(k),M(te),M(ve)),se&&se.d(),fe&&fe.d(),K=!1,Ht(le)}}}function Fa(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.searching)??"Scanning for networks...")+"",n;return{c(){e=p("div"),n=S(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.searching)??"Scanning for networks...")+"")&&L(n,l)},d(o){o&&M(e)}}}function K1(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.no_networks)??"No networks found")+"",n;return{c(){e=p("div"),n=S(l),u(e,"class","text-sm italic text-slate-500")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"")&&L(n,l)},d(o){o&&M(e)}}}function V1(t){let e,l=[],n=new Map,i=Xe(t[5].n);const s=o=>o[106].s??o[108];for(let o=0;o<i.length;o+=1){let f=da(t,i,o),r=s(f);n.set(r,l[o]=Ua(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","mt-2 space-y-2")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f[0]&9260&&(i=Xe(o[5].n),l=_f(l,f,s,1,o,i,n,e,mf,Ua,null,da))},d(o){o&&M(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ra(t){var i,s;let e,l=(((s=(i=t[2].conf)==null?void 0:i.connection)==null?void 0:s.selected)??"Selected")+"",n;return{c(){e=p("span"),n=S(l),u(e,"class","rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-600 group-hover:bg-blue-200 dark:bg-blue-400/20 dark:text-blue-200")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f[0]&4&&l!==(l=(((c=(r=o[2].conf)==null?void 0:r.connection)==null?void 0:c.selected)??"Selected")+"")&&L(n,l)},d(o){o&&M(e)}}}function Ua(t,e){var B,X,j,G,W;let l,n,i,s,o=!1,f,r,c,m=(e[106].s||(((X=(B=e[2].conf)==null?void 0:B.connection)==null?void 0:X.hidden_ssid)??"Hidden network"))+"",d,_,v,w=(((j=e[10][e[108]])==null?void 0:j.title)??((W=(G=e[2].conf)==null?void 0:G.connection)==null?void 0:W.wifi_offline)??"Signal unavailable")+"",g,k,b,T,q,O,A,P,N,F,V,Y,I=e[3].w.s===e[106].s&&Ra(e);return F=rf(e[64][0]),{key:t,first:null,c(){var U,H,x;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),d=S(m),_=h(),v=p("span"),g=S(w),k=h(),b=p("div"),T=p("img"),P=h(),I&&I.c(),N=h(),u(i,"type","radio"),u(i,"class","h-4 w-4 text-blue-600 focus:ring-blue-500"),u(i,"name","ws"),i.__value=s=e[106].s,J(i,i.__value),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(v,"class","text-xs text-slate-500 dark:text-slate-400"),u(r,"class","flex flex-col"),u(n,"class","flex items-center gap-3"),u(T,"class","h-6 w-6 opacity-80 group-hover:opacity-100"),fn(T.src,q=((U=e[10][e[108]])==null?void 0:U.icon)??e[13].off)||u(T,"src",q),u(T,"alt",O=((H=e[10][e[108]])==null?void 0:H.title)??"Wi-Fi offline"),u(T,"title",A=((x=e[10][e[108]])==null?void 0:x.title)??"Wi-Fi offline"),u(b,"class","flex items-center gap-2"),u(l,"class","group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white/80 px-3 py-2 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:shadow-md dark:border-slate-700 dark:bg-slate-800/70 dark:hover:border-blue-300 dark:hover:bg-slate-800"),F.p(i),this.first=l},m(U,H){C(U,l,H),a(l,n),a(n,i),i.checked=i.__value===e[3].w.s,a(n,f),a(n,r),a(r,c),a(c,d),a(r,_),a(r,v),a(v,g),a(l,k),a(l,b),a(b,T),a(b,P),I&&I.m(b,null),a(l,N),V||(Y=he(i,"change",e[63]),V=!0)},p(U,H){var x,ne,z,ee,ce,ae,oe,ue;e=U,H[0]&32&&s!==(s=e[106].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||H[0]&40)&&(i.checked=i.__value===e[3].w.s),H[0]&36&&m!==(m=(e[106].s||(((ne=(x=e[2].conf)==null?void 0:x.connection)==null?void 0:ne.hidden_ssid)??"Hidden network"))+"")&&L(d,m),H[0]&1060&&w!==(w=(((z=e[10][e[108]])==null?void 0:z.title)??((ce=(ee=e[2].conf)==null?void 0:ee.connection)==null?void 0:ce.wifi_offline)??"Signal unavailable")+"")&&L(g,w),H[0]&1056&&!fn(T.src,q=((ae=e[10][e[108]])==null?void 0:ae.icon)??e[13].off)&&u(T,"src",q),H[0]&1056&&O!==(O=((oe=e[10][e[108]])==null?void 0:oe.title)??"Wi-Fi offline")&&u(T,"alt",O),H[0]&1056&&A!==(A=((ue=e[10][e[108]])==null?void 0:ue.title)??"Wi-Fi offline")&&u(T,"title",A),e[3].w.s===e[106].s?I?I.p(e,H):(I=Ra(e),I.c(),I.m(b,null)):I&&(I.d(1),I=null)},d(U){U&&M(l),I&&I.d(),F.r(),V=!1,Y()}}}function Ba(t){var Mt,Kt,pe,it,Ke,ol,Jt,tl,_l,al,Zt,$t,cl,Ee,_e,Bt,Oe,Ct,rl,bl,gl,kl,wl,Sl,yl,Dl,Fl,Rl;let e,l,n=(((Kt=(Mt=t[2].conf)==null?void 0:Mt.mqtt)==null?void 0:Kt.title)??"MQTT")+"",i,s,o,f,r,c,m,d=(((it=(pe=t[2].conf)==null?void 0:pe.mqtt)==null?void 0:it.server)??"Server")+"",_,v,w,g,k,b,T,q,O,A,P,N,F=(((ol=(Ke=t[2].conf)==null?void 0:Ke.mqtt)==null?void 0:ol.user)??"Username")+"",V,Y,I,B,X,j,G=(((tl=(Jt=t[2].conf)==null?void 0:Jt.mqtt)==null?void 0:tl.pass)??"Password")+"",W,U,H,x,ne,z,ee,ce=(((al=(_l=t[2].conf)==null?void 0:_l.mqtt)==null?void 0:al.id)??"Client ID")+"",ae,oe,ue,Q,$,te,ve,we=((($t=(Zt=t[2].conf)==null?void 0:Zt.mqtt)==null?void 0:$t.payload)??"Payload")+"",E,y,R,D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be=(((Ee=(cl=t[2].conf)==null?void 0:cl.mqtt)==null?void 0:Ee.publish)??"Publish topic")+"",ze,Je,xe,qe,lt,be,ye=(((Bt=(_e=t[2].conf)==null?void 0:_e.mqtt)==null?void 0:Bt.subscribe)??"Subscribe topic")+"",We,dt,_t,Qe,ft,jt,pt,qt=(((Ct=(Oe=t[2].conf)==null?void 0:Oe.mqtt)==null?void 0:Ct.update)??"Update method")+"",Pt,Lt,tt,ot=(((bl=(rl=t[2].conf)==null?void 0:rl.mqtt)==null?void 0:bl.interval)??"Interval")+"",Pe,He,$e,Ze,de,De=(((kl=(gl=t[2].conf)==null?void 0:gl.mqtt)==null?void 0:kl.realtime)??"Real time")+"",Tt,It,bt=(((Sl=(wl=t[2].conf)==null?void 0:wl.mqtt)==null?void 0:Sl.interval)??"Interval")+"",je,ct,et,Ot,zt,Ve,Se=(((Dl=(yl=t[2].conf)==null?void 0:yl.mqtt)==null?void 0:Dl.timeout)??"Timeout")+"",Te,Ge,nt,at=(((Rl=(Fl=t[2].conf)==null?void 0:Fl.mqtt)==null?void 0:Rl.keepalive)??"Keep-alive")+"",ht,Yt,Rt,Ft,sl,Dt,Ye,Ut,Xt,gt=t[0].chip!="esp8266"&&Wa(t),ut=t[3].q.s.e&&Ha(t);return{c(){var Fe,rt;e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=S(d),v=h(),gt&&gt.c(),w=h(),g=p("br"),k=h(),b=p("div"),T=p("input"),q=h(),O=p("input"),A=h(),ut&&ut.c(),P=h(),N=p("div"),V=S(F),Y=p("br"),I=h(),B=p("input"),X=h(),j=p("div"),W=S(G),U=p("br"),H=h(),x=p("input"),ne=h(),z=p("div"),ee=p("div"),ae=S(ce),oe=p("br"),ue=h(),Q=p("input"),te=h(),ve=p("div"),E=S(we),y=p("br"),R=h(),D=p("select"),K=p("option"),K.textContent="Raw (minimal)",le=p("option"),le.textContent="Raw (full)",se=p("option"),se.textContent="Domoticz",re=p("option"),re.textContent="Home-Assistant",me=p("option"),me.textContent="JSON (classic)",fe=p("option"),fe.textContent="JSON (multi topic)",ke=p("option"),ke.textContent="JSON (flat)",ge=p("option"),ge.textContent="HEX dump",Ae=h(),Le=p("div"),ze=S(Be),Je=p("br"),xe=h(),qe=p("input"),lt=h(),be=p("div"),We=S(ye),dt=p("br"),_t=h(),Qe=p("input"),jt=h(),pt=p("div"),Pt=S(qt),Lt=h(),tt=p("span"),Pe=S(ot),He=h(),$e=p("div"),Ze=p("select"),de=p("option"),Tt=S(De),It=p("option"),je=S(bt),ct=h(),et=p("input"),zt=h(),Ve=p("div"),Te=S(Se),Ge=h(),nt=p("span"),ht=S(at),Yt=h(),Rt=p("div"),Ft=p("input"),sl=h(),Dt=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","q"),r.value="true",u(T,"name","qh"),u(T,"type","text"),u(T,"class","in-f w-2/3"),u(T,"pattern",tn),u(O,"name","qp"),u(O,"type","number"),u(O,"min","1024"),u(O,"max","65535"),u(O,"class","in-l tr w-1/3"),u(b,"class","flex"),u(m,"class","my-1"),u(B,"name","qu"),u(B,"type","text"),u(B,"class","in-s"),u(B,"pattern",_i),u(N,"class","my-1"),u(x,"name","qa"),u(x,"type","password"),u(x,"class","in-s"),u(x,"pattern",_i),u(j,"class","my-1"),u(Q,"name","qc"),u(Q,"type","text"),u(Q,"class","in-f w-full"),Q.required=$=t[3].q.h,u(Q,"pattern",pi),K.__value=1,J(K,K.__value),le.__value=2,J(le,le.__value),se.__value=3,J(se,se.__value),re.__value=4,J(re,re.__value),me.__value=0,J(me,me.__value),fe.__value=5,J(fe,fe.__value),ke.__value=6,J(ke,ke.__value),ge.__value=255,J(ge,ge.__value),u(D,"name","qm"),u(D,"class","in-l"),t[3].q.m===void 0&&Gt(()=>t[75].call(D)),u(z,"class","my-1 flex"),u(qe,"name","qb"),u(qe,"type","text"),u(qe,"class","in-s"),u(qe,"pattern",tn),u(Le,"class","my-1"),u(Qe,"name","qr"),u(Qe,"type","text"),u(Qe,"class","in-s"),u(Qe,"pattern",tn),u(Qe,"placeholder",ft=t[3].q.b+"/command"),u(be,"class","my-1"),u(tt,"class","float-right"),de.__value=0,J(de,de.__value),It.__value=1,J(It,It.__value),u(Ze,"name","qt"),u(Ze,"class","in-f w-1/2"),t[3].q.t===void 0&&Gt(()=>t[78].call(Ze)),u(et,"name","qd"),u(et,"type","number"),u(et,"min","1"),u(et,"max","3600"),u(et,"class","in-l tr w-1/2"),et.disabled=Ot=((rt=(Fe=t[3])==null?void 0:Fe.q)==null?void 0:rt.t)!=1,u($e,"class","flex"),u(pt,"class","my-1"),u(nt,"class","float-right"),u(Ft,"name","qi"),u(Ft,"type","number"),u(Ft,"min","500"),u(Ft,"max","10000"),u(Ft,"class","in-f tr w-1/2"),u(Dt,"name","qk"),u(Dt,"type","number"),u(Dt,"min","5"),u(Dt,"max","180"),u(Dt,"class","in-l tr w-1/2"),u(Rt,"class","flex"),u(Ve,"class","my-1"),u(e,"class","cnt")},m(Fe,rt){C(Fe,e,rt),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,v),gt&&gt.m(m,null),a(m,w),a(m,g),a(m,k),a(m,b),a(b,T),J(T,t[3].q.h),a(b,q),a(b,O),J(O,t[3].q.p),a(e,A),ut&&ut.m(e,null),a(e,P),a(e,N),a(N,V),a(N,Y),a(N,I),a(N,B),J(B,t[3].q.u),a(e,X),a(e,j),a(j,W),a(j,U),a(j,H),a(j,x),J(x,t[3].q.a),a(e,ne),a(e,z),a(z,ee),a(ee,ae),a(ee,oe),a(ee,ue),a(ee,Q),J(Q,t[3].q.c),a(z,te),a(z,ve),a(ve,E),a(ve,y),a(ve,R),a(ve,D),a(D,K),a(D,le),a(D,se),a(D,re),a(D,me),a(D,fe),a(D,ke),a(D,ge),st(D,t[3].q.m,!0),a(e,Ae),a(e,Le),a(Le,ze),a(Le,Je),a(Le,xe),a(Le,qe),J(qe,t[3].q.b),a(e,lt),a(e,be),a(be,We),a(be,dt),a(be,_t),a(be,Qe),J(Qe,t[3].q.r),a(e,jt),a(e,pt),a(pt,Pt),a(pt,Lt),a(pt,tt),a(tt,Pe),a(pt,He),a(pt,$e),a($e,Ze),a(Ze,de),a(de,Tt),a(Ze,It),a(It,je),st(Ze,t[3].q.t,!0),a($e,ct),a($e,et),J(et,t[3].q.d),a(e,zt),a(e,Ve),a(Ve,Te),a(Ve,Ge),a(Ve,nt),a(nt,ht),a(Ve,Yt),a(Ve,Rt),a(Rt,Ft),J(Ft,t[3].q.i),a(Rt,sl),a(Rt,Dt),J(Dt,t[3].q.k),Ye=!0,Ut||(Xt=[he(T,"input",t[70]),he(O,"input",t[71]),he(B,"input",t[72]),he(x,"input",t[73]),he(Q,"input",t[74]),he(D,"change",t[75]),he(qe,"input",t[76]),he(Qe,"input",t[77]),he(Ze,"change",t[78]),he(et,"input",t[79]),he(Ft,"input",t[80]),he(Dt,"input",t[81])],Ut=!0)},p(Fe,rt){var Ul,Bl,Wl,Hl,jl,zl,Kl,Vl,Gl,Yl,Xl,Jl,Ie,vt,xt,Ql,Zl,yn,Mn,Cn,Nn,Pn,Tn,En,An,qn,Ln,In,On,Dn;(!Ye||rt[0]&4)&&n!==(n=(((Bl=(Ul=Fe[2].conf)==null?void 0:Ul.mqtt)==null?void 0:Bl.title)??"MQTT")+"")&&L(i,n),(!Ye||rt[0]&4)&&d!==(d=(((Hl=(Wl=Fe[2].conf)==null?void 0:Wl.mqtt)==null?void 0:Hl.server)??"Server")+"")&&L(_,d),Fe[0].chip!="esp8266"?gt?gt.p(Fe,rt):(gt=Wa(Fe),gt.c(),gt.m(m,w)):gt&&(gt.d(1),gt=null),rt[0]&8&&T.value!==Fe[3].q.h&&J(T,Fe[3].q.h),rt[0]&8&&kt(O.value)!==Fe[3].q.p&&J(O,Fe[3].q.p),Fe[3].q.s.e?ut?(ut.p(Fe,rt),rt[0]&8&&Z(ut,1)):(ut=Ha(Fe),ut.c(),Z(ut,1),ut.m(e,P)):ut&&(wt(),ie(ut,1,1,()=>{ut=null}),St()),(!Ye||rt[0]&4)&&F!==(F=(((zl=(jl=Fe[2].conf)==null?void 0:jl.mqtt)==null?void 0:zl.user)??"Username")+"")&&L(V,F),rt[0]&8&&B.value!==Fe[3].q.u&&J(B,Fe[3].q.u),(!Ye||rt[0]&4)&&G!==(G=(((Vl=(Kl=Fe[2].conf)==null?void 0:Kl.mqtt)==null?void 0:Vl.pass)??"Password")+"")&&L(W,G),rt[0]&8&&x.value!==Fe[3].q.a&&J(x,Fe[3].q.a),(!Ye||rt[0]&4)&&ce!==(ce=(((Yl=(Gl=Fe[2].conf)==null?void 0:Gl.mqtt)==null?void 0:Yl.id)??"Client ID")+"")&&L(ae,ce),(!Ye||rt[0]&8&&$!==($=Fe[3].q.h))&&(Q.required=$),rt[0]&8&&Q.value!==Fe[3].q.c&&J(Q,Fe[3].q.c),(!Ye||rt[0]&4)&&we!==(we=(((Jl=(Xl=Fe[2].conf)==null?void 0:Xl.mqtt)==null?void 0:Jl.payload)??"Payload")+"")&&L(E,we),rt[0]&8&&st(D,Fe[3].q.m),(!Ye||rt[0]&4)&&Be!==(Be=(((vt=(Ie=Fe[2].conf)==null?void 0:Ie.mqtt)==null?void 0:vt.publish)??"Publish topic")+"")&&L(ze,Be),rt[0]&8&&qe.value!==Fe[3].q.b&&J(qe,Fe[3].q.b),(!Ye||rt[0]&4)&&ye!==(ye=(((Ql=(xt=Fe[2].conf)==null?void 0:xt.mqtt)==null?void 0:Ql.subscribe)??"Subscribe topic")+"")&&L(We,ye),(!Ye||rt[0]&8&&ft!==(ft=Fe[3].q.b+"/command"))&&u(Qe,"placeholder",ft),rt[0]&8&&Qe.value!==Fe[3].q.r&&J(Qe,Fe[3].q.r),(!Ye||rt[0]&4)&&qt!==(qt=(((yn=(Zl=Fe[2].conf)==null?void 0:Zl.mqtt)==null?void 0:yn.update)??"Update method")+"")&&L(Pt,qt),(!Ye||rt[0]&4)&&ot!==(ot=(((Cn=(Mn=Fe[2].conf)==null?void 0:Mn.mqtt)==null?void 0:Cn.interval)??"Interval")+"")&&L(Pe,ot),(!Ye||rt[0]&4)&&De!==(De=(((Pn=(Nn=Fe[2].conf)==null?void 0:Nn.mqtt)==null?void 0:Pn.realtime)??"Real time")+"")&&L(Tt,De),(!Ye||rt[0]&4)&&bt!==(bt=(((En=(Tn=Fe[2].conf)==null?void 0:Tn.mqtt)==null?void 0:En.interval)??"Interval")+"")&&L(je,bt),rt[0]&8&&st(Ze,Fe[3].q.t),(!Ye||rt[0]&8&&Ot!==(Ot=((qn=(An=Fe[3])==null?void 0:An.q)==null?void 0:qn.t)!=1))&&(et.disabled=Ot),rt[0]&8&&kt(et.value)!==Fe[3].q.d&&J(et,Fe[3].q.d),(!Ye||rt[0]&4)&&Se!==(Se=(((In=(Ln=Fe[2].conf)==null?void 0:Ln.mqtt)==null?void 0:In.timeout)??"Timeout")+"")&&L(Te,Se),(!Ye||rt[0]&4)&&at!==(at=(((Dn=(On=Fe[2].conf)==null?void 0:On.mqtt)==null?void 0:Dn.keepalive)??"Keep-alive")+"")&&L(ht,at),rt[0]&8&&kt(Ft.value)!==Fe[3].q.i&&J(Ft,Fe[3].q.i),rt[0]&8&&kt(Dt.value)!==Fe[3].q.k&&J(Dt,Fe[3].q.k)},i(Fe){Ye||(Z(ut),Ye=!0)},o(Fe){ie(ut),Ye=!1},d(Fe){Fe&&M(e),gt&&gt.d(),ut&&ut.d(),Ut=!1,Ht(Xt)}}}function Wa(t){let e,l,n,i,s;return{c(){e=p("label"),l=p("input"),n=S(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",J(l,l.__value),u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(o,f){C(o,e,f),a(e,l),l.checked=t[3].q.s.e,a(e,n),i||(s=[he(l,"change",t[69]),he(l,"change",t[22])],i=!0)},p(o,f){f[0]&8&&(l.checked=o[3].q.s.e)},d(o){o&&M(e),i=!1,Ht(s)}}}function Ha(t){let e,l,n,i,s,o,f,r,c,m,d,_,v;const w=[Y1,G1],g=[];function k(N,F){return N[3].q.s.c?0:1}n=k(t),i=g[n]=w[n](t);const b=[Z1,Q1],T=[];function q(N,F){return N[3].q.s.r?0:1}f=q(t),r=T[f]=b[f](t);const O=[tm,em],A=[];function P(N,F){return N[3].q.s.k?0:1}return d=P(t),_=A[d]=O[d](t),{c(){e=p("div"),l=p("span"),i.c(),s=h(),o=p("span"),r.c(),c=h(),m=p("span"),_.c(),u(l,"class","flex pr-2"),u(o,"class","flex pr-2"),u(m,"class","flex pr-2"),u(e,"class","my-1 flex")},m(N,F){C(N,e,F),a(e,l),g[n].m(l,null),a(e,s),a(e,o),T[f].m(o,null),a(e,c),a(e,m),A[d].m(m,null),v=!0},p(N,F){let V=n;n=k(N),n===V?g[n].p(N,F):(wt(),ie(g[V],1,1,()=>{g[V]=null}),St(),i=g[n],i?i.p(N,F):(i=g[n]=w[n](N),i.c()),Z(i,1),i.m(l,null));let Y=f;f=q(N),f===Y?T[f].p(N,F):(wt(),ie(T[Y],1,1,()=>{T[Y]=null}),St(),r=T[f],r?r.p(N,F):(r=T[f]=b[f](N),r.c()),Z(r,1),r.m(o,null));let I=d;d=P(N),d===I?A[d].p(N,F):(wt(),ie(A[I],1,1,()=>{A[I]=null}),St(),_=A[d],_?_.p(N,F):(_=A[d]=O[d](N),_.c()),Z(_,1),_.m(m,null))},i(N){v||(Z(i),Z(r),Z(_),v=!0)},o(N){ie(i),ie(r),ie(_),v=!1},d(N){N&&M(e),g[n].d(),T[f].d(),A[d].d()}}}function G1(t){let e,l;return e=new vl({props:{to:"/mqtt-ca",$$slots:{default:[X1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Y1(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-ca",$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[19]),he(i,"keypress",t[19])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Z(l.$$.fragment,r),s=!0)},o(r){ie(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Ht(f)}}}function X1(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_ca_upload)??"Upload CA",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_ca)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,v;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_ca_upload)??"Upload CA"),r[0]&4&&(c.title=((v=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:v.title_ca)??""),e.$set(c)},i(f){l||(Z(e.$$.fragment,f),l=!0)},o(f){ie(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function J1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.ca_ok)??"CA OK")+"",l;return{c(){l=S(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.ca_ok)??"CA OK")+"")&&L(l,e)},d(s){s&&M(l)}}}function Q1(t){let e,l;return e=new vl({props:{to:"/mqtt-cert",$$slots:{default:[$1]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function Z1(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-cert",$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[20]),he(i,"keypress",t[20])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Z(l.$$.fragment,r),s=!0)},o(r){ie(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Ht(f)}}}function $1(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_crt_upload)??"Upload cert",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_crt)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,v;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_crt_upload)??"Upload cert"),r[0]&4&&(c.title=((v=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:v.title_crt)??""),e.$set(c)},i(f){l||(Z(e.$$.fragment,f),l=!0)},o(f){ie(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function x1(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.crt_ok)??"Cert OK")+"",l;return{c(){l=S(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.crt_ok)??"Cert OK")+"")&&L(l,e)},d(s){s&&M(l)}}}function em(t){let e,l;return e=new vl({props:{to:"/mqtt-key",$$slots:{default:[lm]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i[0]&4|i[4]&1&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function tm(t){let e,l,n,i,s,o,f;return l=new vl({props:{to:"/mqtt-key",$$slots:{default:[nm]},$$scope:{ctx:t}}}),{c(){e=p("span"),Ne(l.$$.fragment),n=h(),i=p("span"),i.textContent="🗑",u(e,"class","bd-on"),u(i,"class","bd-off")},m(r,c){C(r,e,c),Me(l,e,null),C(r,n,c),C(r,i,c),s=!0,o||(f=[he(i,"click",t[21]),he(i,"keypress",t[21])],o=!0)},p(r,c){const m={};c[0]&4|c[4]&1&&(m.$$scope={dirty:c,ctx:r}),l.$set(m)},i(r){s||(Z(l.$$.fragment,r),s=!0)},o(r){ie(l.$$.fragment,r),s=!1},d(r){r&&(M(e),M(n),M(i)),Ce(l),o=!1,Ht(f)}}}function lm(t){var n,i,s,o;let e,l;return e=new Xn({props:{color:"blue",text:((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.btn_key_upload)??"Upload key",title:((o=(s=t[2].conf)==null?void 0:s.mqtt)==null?void 0:o.title_key)??""}}),{c(){Ne(e.$$.fragment)},m(f,r){Me(e,f,r),l=!0},p(f,r){var m,d,_,v;const c={};r[0]&4&&(c.text=((d=(m=f[2].conf)==null?void 0:m.mqtt)==null?void 0:d.btn_key_upload)??"Upload key"),r[0]&4&&(c.title=((v=(_=f[2].conf)==null?void 0:_.mqtt)==null?void 0:v.title_key)??""),e.$set(c)},i(f){l||(Z(e.$$.fragment,f),l=!0)},o(f){ie(e.$$.fragment,f),l=!1},d(f){Ce(e,f)}}}function nm(t){var n,i;let e=(((i=(n=t[2].conf)==null?void 0:n.mqtt)==null?void 0:i.key_ok)??"Key OK")+"",l;return{c(){l=S(e)},m(s,o){C(s,l,o)},p(s,o){var f,r;o[0]&4&&e!==(e=(((r=(f=s[2].conf)==null?void 0:f.mqtt)==null?void 0:r.key_ok)??"Key OK")+"")&&L(l,e)},d(s){s&&M(l)}}}function ja(t){var z,ee,ce,ae,oe,ue,Q,$,te,ve,we,E;let e,l,n=(((ce=(ee=(z=t[2].conf)==null?void 0:z.mqtt)==null?void 0:ee.domoticz)==null?void 0:ce.title)??"Domoticz")+"",i,s,o,f,r,c,m,d,_=(((ue=(oe=(ae=t[2].conf)==null?void 0:ae.mqtt)==null?void 0:oe.domoticz)==null?void 0:ue.eidx)??"Electricity IDX")+"",v,w,g,k,b,T,q=(((te=($=(Q=t[2].conf)==null?void 0:Q.mqtt)==null?void 0:$.domoticz)==null?void 0:te.cidx)??"Current IDX")+"",O,A,P,N,F,V,Y=(((E=(we=(ve=t[2].conf)==null?void 0:ve.mqtt)==null?void 0:we.domoticz)==null?void 0:E.vidx)??"Voltage IDX")+"",I,B,X,j,G,W,U,H,x,ne;return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),d=p("div"),v=S(_),w=p("br"),g=h(),k=p("input"),b=h(),T=p("div"),O=S(q),A=p("br"),P=h(),N=p("input"),F=h(),V=p("div"),I=S(Y),B=S(`: L1, L2 & L3
                    `),X=p("div"),j=p("input"),G=h(),W=p("input"),U=h(),H=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#domoticz")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","o"),r.value="true",u(k,"name","oe"),u(k,"type","text"),u(k,"class","in-f tr w-full"),u(k,"pattern",Fn),u(d,"class","w-1/2"),u(N,"name","oc"),u(N,"type","text"),u(N,"class","in-l tr w-full"),u(N,"pattern",Fn),u(T,"class","w-1/2"),u(m,"class","my-1 flex"),u(j,"name","ou1"),u(j,"type","text"),u(j,"class","in-f tr w-1/3"),u(j,"pattern",Fn),u(W,"name","ou2"),u(W,"type","text"),u(W,"class","in-m tr w-1/3"),u(W,"pattern",Fn),u(H,"name","ou3"),u(H,"type","text"),u(H,"class","in-l tr w-1/3"),u(H,"pattern",Fn),u(X,"class","flex"),u(V,"class","my-1"),u(e,"class","cnt")},m(y,R){C(y,e,R),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(d,v),a(d,w),a(d,g),a(d,k),J(k,t[3].o.e),a(m,b),a(m,T),a(T,O),a(T,A),a(T,P),a(T,N),J(N,t[3].o.c),a(e,F),a(e,V),a(V,I),a(V,B),a(V,X),a(X,j),J(j,t[3].o.u1),a(X,G),a(X,W),J(W,t[3].o.u2),a(X,U),a(X,H),J(H,t[3].o.u3),x||(ne=[he(k,"input",t[82]),he(N,"input",t[83]),he(j,"input",t[84]),he(W,"input",t[85]),he(H,"input",t[86])],x=!0)},p(y,R){var D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be;R[0]&4&&n!==(n=(((le=(K=(D=y[2].conf)==null?void 0:D.mqtt)==null?void 0:K.domoticz)==null?void 0:le.title)??"Domoticz")+"")&&L(i,n),R[0]&4&&_!==(_=(((me=(re=(se=y[2].conf)==null?void 0:se.mqtt)==null?void 0:re.domoticz)==null?void 0:me.eidx)??"Electricity IDX")+"")&&L(v,_),R[0]&8&&k.value!==y[3].o.e&&J(k,y[3].o.e),R[0]&4&&q!==(q=(((ge=(ke=(fe=y[2].conf)==null?void 0:fe.mqtt)==null?void 0:ke.domoticz)==null?void 0:ge.cidx)??"Current IDX")+"")&&L(O,q),R[0]&8&&N.value!==y[3].o.c&&J(N,y[3].o.c),R[0]&4&&Y!==(Y=(((Be=(Le=(Ae=y[2].conf)==null?void 0:Ae.mqtt)==null?void 0:Le.domoticz)==null?void 0:Be.vidx)??"Voltage IDX")+"")&&L(I,Y),R[0]&8&&j.value!==y[3].o.u1&&J(j,y[3].o.u1),R[0]&8&&W.value!==y[3].o.u2&&J(W,y[3].o.u2),R[0]&8&&H.value!==y[3].o.u3&&J(H,y[3].o.u3)},d(y){y&&M(e),x=!1,Ht(ne)}}}function za(t){var U,H,x,ne,z,ee,ce,ae,oe,ue,Q,$;let e,l,n=(((x=(H=(U=t[2].conf)==null?void 0:U.mqtt)==null?void 0:H.ha)==null?void 0:x.title)??"Home-Assistant")+"",i,s,o,f,r,c,m,d=(((ee=(z=(ne=t[2].conf)==null?void 0:ne.mqtt)==null?void 0:z.ha)==null?void 0:ee.discovery)??"Discovery topic prefix")+"",_,v,w,g,k,b,T=(((oe=(ae=(ce=t[2].conf)==null?void 0:ce.mqtt)==null?void 0:ae.ha)==null?void 0:oe.hostname)??"Hostname for URL")+"",q,O,A,P,N,F,V,Y=((($=(Q=(ue=t[2].conf)==null?void 0:ue.mqtt)==null?void 0:Q.ha)==null?void 0:$.tag)??"Name tag")+"",I,B,X,j,G,W;return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div"),_=S(d),v=p("br"),w=h(),g=p("input"),k=h(),b=p("div"),q=S(T),O=p("br"),A=h(),P=p("input"),F=h(),V=p("div"),I=S(Y),B=p("br"),X=h(),j=p("input"),u(l,"class","text-sm"),u(o,"href",Ol("MQTT-configuration#home-assistant")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","h"),r.value="true",u(g,"name","ht"),u(g,"type","text"),u(g,"class","in-s"),u(g,"placeholder","homeassistant"),u(g,"pattern",tn),u(m,"class","my-1"),u(P,"name","hh"),u(P,"type","text"),u(P,"class","in-s"),u(P,"placeholder",N=t[3].g.h+".local"),u(P,"pattern",tn),u(b,"class","my-1"),u(j,"name","hn"),u(j,"type","text"),u(j,"class","in-s"),u(j,"pattern",tn),u(V,"class","my-1"),u(e,"class","cnt")},m(te,ve){C(te,e,ve),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,_),a(m,v),a(m,w),a(m,g),J(g,t[3].h.t),a(e,k),a(e,b),a(b,q),a(b,O),a(b,A),a(b,P),J(P,t[3].h.h),a(e,F),a(e,V),a(V,I),a(V,B),a(V,X),a(V,j),J(j,t[3].h.n),G||(W=[he(g,"input",t[87]),he(P,"input",t[88]),he(j,"input",t[89])],G=!0)},p(te,ve){var we,E,y,R,D,K,le,se,re,me,fe,ke;ve[0]&4&&n!==(n=(((y=(E=(we=te[2].conf)==null?void 0:we.mqtt)==null?void 0:E.ha)==null?void 0:y.title)??"Home-Assistant")+"")&&L(i,n),ve[0]&4&&d!==(d=(((K=(D=(R=te[2].conf)==null?void 0:R.mqtt)==null?void 0:D.ha)==null?void 0:K.discovery)??"Discovery topic prefix")+"")&&L(_,d),ve[0]&8&&g.value!==te[3].h.t&&J(g,te[3].h.t),ve[0]&4&&T!==(T=(((re=(se=(le=te[2].conf)==null?void 0:le.mqtt)==null?void 0:se.ha)==null?void 0:re.hostname)??"Hostname for URL")+"")&&L(q,T),ve[0]&8&&N!==(N=te[3].g.h+".local")&&u(P,"placeholder",N),ve[0]&8&&P.value!==te[3].h.h&&J(P,te[3].h.h),ve[0]&4&&Y!==(Y=(((ke=(fe=(me=te[2].conf)==null?void 0:me.mqtt)==null?void 0:fe.ha)==null?void 0:ke.tag)??"Name tag")+"")&&L(I,Y),ve[0]&8&&j.value!==te[3].h.n&&J(j,te[3].h.n)},d(te){te&&M(e),G=!1,Ht(W)}}}function Ka(t){var Y,I,B,X,j;let e,l,n=(((I=(Y=t[2].conf)==null?void 0:Y.thresholds)==null?void 0:I.title)??"Thresholds")+"",i,s,o,f,r,c,m,d,_,v,w=(((X=(B=t[2].conf)==null?void 0:B.thresholds)==null?void 0:X.avg)??"Average of")+"",g,k,b,T,q,O=(((j=t[2].common)==null?void 0:j.hours)??"hours")+"",A,P,N,F=Xe({length:9}),V=[];for(let G=0;G<F.length;G+=1)V[G]=Va(pa(t,F,G));return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let G=0;G<V.length;G+=1)V[G].c();d=h(),_=p("label"),v=p("span"),g=S(w),k=h(),b=p("input"),T=h(),q=p("span"),A=S(O),u(l,"class","text-sm"),u(o,"href",Ol("Threshold-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","t"),r.value="true",u(m,"class","flex flex-wrap my-1"),u(v,"class","in-pre"),u(b,"name","th"),u(b,"type","number"),u(b,"min","0"),u(b,"max","255"),u(b,"class","in-txt tr w-full"),u(q,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(G,W){C(G,e,W),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let U=0;U<V.length;U+=1)V[U]&&V[U].m(m,null);a(e,d),a(e,_),a(_,v),a(v,g),a(_,k),a(_,b),J(b,t[3].t.h),a(_,T),a(_,q),a(q,A),P||(N=he(b,"input",t[91]),P=!0)},p(G,W){var U,H,x,ne,z;if(W[0]&4&&n!==(n=(((H=(U=G[2].conf)==null?void 0:U.thresholds)==null?void 0:H.title)??"Thresholds")+"")&&L(i,n),W[0]&8){F=Xe({length:9});let ee;for(ee=0;ee<F.length;ee+=1){const ce=pa(G,F,ee);V[ee]?V[ee].p(ce,W):(V[ee]=Va(ce),V[ee].c(),V[ee].m(m,null))}for(;ee<V.length;ee+=1)V[ee].d(1);V.length=F.length}W[0]&4&&w!==(w=(((ne=(x=G[2].conf)==null?void 0:x.thresholds)==null?void 0:ne.avg)??"Average of")+"")&&L(g,w),W[0]&8&&kt(b.value)!==G[3].t.h&&J(b,G[3].t.h),W[0]&4&&O!==(O=(((z=G[2].common)==null?void 0:z.hours)??"hours")+"")&&L(A,O)},d(G){G&&M(e),Qt(V,G),P=!1,N()}}}function Va(t){let e,l,n,i,s,o,f,r,c;function m(){t[90].call(i,t[105])}return{c(){e=p("label"),l=p("span"),l.textContent=`${t[105]+1}`,n=h(),i=p("input"),s=h(),o=p("span"),o.textContent="kWh",f=h(),u(l,"class","in-pre"),u(i,"name","t"+t[105]),u(i,"type","number"),u(i,"min","0"),u(i,"max","65535"),u(i,"class","in-txt w-full"),u(o,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(e,i),J(i,t[3].t.t[t[105]]),a(e,s),a(e,o),a(e,f),r||(c=he(i,"input",m),r=!0)},p(d,_){t=d,_[0]&8&&kt(i.value)!==t[3].t.t[t[105]]&&J(i,t[3].t.t[t[105]])},d(d){d&&M(e),r=!1,c()}}}function Ga(t){var v,w;let e,l,n=(((w=(v=t[2].conf)==null?void 0:v.ui)==null?void 0:w.title)??"User interface")+"",i,s,o,f,r,c,m,d=Xe(t[15]),_=[];for(let g=0;g<d.length;g+=1)_[g]=Ya(_a(t,d,g));return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("input"),c=h(),m=p("div");for(let g=0;g<_.length;g+=1)_[g].c();u(l,"class","text-sm"),u(o,"href",Ol("User-interface")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"type","hidden"),u(r,"name","u"),r.value="true",u(m,"class","flex flex-wrap"),u(e,"class","cnt")},m(g,k){C(g,e,k),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(m,null)},p(g,k){var b,T;if(k[0]&4&&n!==(n=(((T=(b=g[2].conf)==null?void 0:b.ui)==null?void 0:T.title)??"User interface")+"")&&L(i,n),k[0]&32780){d=Xe(g[15]);let q;for(q=0;q<d.length;q+=1){const O=_a(g,d,q);_[q]?_[q].p(O,k):(_[q]=Ya(O),_[q].c(),_[q].m(m,null))}for(;q<_.length;q+=1)_[q].d(1);_.length=d.length}},d(g){g&&M(e),Qt(_,g)}}}function Ya(t){var O,A,P,N,F,V,Y,I;let e,l=(((A=(O=t[2].conf)==null?void 0:O.ui)==null?void 0:A[t[100].key])??t[100].name)+"",n,i,s,o,f,r=(((N=(P=t[2].conf)==null?void 0:P.ui)==null?void 0:N.disabled)??"Disabled")+"",c,m,d=(((V=(F=t[2].conf)==null?void 0:F.ui)==null?void 0:V.enabled)??"Enabled")+"",_,v,w=(((I=(Y=t[2].conf)==null?void 0:Y.ui)==null?void 0:I.auto)??"Auto")+"",g,k,b,T;function q(){t[92].call(o,t[100])}return{c(){e=p("div"),n=S(l),i=p("br"),s=h(),o=p("select"),f=p("option"),c=S(r),m=p("option"),_=S(d),v=p("option"),g=S(w),k=h(),f.__value=0,J(f,f.__value),m.__value=1,J(m,m.__value),v.__value=2,J(v,v.__value),u(o,"name","u"+t[100].key),u(o,"class","in-s"),t[3].u[t[100].key]===void 0&&Gt(q),u(e,"class","w-1/2")},m(B,X){C(B,e,X),a(e,n),a(e,i),a(e,s),a(e,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,v),a(v,g),st(o,t[3].u[t[100].key],!0),a(e,k),b||(T=he(o,"change",q),b=!0)},p(B,X){var j,G,W,U,H,x,ne,z;t=B,X[0]&4&&l!==(l=(((G=(j=t[2].conf)==null?void 0:j.ui)==null?void 0:G[t[100].key])??t[100].name)+"")&&L(n,l),X[0]&4&&r!==(r=(((U=(W=t[2].conf)==null?void 0:W.ui)==null?void 0:U.disabled)??"Disabled")+"")&&L(c,r),X[0]&4&&d!==(d=(((x=(H=t[2].conf)==null?void 0:H.ui)==null?void 0:x.enabled)??"Enabled")+"")&&L(_,d),X[0]&4&&w!==(w=(((z=(ne=t[2].conf)==null?void 0:ne.ui)==null?void 0:z.auto)??"Auto")+"")&&L(g,w),X[0]&32776&&st(o,t[3].u[t[100].key])},d(B){B&&M(e),b=!1,T()}}}function Xa(t){var _,v;let e,l,n=(((_=t[2].conf)==null?void 0:_.btn_reset)??"Factory reset")+"",i,s,o,f,r=(((v=t[2].btn)==null?void 0:v.reboot)??"Reboot")+"",c,m,d;return{c(){e=p("div"),l=p("button"),i=S(n),s=h(),o=p("div"),f=p("button"),c=S(r),u(l,"type","button"),u(l,"class","btn-red"),u(f,"type","button"),u(f,"class","btn-yellow"),u(o,"class","text-center")},m(w,g){C(w,e,g),a(e,l),a(l,i),C(w,s,g),C(w,o,g),a(o,f),a(f,c),m||(d=[he(l,"click",t[16]),he(f,"click",t[18])],m=!0)},p(w,g){var k,b;g[0]&4&&n!==(n=(((k=w[2].conf)==null?void 0:k.btn_reset)??"Factory reset")+"")&&L(i,n),g[0]&4&&r!==(r=(((b=w[2].btn)==null?void 0:b.reboot)??"Reboot")+"")&&L(c,r)},d(w){w&&(M(e),M(s),M(o)),m=!1,Ht(d)}}}function Ja(t){var s;let e,l,n=(((s=t[2].btn)==null?void 0:s.save)??"Save")+"",i;return{c(){e=p("div"),l=p("button"),i=S(n),u(l,"type","submit"),u(l,"class","btn-pri"),u(e,"class","text-right")},m(o,f){C(o,e,f),a(e,l),a(l,i)},p(o,f){var r;f[0]&4&&n!==(n=(((r=o[2].btn)==null?void 0:r.save)??"Save")+"")&&L(i,n)},d(o){o&&M(e)}}}function im(t){var ce,ae,oe,ue,Q,$,te,ve,we,E,y,R,D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be,ze,Je,xe,qe,lt;let e,l,n,i,s,o,f,r,c,m,d=((oe=(ae=(ce=t[3])==null?void 0:ce.p)==null?void 0:ae.r)==null?void 0:oe.startsWith("NO"))||(($=(Q=(ue=t[3])==null?void 0:ue.p)==null?void 0:Q.r)==null?void 0:$.startsWith("10YNO"))||((we=(ve=(te=t[3])==null?void 0:te.p)==null?void 0:ve.r)==null?void 0:we.startsWith("10Y1001A1001A4")),_,v,w,g,k,b,T,q,O,A,P,N,F,V,Y,I=((E=t[3])==null?void 0:E.g)&&ba(t),B=((y=t[3])==null?void 0:y.fw)&&ya(t),X=((R=t[3])==null?void 0:R.d)&&Ma(t),j=((D=t[3])==null?void 0:D.m)&&Na(t),G=((K=t[3])==null?void 0:K.w)&&Oa(t),W=((le=t[3])==null?void 0:le.q)&&Ba(t),U=((re=(se=t[3])==null?void 0:se.q)==null?void 0:re.m)==3&&ja(t),H=((fe=(me=t[3])==null?void 0:me.q)==null?void 0:fe.m)==4&&za(t),x=d&&Ka(t),ne=((ke=t[3])==null?void 0:ke.u)&&Ga(t),z=((ge=t[1])==null?void 0:ge.a)&&Xa(t),ee=t[3]&&Ja(t);return b=new ml({props:{active:t[6],message:((Le=(Ae=t[2].conf)==null?void 0:Ae.mask)==null?void 0:Le.loading)??"Loading"}}),q=new ml({props:{active:t[7],message:((ze=(Be=t[2].conf)==null?void 0:Be.mask)==null?void 0:ze.saving)??"Saving"}}),A=new ml({props:{active:t[11],message:((xe=(Je=t[2].conf)==null?void 0:Je.mask)==null?void 0:xe.reset)??"Factory reset"}}),N=new ml({props:{active:t[12],message:((lt=(qe=t[2].conf)==null?void 0:qe.mask)==null?void 0:lt.reset_done)??"Done"}}),{c(){e=p("form"),l=p("div"),I&&I.c(),n=h(),B&&B.c(),i=h(),X&&X.c(),s=h(),j&&j.c(),o=h(),G&&G.c(),f=h(),W&&W.c(),r=h(),U&&U.c(),c=h(),H&&H.c(),m=h(),x&&x.c(),_=h(),ne&&ne.c(),v=h(),w=p("div"),z&&z.c(),g=h(),ee&&ee.c(),k=h(),Ne(b.$$.fragment),T=h(),Ne(q.$$.fragment),O=h(),Ne(A.$$.fragment),P=h(),Ne(N.$$.fragment),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(w,"class","grid grid-cols-3 mt-3"),u(e,"autocomplete","off")},m(be,ye){C(be,e,ye),a(e,l),I&&I.m(l,null),a(l,n),B&&B.m(l,null),a(l,i),X&&X.m(l,null),a(l,s),j&&j.m(l,null),a(l,o),G&&G.m(l,null),a(l,f),W&&W.m(l,null),a(l,r),U&&U.m(l,null),a(l,c),H&&H.m(l,null),a(l,m),x&&x.m(l,null),a(l,_),ne&&ne.m(l,null),a(e,v),a(e,w),z&&z.m(w,null),a(w,g),ee&&ee.m(w,null),C(be,k,ye),Me(b,be,ye),C(be,T,ye),Me(q,be,ye),C(be,O,ye),Me(A,be,ye),C(be,P,ye),Me(N,be,ye),F=!0,V||(Y=he(e,"submit",Sn(t[17])),V=!0)},p(be,ye){var ft,jt,pt,qt,Pt,Lt,tt,ot,Pe,He,$e,Ze,de,De,Tt,It,bt,je,ct,et,Ot,zt,Ve,Se,Te,Ge,nt,at,ht;(ft=be[3])!=null&&ft.g?I?(I.p(be,ye),ye[0]&8&&Z(I,1)):(I=ba(be),I.c(),Z(I,1),I.m(l,n)):I&&(wt(),ie(I,1,1,()=>{I=null}),St()),(jt=be[3])!=null&&jt.fw?B?B.p(be,ye):(B=ya(be),B.c(),B.m(l,i)):B&&(B.d(1),B=null),(pt=be[3])!=null&&pt.d?X?X.p(be,ye):(X=Ma(be),X.c(),X.m(l,s)):X&&(X.d(1),X=null),(qt=be[3])!=null&&qt.m?j?j.p(be,ye):(j=Na(be),j.c(),j.m(l,o)):j&&(j.d(1),j=null),(Pt=be[3])!=null&&Pt.w?G?G.p(be,ye):(G=Oa(be),G.c(),G.m(l,f)):G&&(G.d(1),G=null),(Lt=be[3])!=null&&Lt.q?W?(W.p(be,ye),ye[0]&8&&Z(W,1)):(W=Ba(be),W.c(),Z(W,1),W.m(l,r)):W&&(wt(),ie(W,1,1,()=>{W=null}),St()),((ot=(tt=be[3])==null?void 0:tt.q)==null?void 0:ot.m)==3?U?U.p(be,ye):(U=ja(be),U.c(),U.m(l,c)):U&&(U.d(1),U=null),((He=(Pe=be[3])==null?void 0:Pe.q)==null?void 0:He.m)==4?H?H.p(be,ye):(H=za(be),H.c(),H.m(l,m)):H&&(H.d(1),H=null),ye[0]&8&&(d=((de=(Ze=($e=be[3])==null?void 0:$e.p)==null?void 0:Ze.r)==null?void 0:de.startsWith("NO"))||((It=(Tt=(De=be[3])==null?void 0:De.p)==null?void 0:Tt.r)==null?void 0:It.startsWith("10YNO"))||((ct=(je=(bt=be[3])==null?void 0:bt.p)==null?void 0:je.r)==null?void 0:ct.startsWith("10Y1001A1001A4"))),d?x?x.p(be,ye):(x=Ka(be),x.c(),x.m(l,_)):x&&(x.d(1),x=null),(et=be[3])!=null&&et.u?ne?ne.p(be,ye):(ne=Ga(be),ne.c(),ne.m(l,null)):ne&&(ne.d(1),ne=null),(Ot=be[1])!=null&&Ot.a?z?z.p(be,ye):(z=Xa(be),z.c(),z.m(w,g)):z&&(z.d(1),z=null),be[3]?ee?ee.p(be,ye):(ee=Ja(be),ee.c(),ee.m(w,null)):ee&&(ee.d(1),ee=null);const We={};ye[0]&64&&(We.active=be[6]),ye[0]&4&&(We.message=((Ve=(zt=be[2].conf)==null?void 0:zt.mask)==null?void 0:Ve.loading)??"Loading"),b.$set(We);const dt={};ye[0]&128&&(dt.active=be[7]),ye[0]&4&&(dt.message=((Te=(Se=be[2].conf)==null?void 0:Se.mask)==null?void 0:Te.saving)??"Saving"),q.$set(dt);const _t={};ye[0]&2048&&(_t.active=be[11]),ye[0]&4&&(_t.message=((nt=(Ge=be[2].conf)==null?void 0:Ge.mask)==null?void 0:nt.reset)??"Factory reset"),A.$set(_t);const Qe={};ye[0]&4096&&(Qe.active=be[12]),ye[0]&4&&(Qe.message=((ht=(at=be[2].conf)==null?void 0:at.mask)==null?void 0:ht.reset_done)??"Done"),N.$set(Qe)},i(be){F||(Z(I),Z(W),Z(b.$$.fragment,be),Z(q.$$.fragment,be),Z(A.$$.fragment,be),Z(N.$$.fragment,be),F=!0)},o(be){ie(I),ie(W),ie(b.$$.fragment,be),ie(q.$$.fragment,be),ie(A.$$.fragment,be),ie(N.$$.fragment,be),F=!1},d(be){be&&(M(e),M(k),M(T),M(O),M(P)),I&&I.d(),B&&B.d(),X&&X.d(),j&&j.d(),G&&G.d(),W&&W.d(),U&&U.d(),H&&H.d(),x&&x.d(),ne&&ne.d(),z&&z.d(),ee&&ee.d(),Ce(b,be),Ce(q,be),Ce(A,be),Ce(N,be),V=!1,Y()}}}async function sm(){await(await fetch("reboot",{method:"POST"})).json()}function Qa(t){let e=Number(t??0);return Number.isFinite(e)||(e=parseInt(t??0,10)),Number.isFinite(e)||(e=0),`${((e%24+24)%24).toString().padStart(2,"0")}:00`}function om(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,{data:s}=e;const o={high:xf,medium:$f,low:Zf,off:eu};o.off;let f={};Cl.subscribe(Se=>{l(2,f=Se)});const r=[{value:0,label:"Verbose"},{value:1,label:"Debug"},{value:2,label:"Info"},{value:3,label:"Warning"},{value:4,label:"Error"},{value:5,label:"Silent"}];let c=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],m=!0,d=!1,_,v=[],w="",g=null;vn.subscribe(Se=>{var Te,Ge,nt,at;if(Se.version){(Te=Se==null?void 0:Se.c)==null||Te.e,l(3,_=Se),l(6,m=!1);const ht=((Ge=f.consent)==null?void 0:Ge.load_from_server)??"Load from server";l(4,v=[{code:"en",name:"English"},{code:"no",name:"Norsk"}]),_!=null&&_.fw?l(3,_.fw={a:!!_.fw.a,s:Number(_.fw.s??2),e:Number(_.fw.e??3)},_):l(3,_={..._,fw:{a:!1,s:2,e:3}}),_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??_.fw.e??2),_),_!=null&&_.d?l(3,_.d={s:_.d.s===!0||_.d.s==="true",t:_.d.t===!0||_.d.t==="true",l:Number(_.d.l??4)},_):l(3,_={..._,d:{s:!1,t:!1,l:4}}),(nt=_==null?void 0:_.u)!=null&&nt.lang&&!v.find(Yt=>Yt.code===_.u.lang)&&v.push({code:_.u.lang,name:((at=f.language)==null?void 0:at.name)??"Unknown"}),v.push({code:"hub",name:ht})}}),su();let k={},b=[];Jf.subscribe(Se=>{var Te;for(let Ge=0;Ge<Se.n.length&&Se.n[Ge].s!=((Te=_==null?void 0:_.w)==null?void 0:Te.s);Ge++);l(5,k=Se)});let T=!1,q=!1;async function O(){if(confirm("Factory reset?")){l(11,T=!0);const Se=new URLSearchParams;Se.append("perform","true");let Ge=await(await fetch("reset",{method:"POST",body:Se})).json();l(11,T=!1),l(12,q=Ge.success)}}async function A(Se){l(7,d=!0);const Te=new FormData(Se.target),Ge=new URLSearchParams;for(let ht of Te){const[Yt,Rt]=ht;Ge.append(Yt,Rt)}let at=await(await fetch("save",{method:"POST",body:Ge})).json();ul.update(ht=>(ht.hostname=Te.get("gh"),ht.usrcfg=at.success,ht.booting=at.reboot,Te.get("nm")=="static"&&(ht.net.ip=Te.get("ni"),ht.net.mask=Te.get("nu"),ht.net.gw=Te.get("ng"),ht.net.dns1=Te.get("nd")),ht.ui=_.u,ht)),l(7,d=!1),wn(n)}const P=function(){confirm("Reboot?")&&(ul.update(Se=>(Se.booting=!0,Se)),sm())};async function N(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.c=!1,Te)))}async function F(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.r=!1,Te)))}async function V(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),vn.update(Te=>(Te.q.s.k=!1,Te)))}const Y=function(){_.q.s.e?_.q.p==1883&&l(3,_.q.p=8883,_):_.q.p==8883&&l(3,_.q.p=1883,_)};async function I(){if(_.u.lang=="hub"){const Se=await Ml("http://hub.amsleser.no/hub/language/list.json");l(4,v=await Se.json()),l(3,_.u.lang=f.language.code,_);return}_.u.lang&&await hi(_.u.lang)}function B(Se){l(8,w=Se);const Te=E1(Se);if(l(9,g=Te??null),!Te||!(_!=null&&_.m))return;const Ge=Bn(_.m),nt=A1(Ge,Te),at=q1(_.m,nt);l(3,_={..._,m:at})}function X(){l(8,w=""),l(9,g=null)}async function j(){l(3,_.p.e=!0,_)}const G=window||global;G.bindToCloud=function(){console.log("BIND CALLED")};const W=[[]];function U(){_.g.h=this.value,l(3,_)}function H(){_.g.t=nl(this),l(3,_)}function x(){_.u.lang=nl(this),l(3,_)}function ne(){_.p.r=nl(this),l(3,_)}function z(){_.p.c=nl(this),l(3,_)}function ee(){_.p.e=this.checked,l(3,_)}function ce(){_.p.t=this.value,l(3,_)}function ae(){_.g.s=nl(this),l(3,_)}function oe(){_.g.u=this.value,l(3,_)}function ue(){_.g.p=this.value,l(3,_)}function Q(){_.g.c=this.value,l(3,_)}function $(){_.fw.a=this.checked,l(3,_)}function te(){_.fw.s=kt(this.value),l(3,_)}function ve(){_.d.t=this.checked,l(3,_)}function we(){_.d.s=this.checked,l(3,_)}function E(){_.d.l=nl(this),l(3,_)}function y(){w=nl(this),l(8,w)}const R=Se=>B(Se.target.value);function D(){_.m.a=nl(this),l(3,_)}function K(){_.m.b=kt(this.value),l(3,_)}function le(){_.m.i=this.checked,l(3,_)}function se(){_.m.b=nl(this),l(3,_)}function re(){_.m.p=nl(this),l(3,_)}function me(){_.m.s=kt(this.value),l(3,_)}function fe(){_.m.d=nl(this),l(3,_)}function ke(){_.m.f=kt(this.value),l(3,_)}function ge(){_.m.r=kt(this.value),l(3,_)}function Ae(){_.m.e.e=this.checked,l(3,_)}function Le(){_.m.e.k=this.value,l(3,_)}function Be(){_.m.e.a=this.value,l(3,_)}function ze(){_.m.m.e=this.checked,l(3,_)}function Je(){_.m.m.w=kt(this.value),l(3,_)}function xe(){_.m.m.v=kt(this.value),l(3,_)}function qe(){_.m.m.a=kt(this.value),l(3,_)}function lt(){_.m.m.c=kt(this.value),l(3,_)}function be(){_.w.s=this.__value,l(3,_)}function ye(){_.w.p=this.value,l(3,_)}function We(){_.w.z=nl(this),l(3,_)}function dt(){_.w.w=kt(this.value),l(3,_)}function _t(){_.w.b=this.checked,l(3,_)}function Qe(){_.q.s.e=this.checked,l(3,_)}function ft(){_.q.h=this.value,l(3,_)}function jt(){_.q.p=kt(this.value),l(3,_)}function pt(){_.q.u=this.value,l(3,_)}function qt(){_.q.a=this.value,l(3,_)}function Pt(){_.q.c=this.value,l(3,_)}function Lt(){_.q.m=nl(this),l(3,_)}function tt(){_.q.b=this.value,l(3,_)}function ot(){_.q.r=this.value,l(3,_)}function Pe(){_.q.t=nl(this),l(3,_)}function He(){_.q.d=kt(this.value),l(3,_)}function $e(){_.q.i=kt(this.value),l(3,_)}function Ze(){_.q.k=kt(this.value),l(3,_)}function de(){_.o.e=this.value,l(3,_)}function De(){_.o.c=this.value,l(3,_)}function Tt(){_.o.u1=this.value,l(3,_)}function It(){_.o.u2=this.value,l(3,_)}function bt(){_.o.u3=this.value,l(3,_)}function je(){_.h.t=this.value,l(3,_)}function ct(){_.h.h=this.value,l(3,_)}function et(){_.h.n=this.value,l(3,_)}function Ot(Se){_.t.t[Se]=kt(this.value),l(3,_)}function zt(){_.t.h=kt(this.value),l(3,_)}function Ve(Se){_.u[Se.key]=nl(this),l(3,_)}return t.$$set=Se=>{"basepath"in Se&&l(27,n=Se.basepath),"sysinfo"in Se&&l(0,i=Se.sysinfo),"data"in Se&&l(1,s=Se.data)},t.$$.update=()=>{var Se;if(t.$$.dirty[0]&8&&_!=null&&_.fw&&l(3,_.fw.e=Number(_.fw.s??0),_),t.$$.dirty[0]&20&&v.length){const Te=((Se=f.consent)==null?void 0:Se.load_from_server)??"Load from server";v.some(nt=>nt.code==="hub")?v.find(at=>at.code==="hub"&&at.name!==Te)&&l(4,v=v.map(at=>at.code==="hub"?{...at,name:Te}:at)):l(4,v=[...v,{code:"hub",name:Te}])}if(t.$$.dirty[0]&1&&(i.chip=="esp8266"||i.chip=="esp32s2"),t.$$.dirty[0]&2){const{level:Te,label:Ge}=Gn(s==null?void 0:s.r);o[Te]??o.off}t.$$.dirty[0]&32&&l(10,b=Array.isArray(k==null?void 0:k.n)?k.n.map(Te=>{const{level:Ge,label:nt}=Gn(Te==null?void 0:Te.r);return{icon:o[Ge]??o.off,title:nt}}):[])},[i,s,f,_,v,k,m,d,w,g,b,T,q,o,r,c,O,A,P,N,F,V,Y,I,B,X,j,n,U,H,x,ne,z,ee,ce,ae,oe,ue,Q,$,te,ve,we,E,y,R,D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be,ze,Je,xe,qe,lt,be,W,ye,We,dt,_t,Qe,ft,jt,pt,qt,Pt,Lt,tt,ot,Pe,He,$e,Ze,de,De,Tt,It,bt,je,ct,et,Ot,zt,Ve]}class am extends At{constructor(e){super(),Et(this,e,om,im,Nt,{basepath:27,sysinfo:0,data:1},null,[-1,-1,-1,-1,-1])}}function Za(t,e,l){const n=t.slice();return n[21]=e[l],n}function $a(t){let e,l=t[1].cpu+"",n,i;return{c(){e=S("("),n=S(l),i=S("MHz)")},m(s,o){C(s,e,o),C(s,n,o),C(s,i,o)},p(s,o){o&2&&l!==(l=s[1].cpu+"")&&L(n,l)},d(s){s&&(M(e),M(n),M(i))}}}function rm(t){let e=Re(t[1].chip,t[1].board)+"",l;return{c(){l=S(e)},m(n,i){C(n,l,i)},p(n,i){i&2&&e!==(e=Re(n[1].chip,n[1].board)+"")&&L(l,e)},d(n){n&&M(l)}}}function xa(t){var W,U,H,x,ne,z,ee,ce;let e,l=(((U=(W=t[3].status)==null?void 0:W.device)==null?void 0:U.apmac)??"AP MAC")+"",n,i,s=t[1].apmac+"",o,f,r,c=(((x=(H=t[3].status)==null?void 0:H.device)==null?void 0:x.last_boot)??"Last boot")+"",m,d,_,v,w,g,k=(((z=(ne=t[3].status)==null?void 0:ne.device)==null?void 0:z.reason)??"Reason")+"",b,T,q=(((ce=(ee=t[3][js(t[1].chip)])==null?void 0:ee.reason)==null?void 0:ce[t[1].boot_reason])??t[1].boot_reason)+"",O,A,P=t[1].boot_reason+"",N,F,V=t[1].ex_cause+"",Y,I,B;const X=[um,fm],j=[];function G(ae,oe){return ae[0].u>0?0:1}return _=G(t),v=j[_]=X[_](t),{c(){e=p("div"),n=S(l),i=S(": "),o=S(s),f=h(),r=p("div"),m=S(c),d=S(`:
            `),v.c(),w=h(),g=p("div"),b=S(k),T=S(": "),O=S(q),A=S(" ("),N=S(P),F=S("/"),Y=S(V),I=S(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(g,"class","my-2")},m(ae,oe){C(ae,e,oe),a(e,n),a(e,i),a(e,o),C(ae,f,oe),C(ae,r,oe),a(r,m),a(r,d),j[_].m(r,null),C(ae,w,oe),C(ae,g,oe),a(g,b),a(g,T),a(g,O),a(g,A),a(g,N),a(g,F),a(g,Y),a(g,I),B=!0},p(ae,oe){var Q,$,te,ve,we,E,y,R;(!B||oe&8)&&l!==(l=((($=(Q=ae[3].status)==null?void 0:Q.device)==null?void 0:$.apmac)??"AP MAC")+"")&&L(n,l),(!B||oe&2)&&s!==(s=ae[1].apmac+"")&&L(o,s),(!B||oe&8)&&c!==(c=(((ve=(te=ae[3].status)==null?void 0:te.device)==null?void 0:ve.last_boot)??"Last boot")+"")&&L(m,c);let ue=_;_=G(ae),_===ue?j[_].p(ae,oe):(wt(),ie(j[ue],1,1,()=>{j[ue]=null}),St(),v=j[_],v?v.p(ae,oe):(v=j[_]=X[_](ae),v.c()),Z(v,1),v.m(r,null)),(!B||oe&8)&&k!==(k=(((E=(we=ae[3].status)==null?void 0:we.device)==null?void 0:E.reason)??"Reason")+"")&&L(b,k),(!B||oe&10)&&q!==(q=(((R=(y=ae[3][js(ae[1].chip)])==null?void 0:y.reason)==null?void 0:R[ae[1].boot_reason])??ae[1].boot_reason)+"")&&L(O,q),(!B||oe&2)&&P!==(P=ae[1].boot_reason+"")&&L(N,P),(!B||oe&2)&&V!==(V=ae[1].ex_cause+"")&&L(Y,V)},i(ae){B||(Z(v),B=!0)},o(ae){ie(v),B=!1},d(ae){ae&&(M(e),M(f),M(r),M(w),M(g)),j[_].d()}}}function fm(t){let e;return{c(){e=S("-")},m(l,n){C(l,e,n)},p:Ue,i:Ue,o:Ue,d(l){l&&M(e)}}}function um(t){let e,l;return e=new lu({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:"",offset:t[1].clock_offset}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(s.offset=n[1].clock_offset),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function er(t){var f;let e,l,n=(((f=t[3].btn)==null?void 0:f.reboot)??"Reboot")+"",i,s,o;return{c(){e=p("div"),l=p("button"),i=S(n),u(l,"class","btn-yellow-sm"),u(e,"class","my-2")},m(r,c){C(r,e,c),a(e,l),a(l,i),s||(o=he(l,"click",t[11]),s=!0)},p(r,c){var m;c&8&&n!==(n=(((m=r[3].btn)==null?void 0:m.reboot)??"Reboot")+"")&&L(i,n)},d(r){r&&M(e),s=!1,o()}}}function tr(t){var Y,I,B,X,j,G,W,U;let e,l,n=(((I=(Y=t[3].status)==null?void 0:Y.meter)==null?void 0:I.title)??"Meter")+"",i,s,o,f=(((X=(B=t[3].status)==null?void 0:B.meter)==null?void 0:X.manufacturer)??"Manufacturer")+"",r,c,m=mi(t[1].meter.mfg)+"",d,_,v,w=(((G=(j=t[3].status)==null?void 0:j.meter)==null?void 0:G.model)??"Model")+"",g,k,b=(t[1].meter.model?t[1].meter.model:"unknown")+"",T,q,O,A=(((U=(W=t[3].status)==null?void 0:W.meter)==null?void 0:U.id)??"ID")+"",P,N,F=(t[1].meter.id?t[1].meter.id:"unknown")+"",V;return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("div"),r=S(f),c=S(": "),d=S(m),_=h(),v=p("div"),g=S(w),k=S(": "),T=S(b),q=h(),O=p("div"),P=S(A),N=S(": "),V=S(F),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(O,"class","my-2"),u(e,"class","cnt")},m(H,x){C(H,e,x),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,v),a(v,g),a(v,k),a(v,T),a(e,q),a(e,O),a(O,P),a(O,N),a(O,V)},p(H,x){var ne,z,ee,ce,ae,oe,ue,Q;x&8&&n!==(n=(((z=(ne=H[3].status)==null?void 0:ne.meter)==null?void 0:z.title)??"Meter")+"")&&L(i,n),x&8&&f!==(f=(((ce=(ee=H[3].status)==null?void 0:ee.meter)==null?void 0:ce.manufacturer)??"Manufacturer")+"")&&L(r,f),x&2&&m!==(m=mi(H[1].meter.mfg)+"")&&L(d,m),x&8&&w!==(w=(((oe=(ae=H[3].status)==null?void 0:ae.meter)==null?void 0:oe.model)??"Model")+"")&&L(g,w),x&2&&b!==(b=(H[1].meter.model?H[1].meter.model:"unknown")+"")&&L(T,b),x&8&&A!==(A=(((Q=(ue=H[3].status)==null?void 0:ue.meter)==null?void 0:Q.id)??"ID")+"")&&L(P,A),x&2&&F!==(F=(H[1].meter.id?H[1].meter.id:"unknown")+"")&&L(V,F)},d(H){H&&M(e)}}}function lr(t){var U,H,x,ne,z,ee,ce,ae;let e,l,n=(((H=(U=t[3].status)==null?void 0:U.network)==null?void 0:H.title)??"Network")+"",i,s,o,f=(((ne=(x=t[3].conf)==null?void 0:x.network)==null?void 0:ne.ip)??"IP")+"",r,c,m=t[1].net.ip+"",d,_,v,w=(((ee=(z=t[3].conf)==null?void 0:z.network)==null?void 0:ee.mask)??"Mask")+"",g,k,b=t[1].net.mask+"",T,q,O,A=(((ae=(ce=t[3].conf)==null?void 0:ce.network)==null?void 0:ae.gw)??"Gateway")+"",P,N,F=t[1].net.gw+"",V,Y,I,B,X,j=t[1].net.dns1&&nr(t),G=t[1].net.dns2&&ir(t),W=t[1].net.ipv6&&sr(t);return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("div"),r=S(f),c=S(": "),d=S(m),_=h(),v=p("div"),g=S(w),k=S(": "),T=S(b),q=h(),O=p("div"),P=S(A),N=S(": "),V=S(F),Y=h(),I=p("div"),j&&j.c(),B=h(),G&&G.c(),X=h(),W&&W.c(),u(l,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u(O,"class","my-2"),u(I,"class","my-2"),u(e,"class","cnt")},m(oe,ue){C(oe,e,ue),a(e,l),a(l,i),a(e,s),a(e,o),a(o,r),a(o,c),a(o,d),a(e,_),a(e,v),a(v,g),a(v,k),a(v,T),a(e,q),a(e,O),a(O,P),a(O,N),a(O,V),a(e,Y),a(e,I),j&&j.m(I,null),a(I,B),G&&G.m(I,null),a(e,X),W&&W.m(e,null)},p(oe,ue){var Q,$,te,ve,we,E,y,R;ue&8&&n!==(n=((($=(Q=oe[3].status)==null?void 0:Q.network)==null?void 0:$.title)??"Network")+"")&&L(i,n),ue&8&&f!==(f=(((ve=(te=oe[3].conf)==null?void 0:te.network)==null?void 0:ve.ip)??"IP")+"")&&L(r,f),ue&2&&m!==(m=oe[1].net.ip+"")&&L(d,m),ue&8&&w!==(w=(((E=(we=oe[3].conf)==null?void 0:we.network)==null?void 0:E.mask)??"Mask")+"")&&L(g,w),ue&2&&b!==(b=oe[1].net.mask+"")&&L(T,b),ue&8&&A!==(A=(((R=(y=oe[3].conf)==null?void 0:y.network)==null?void 0:R.gw)??"Gateway")+"")&&L(P,A),ue&2&&F!==(F=oe[1].net.gw+"")&&L(V,F),oe[1].net.dns1?j?j.p(oe,ue):(j=nr(oe),j.c(),j.m(I,B)):j&&(j.d(1),j=null),oe[1].net.dns2?G?G.p(oe,ue):(G=ir(oe),G.c(),G.m(I,null)):G&&(G.d(1),G=null),oe[1].net.ipv6?W?W.p(oe,ue):(W=sr(oe),W.c(),W.m(e,null)):W&&(W.d(1),W=null)},d(oe){oe&&M(e),j&&j.d(),G&&G.d(),W&&W.d()}}}function nr(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns1+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&L(l,e),c&2&&i!==(i=r[1].net.dns1+"")&&L(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function ir(t){var o,f;let e=(((f=(o=t[3].conf)==null?void 0:o.network)==null?void 0:f.dns)??"DNS")+"",l,n,i=t[1].net.dns2+"",s;return{c(){l=S(e),n=S(": "),s=S(i)},m(r,c){C(r,l,c),C(r,n,c),C(r,s,c)},p(r,c){var m,d;c&8&&e!==(e=(((d=(m=r[3].conf)==null?void 0:m.network)==null?void 0:d.dns)??"DNS")+"")&&L(l,e),c&2&&i!==(i=r[1].net.dns2+"")&&L(s,i)},d(r){r&&(M(l),M(n),M(s))}}}function sr(t){let e,l,n,i=t[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"",s,o,f,r,c=t[1].net.dns1v6&&or(t),m=t[1].net.dns2v6&&ar(t);return{c(){e=p("div"),l=S("IPv6: "),n=p("span"),s=S(i),o=h(),f=p("div"),c&&c.c(),r=h(),m&&m.c(),en(n,"font-size","14px"),u(e,"class","my-2"),u(f,"class","my-2")},m(d,_){C(d,e,_),a(e,l),a(e,n),a(n,s),C(d,o,_),C(d,f,_),c&&c.m(f,null),a(f,r),m&&m.m(f,null)},p(d,_){_&2&&i!==(i=d[1].net.ipv6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(s,i),d[1].net.dns1v6?c?c.p(d,_):(c=or(d),c.c(),c.m(f,r)):c&&(c.d(1),c=null),d[1].net.dns2v6?m?m.p(d,_):(m=ar(d),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(d){d&&(M(e),M(o),M(f)),c&&c.d(),m&&m.d()}}}function or(t){let e,l,n=t[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=p("span"),i=S(n),en(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns1v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(i,n)},d(s){s&&(M(e),M(l))}}}function ar(t){let e,l,n=t[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"",i;return{c(){e=S("DNSv6: "),l=p("span"),i=S(n),en(l,"font-size","14px")},m(s,o){C(s,e,o),C(s,l,o),a(l,i)},p(s,o){o&2&&n!==(n=s[1].net.dns2v6.replace(/\b:?(?:0+:?){2,}/,"::")+"")&&L(i,n)},d(s){s&&(M(e),M(l))}}}function rr(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.firmware)==null?void 0:s.uptodate)??"You're already running the latest firmware.")+"",n;return{c(){e=p("div"),n=S(l),u(e,"class","my-2 text-green-600")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.uptodate)??"You're already running the latest firmware.")+"")&&L(n,l)},d(o){o&&M(e)}}}function fr(t){var r,c,m,d;let e,l,n=(((c=(r=t[3].status)==null?void 0:r.firmware)==null?void 0:c.failed)??"Upgrade from {0} to {1} failed").replace("{0}",t[1].upgrade.f).replace("{1}",t[1].upgrade.t)+"",i,s,o=(((d=(m=t[3].errors)==null?void 0:m.upgrade)==null?void 0:d[t[1].upgrade.e])??t[1].upgrade.e)+"",f;return{c(){e=p("div"),l=p("div"),i=S(n),s=h(),f=S(o),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(_,v){C(_,e,v),a(e,l),a(l,i),a(l,s),a(l,f)},p(_,v){var w,g,k,b;v&10&&n!==(n=(((g=(w=_[3].status)==null?void 0:w.firmware)==null?void 0:g.failed)??"Upgrade from {0} to {1} failed").replace("{0}",_[1].upgrade.f).replace("{1}",_[1].upgrade.t)+"")&&L(i,n),v&10&&o!==(o=(((b=(k=_[3].errors)==null?void 0:k.upgrade)==null?void 0:b[_[1].upgrade.e])??_[1].upgrade.e)+"")&&L(f,o)},d(_){_&&M(e)}}}function ur(t){let e,l,n,i=t[1].upgrade.x+"",s;return{c(){e=p("div"),l=p("div"),n=S("Last HTTP status: "),s=S(i),u(l,"class","bd-gray text-xs"),u(e,"class","my-2")},m(o,f){C(o,e,f),a(e,l),a(l,n),a(l,s)},p(o,f){f&2&&i!==(i=o[1].upgrade.x+"")&&L(s,i)},d(o){o&&M(e)}}}function cr(t){var w,g;let e,l=(((g=(w=t[3].status)==null?void 0:w.firmware)==null?void 0:g.latest)??"Latest")+"",n,i,s,o=t[1].upgrade.n+"",f,r,c,m,d,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[1].upgrade.n&&t[1].upgrade.n!=t[1].version&&mr(t),v=t[1].fwconsent===2&&_r(t);return{c(){e=p("div"),n=S(l),i=S(`: 
                `),s=p("a"),f=S(o),c=h(),_&&_.c(),m=h(),v&&v.c(),d=el(),u(s,"href",r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+t[1].upgrade.n),u(s,"class","ml-2 text-blue-600 hover:text-blue-800"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(e,"class","my-2 flex")},m(k,b){C(k,e,b),a(e,n),a(e,i),a(e,s),a(s,f),a(e,c),_&&_.m(e,null),C(k,m,b),v&&v.m(k,b),C(k,d,b)},p(k,b){var T,q;b&8&&l!==(l=(((q=(T=k[3].status)==null?void 0:T.firmware)==null?void 0:q.latest)??"Latest")+"")&&L(n,l),b&2&&o!==(o=k[1].upgrade.n+"")&&L(f,o),b&2&&r!==(r="https://github.com/UtilitechAS/amsreader-firmware/releases/tag/"+k[1].upgrade.n)&&u(s,"href",r),(k[1].security==0||k[0].a)&&k[1].fwconsent===1&&k[1].upgrade.n&&k[1].upgrade.n!=k[1].version?_?_.p(k,b):(_=mr(k),_.c(),_.m(e,null)):_&&(_.d(1),_=null),k[1].fwconsent===2?v?v.p(k,b):(v=_r(k),v.c(),v.m(d.parentNode,d)):v&&(v.d(1),v=null)},d(k){k&&(M(e),M(m),M(d)),_&&_.d(),v&&v.d(k)}}}function mr(t){let e,l,n,i,s;return{c(){var o,f;e=p("div"),l=p("button"),l.textContent="⇓",u(e,"class","flex-none ml-2 text-green-500"),u(e,"title",n=((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.install)??"Install")},m(o,f){C(o,e,f),a(e,l),i||(s=he(l,"click",t[10]),i=!0)},p(o,f){var r,c;f&8&&n!==(n=((c=(r=o[3].status)==null?void 0:r.firmware)==null?void 0:c.install)??"Install")&&u(e,"title",n)},d(o){o&&M(e),i=!1,s()}}}function _r(t){var s,o;let e,l,n=(((o=(s=t[3].status)==null?void 0:s.firmware)==null?void 0:o.no_one_click)??"One-click upgrade disabled")+"",i;return{c(){e=p("div"),l=p("div"),i=S(n),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(f,r){C(f,e,r),a(e,l),a(l,i)},p(f,r){var c,m;r&8&&n!==(n=(((m=(c=f[3].status)==null?void 0:c.firmware)==null?void 0:m.no_one_click)??"One-click upgrade disabled")+"")&&L(i,n)},d(f){f&&M(e)}}}function pr(t){let e,l=Gs(Re(t[1].chip,t[1].board))+"",n;return{c(){e=p("div"),n=S(l),u(e,"class","bd-red")},m(i,s){C(i,e,s),a(e,n)},p(i,s){s&2&&l!==(l=Gs(Re(i[1].chip,i[1].board))+"")&&L(n,l)},d(i){i&&M(e)}}}function dr(t){let e,l,n,i,s,o;function f(m,d){return m[5].length==0?mm:cm}let r=f(t),c=r(t);return{c(){e=p("div"),l=p("form"),n=p("input"),i=h(),c.c(),en(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(m,d){C(m,e,d),a(e,l),a(l,n),t[13](n),a(l,i),c.m(l,null),s||(o=[he(n,"change",t[14]),he(l,"submit",t[16])],s=!0)},p(m,d){r===(r=f(m))&&c?c.p(m,d):(c.d(1),c=r(m),c&&(c.c(),c.m(l,null)))},d(m){m&&M(e),t[13](null),c.d(),s=!1,Ht(o)}}}function cm(t){var f;let e=t[5][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=S(e),n=h(),i=p("button"),o=S(s),u(i,"type","submit"),u(i,"class","btn-pri-sm float-right ml-2")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&32&&e!==(e=r[5][0].name+"")&&L(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&L(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function mm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.firmware)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=S(l),u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(r,c){C(r,e,c),a(e,n),i||(s=he(e,"click",t[15]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.firmware)==null?void 0:d.btn_select_file)??"Select file")+"")&&L(n,l)},d(r){r&&M(e),i=!1,s()}}}function hr(t){var G,W,U,H,x,ne;let e,l,n=(((W=(G=t[3].status)==null?void 0:G.backup)==null?void 0:W.title)??"Backup")+"",i,s,o,f,r,c,m,d,_=(((H=(U=t[3].status)==null?void 0:U.backup)==null?void 0:H.secrets)??"Include secrets")+"",v,w,g,k=(((ne=(x=t[3].status)==null?void 0:x.backup)==null?void 0:ne.secrets_desc)??"")+"",b,T,q,O,A,P,N,F,V=Xe(t[9]),Y=[];for(let z=0;z<V.length;z+=1)Y[z]=vr(Za(t,V,z));let I=t[2].length==0&&br(t);function B(z,ee){return z[2].length==0?pm:_m}let X=B(t),j=X(t);return{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("form"),f=p("div");for(let z=0;z<Y.length;z+=1)Y[z].c();r=h(),c=p("label"),m=p("input"),d=h(),v=S(_),w=p("br"),g=p("small"),b=S(k),T=h(),I&&I.c(),q=h(),O=p("form"),A=p("input"),P=h(),j.c(),u(l,"class","text-sm"),u(m,"type","checkbox"),u(m,"class","rounded"),u(m,"name","ic"),m.value="true",u(c,"class","my-1 mx-3 col-span-2"),u(f,"class","grid grid-cols-2"),u(o,"method","get"),u(o,"action","configfile.cfg"),u(o,"autocomplete","off"),en(A,"display","none"),u(A,"name","file"),u(A,"type","file"),u(A,"accept",".cfg"),u(O,"autocomplete","off"),u(e,"class","cnt")},m(z,ee){C(z,e,ee),a(e,l),a(l,i),a(e,s),a(e,o),a(o,f);for(let ce=0;ce<Y.length;ce+=1)Y[ce]&&Y[ce].m(f,null);a(f,r),a(f,c),a(c,m),a(c,d),a(c,v),a(c,w),a(c,g),a(g,b),a(o,T),I&&I.m(o,null),a(e,q),a(e,O),a(O,A),t[17](A),a(O,P),j.m(O,null),N||(F=[he(A,"change",t[18]),he(O,"submit",Sn(t[12]))],N=!0)},p(z,ee){var ce,ae,oe,ue,Q,$;if(ee&8&&n!==(n=(((ae=(ce=z[3].status)==null?void 0:ce.backup)==null?void 0:ae.title)??"Backup")+"")&&L(i,n),ee&520){V=Xe(z[9]);let te;for(te=0;te<V.length;te+=1){const ve=Za(z,V,te);Y[te]?Y[te].p(ve,ee):(Y[te]=vr(ve),Y[te].c(),Y[te].m(f,r))}for(;te<Y.length;te+=1)Y[te].d(1);Y.length=V.length}ee&8&&_!==(_=(((ue=(oe=z[3].status)==null?void 0:oe.backup)==null?void 0:ue.secrets)??"Include secrets")+"")&&L(v,_),ee&8&&k!==(k=((($=(Q=z[3].status)==null?void 0:Q.backup)==null?void 0:$.secrets_desc)??"")+"")&&L(b,k),z[2].length==0?I?I.p(z,ee):(I=br(z),I.c(),I.m(o,null)):I&&(I.d(1),I=null),X===(X=B(z))&&j?j.p(z,ee):(j.d(1),j=X(z),j&&(j.c(),j.m(O,null)))},d(z){z&&M(e),Qt(Y,z),I&&I.d(),t[17](null),j.d(),N=!1,Ht(F)}}}function vr(t){var o,f;let e,l,n,i=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f[t[21].key])??t[21].name)+"",s;return{c(){e=p("label"),l=p("input"),n=h(),s=S(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[21].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,s)},p(r,c){var m,d;c&8&&i!==(i=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d[r[21].key])??r[21].name)+"")&&L(s,i)},d(r){r&&M(e)}}}function br(t){var i,s;let e,l=(((s=(i=t[3].status)==null?void 0:i.backup)==null?void 0:s.btn_download)??"Download")+"",n;return{c(){e=p("button"),n=S(l),u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(o,f){C(o,e,f),a(e,n)},p(o,f){var r,c;f&8&&l!==(l=(((c=(r=o[3].status)==null?void 0:r.backup)==null?void 0:c.btn_download)??"Download")+"")&&L(n,l)},d(o){o&&M(e)}}}function _m(t){var f;let e=t[2][0].name+"",l,n,i,s=(((f=t[3].btn)==null?void 0:f.upload)??"Upload")+"",o;return{c(){l=S(e),n=h(),i=p("button"),o=S(s),u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(r,c){C(r,l,c),C(r,n,c),C(r,i,c),a(i,o)},p(r,c){var m;c&4&&e!==(e=r[2][0].name+"")&&L(l,e),c&8&&s!==(s=(((m=r[3].btn)==null?void 0:m.upload)??"Upload")+"")&&L(o,s)},d(r){r&&(M(l),M(n),M(i))}}}function pm(t){var o,f;let e,l=(((f=(o=t[3].status)==null?void 0:o.backup)==null?void 0:f.btn_select_file)??"Select file")+"",n,i,s;return{c(){e=p("button"),n=S(l),u(e,"type","button"),u(e,"class","btn-pri-sm")},m(r,c){C(r,e,c),a(e,n),i||(s=he(e,"click",t[19]),i=!0)},p(r,c){var m,d;c&8&&l!==(l=(((d=(m=r[3].status)==null?void 0:m.backup)==null?void 0:d.btn_select_file)??"Select file")+"")&&L(n,l)},d(r){r&&M(e),i=!1,s()}}}function dm(t){var be,ye,We,dt,_t,Qe,ft,jt,pt,qt,Pt,Lt,tt,ot,Pe,He,$e,Ze;let e,l,n,i=(((be=t[3].status)==null?void 0:be.device.title)??"Device")+"",s,o,f,r=(((We=(ye=t[3].status)==null?void 0:ye.device)==null?void 0:We.chip)??"Chip")+"",c,m,d=t[1].chip+"",_,v,w,g,k=(((_t=(dt=t[3].status)==null?void 0:dt.device)==null?void 0:_t.device)??"Device")+"",b,T,q,O,A,P=(((ft=(Qe=t[3].status)==null?void 0:Qe.device)==null?void 0:ft.mac)??"MAC")+"",N,F,V=t[1].mac+"",Y,I,B,X,j,G,W,U,H=(((pt=(jt=t[3].status)==null?void 0:jt.firmware)==null?void 0:pt.title)??"Firmware")+"",x,ne,z,ee=(((Pt=(qt=t[3].status)==null?void 0:qt.firmware)==null?void 0:Pt.installed)??"Installed")+"",ce,ae,oe=t[1].version+"",ue,Q,$,te,ve,we,E=(t[1].security==0||t[0].a)&&jn(t[1].board),y,R,D,K,le,se,re,me=t[1].cpu&&$a(t);q=new vl({props:{to:"/vendor",$$slots:{default:[rm]},$$scope:{ctx:t}}});let fe=t[1].apmac&&t[1].apmac!=t[1].mac&&xa(t),ke=((Lt=t[0])==null?void 0:Lt.a)&&er(t),ge=t[1].meter&&tr(t),Ae=t[1].net&&lr(t),Le=((tt=t[1].upgrade)==null?void 0:tt.m)===!0&&rr(t),Be=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&t[1].upgrade.e!=0&&t[1].upgrade.e!=123&&fr(t),ze=((ot=t[1].upgrade)==null?void 0:ot.x)!==void 0&&t[1].upgrade.x!==-1&&ur(t),Je=t[1].upgrade.n&&cr(t),xe=E&&pr(t),qe=(t[1].security==0||t[0].a)&&dr(t),lt=(t[1].security==0||t[0].a)&&hr(t);return K=new ml({props:{active:t[6],message:((He=(Pe=t[3].status)==null?void 0:Pe.mask)==null?void 0:He.firmware)??"Uploading"}}),se=new ml({props:{active:t[8],message:((Ze=($e=t[3].status)==null?void 0:$e.mask)==null?void 0:Ze.config)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=S(i),o=h(),f=p("div"),c=S(r),m=S(": "),_=S(d),v=h(),me&&me.c(),w=h(),g=p("div"),b=S(k),T=S(": "),Ne(q.$$.fragment),O=h(),A=p("div"),N=S(P),F=S(": "),Y=S(V),I=h(),fe&&fe.c(),B=h(),ke&&ke.c(),X=h(),ge&&ge.c(),j=h(),Ae&&Ae.c(),G=h(),W=p("div"),U=p("strong"),x=S(H),ne=h(),z=p("div"),ce=S(ee),ae=S(": "),ue=S(oe),Q=h(),Le&&Le.c(),$=h(),Be&&Be.c(),te=h(),ze&&ze.c(),ve=h(),Je&&Je.c(),we=h(),xe&&xe.c(),y=h(),qe&&qe.c(),R=h(),lt&&lt.c(),D=h(),Ne(K.$$.fragment),le=h(),Ne(se.$$.fragment),u(n,"class","text-sm"),u(f,"class","my-2"),u(g,"class","my-2"),u(A,"class","my-2"),u(l,"class","cnt"),u(U,"class","text-sm"),u(z,"class","my-2"),u(W,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(de,De){C(de,e,De),a(e,l),a(l,n),a(n,s),a(l,o),a(l,f),a(f,c),a(f,m),a(f,_),a(f,v),me&&me.m(f,null),a(l,w),a(l,g),a(g,b),a(g,T),Me(q,g,null),a(l,O),a(l,A),a(A,N),a(A,F),a(A,Y),a(l,I),fe&&fe.m(l,null),a(l,B),ke&&ke.m(l,null),a(e,X),ge&&ge.m(e,null),a(e,j),Ae&&Ae.m(e,null),a(e,G),a(e,W),a(W,U),a(U,x),a(W,ne),a(W,z),a(z,ce),a(z,ae),a(z,ue),a(W,Q),Le&&Le.m(W,null),a(W,$),Be&&Be.m(W,null),a(W,te),ze&&ze.m(W,null),a(W,ve),Je&&Je.m(W,null),a(W,we),xe&&xe.m(W,null),a(W,y),qe&&qe.m(W,null),a(e,R),lt&&lt.m(e,null),C(de,D,De),Me(K,de,De),C(de,le,De),Me(se,de,De),re=!0},p(de,[De]){var je,ct,et,Ot,zt,Ve,Se,Te,Ge,nt,at,ht,Yt,Rt,Ft,sl,Dt,Ye;(!re||De&8)&&i!==(i=(((je=de[3].status)==null?void 0:je.device.title)??"Device")+"")&&L(s,i),(!re||De&8)&&r!==(r=(((et=(ct=de[3].status)==null?void 0:ct.device)==null?void 0:et.chip)??"Chip")+"")&&L(c,r),(!re||De&2)&&d!==(d=de[1].chip+"")&&L(_,d),de[1].cpu?me?me.p(de,De):(me=$a(de),me.c(),me.m(f,null)):me&&(me.d(1),me=null),(!re||De&8)&&k!==(k=(((zt=(Ot=de[3].status)==null?void 0:Ot.device)==null?void 0:zt.device)??"Device")+"")&&L(b,k);const Tt={};De&16777218&&(Tt.$$scope={dirty:De,ctx:de}),q.$set(Tt),(!re||De&8)&&P!==(P=(((Se=(Ve=de[3].status)==null?void 0:Ve.device)==null?void 0:Se.mac)??"MAC")+"")&&L(N,P),(!re||De&2)&&V!==(V=de[1].mac+"")&&L(Y,V),de[1].apmac&&de[1].apmac!=de[1].mac?fe?(fe.p(de,De),De&2&&Z(fe,1)):(fe=xa(de),fe.c(),Z(fe,1),fe.m(l,B)):fe&&(wt(),ie(fe,1,1,()=>{fe=null}),St()),(Te=de[0])!=null&&Te.a?ke?ke.p(de,De):(ke=er(de),ke.c(),ke.m(l,null)):ke&&(ke.d(1),ke=null),de[1].meter?ge?ge.p(de,De):(ge=tr(de),ge.c(),ge.m(e,j)):ge&&(ge.d(1),ge=null),de[1].net?Ae?Ae.p(de,De):(Ae=lr(de),Ae.c(),Ae.m(e,G)):Ae&&(Ae.d(1),Ae=null),(!re||De&8)&&H!==(H=(((nt=(Ge=de[3].status)==null?void 0:Ge.firmware)==null?void 0:nt.title)??"Firmware")+"")&&L(x,H),(!re||De&8)&&ee!==(ee=(((ht=(at=de[3].status)==null?void 0:at.firmware)==null?void 0:ht.installed)??"Installed")+"")&&L(ce,ee),(!re||De&2)&&oe!==(oe=de[1].version+"")&&L(ue,oe),((Yt=de[1].upgrade)==null?void 0:Yt.m)===!0?Le?Le.p(de,De):(Le=rr(de),Le.c(),Le.m(W,$)):Le&&(Le.d(1),Le=null),de[1].upgrade.t&&de[1].upgrade.t!=de[1].version&&de[1].upgrade.e!=0&&de[1].upgrade.e!=123?Be?Be.p(de,De):(Be=fr(de),Be.c(),Be.m(W,te)):Be&&(Be.d(1),Be=null),((Rt=de[1].upgrade)==null?void 0:Rt.x)!==void 0&&de[1].upgrade.x!==-1?ze?ze.p(de,De):(ze=ur(de),ze.c(),ze.m(W,ve)):ze&&(ze.d(1),ze=null),de[1].upgrade.n?Je?Je.p(de,De):(Je=cr(de),Je.c(),Je.m(W,we)):Je&&(Je.d(1),Je=null),De&3&&(E=(de[1].security==0||de[0].a)&&jn(de[1].board)),E?xe?xe.p(de,De):(xe=pr(de),xe.c(),xe.m(W,y)):xe&&(xe.d(1),xe=null),de[1].security==0||de[0].a?qe?qe.p(de,De):(qe=dr(de),qe.c(),qe.m(W,null)):qe&&(qe.d(1),qe=null),de[1].security==0||de[0].a?lt?lt.p(de,De):(lt=hr(de),lt.c(),lt.m(e,null)):lt&&(lt.d(1),lt=null);const It={};De&64&&(It.active=de[6]),De&8&&(It.message=((sl=(Ft=de[3].status)==null?void 0:Ft.mask)==null?void 0:sl.firmware)??"Uploading"),K.$set(It);const bt={};De&256&&(bt.active=de[8]),De&8&&(bt.message=((Ye=(Dt=de[3].status)==null?void 0:Dt.mask)==null?void 0:Ye.config)??"Uploading"),se.$set(bt)},i(de){re||(Z(q.$$.fragment,de),Z(fe),Z(K.$$.fragment,de),Z(se.$$.fragment,de),re=!0)},o(de){ie(q.$$.fragment,de),ie(fe),ie(K.$$.fragment,de),ie(se.$$.fragment,de),re=!1},d(de){de&&(M(e),M(D),M(le)),me&&me.d(),Ce(q),fe&&fe.d(),ke&&ke.d(),ge&&ge.d(),Ae&&Ae.d(),Le&&Le.d(),Be&&Be.d(),ze&&ze.d(),Je&&Je.d(),xe&&xe.d(),qe&&qe.d(),lt&&lt.d(),Ce(K,de),Ce(se,de)}}}async function hm(){await(await fetch("reboot",{method:"POST"})).json()}function vm(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price",key:"is"}],o={};Cl.subscribe(F=>{l(3,o=F)});function f(){var F;confirm((((F=o.header)==null?void 0:F.upgrade)??"Upgrade to {0}?").replace("{0}",i.upgrade.n))&&(tu(i.upgrade.n),ul.update(V=>(V.upgrade.t=i.upgrade.n,V.upgrade.p=0,V.upgrading=!0,V)))}const r=function(){var F;confirm(((F=o.device)==null?void 0:F.reboot_confirm)??"Reboot?")&&(ul.update(V=>(V.booting=!0,V)),hm())};let c,m=[],d=!1,_,v=[],w=!1;ki();let g={hostname:"",ip:""};function k(F){l(8,w=!0);const V=new FormData;V.append("file",v[0]),fetch("configfile",{method:"POST",body:V}).then(Y=>Y.json()).then(Y=>{ul.update(I=>(g&&g.hostname&&(I.hostname=g.hostname),I.booting=Y.reboot,g&&g.ip&&(I.net.ip=g.ip),setTimeout(rn,5e3,i),I))}).catch(Y=>{console.error("Error:",Y),setTimeout(rn,5e3,i)})}function b(F){ui[F?"unshift":"push"](()=>{c=F,l(4,c)})}function T(){m=this.files,l(5,m)}const q=()=>{c.click()},O=()=>l(6,d=!0);function A(F){ui[F?"unshift":"push"](()=>{_=F,l(7,_)})}function P(){v=this.files,l(2,v)}const N=()=>{_.click()};return t.$$set=F=>{"data"in F&&l(0,n=F.data),"sysinfo"in F&&l(1,i=F.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&v.length==1){let F=v[0],V=new FileReader,Y=I=>{let B=I.target.result.split(`
`);for(let X in B){let j=B[X];j.startsWith("hostname ")?g.hostname=j.split(" ")[1]:j.startsWith("ip ")&&(g.ip=j.split(" ")[1])}};V.onload=Y,V.readAsText(F)}},[n,i,v,o,c,m,d,_,w,s,f,r,k,b,T,q,O,A,P,N]}class bm extends At{constructor(e){super(),Et(this,e,vm,dm,Nt,{data:0,sysinfo:1})}}function gr(t){let e,l,n=Re(t[0],7)+"",i,s,o=Re(t[0],5)+"",f,r,c=Re(t[0],4)+"",m,d,_=Re(t[0],3)+"",v,w,g,k,b=Re(t[0],2)+"",T,q,O=Re(t[0],1)+"",A,P,N=Re(t[0],0)+"",F,V,Y,I,B=Re(t[0],101)+"",X,j,G=Re(t[0],100)+"",W;return{c(){e=p("optgroup"),l=p("option"),i=S(n),s=p("option"),f=S(o),r=p("option"),m=S(c),d=p("option"),v=S(_),w=h(),g=p("optgroup"),k=p("option"),T=S(b),q=p("option"),A=S(O),P=p("option"),F=S(N),V=h(),Y=p("optgroup"),I=p("option"),X=S(B),j=p("option"),W=S(G),l.__value=7,J(l,l.__value),s.__value=5,J(s,s.__value),r.__value=4,J(r,r.__value),d.__value=3,J(d,d.__value),u(e,"label","amsleser.no"),k.__value=2,J(k,k.__value),q.__value=1,J(q,q.__value),P.__value=0,J(P,P.__value),u(g,"label","Custom hardware"),I.__value=101,J(I,I.__value),j.__value=100,J(j,j.__value),u(Y,"label","Generic hardware")},m(U,H){C(U,e,H),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,v),C(U,w,H),C(U,g,H),a(g,k),a(k,T),a(g,q),a(q,A),a(g,P),a(P,F),C(U,V,H),C(U,Y,H),a(Y,I),a(I,X),a(Y,j),a(j,W)},p(U,H){H&1&&n!==(n=Re(U[0],7)+"")&&L(i,n),H&1&&o!==(o=Re(U[0],5)+"")&&L(f,o),H&1&&c!==(c=Re(U[0],4)+"")&&L(m,c),H&1&&_!==(_=Re(U[0],3)+"")&&L(v,_),H&1&&b!==(b=Re(U[0],2)+"")&&L(T,b),H&1&&O!==(O=Re(U[0],1)+"")&&L(A,O),H&1&&N!==(N=Re(U[0],0)+"")&&L(F,N),H&1&&B!==(B=Re(U[0],101)+"")&&L(X,B),H&1&&G!==(G=Re(U[0],100)+"")&&L(W,G)},d(U){U&&(M(e),M(w),M(g),M(V),M(Y))}}}function kr(t){let e,l,n=Re(t[0],201)+"",i,s,o=Re(t[0],202)+"",f,r,c=Re(t[0],203)+"",m,d,_=Re(t[0],241)+"",v,w,g=Re(t[0],242)+"",k,b,T=Re(t[0],243)+"",q,O,A=Re(t[0],245)+"",P,N,F=Re(t[0],200)+"",V;return{c(){e=p("optgroup"),l=p("option"),i=S(n),s=p("option"),f=S(o),r=p("option"),m=S(c),d=p("option"),v=S(_),w=p("option"),k=S(g),b=p("option"),q=S(T),O=p("option"),P=S(A),N=p("option"),V=S(F),l.__value=201,J(l,l.__value),s.__value=202,J(s,s.__value),r.__value=203,J(r,r.__value),d.__value=241,J(d,d.__value),w.__value=242,J(w,w.__value),b.__value=243,J(b,b.__value),O.__value=245,J(O,O.__value),N.__value=200,J(N,N.__value),u(e,"label","Generic hardware")},m(Y,I){C(Y,e,I),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),a(e,d),a(d,v),a(e,w),a(w,k),a(e,b),a(b,q),a(e,O),a(O,P),a(e,N),a(N,V)},p(Y,I){I&1&&n!==(n=Re(Y[0],201)+"")&&L(i,n),I&1&&o!==(o=Re(Y[0],202)+"")&&L(f,o),I&1&&c!==(c=Re(Y[0],203)+"")&&L(m,c),I&1&&_!==(_=Re(Y[0],241)+"")&&L(v,_),I&1&&g!==(g=Re(Y[0],242)+"")&&L(k,g),I&1&&T!==(T=Re(Y[0],243)+"")&&L(q,T),I&1&&A!==(A=Re(Y[0],245)+"")&&L(P,A),I&1&&F!==(F=Re(Y[0],200)+"")&&L(V,F)},d(Y){Y&&M(e)}}}function wr(t){let e,l,n=Re(t[0],7)+"",i,s,o=Re(t[0],6)+"",f,r,c=Re(t[0],5)+"",m,d,_,v,w=Re(t[0],51)+"",g,k,b=Re(t[0],50)+"",T;return{c(){e=p("optgroup"),l=p("option"),i=S(n),s=p("option"),f=S(o),r=p("option"),m=S(c),d=h(),_=p("optgroup"),v=p("option"),g=S(w),k=p("option"),T=S(b),l.__value=7,J(l,l.__value),s.__value=6,J(s,s.__value),r.__value=5,J(r,r.__value),u(e,"label","amsleser.no"),v.__value=51,J(v,v.__value),k.__value=50,J(k,k.__value),u(_,"label","Generic hardware")},m(q,O){C(q,e,O),a(e,l),a(l,i),a(e,s),a(s,f),a(e,r),a(r,m),C(q,d,O),C(q,_,O),a(_,v),a(v,g),a(_,k),a(k,T)},p(q,O){O&1&&n!==(n=Re(q[0],7)+"")&&L(i,n),O&1&&o!==(o=Re(q[0],6)+"")&&L(f,o),O&1&&c!==(c=Re(q[0],5)+"")&&L(m,c),O&1&&w!==(w=Re(q[0],51)+"")&&L(g,w),O&1&&b!==(b=Re(q[0],50)+"")&&L(T,b)},d(q){q&&(M(e),M(d),M(_))}}}function Sr(t){let e,l,n=Re(t[0],8)+"",i,s,o,f,r=Re(t[0],71)+"",c,m,d=Re(t[0],70)+"",_;return{c(){e=p("optgroup"),l=p("option"),i=S(n),s=h(),o=p("optgroup"),f=p("option"),c=S(r),m=p("option"),_=S(d),l.__value=8,J(l,l.__value),u(e,"label","Custom hardware"),f.__value=71,J(f,f.__value),m.__value=70,J(m,m.__value),u(o,"label","Generic hardware")},m(v,w){C(v,e,w),a(e,l),a(l,i),C(v,s,w),C(v,o,w),a(o,f),a(f,c),a(o,m),a(m,_)},p(v,w){w&1&&n!==(n=Re(v[0],8)+"")&&L(i,n),w&1&&r!==(r=Re(v[0],71)+"")&&L(c,r),w&1&&d!==(d=Re(v[0],70)+"")&&L(_,d)},d(v){v&&(M(e),M(s),M(o))}}}function yr(t){let e,l,n=Re(t[0],200)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=S(n),l.__value=200,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Re(s[0],200)+"")&&L(i,n)},d(s){s&&M(e)}}}function Mr(t){let e,l,n=Re(t[0],80)+"",i;return{c(){e=p("optgroup"),l=p("option"),i=S(n),l.__value=80,J(l,l.__value),u(e,"label","Generic hardware")},m(s,o){C(s,e,o),a(e,l),a(l,i)},p(s,o){o&1&&n!==(n=Re(s[0],80)+"")&&L(i,n)},d(s){s&&M(e)}}}function gm(t){let e,l,n,i,s,o,f,r,c=t[0]=="esp8266"&&gr(t),m=t[0]=="esp32"&&kr(t),d=t[0]=="esp32s2"&&wr(t),_=t[0]=="esp32c3"&&Sr(t),v=t[0]=="esp32solo"&&yr(t),w=t[0]=="esp32s3"&&Mr(t);return{c(){e=p("option"),l=h(),c&&c.c(),n=h(),m&&m.c(),i=h(),d&&d.c(),s=h(),_&&_.c(),o=h(),v&&v.c(),f=h(),w&&w.c(),r=el(),e.__value=-1,J(e,e.__value)},m(g,k){C(g,e,k),C(g,l,k),c&&c.m(g,k),C(g,n,k),m&&m.m(g,k),C(g,i,k),d&&d.m(g,k),C(g,s,k),_&&_.m(g,k),C(g,o,k),v&&v.m(g,k),C(g,f,k),w&&w.m(g,k),C(g,r,k)},p(g,[k]){g[0]=="esp8266"?c?c.p(g,k):(c=gr(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?m?m.p(g,k):(m=kr(g),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]=="esp32s2"?d?d.p(g,k):(d=wr(g),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g[0]=="esp32c3"?_?_.p(g,k):(_=Sr(g),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),g[0]=="esp32solo"?v?v.p(g,k):(v=yr(g),v.c(),v.m(f.parentNode,f)):v&&(v.d(1),v=null),g[0]=="esp32s3"?w?w.p(g,k):(w=Mr(g),w.c(),w.m(r.parentNode,r)):w&&(w.d(1),w=null)},i:Ue,o:Ue,d(g){g&&(M(e),M(l),M(n),M(i),M(s),M(o),M(f),M(r)),c&&c.d(g),m&&m.d(g),d&&d.d(g),_&&_.d(g),v&&v.d(g),w&&w.d(g)}}}function km(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class wm extends At{constructor(e){super(),Et(this,e,km,gm,Nt,{chip:0})}}function Cr(t){let e;return{c(){e=p("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Nr(t){let e,l,n,i,s,o,f;return o=new k1({props:{chip:t[0].chip}}),{c(){e=p("div"),l=S("HAN GPIO"),n=p("br"),i=h(),s=p("select"),Ne(o.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(r,c){C(r,e,c),a(e,l),a(e,n),a(e,i),a(e,s),Me(o,s,null),f=!0},p(r,c){const m={};c&1&&(m.chip=r[0].chip),o.$set(m)},i(r){f||(Z(o.$$.fragment,r),f=!0)},o(r){ie(o.$$.fragment,r),f=!1},d(r){r&&M(e),Ce(o)}}}function Sm(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F,V,Y,I,B,X,j=t[0].usrcfg&&Cr();w=new wm({props:{chip:t[0].chip}});let G=t[0].board&&t[0].board>20&&Nr(t);return Y=new ml({props:{active:t[1],message:"Saving"}}),{c(){e=p("div"),l=p("div"),n=p("form"),i=p("input"),s=h(),o=p("strong"),o.textContent="Initial configuration",f=h(),j&&j.c(),r=h(),c=p("div"),m=S("Board type"),d=p("br"),_=h(),v=p("select"),Ne(w.$$.fragment),g=h(),G&&G.c(),k=h(),b=p("div"),T=p("label"),q=p("input"),O=S(" Clear all other configuration"),A=h(),P=p("div"),P.innerHTML='<button type="submit" class="btn-pri">Save</button>',N=h(),F=p("span"),F.textContent=" ",V=h(),Ne(Y.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(o,"class","text-sm"),u(v,"name","vb"),u(v,"class","in-s"),t[0].board===void 0&&Gt(()=>t[5].call(v)),u(c,"class","my-3"),u(q,"type","checkbox"),u(q,"name","vr"),q.__value="true",J(q,q.__value),u(q,"class","rounded mb-1"),u(b,"class","my-3"),u(P,"class","my-3"),u(F,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(W,U){C(W,e,U),a(e,l),a(l,n),a(n,i),a(n,s),a(n,o),a(n,f),j&&j.m(n,null),a(n,r),a(n,c),a(c,m),a(c,d),a(c,_),a(c,v),Me(w,v,null),st(v,t[0].board,!0),a(n,g),G&&G.m(n,null),a(n,k),a(n,b),a(b,T),a(T,q),q.checked=t[2],a(T,O),a(n,A),a(n,P),a(n,N),a(n,F),C(W,V,U),Me(Y,W,U),I=!0,B||(X=[he(v,"change",t[5]),he(q,"change",t[6]),he(n,"submit",Sn(t[3]))],B=!0)},p(W,[U]){W[0].usrcfg?j||(j=Cr(),j.c(),j.m(n,r)):j&&(j.d(1),j=null);const H={};U&1&&(H.chip=W[0].chip),w.$set(H),U&1&&st(v,W[0].board),W[0].board&&W[0].board>20?G?(G.p(W,U),U&1&&Z(G,1)):(G=Nr(W),G.c(),Z(G,1),G.m(n,k)):G&&(wt(),ie(G,1,1,()=>{G=null}),St()),U&4&&(q.checked=W[2]);const x={};U&2&&(x.active=W[1]),Y.$set(x)},i(W){I||(Z(w.$$.fragment,W),Z(G),Z(Y.$$.fragment,W),I=!0)},o(W){ie(w.$$.fragment,W),ie(G),ie(Y.$$.fragment,W),I=!1},d(W){W&&(M(e),M(V)),j&&j.d(),Ce(w),G&&G.d(),Ce(Y,W),B=!1,Ht(X)}}}function ym(t,e,l){let{basepath:n="/"}=e,{sysinfo:i={}}=e,s=!1;async function o(m){l(1,s=!0);const d=new FormData(m.target),_=new URLSearchParams;for(let g of d){const[k,b]=g;_.append(k,b)}let w=await(await fetch("save",{method:"POST",body:_})).json();l(1,s=!1),ul.update(g=>(g.vndcfg=w.success,g.booting=w.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),wn(n+(i.usrcfg?"":"setup"))}let f=!0;ul.subscribe(m=>{l(0,i=m),m.fwconsent===1&&l(2,f=!i.usrcfg)});function r(){i.board=nl(this),l(0,i)}function c(){f=this.checked,l(2,f)}return t.$$set=m=>{"basepath"in m&&l(4,n=m.basepath),"sysinfo"in m&&l(0,i=m.sysinfo)},[i,s,f,o,n,r,c]}class Mm extends At{constructor(e){super(),Et(this,e,ym,Sm,Nt,{basepath:4,sysinfo:0})}}const Cm="/wifi-low.svg",Nm="/wifi-medium.svg",Pm="/wifi-high.svg",Tm="/wifi-off.svg";function Pr(t,e,l){const n=t.slice();return n[25]=e[l],n}function Tr(t,e,l){const n=t.slice();return n[28]=e[l],n[30]=l,n}function Er(t){var f,r;let e,l,n,i,s=(((r=(f=t[1].conf)==null?void 0:f.connection)==null?void 0:r.searching)??"Scanning for networks...")+"",o;return{c(){e=p("div"),l=p("div"),n=h(),i=p("span"),o=S(s),u(l,"class","animate-spin rounded-full h-6 w-6 border-b-2 border-neas-green mr-3"),u(i,"class","text-sm font-medium"),u(e,"class","flex items-center justify-center py-8 text-black dark:text-black")},m(c,m){C(c,e,m),a(e,l),a(e,n),a(e,i),a(i,o)},p(c,m){var d,_;m&2&&s!==(s=(((_=(d=c[1].conf)==null?void 0:d.connection)==null?void 0:_.searching)??"Scanning for networks...")+"")&&L(o,s)},d(c){c&&M(e)}}}function Em(t){var r,c;let e,l,n,i,s,o=(((c=(r=t[1].conf)==null?void 0:r.connection)==null?void 0:c.no_networks)??"No networks found")+"",f;return{c(){e=p("div"),l=yt("svg"),n=yt("path"),i=h(),s=p("p"),f=S(o),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"stroke-width","2"),u(n,"d","M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"),u(l,"class","mb-3 opacity-100"),u(l,"fill","none"),u(l,"stroke","currentColor"),u(l,"viewBox","0 0 24 24"),u(s,"class","text-sm font-medium"),u(e,"class","text-center py-8 text-neas-green dark:text-neas-green")},m(m,d){C(m,e,d),a(e,l),a(l,n),a(e,i),a(e,s),a(s,f)},p(m,d){var _,v;d&2&&o!==(o=(((v=(_=m[1].conf)==null?void 0:_.connection)==null?void 0:v.no_networks)??"No networks found")+"")&&L(f,o)},d(m){m&&M(e)}}}function Am(t){let e,l=[],n=new Map,i=Xe(t[0].n);const s=o=>o[28].s??o[30];for(let o=0;o<i.length;o+=1){let f=Tr(t,i,o),r=s(f);n.set(r,l[o]=Ar(r,f))}return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();u(e,"class","space-y-3 max-h overflow-y-auto")},m(o,f){C(o,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,f){f&115&&(i=Xe(o[0].n),l=_f(l,f,s,1,o,i,n,e,mf,Ar,null,Tr))},d(o){o&&M(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function Ar(t,e){var Y,I,B,X,j;let l,n,i,s,o=!1,f,r,c,m=(e[28].s||(((I=(Y=e[1].conf)==null?void 0:Y.connection)==null?void 0:I.hidden_ssid)??"Hidden network"))+"",d,_,v,w=(((B=e[4][e[30]])==null?void 0:B.title)??((j=(X=e[1].conf)==null?void 0:X.connection)==null?void 0:j.wifi_offline)??"Signal unavailable")+"",g,k,b,T,q,O,A,P,N,F,V;return N=rf(e[11][0]),{key:t,first:null,c(){var G,W,U;l=p("label"),n=p("span"),i=p("input"),f=h(),r=p("span"),c=p("span"),d=S(m),_=h(),v=p("span"),g=S(w),k=h(),b=p("div"),T=p("img"),P=h(),u(i,"type","radio"),u(i,"class","sr-only"),u(i,"name","ss"),i.__value=s=e[28].s,J(i,i.__value),i.required=ru==1,u(c,"class","font-medium text-neas-green dark:text-neas-green truncate"),u(v,"class","text-xs text-neas-green dark:text-neas-green"),u(r,"class","flex flex-col min-w-0 flex-1"),u(n,"class","flex items-center gap-3 flex-1 min-w-0"),u(T,"class","h-10 w-10"),fn(T.src,q=((G=e[4][e[30]])==null?void 0:G.icon)??e[6].off)||u(T,"src",q),u(T,"alt",O=((W=e[4][e[30]])==null?void 0:W.title)??"Wi-Fi offline"),u(T,"title",A=((U=e[4][e[30]])==null?void 0:U.title)??"Wi-Fi offline"),u(b,"class","flex items-center gap-3 flex-shrink-0"),u(l,"class","group flex items-center justify-between gap-4 rounded-2xl border-2 border-transparent bg-neas-gray px-5 py-4 shadow-sm transition hover:border-neas-lightgreen-70 hover:bg-white dark:bg-neas-gray dark:hover:bg-neas-lightgreen-70 cursor-pointer"),$l(l,"border-neas-green",e[5]===e[28].s),$l(l,"border-transparent",e[5]!==e[28].s),$l(l,"bg-white",e[5]===e[28].s),$l(l,"shadow-lg",e[5]===e[28].s),N.p(i),this.first=l},m(G,W){C(G,l,W),a(l,n),a(n,i),i.checked=i.__value===e[5],a(n,f),a(n,r),a(r,c),a(c,d),a(r,_),a(r,v),a(v,g),a(l,k),a(l,b),a(b,T),a(l,P),F||(V=he(i,"change",e[10]),F=!0)},p(G,W){var U,H,x,ne,z,ee,ce,ae;e=G,W&1&&s!==(s=e[28].s)&&(i.__value=s,J(i,i.__value),o=!0),(o||W&33)&&(i.checked=i.__value===e[5]),W&3&&m!==(m=(e[28].s||(((H=(U=e[1].conf)==null?void 0:U.connection)==null?void 0:H.hidden_ssid)??"Hidden network"))+"")&&L(d,m),W&19&&w!==(w=(((x=e[4][e[30]])==null?void 0:x.title)??((z=(ne=e[1].conf)==null?void 0:ne.connection)==null?void 0:z.wifi_offline)??"Signal unavailable")+"")&&L(g,w),W&17&&!fn(T.src,q=((ee=e[4][e[30]])==null?void 0:ee.icon)??e[6].off)&&u(T,"src",q),W&17&&O!==(O=((ce=e[4][e[30]])==null?void 0:ce.title)??"Wi-Fi offline")&&u(T,"alt",O),W&17&&A!==(A=((ae=e[4][e[30]])==null?void 0:ae.title)??"Wi-Fi offline")&&u(T,"title",A),W&33&&$l(l,"border-neas-green",e[5]===e[28].s),W&33&&$l(l,"border-transparent",e[5]!==e[28].s),W&33&&$l(l,"bg-white",e[5]===e[28].s),W&33&&$l(l,"shadow-lg",e[5]===e[28].s)},d(G){G&&M(l),N.r(),F=!1,V()}}}function qr(t){var T,q,O,A;let e,l,n,i,s,o,f,r=(((q=(T=t[1].setup)==null?void 0:T.reconnect)==null?void 0:q.title)??"Setup Complete!")+"",c,m,d,_=(((A=(O=t[1].setup)==null?void 0:O.reconnect)==null?void 0:A.info)??"Device is rebooting. You can reconnect using these addresses:")+"",v,w,g,k=Xe(t[3]),b=[];for(let P=0;P<k.length;P+=1)b[P]=Lr(Pr(t,k,P));return{c(){e=p("div"),l=p("div"),n=yt("svg"),i=yt("path"),s=h(),o=p("div"),f=p("h4"),c=S(r),m=h(),d=p("p"),v=S(_),w=h(),g=p("div");for(let P=0;P<b.length;P+=1)b[P].c();u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(i,"stroke-width","2"),u(i,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),u(n,"class","w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-3 flex-shrink-0"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"viewBox","0 0 24 24"),u(f,"class","text-sm font-medium text-green-800 dark:text-green-200 mb-2"),u(d,"class","text-sm text-green-700 dark:text-green-300 mb-3"),u(g,"class","space-y-1"),u(l,"class","flex items-start"),u(e,"class","mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg")},m(P,N){C(P,e,N),a(e,l),a(l,n),a(n,i),a(l,s),a(l,o),a(o,f),a(f,c),a(o,m),a(o,d),a(d,v),a(o,w),a(o,g);for(let F=0;F<b.length;F+=1)b[F]&&b[F].m(g,null)},p(P,N){var F,V,Y,I;if(N&2&&r!==(r=(((V=(F=P[1].setup)==null?void 0:F.reconnect)==null?void 0:V.title)??"Setup Complete!")+"")&&L(c,r),N&2&&_!==(_=(((I=(Y=P[1].setup)==null?void 0:Y.reconnect)==null?void 0:I.info)??"Device is rebooting. You can reconnect using these addresses:")+"")&&L(v,_),N&8){k=Xe(P[3]);let B;for(B=0;B<k.length;B+=1){const X=Pr(P,k,B);b[B]?b[B].p(X,N):(b[B]=Lr(X),b[B].c(),b[B].m(g,null))}for(;B<b.length;B+=1)b[B].d(1);b.length=k.length}},d(P){P&&M(e),Qt(b,P)}}}function Lr(t){let e,l,n=(t[25].startsWith("http://")||t[25].startsWith("https://")?t[25]:`http://${t[25]}`)+"",i,s;return{c(){e=p("div"),l=p("code"),i=S(n),s=h(),u(l,"class","text-xs bg-green-100 dark:bg-green-800/50 text-green-800 dark:text-green-200 px-2 py-1 rounded font-mono"),u(e,"class","flex items-center")},m(o,f){C(o,e,f),a(e,l),a(l,i),a(e,s)},p(o,f){f&8&&n!==(n=(o[25].startsWith("http://")||o[25].startsWith("https://")?o[25]:`http://${o[25]}`)+"")&&L(i,n)},d(o){o&&M(e)}}}function qm(t){var Ae,Le,Be,ze,Je,xe,qe,lt,be;let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P=(((Ae=t[1].setup)==null?void 0:Ae.title)??"WiFi Setup")+"",N,F,V,Y=(((Le=t[1].setup)==null?void 0:Le.subtitle)??"Connect your device to the internet")+"",I,B,X,j,G,W=(((ze=(Be=t[1].conf)==null?void 0:Be.connection)==null?void 0:ze.ssid)??"Select Network")+"",U,H,x,ne,z,ee,ce=(((xe=(Je=t[1].conf)==null?void 0:Je.connection)==null?void 0:xe.psk)??"WiFi Password")+"",ae,oe,ue,Q,$,te,ve,we=(((qe=t[1].btn)==null?void 0:qe.save)??"Connect & Continue")+"",E,y,R,D,K,le,se,re=((lt=t[0])==null?void 0:lt.c)==-1&&Er(t);function me(ye,We){var dt,_t,Qe;if((_t=(dt=ye[0])==null?void 0:dt.n)!=null&&_t.length)return Am;if(((Qe=ye[0])==null?void 0:Qe.c)!=-1)return Em}let fe=me(t),ke=fe&&fe(t),ge=t[3].length&&qr(t);return D=new ml({props:{active:t[2],message:((be=t[1].setup)==null?void 0:be.mask)??"Connecting..."}}),{c(){var ye,We;e=p("div"),l=p("div"),l.innerHTML=`<svg class="w-24 h-24 text-blue-600 dark:text-blue-400" viewBox="0 0 100 100" fill="currentColor"><img alt="Neas logo" src="${Qf}" class="w-full h-full"/></svg>`,n=h(),i=p("div"),s=p("form"),o=p("input"),f=h(),r=p("input"),c=h(),m=p("input"),d=h(),_=p("input"),v=h(),w=p("input"),g=h(),k=p("input"),b=h(),T=p("input"),q=h(),O=p("div"),A=p("h1"),N=S(P),F=h(),V=p("p"),I=S(Y),B=h(),X=p("div"),j=p("div"),G=p("span"),U=S(W),H=h(),re&&re.c(),x=h(),ke&&ke.c(),ne=h(),z=p("div"),ee=p("label"),ae=S(ce),oe=h(),ue=p("input"),$=h(),te=p("div"),ve=p("button"),E=S(we),y=h(),ge&&ge.c(),R=h(),Ne(D.$$.fragment),u(l,"class","mb-8"),u(o,"type","hidden"),u(o,"name","s"),o.value="true",u(r,"type","hidden"),u(r,"name","fw"),r.value="true",u(m,"type","hidden"),u(m,"name","sf"),m.value="1",u(_,"type","hidden"),u(_,"name","ulang"),_.value="no",u(w,"type","hidden"),u(w,"name","fwa"),w.value="true",u(k,"type","hidden"),u(k,"name","fws"),k.value="2",u(T,"type","hidden"),u(T,"name","fwe"),T.value="2",u(A,"class","text-2xl font-semibold text-neas-green mb-2"),u(V,"class","text-sm text-black"),u(O,"class","text-center mb-8"),u(G,"class","block text-sm font-medium text-neas-green dark:text-neas-green"),u(j,"class","flex items-center justify-between mb-3"),u(X,"class","mb-6"),u(ee,"for","wifi-password"),u(ee,"class","block text-sm font-medium text-neas-green dark:text-neas-green mb-2"),u(ue,"id","wifi-password"),u(ue,"name","sp"),u(ue,"type","password"),u(ue,"pattern",_i),u(ue,"class","w-full px-4 py-3 rounded-xl bg-neas-gray dark:bg-neas-gray text-neas-green dark:text-neas-green border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-neas-green focus:border-neas-green transition-colors shadow-sm"),u(ue,"placeholder",Q=((We=(ye=t[1].conf)==null?void 0:ye.connection)==null?void 0:We.password_placeholder)??"Enter WiFi password"),u(ue,"autocomplete","off"),ue.required=ru==2,u(z,"class","mb-6"),u(ve,"type","submit"),u(ve,"class","w-full bg-neas-green hover:bg-neas-green-90 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"),u(te,"class","text-center"),u(i,"class","bg-white dark:white border border-neas-lightgreen-30 shadow-xl shadow-black/10 rounded-3xl max-w-md w-full p-8"),u(e,"class","min-h-screen bg-neas-green flex flex-col items-center p-4")},m(ye,We){C(ye,e,We),a(e,l),a(e,n),a(e,i),a(i,s),a(s,o),a(s,f),a(s,r),a(s,c),a(s,m),a(s,d),a(s,_),a(s,v),a(s,w),a(s,g),a(s,k),a(s,b),a(s,T),a(s,q),a(s,O),a(O,A),a(A,N),a(O,F),a(O,V),a(V,I),a(s,B),a(s,X),a(X,j),a(j,G),a(G,U),a(X,H),re&&re.m(X,null),a(X,x),ke&&ke.m(X,null),a(s,ne),a(s,z),a(z,ee),a(ee,ae),a(z,oe),a(z,ue),a(s,$),a(s,te),a(te,ve),a(ve,E),a(s,y),ge&&ge.m(s,null),C(ye,R,We),Me(D,ye,We),K=!0,le||(se=he(s,"submit",Sn(t[7])),le=!0)},p(ye,[We]){var _t,Qe,ft,jt,pt,qt,Pt,Lt,tt,ot,Pe;(!K||We&2)&&P!==(P=(((_t=ye[1].setup)==null?void 0:_t.title)??"WiFi Setup")+"")&&L(N,P),(!K||We&2)&&Y!==(Y=(((Qe=ye[1].setup)==null?void 0:Qe.subtitle)??"Connect your device to the internet")+"")&&L(I,Y),(!K||We&2)&&W!==(W=(((jt=(ft=ye[1].conf)==null?void 0:ft.connection)==null?void 0:jt.ssid)??"Select Network")+"")&&L(U,W),((pt=ye[0])==null?void 0:pt.c)==-1?re?re.p(ye,We):(re=Er(ye),re.c(),re.m(X,x)):re&&(re.d(1),re=null),fe===(fe=me(ye))&&ke?ke.p(ye,We):(ke&&ke.d(1),ke=fe&&fe(ye),ke&&(ke.c(),ke.m(X,null))),(!K||We&2)&&ce!==(ce=(((Pt=(qt=ye[1].conf)==null?void 0:qt.connection)==null?void 0:Pt.psk)??"WiFi Password")+"")&&L(ae,ce),(!K||We&2&&Q!==(Q=((tt=(Lt=ye[1].conf)==null?void 0:Lt.connection)==null?void 0:tt.password_placeholder)??"Enter WiFi password"))&&u(ue,"placeholder",Q),(!K||We&2)&&we!==(we=(((ot=ye[1].btn)==null?void 0:ot.save)??"Connect & Continue")+"")&&L(E,we),ye[3].length?ge?ge.p(ye,We):(ge=qr(ye),ge.c(),ge.m(s,null)):ge&&(ge.d(1),ge=null);const dt={};We&4&&(dt.active=ye[2]),We&2&&(dt.message=((Pe=ye[1].setup)==null?void 0:Pe.mask)??"Connecting..."),D.$set(dt)},i(ye){K||(Z(D.$$.fragment,ye),K=!0)},o(ye){ie(D.$$.fragment,ye),K=!1},d(ye){ye&&(M(e),M(R)),re&&re.d(),ke&&ke.d(),ge&&ge.d(),Ce(D,ye),le=!1,se()}}}let ru=1;function Lm(t,e,l){const n={high:Pm,medium:Nm,low:Cm,off:Tm};n.off;let i={};Cl.subscribe(P=>{l(1,i=P)});let s,o,f=!1;const r=vn.subscribe(P=>{s=P,P!=null&&P.m&&!f&&(o=Bn(P.m),f=!0)});vi(()=>{su()}),bi(()=>{typeof r=="function"&&r()});function c(){!f&&(s!=null&&s.m)&&(o=Bn(s.m),f=!0),!o&&(s!=null&&s.m)&&(o=Bn(s.m))}function m(){var F,V,Y,I,B,X,j,G,W,U,H;c();const P=o??Bn(s==null?void 0:s.m);if(!P)return null;const N=(s==null?void 0:s.m)??{};return{source:P.source??N.o??1,parser:P.parser??N.a??0,baud:P.baud??N.b??0,parity:P.parity??N.p??3,invert:P.invert??N.i??!1,distributionSystem:P.distributionSystem??N.d??2,mainFuse:P.mainFuse??N.f??0,production:P.production??N.r??0,buffer:P.buffer??N.s??256,encrypted:P.encrypted??((F=N==null?void 0:N.e)==null?void 0:F.e)??!1,encryptionKey:P.encryptionKey??((V=N==null?void 0:N.e)==null?void 0:V.k)??"",authenticationKey:P.authenticationKey??((Y=N==null?void 0:N.e)==null?void 0:Y.a)??"",multipliers:{watt:((I=P.multipliers)==null?void 0:I.watt)??((B=N==null?void 0:N.m)==null?void 0:B.w)??1,volt:((X=P.multipliers)==null?void 0:X.volt)??((j=N==null?void 0:N.m)==null?void 0:j.v)??1,amp:((G=P.multipliers)==null?void 0:G.amp)??((W=N==null?void 0:N.m)==null?void 0:W.a)??1,kwh:((U=P.multipliers)==null?void 0:U.kwh)??((H=N==null?void 0:N.m)==null?void 0:H.c)??1}}}let d={};Jf.subscribe(P=>{l(0,d=P)});let{sysinfo:_={}}=e,{data:v={}}=e,w=!1,g=[],k=[],b="";function T(P){ul.update(N=>(N.trying=P,N))}async function q(P){var ce,ae,oe,ue;l(2,w=!0);const N=new FormData(P.target),F=new URLSearchParams;for(let Q of N){const[$,te]=Q;F.append($,typeof te=="string"?te:String(te))}const V=m();V&&(F.set("m","true"),F.set("mo",String(V.source??1)),F.set("ma",String(V.parser??0)),F.set("mb",String(V.baud??0)),F.set("mp",String(V.parity??3)),F.set("mi",V.invert?"true":"false"),F.set("md",String(V.distributionSystem??2)),F.set("mf",String(V.mainFuse??0)),F.set("mr",String(V.production??0)),F.set("ms",String(V.buffer??256)),V.encrypted&&(F.set("me","true"),F.set("mek",V.encryptionKey??""),F.set("mea",V.authenticationKey??"")),F.set("mmw",String(((ce=V.multipliers)==null?void 0:ce.watt)??1)),F.set("mmv",String(((ae=V.multipliers)==null?void 0:ae.volt)??1)),F.set("mma",String(((oe=V.multipliers)==null?void 0:oe.amp)??1)),F.set("mmc",String(((ue=V.multipliers)==null?void 0:ue.kwh)??1))),F.set("fwa","true"),F.set("fws",F.get("fws")??"2"),F.set("fwe",F.get("fwe")??F.get("fws")??"2"),F.set("sf","1"),F.set("ulang","no");let I=await(await fetch("save",{method:"POST",body:F})).json();l(2,w=!1);const B=String(N.get("sh")??"").trim(),j=(typeof I.message=="string"?I.message:"").split("|").map(Q=>Q.trim()),G=j[0]??"",W=j[1]??"",U=j[2]??"",H=G||B||_.hostname||(_!=null&&_.chipId?`ams-${_.chipId}`:"ams-reader"),x=W||(H&&H.indexOf(".")===-1&&H.indexOf(":")===-1?`${H}.local`:H),ne=U,z=Array.from(new Set([ne,H,x].filter(Q=>Q&&Q.length>0)));l(3,g=I.reboot?[...z]:[]),ul.update(Q=>{Q.net||(Q.net={});const $=H||Q.hostname||B;return Q.hostname=$,(!Q.upgrade||typeof Q.upgrade!="object")&&(Q.upgrade={x:-1,e:0,f:null,t:null,m:!1}),Q.upgrade.auto=!0,Q.fwconsent=1,(!Q.ui||typeof Q.ui!="object")&&(Q.ui={}),Q.ui.lang="no",U&&(Q.net.ip=U),Q.targets=[...z],Q.usrcfg=I.success,Q.booting=I.reboot,Q});const ee=xl(ul);l(8,_=ee),I.reboot&&setTimeout(()=>rn(ee,T),5e3)}const O=[[]];function A(){b=this.__value,l(5,b)}return t.$$set=P=>{"sysinfo"in P&&l(8,_=P.sysinfo),"data"in P&&l(9,v=P.data)},t.$$.update=()=>{if(t.$$.dirty&512){const{level:P,label:N}=Gn(v==null?void 0:v.r);n[P]??n.off}t.$$.dirty&1&&l(4,k=Array.isArray(d==null?void 0:d.n)?d.n.map(P=>{const{level:N,label:F}=Gn(P==null?void 0:P.r);return{icon:n[N]??n.off,title:F}}):[])},[d,i,w,g,k,b,n,q,_,v,A,O]}class Im extends At{constructor(e){super(),Et(this,e,Lm,qm,Nt,{sysinfo:8,data:9})}}function Om(t){let e;return{c(){e=S("Kopier til utklippstavlen")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Dm(t){let e;return{c(){e=S("Kopier mislyktes")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Fm(t){let e;return{c(){e=S("Kopiert!")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Rm(t){let e;return{c(){e=S("Kopierer…")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Um(t){let e;return{c(){e=S("Trykk knappen, eller marker og kopier adressen manuelt.")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Bm(t){let e;return{c(){e=S("Marker adressen og kopier manuelt (for eksempel med ⌘+C).")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Wm(t){let e;return{c(){e=S("Lim adressen inn i nettleserens adresselinje.")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Ir(t){let e;return{c(){e=p("span"),e.textContent="Vi forsøker å lukke vinduet automatisk. Hvis det fortsatt er åpent, lukk det selv og følg stegene under.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Or(t){let e;return{c(){e=p("span"),e.textContent="Vinduet skal lukke seg automatisk om et øyeblikk.",u(e,"class","text-xs text-slate-500 dark:text-slate-400")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Hm(t){let e;return{c(){e=p("p"),e.innerHTML="Kopier adressen, lukk dette vinduet, velg <strong>Fortsett uten nettverk/internet (Continue without network)</strong> og lim adressen inn i nettleseren du foretrekker."},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function jm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk tilbakeknappen for å lukke vinduet.</li> <li>Åpne Chrome (eller ønsket nettleser) og lim inn adressen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function zm(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Lukk vinduet.</li> <li>Når dialogen dukker opp, velg <strong>Fortsett uten internett</strong>.</li> <li>Åpne Safari og lim inn adressen (⌘+V).</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Km(t){let e;return{c(){e=p("ol"),e.innerHTML="<li>Kopier adressen.</li> <li>Trykk <strong>Ferdig</strong> øverst til høyre.</li> <li>Velg <strong>Behold tilkoblingen</strong>.</li> <li>Åpne Safari og lim inn adressen i adresselinjen.</li>",u(e,"class","list-decimal space-y-1 pl-5")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Dr(t){let e;return{c(){e=p("div"),e.innerHTML='<p class="font-medium">Tips når du lukker vinduet</p> <p class="mt-2">Velg <strong>Behold tilkoblingen</strong> eller <strong>Fortsett uten internett</strong> dersom du får spørsmål. Unngå «Koble fra nettverket», ellers mister du forbindelsen til enheten.</p>',u(e,"class","rounded-md border border-amber-300 bg-amber-50 p-4 text-sm text-amber-900 dark:border-amber-900/60 dark:bg-amber-900/20 dark:text-amber-100")},m(l,n){C(l,e,n)},d(l){l&&M(e)}}}function Vm(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F,V,Y,I,B,X,j,G,W,U,H,x,ne,z,ee,ce,ae;function oe(le,se){return le[5]==="pending"?Rm:le[5]==="success"?Fm:le[5]==="error"?Dm:Om}let ue=oe(t),Q=ue(t);function $(le,se){return le[5]==="success"?Wm:le[5]==="error"?Bm:Um}let te=$(t),ve=te(t),we=t[7]&&!t[8]&&Ir(),E=t[8]&&Or();function y(le,se){return le[2]?Km:le[3]?zm:le[4]?jm:Hm}let R=y(t),D=R(t),K=t[1]&&t[6]&&Dr();return{c(){e=p("section"),l=p("div"),n=p("h1"),n.textContent="Gå til oppsettet i nettleseren din",i=h(),s=p("p"),s.textContent="Dette vinduet er bare tilkoblingshjelp. Kopier adressen under, lukk vinduet, og lim den inn i nettleseren du vil bruke.",o=h(),f=p("div"),r=p("div"),c=p("p"),c.textContent="1. Kopier adressen",m=h(),d=p("p"),_=S("Adressen er "),v=p("code"),w=S(t[0]),g=S(" og virker mens du er tilkoblet "),k=p("strong"),k.textContent="NEAS-WATTUP",b=S("."),T=h(),q=p("div"),O=p("button"),Q.c(),A=h(),P=p("span"),ve.c(),N=h(),we&&we.c(),F=h(),E&&E.c(),V=h(),Y=p("div"),I=p("p"),I.textContent="2. Åpne den i nettleseren",B=h(),X=p("div"),D.c(),j=h(),K&&K.c(),G=h(),W=p("div"),U=p("p"),U.textContent="3. Start selve oppsettet",H=h(),x=p("a"),ne=S("Åpne oppsettet i nettleseren"),z=h(),ee=p("p"),ee.textContent="Lenken åpnes i standardnettleseren din. Du kan også lime inn adressen manuelt hvis du foretrekker det.",u(n,"class","text-2xl font-semibold text-slate-800 dark:text-slate-100"),u(s,"class","mt-3 text-slate-600 dark:text-slate-300"),u(c,"class","font-medium text-slate-800 dark:text-slate-100"),u(v,"class","rounded bg-white px-2 py-1 font-mono text-sm text-slate-900 dark:bg-slate-800 dark:text-slate-100"),u(d,"class","mt-2"),u(O,"class","rounded border border-slate-300 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition hover:border-slate-400 hover:text-slate-900 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:border-slate-500"),u(P,"class","text-xs text-slate-500 dark:text-slate-400"),u(q,"class","mt-3 flex flex-wrap items-center gap-2"),u(r,"class","rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(I,"class","font-medium"),u(X,"class","mt-2 space-y-2"),u(Y,"class","rounded-md border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 dark:border-blue-900/60 dark:bg-blue-900/30 dark:text-blue-100"),u(U,"class","font-medium text-slate-800 dark:text-slate-100"),u(x,"class","btn-pri inline-block"),u(x,"href",t[0]),u(x,"target","_blank"),u(x,"rel","noreferrer"),u(ee,"class","text-xs text-slate-500 dark:text-slate-400"),u(W,"class","flex flex-col items-start gap-2 rounded-md border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200"),u(f,"class","mt-5 space-y-5"),u(l,"class","rounded-lg border border-slate-200 bg-white/90 p-6 shadow-md backdrop-blur dark:border-slate-700 dark:bg-slate-800/80"),u(e,"class","mt-6")},m(le,se){C(le,e,se),a(e,l),a(l,n),a(l,i),a(l,s),a(l,o),a(l,f),a(f,r),a(r,c),a(r,m),a(r,d),a(d,_),a(d,v),a(v,w),a(d,g),a(d,k),a(d,b),a(r,T),a(r,q),a(q,O),Q.m(O,null),a(q,A),a(q,P),ve.m(P,null),a(q,N),we&&we.m(q,null),a(q,F),E&&E.m(q,null),a(f,V),a(f,Y),a(Y,I),a(Y,B),a(Y,X),D.m(X,null),a(f,j),K&&K.m(f,null),a(f,G),a(f,W),a(W,U),a(W,H),a(W,x),a(x,ne),a(W,z),a(W,ee),ce||(ae=he(O,"click",t[9]),ce=!0)},p(le,[se]){se&1&&L(w,le[0]),ue!==(ue=oe(le))&&(Q.d(1),Q=ue(le),Q&&(Q.c(),Q.m(O,null))),te!==(te=$(le))&&(ve.d(1),ve=te(le),ve&&(ve.c(),ve.m(P,null))),le[7]&&!le[8]?we||(we=Ir(),we.c(),we.m(q,F)):we&&(we.d(1),we=null),le[8]?E||(E=Or(),E.c(),E.m(q,null)):E&&(E.d(1),E=null),R!==(R=y(le))&&(D.d(1),D=R(le),D&&(D.c(),D.m(X,null))),le[1]&&le[6]?K||(K=Dr(),K.c(),K.m(f,G)):K&&(K.d(1),K=null),se&1&&u(x,"href",le[0])},i:Ue,o:Ue,d(le){le&&M(e),Q.d(),ve.d(),we&&we.d(),E&&E.d(),D.d(),K&&K.d(),ce=!1,ae()}}}function Gm(t,e,l){let{basepath:n="/"}=e,i="http://192.168.4.1/setup",s=!1,o=!1,f=!1,r=!1,c="idle",m=!1,d=!1,_=!1;vi(()=>{l(0,i=v()),w()}),bi(()=>{});function v(){const b="http://192.168.4.1/setup";try{const T=new URL(n||"/",window.location.href);return new URL("./setup",T).href}catch{return b}}function w(){if(typeof navigator>"u")return!1;const b=navigator.userAgent||"",T=[/CaptiveNetworkSupport/i,/CaptivePortalLogin/i,/WISPr/i,/Microsoft\s?NCSI/i,/MiniBrowser/i,/PortalApp/i,/CaptiveNetworkWebSheet/i];return l(2,o=/iPad|iPhone|iPod/.test(b)&&!window.MSStream),l(3,f=/Macintosh|Mac OS X/.test(b)),l(4,r=/Android/.test(b)),l(1,s=T.some(q=>q.test(b))),l(2,o=s&&o),l(3,f=s&&f&&!o),l(4,r=s&&r),s}async function g(b){var q,O;(q=b==null?void 0:b.preventDefault)==null||q.call(b),l(5,c="pending");const T=()=>{try{const A=document.createElement("textarea");A.value=i,A.setAttribute("readonly",""),A.style.position="absolute",A.style.left="-9999px",document.body.appendChild(A),A.select();const P=document.execCommand("copy");return document.body.removeChild(A),P}catch{return!1}};try{(O=navigator.clipboard)!=null&&O.writeText?(await navigator.clipboard.writeText(i),l(5,c="success")):T()?l(5,c="success"):l(5,c="error")}catch{T()?l(5,c="success"):l(5,c="error")}c==="success"&&(s&&(k(),l(6,m=!0)),setTimeout(()=>{l(5,c="idle")},3e3))}function k(){if(!s||d)return;l(7,d=!0);let b=!1;try{window.close(),b=window.closed}catch{b=!1}if(!b)try{window.open("","_self"),window.close(),b=window.closed}catch{b=!1}if(b){l(8,_=!0);return}setTimeout(()=>{(window.closed||document.visibilityState==="hidden")&&l(8,_=!0)},400)}return t.$$set=b=>{"basepath"in b&&l(10,n=b.basepath)},[i,s,o,f,r,c,m,d,_,g,n]}class Ym extends At{constructor(e){super(),Et(this,e,Gm,Vm,Nt,{basepath:10})}}function Xm(t){var Y,I,B,X;let e,l,n,i=(((Y=t[2].upload)==null?void 0:Y.title)??"Upload")+"",s,o,f,r,c,m=(((I=t[2].upload)==null?void 0:I.desc)??"")+"",d,_,v,w,g,k,b,T,q=(((B=t[2].btn)==null?void 0:B.upload)??"Upload")+"",O,A,P,N,F,V;return P=new ml({props:{active:t[3],message:((X=t[2].upload)==null?void 0:X.mask)??"Uploading"}}),{c(){e=p("div"),l=p("div"),n=p("strong"),s=S(i),o=h(),f=S(t[1]),r=h(),c=p("p"),d=S(m),_=h(),v=p("form"),w=p("input"),g=h(),k=p("div"),b=p("button"),T=p("p"),O=S(q),A=h(),Ne(P.$$.fragment),u(c,"class","mb-4"),u(w,"name","file"),u(w,"type","file"),u(T,"class","mb-4"),u(b,"type","submit"),u(b,"class","btn-pri"),u(k,"class","w-full text-right mt-4"),u(v,"action",t[0]),u(v,"enctype","multipart/form-data"),u(v,"method","post"),u(v,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(j,G){C(j,e,G),a(e,l),a(l,n),a(n,s),a(n,o),a(n,f),a(l,r),a(l,c),a(c,d),a(l,_),a(l,v),a(v,w),a(v,g),a(v,k),a(k,b),a(b,T),a(T,O),C(j,A,G),Me(P,j,G),N=!0,F||(V=he(v,"submit",t[4]),F=!0)},p(j,[G]){var U,H,x,ne;(!N||G&4)&&i!==(i=(((U=j[2].upload)==null?void 0:U.title)??"Upload")+"")&&L(s,i),(!N||G&2)&&L(f,j[1]),(!N||G&4)&&m!==(m=(((H=j[2].upload)==null?void 0:H.desc)??"")+"")&&L(d,m),(!N||G&4)&&q!==(q=(((x=j[2].btn)==null?void 0:x.upload)??"Upload")+"")&&L(O,q),(!N||G&1)&&u(v,"action",j[0]);const W={};G&8&&(W.active=j[3]),G&4&&(W.message=((ne=j[2].upload)==null?void 0:ne.mask)??"Uploading"),P.$set(W)},i(j){N||(Z(P.$$.fragment,j),N=!0)},o(j){ie(P.$$.fragment,j),N=!1},d(j){j&&(M(e),M(A)),Ce(P,j),F=!1,V()}}}function Jm(t,e,l){let{action:n}=e,{title:i}=e,s={};Cl.subscribe(r=>{l(2,s=r)});let o=!1;const f=()=>l(3,o=!0);return t.$$set=r=>{"action"in r&&l(0,n=r.action),"title"in r&&l(1,i=r.title)},[n,i,s,o,f]}class us extends At{constructor(e){super(),Et(this,e,Jm,Xm,Nt,{action:0,title:1})}}function Fr(t,e,l){const n=t.slice();return n[30]=e[l],n[31]=e,n[32]=l,n}function Rr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Qm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Ur(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Zm(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Br(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Wr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function Hr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function jr(t,e,l){const n=t.slice();return n[33]=e[l],n[35]=l,n}function zr(t){let e,l=Xe(t[1].o),n=[];for(let i=0;i<l.length;i+=1)n[i]=Qr(Fr(t,l,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=el()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);C(i,e,s)},p(i,s){if(s[0]&1875){l=Xe(i[1].o);let o;for(o=0;o<l.length;o+=1){const f=Fr(i,l,o);n[o]?n[o].p(f,s):(n[o]=Qr(f),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(i){i&&M(e),Qt(n,i)}}}function Kr(t){let e,l=t[4][t[35]]+"",n,i,s,o;function f(){return t[16](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=S(l),u(e,"class",i=t[30].a.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].a.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function Vr(t){let e,l=t[35].toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[17](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=S(l),u(e,"class",i=t[30].h.includes(t[35])?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35])?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function Gr(t){let e,l=(t[35]+8).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[18](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=S(l),u(e,"class",i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+8)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function Yr(t){let e,l=(t[35]+16).toString().padStart(2,"0")+"",n,i,s,o;function f(){return t[19](t[30],t[35],t[31],t[32])}return{c(){e=p("span"),n=S(l),u(e,"class",i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")},m(r,c){C(r,e,c),a(e,n),s||(o=he(e,"click",f),s=!0)},p(r,c){t=r,c[0]&2&&i!==(i=t[30].h.includes(t[35]+16)?"bd-on":"bd-off")&&u(e,"class",i)},d(r){r&&M(e),s=!1,o()}}}function $m(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function Xr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:mt(t[35]+1))+"",n;return{c(){e=p("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:mt(s[35]+1))+"")&&L(n,l)},d(s){s&&M(e)}}}function xm(t){let e;return{c(){e=p("option"),e.textContent=`${t[35]+1}`,e.__value=t[35]+1,J(e,e.__value)},m(l,n){C(l,e,n)},p:Ue,d(l){l&&M(e)}}}function Jr(t){var i;let e,l=(t[0].months?(i=t[0].months)==null?void 0:i[t[35]]:mt(t[35]+1))+"",n;return{c(){e=p("option"),n=S(l),e.__value=t[35]+1,J(e,e.__value)},m(s,o){C(s,e,o),a(e,n)},p(s,o){var f;o[0]&1&&l!==(l=(s[0].months?(f=s[0].months)==null?void 0:f[s[35]]:mt(s[35]+1))+"")&&L(n,l)},d(s){s&&M(e)}}}function Qr(t){var Ft,sl,Dt,Ye,Ut,Xt,gt,ut,Mt,Kt;let e,l,n,i,s,o,f,r=(((sl=(Ft=t[0].conf)==null?void 0:Ft.common)==null?void 0:sl.import)??"Import")+"",c,m,d=(((Ye=(Dt=t[0].conf)==null?void 0:Dt.common)==null?void 0:Ye.export)??"Export")+"",_,v,w=(((Xt=(Ut=t[0].conf)==null?void 0:Ut.price)==null?void 0:Xt.both)??"Both")+"",g,k,b,T,q=(((ut=(gt=t[0].conf)==null?void 0:gt.price)==null?void 0:ut.fixed)??"Fixed")+"",O,A,P,N,F,V,Y,I,B,X=(((Mt=t[0].common)==null?void 0:Mt.days)??"Days")+"",j,G,W,U,H,x,ne,z=(((Kt=t[0].common)==null?void 0:Kt.hours)??"Hours")+"",ee,ce,ae,oe,ue,Q,$,te,ve,we,E,y,R,D,K,le,se,re,me,fe,ke,ge,Ae,Le,Be,ze,Je,xe,qe,lt,be,ye,We,dt,_t,Qe,ft;function jt(){t[12].call(n,t[31],t[32])}function pt(){t[13].call(o,t[31],t[32])}function qt(){t[14].call(b,t[31],t[32])}function Pt(){t[15].call(V,t[31],t[32])}let Lt=Xe({length:7}),tt=[];for(let pe=0;pe<Lt.length;pe+=1)tt[pe]=Kr(jr(t,Lt,pe));let ot=Xe({length:8}),Pe=[];for(let pe=0;pe<ot.length;pe+=1)Pe[pe]=Vr(Hr(t,ot,pe));let He=Xe({length:8}),$e=[];for(let pe=0;pe<He.length;pe+=1)$e[pe]=Gr(Wr(t,He,pe));let Ze=Xe({length:8}),de=[];for(let pe=0;pe<Ze.length;pe+=1)de[pe]=Yr(Br(t,Ze,pe));let De=Xe({length:31}),Tt=[];for(let pe=0;pe<De.length;pe+=1)Tt[pe]=$m(Zm(t,De,pe));function It(){t[20].call(y,t[31],t[32])}let bt=Xe({length:12}),je=[];for(let pe=0;pe<bt.length;pe+=1)je[pe]=Xr(Ur(t,bt,pe));function ct(){t[21].call(K,t[31],t[32])}let et=Xe({length:31}),Ot=[];for(let pe=0;pe<et.length;pe+=1)Ot[pe]=xm(Qm(t,et,pe));function zt(){t[22].call(fe,t[31],t[32])}let Ve=Xe({length:12}),Se=[];for(let pe=0;pe<Ve.length;pe+=1)Se[pe]=Jr(Rr(t,Ve,pe));function Te(){t[23].call(Ae,t[31],t[32])}function Ge(){return t[24](t[32])}function nt(){return t[25](t[32])}function at(){return t[26](t[32])}function ht(){return t[27](t[32])}function Yt(){return t[28](t[32])}function Rt(){return t[29](t[32])}return{c(){e=p("div"),l=p("div"),n=p("input"),i=h(),s=p("div"),o=p("select"),f=p("option"),c=S(r),m=p("option"),_=S(d),v=p("option"),g=S(w),k=h(),b=p("select"),T=p("option"),O=S(q),A=p("option"),A.textContent="+",P=p("option"),P.textContent="-",N=p("option"),N.textContent="%",F=h(),V=p("input"),Y=h(),I=p("div"),B=p("span"),j=S(X),G=S(":"),W=h(),U=p("div");for(let pe=0;pe<tt.length;pe+=1)tt[pe].c();H=h(),x=p("div"),ne=p("span"),ee=S(z),ce=S(":"),ae=h(),oe=p("div"),ue=p("div");for(let pe=0;pe<Pe.length;pe+=1)Pe[pe].c();Q=h(),$=p("div");for(let pe=0;pe<$e.length;pe+=1)$e[pe].c();te=h(),ve=p("div");for(let pe=0;pe<de.length;pe+=1)de[pe].c();we=h(),E=p("div"),y=p("select"),R=p("option"),R.textContent="-";for(let pe=0;pe<Tt.length;pe+=1)Tt[pe].c();D=h(),K=p("select"),le=p("option"),le.textContent="-";for(let pe=0;pe<je.length;pe+=1)je[pe].c();se=h(),re=p("input"),me=h(),fe=p("select"),ke=p("option"),ke.textContent="-";for(let pe=0;pe<Ot.length;pe+=1)Ot[pe].c();ge=h(),Ae=p("select"),Le=p("option"),Le.textContent="-";for(let pe=0;pe<Se.length;pe+=1)Se[pe].c();Be=h(),ze=p("div"),Je=p("span"),Je.textContent="⇧",xe=h(),qe=p("span"),lt=S("⇩"),ye=h(),We=p("span"),We.textContent="🗑",dt=h(),_t=p("hr"),u(n,"name","n"),u(n,"type","text"),u(n,"class","in-s"),u(l,"class","mr-3"),f.__value=1,J(f,f.__value),m.__value=2,J(m,m.__value),v.__value=3,J(v,v.__value),u(o,"name","rd"),u(o,"class","in-f"),t[30].d===void 0&&Gt(pt),T.__value=0,J(T,T.__value),A.__value=1,J(A,A.__value),P.__value=3,J(P,P.__value),N.__value=2,J(N,N.__value),u(b,"name","rt"),u(b,"class","in-m"),t[30].t===void 0&&Gt(qt),u(V,"name","rv"),u(V,"type","number"),u(V,"class","in-l tr"),en(V,"width","100px"),u(V,"min","0.0001"),u(V,"max","99.9999"),u(V,"step","0.0001"),u(s,"class","flex mr-3"),u(B,"class","mr-2"),u(I,"class","flex flex-wrap mr-3"),u(ne,"class","mr-2"),u(x,"class","flex flex-wrap mr-3"),R.__value=0,J(R,R.__value),u(y,"name","rsd"),u(y,"class","in-f"),t[30].s.d===void 0&&Gt(It),le.__value=0,J(le,le.__value),u(K,"name","rsm"),u(K,"class","in-m"),t[30].s.m===void 0&&Gt(ct),u(re,"class","in-m"),re.disabled=!0,re.value="to",en(re,"width","20px"),en(re,"color","#888"),ke.__value=0,J(ke,ke.__value),u(fe,"name","red"),u(fe,"class","in-m"),t[30].e.d===void 0&&Gt(zt),Le.__value=0,J(Le,Le.__value),u(Ae,"name","rem"),u(Ae,"class","in-l"),t[30].e.m===void 0&&Gt(Te),u(E,"class","flex flex-wrap mr-3"),u(Je,"class",t[32]>0?"text-green-600":"text-gray-300"),u(qe,"class",be=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300"),u(We,"class","text-red-500 text-xs"),u(ze,"class","mt-1.5 ml-3"),u(e,"class","flex flex-wrap"),u(_t,"class","m-3")},m(pe,it){C(pe,e,it),a(e,l),a(l,n),J(n,t[30].n),a(e,i),a(e,s),a(s,o),a(o,f),a(f,c),a(o,m),a(m,_),a(o,v),a(v,g),st(o,t[30].d,!0),a(s,k),a(s,b),a(b,T),a(T,O),a(b,A),a(b,P),a(b,N),st(b,t[30].t,!0),a(s,F),a(s,V),J(V,t[30].v),a(e,Y),a(e,I),a(I,B),a(B,j),a(B,G),a(I,W),a(I,U);for(let Ke=0;Ke<tt.length;Ke+=1)tt[Ke]&&tt[Ke].m(U,null);a(e,H),a(e,x),a(x,ne),a(ne,ee),a(ne,ce),a(x,ae),a(x,oe),a(oe,ue);for(let Ke=0;Ke<Pe.length;Ke+=1)Pe[Ke]&&Pe[Ke].m(ue,null);a(oe,Q),a(oe,$);for(let Ke=0;Ke<$e.length;Ke+=1)$e[Ke]&&$e[Ke].m($,null);a(oe,te),a(oe,ve);for(let Ke=0;Ke<de.length;Ke+=1)de[Ke]&&de[Ke].m(ve,null);a(e,we),a(e,E),a(E,y),a(y,R);for(let Ke=0;Ke<Tt.length;Ke+=1)Tt[Ke]&&Tt[Ke].m(y,null);st(y,t[30].s.d,!0),a(E,D),a(E,K),a(K,le);for(let Ke=0;Ke<je.length;Ke+=1)je[Ke]&&je[Ke].m(K,null);st(K,t[30].s.m,!0),a(E,se),a(E,re),a(E,me),a(E,fe),a(fe,ke);for(let Ke=0;Ke<Ot.length;Ke+=1)Ot[Ke]&&Ot[Ke].m(fe,null);st(fe,t[30].e.d,!0),a(E,ge),a(E,Ae),a(Ae,Le);for(let Ke=0;Ke<Se.length;Ke+=1)Se[Ke]&&Se[Ke].m(Ae,null);st(Ae,t[30].e.m,!0),a(e,Be),a(e,ze),a(ze,Je),a(ze,xe),a(ze,qe),a(qe,lt),a(ze,ye),a(ze,We),C(pe,dt,it),C(pe,_t,it),Qe||(ft=[he(n,"input",jt),he(o,"change",pt),he(b,"change",qt),he(V,"input",Pt),he(y,"change",It),he(K,"change",ct),he(fe,"change",zt),he(Ae,"change",Te),he(Je,"click",Ge),he(Je,"keypress",nt),he(qe,"click",at),he(qe,"keypress",ht),he(We,"click",Yt),he(We,"keypress",Rt)],Qe=!0)},p(pe,it){var Ke,ol,Jt,tl,_l,al,Zt,$t,cl,Ee;if(t=pe,it[0]&2&&n.value!==t[30].n&&J(n,t[30].n),it[0]&1&&r!==(r=(((ol=(Ke=t[0].conf)==null?void 0:Ke.common)==null?void 0:ol.import)??"Import")+"")&&L(c,r),it[0]&1&&d!==(d=(((tl=(Jt=t[0].conf)==null?void 0:Jt.common)==null?void 0:tl.export)??"Export")+"")&&L(_,d),it[0]&1&&w!==(w=(((al=(_l=t[0].conf)==null?void 0:_l.price)==null?void 0:al.both)??"Both")+"")&&L(g,w),it[0]&2&&st(o,t[30].d),it[0]&1&&q!==(q=((($t=(Zt=t[0].conf)==null?void 0:Zt.price)==null?void 0:$t.fixed)??"Fixed")+"")&&L(O,q),it[0]&2&&st(b,t[30].t),it[0]&2&&kt(V.value)!==t[30].v&&J(V,t[30].v),it[0]&1&&X!==(X=(((cl=t[0].common)==null?void 0:cl.days)??"Days")+"")&&L(j,X),it[0]&82){Lt=Xe({length:7});let _e;for(_e=0;_e<Lt.length;_e+=1){const Bt=jr(t,Lt,_e);tt[_e]?tt[_e].p(Bt,it):(tt[_e]=Kr(Bt),tt[_e].c(),tt[_e].m(U,null))}for(;_e<tt.length;_e+=1)tt[_e].d(1);tt.length=Lt.length}if(it[0]&1&&z!==(z=(((Ee=t[0].common)==null?void 0:Ee.hours)??"Hours")+"")&&L(ee,z),it[0]&66){ot=Xe({length:8});let _e;for(_e=0;_e<ot.length;_e+=1){const Bt=Hr(t,ot,_e);Pe[_e]?Pe[_e].p(Bt,it):(Pe[_e]=Vr(Bt),Pe[_e].c(),Pe[_e].m(ue,null))}for(;_e<Pe.length;_e+=1)Pe[_e].d(1);Pe.length=ot.length}if(it[0]&66){He=Xe({length:8});let _e;for(_e=0;_e<He.length;_e+=1){const Bt=Wr(t,He,_e);$e[_e]?$e[_e].p(Bt,it):($e[_e]=Gr(Bt),$e[_e].c(),$e[_e].m($,null))}for(;_e<$e.length;_e+=1)$e[_e].d(1);$e.length=He.length}if(it[0]&66){Ze=Xe({length:8});let _e;for(_e=0;_e<Ze.length;_e+=1){const Bt=Br(t,Ze,_e);de[_e]?de[_e].p(Bt,it):(de[_e]=Yr(Bt),de[_e].c(),de[_e].m(ve,null))}for(;_e<de.length;_e+=1)de[_e].d(1);de.length=Ze.length}if(it[0]&2&&st(y,t[30].s.d),it[0]&1){bt=Xe({length:12});let _e;for(_e=0;_e<bt.length;_e+=1){const Bt=Ur(t,bt,_e);je[_e]?je[_e].p(Bt,it):(je[_e]=Xr(Bt),je[_e].c(),je[_e].m(K,null))}for(;_e<je.length;_e+=1)je[_e].d(1);je.length=bt.length}if(it[0]&2&&st(K,t[30].s.m),it[0]&2&&st(fe,t[30].e.d),it[0]&1){Ve=Xe({length:12});let _e;for(_e=0;_e<Ve.length;_e+=1){const Bt=Rr(t,Ve,_e);Se[_e]?Se[_e].p(Bt,it):(Se[_e]=Jr(Bt),Se[_e].c(),Se[_e].m(Ae,null))}for(;_e<Se.length;_e+=1)Se[_e].d(1);Se.length=Ve.length}it[0]&2&&st(Ae,t[30].e.m),it[0]&2&&be!==(be=t[32]<t[1].o.length-1?"text-green-600":"text-gray-300")&&u(qe,"class",be)},d(pe){pe&&(M(e),M(dt),M(_t)),Qt(tt,pe),Qt(Pe,pe),Qt($e,pe),Qt(de,pe),Qt(Tt,pe),Qt(je,pe),Qt(Ot,pe),Qt(Se,pe),Qe=!1,Ht(ft)}}}function e_(t){var H,x,ne,z,ee,ce,ae,oe,ue;let e,l,n=(((x=(H=t[0].conf)==null?void 0:H.price)==null?void 0:x.title)??"Price")+"",i,s,o,f,r,c,m,d,_,v,w,g,k,b=(((z=(ne=t[0].conf)==null?void 0:ne.price)==null?void 0:z.btn_add)??"Add")+"",T,q,O,A,P,N,F=(((ee=t[0].btn)==null?void 0:ee.save)??"Save")+"",V,Y,I,B,X,j,G,W,U=t[1].o&&zr(t);return I=new ml({props:{active:t[2],message:((ae=(ce=t[0].conf)==null?void 0:ce.price)==null?void 0:ae.mask_loading)??"Loading"}}),X=new ml({props:{active:t[3],message:((ue=(oe=t[0].conf)==null?void 0:oe.price)==null?void 0:ue.mask_saving)??"Saving"}}),{c(){e=p("div"),l=p("strong"),i=S(n),s=h(),o=p("a"),o.textContent="ⓘ",f=h(),r=p("hr"),c=h(),m=p("form"),d=p("input"),_=h(),U&&U.c(),v=h(),w=p("div"),g=p("div"),k=p("button"),T=S(b),q=h(),O=p("div"),O.innerHTML="",A=h(),P=p("div"),N=p("button"),V=S(F),Y=h(),Ne(I.$$.fragment),B=h(),Ne(X.$$.fragment),u(l,"class","text-sm"),u(o,"href",Ol("Price-configuration")),u(o,"target","_blank"),u(o,"class","float-right"),u(r,"class","m-3"),u(d,"type","hidden"),u(d,"name","r"),d.value="true",u(k,"type","button"),u(k,"class","btn-pri"),u(O,"class","text-center"),u(N,"type","submit"),u(N,"class","btn-pri"),u(P,"class","text-right"),u(w,"class","grid grid-cols-3"),u(m,"autocomplete","off"),u(e,"class","cnt")},m(Q,$){C(Q,e,$),a(e,l),a(l,i),a(e,s),a(e,o),a(e,f),a(e,r),a(e,c),a(e,m),a(m,d),a(m,_),U&&U.m(m,null),a(m,v),a(m,w),a(w,g),a(g,k),a(k,T),a(w,q),a(w,O),a(w,A),a(w,P),a(P,N),a(N,V),C(Q,Y,$),Me(I,Q,$),C(Q,B,$),Me(X,Q,$),j=!0,G||(W=[he(k,"click",t[7]),he(m,"submit",Sn(t[5]))],G=!0)},p(Q,$){var we,E,y,R,D,K,le,se,re;(!j||$[0]&1)&&n!==(n=(((E=(we=Q[0].conf)==null?void 0:we.price)==null?void 0:E.title)??"Price")+"")&&L(i,n),Q[1].o?U?U.p(Q,$):(U=zr(Q),U.c(),U.m(m,v)):U&&(U.d(1),U=null),(!j||$[0]&1)&&b!==(b=(((R=(y=Q[0].conf)==null?void 0:y.price)==null?void 0:R.btn_add)??"Add")+"")&&L(T,b),(!j||$[0]&1)&&F!==(F=(((D=Q[0].btn)==null?void 0:D.save)??"Save")+"")&&L(V,F);const te={};$[0]&4&&(te.active=Q[2]),$[0]&1&&(te.message=((le=(K=Q[0].conf)==null?void 0:K.price)==null?void 0:le.mask_loading)??"Loading"),I.$set(te);const ve={};$[0]&8&&(ve.active=Q[3]),$[0]&1&&(ve.message=((re=(se=Q[0].conf)==null?void 0:se.price)==null?void 0:re.mask_saving)??"Saving"),X.$set(ve)},i(Q){j||(Z(I.$$.fragment,Q),Z(X.$$.fragment,Q),j=!0)},o(Q){ie(I.$$.fragment,Q),ie(X.$$.fragment,Q),j=!1},d(Q){Q&&(M(e),M(Y),M(B)),U&&U.d(),Ce(I,Q),Ce(X,Q),G=!1,Ht(W)}}}function t_(t,e,l){let{basepath:n="/"}=e,i={};Cl.subscribe(U=>{l(0,i=U)});let s=["mo","tu","we","th","fr","sa","su"],o={},f=!0,r=!1;ou.subscribe(U=>{U.o&&(l(1,o=U),l(2,f=!1))}),v1();async function c(U){l(3,r=!0);const H=new URLSearchParams;H.append("r","true"),H.append("rc",o.o.length),o.o.forEach(function(ne,z){H.append("rt"+z,ne.t),H.append("rn"+z,ne.n),H.append("rd"+z,ne.d),H.append("ra"+z,ne.a),H.append("rh"+z,ne.h),H.append("rv"+z,ne.v),H.append("rsm"+z,ne.s.m),H.append("rsd"+z,ne.s.d),H.append("rem"+z,ne.e.m),H.append("red"+z,ne.e.d)}),await(await fetch("save",{method:"POST",body:H})).json(),l(3,r=!1),wn(n+"configuration")}let m=function(U,H){return U.includes(H)?U=U.filter(function(x){return x!==H}):U.push(H),U},d=function(){let U=o.o;U.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),l(1,o.o=U,o)},_=function(U){let H=o.o;H.splice(U,1),l(1,o.o=H,o)},v=function(U){if(U<=0)return;let H=o.o;var x=H[U];H[U]=H[U-1],H[U-1]=x,l(1,o.o=H,o)},w=function(U){let H=o.o;if(!(U>=H.length-1)){var x=H[U];H[U]=H[U+1],H[U+1]=x,l(1,o.o=H,o)}};function g(U,H){U[H].n=this.value,l(1,o)}function k(U,H){U[H].d=nl(this),l(1,o)}function b(U,H){U[H].t=nl(this),l(1,o)}function T(U,H){U[H].v=kt(this.value),l(1,o)}const q=(U,H,x,ne)=>l(1,x[ne].a=m(U.a,H),o),O=(U,H,x,ne)=>l(1,x[ne].h=m(U.h,H),o),A=(U,H,x,ne)=>l(1,x[ne].h=m(U.h,H+8),o),P=(U,H,x,ne)=>l(1,x[ne].h=m(U.h,H+16),o);function N(U,H){U[H].s.d=nl(this),l(1,o)}function F(U,H){U[H].s.m=nl(this),l(1,o)}function V(U,H){U[H].e.d=nl(this),l(1,o)}function Y(U,H){U[H].e.m=nl(this),l(1,o)}const I=U=>v(U),B=U=>v(U),X=U=>w(U),j=U=>w(U),G=U=>_(U),W=U=>_(U);return t.$$set=U=>{"basepath"in U&&l(11,n=U.basepath)},[i,o,f,r,s,c,m,d,_,v,w,n,g,k,b,T,q,O,A,P,N,F,V,Y,I,B,X,j,G,W]}class l_ extends At{constructor(e){super(),Et(this,e,t_,e_,Nt,{basepath:11},null,[-1,-1])}}function Zr(t,e,l){const n=t.slice();return n[13]=e[l],n[14]=e,n[15]=l,n}function $r(t,e,l){const n=t.slice();return n[13]=e[l],n[16]=e,n[17]=l,n}function xr(t){let e,l,n,i=Xe(t[1]),s=[];for(let o=0;o<i.length;o+=1)s[o]=ef($r(t,i,o));return{c(){e=p("div"),e.textContent="Import",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&3){i=Xe(o[1]);let r;for(r=0;r<i.length;r+=1){const c=$r(o,i,r);s[r]?s[r].p(c,f):(s[r]=ef(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),Qt(s,o)}}}function ef(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function v(){t[11].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=S(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,g){C(w,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=he(o,"input",v),d=!0)},p(w,g){t=w,g&2&&n!==(n=t[13].name+"")&&L(i,n),g&2&&f!==(f=t[13].key)&&u(o,"name",f),g&3&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),d=!1,_()}}}function tf(t){let e,l,n,i=Xe(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=lf(Zr(t,i,o));return{c(){e=p("div"),e.textContent="Export",l=h(),n=p("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","text-sm font-bold"),u(n,"class","flex flex-wrap my-1")},m(o,f){C(o,e,f),C(o,l,f),C(o,n,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null)},p(o,f){if(f&5){i=Xe(o[2]);let r;for(r=0;r<i.length;r+=1){const c=Zr(o,i,r);s[r]?s[r].p(c,f):(s[r]=lf(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(o){o&&(M(e),M(l),M(n)),Qt(s,o)}}}function lf(t){let e,l,n=t[13].name+"",i,s,o,f,r,c,m,d,_;function v(){t[12].call(o,t[13])}return{c(){e=p("label"),l=p("span"),i=S(n),s=h(),o=p("input"),r=h(),c=p("span"),c.textContent="kWh",m=h(),u(l,"class","in-pre"),u(o,"name",f=t[13].key),u(o,"type","number"),u(o,"step","0.01"),u(o,"class","in-txt w-full text-right"),u(c,"class","in-post"),u(e,"class","flex w-60 m-1")},m(w,g){C(w,e,g),a(e,l),a(l,i),a(e,s),a(e,o),J(o,t[0][t[13].key]),a(e,r),a(e,c),a(e,m),d||(_=he(o,"input",v),d=!0)},p(w,g){t=w,g&4&&n!==(n=t[13].name+"")&&L(i,n),g&4&&f!==(f=t[13].key)&&u(o,"name",f),g&5&&kt(o.value)!==t[0][t[13].key]&&J(o,t[0][t[13].key])},d(w){w&&M(e),d=!1,_()}}}function n_(t){var O,A,P;let e,l,n,i,s,o,f,r,c,m,d=(((O=t[3].btn)==null?void 0:O.save)??"Save")+"",_,v,w,g,k,b,T=t[1]&&xr(t),q=t[2]&&t[4]&&tf(t);return w=new ml({props:{active:t[5],message:((P=(A=t[3].conf)==null?void 0:A.mask)==null?void 0:P.saving)??"Saving"}}),{c(){e=p("form"),l=p("div"),T&&T.c(),n=h(),q&&q.c(),i=h(),s=p("div"),o=p("div"),f=p("button"),f.textContent="Clear all",r=h(),c=p("div"),m=p("button"),_=S(d),v=h(),Ne(w.$$.fragment),u(f,"type","button"),u(f,"class","btn-red"),u(m,"type","submit"),u(m,"class","btn-pri"),u(c,"class","text-right"),u(s,"class","grid grid-cols-2 mt-3"),u(l,"class","cnt"),u(e,"autocomplete","off")},m(N,F){C(N,e,F),a(e,l),T&&T.m(l,null),a(l,n),q&&q.m(l,null),a(l,i),a(l,s),a(s,o),a(o,f),a(s,r),a(s,c),a(c,m),a(m,_),C(N,v,F),Me(w,N,F),g=!0,k||(b=[he(f,"click",t[6]),he(e,"submit",Sn(t[7]))],k=!0)},p(N,[F]){var Y,I,B;N[1]?T?T.p(N,F):(T=xr(N),T.c(),T.m(l,n)):T&&(T.d(1),T=null),N[2]&&N[4]?q?q.p(N,F):(q=tf(N),q.c(),q.m(l,i)):q&&(q.d(1),q=null),(!g||F&8)&&d!==(d=(((Y=N[3].btn)==null?void 0:Y.save)??"Save")+"")&&L(_,d);const V={};F&32&&(V.active=N[5]),F&8&&(V.message=((B=(I=N[3].conf)==null?void 0:I.mask)==null?void 0:B.saving)??"Saving"),w.$set(V)},i(N){g||(Z(w.$$.fragment,N),g=!0)},o(N){ie(w.$$.fragment,N),g=!1},d(N){N&&(M(e),M(v)),T&&T.d(),q&&q.d(),Ce(w,N),k=!1,Ht(b)}}}function i_(t,e,l){let{prefix:n}=e,{data:i}=e,{url:s}=e,{basepath:o="/"}=e,f={};Cl.subscribe(k=>{l(3,f=k)});let r=!1,c,m;async function d(){if(confirm("Clear all data?"))for(let k in i)(k.startsWith("i")||k.startsWith("e"))&&l(0,i[k]=0,i)}let _=!1;async function v(k){l(5,_=!0);const b=new FormData(k.target),T=new URLSearchParams;for(let O of b){const[A,P]=O;T.append(A,P)}await(await fetch(s,{method:"POST",body:T})).json(),l(5,_=!1),wn(o)}function w(k){i[k.key]=kt(this.value),l(0,i)}function g(k){i[k.key]=kt(this.value),l(0,i)}return t.$$set=k=>{"prefix"in k&&l(8,n=k.prefix),"data"in k&&l(0,i=k.data),"url"in k&&l(9,s=k.url),"basepath"in k&&l(10,o=k.basepath)},t.$$.update=()=>{if(t.$$.dirty&263){l(1,c=[]),l(2,m=[]);for(let k in i){let b=[];k.startsWith("i")?b=c:k.startsWith("e")&&(b=m,i[k]&&l(4,r=!0)),b.push({key:k,name:n+" "+k.substring(1),value:i[k]})}}},[i,c,m,f,r,_,d,v,n,s,o,w,g]}class fu extends At{constructor(e){super(),Et(this,e,i_,n_,Nt,{prefix:8,data:0,url:9,basepath:10})}}function nf(t){let e,l;return e=new gc({props:{data:t[6],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function s_(t){let e,l;return e=new Ym({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function o_(t){let e,l;return e=new h1({props:{data:t[6],sysinfo:t[7],prices:t[1],dayPlot:t[2],monthPlot:t[3],temperatures:t[4],translations:t[5],tariffData:t[8]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),i&128&&(s.sysinfo=n[7]),i&2&&(s.prices=n[1]),i&4&&(s.dayPlot=n[2]),i&8&&(s.monthPlot=n[3]),i&16&&(s.temperatures=n[4]),i&32&&(s.translations=n[5]),i&256&&(s.tariffData=n[8]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function a_(t){let e,l;return e=new am({props:{sysinfo:t[7],basepath:t[0],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function r_(t){let e,l;return e=new l_({props:{basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function f_(t){let e,l;return e=new bm({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function u_(t){let e,l;return e=new us({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function c_(t){let e,l;return e=new us({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function m_(t){let e,l;return e=new us({props:{title:"private key",action:"/mqtt-key"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function __(t){let e,l;return e=new Im({props:{sysinfo:t[7],data:t[6]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function p_(t){let e,l;return e=new Mm({props:{sysinfo:t[7],basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.sysinfo=n[7]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function d_(t){let e,l;return e=new fu({props:{prefix:"UTC Hour",data:t[2],url:"/dayplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function h_(t){let e,l;return e=new fu({props:{prefix:"Day",data:t[3],url:"/monthplot",basepath:t[0]}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&8&&(s.data=n[3]),i&1&&(s.basepath=n[0]),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function v_(t){let e,l,n,i,s,o,f,r,c,m,d,_,v,w,g,k,b,T,q,O,A,P,N,F,V,Y=!t[9]&&nf(t);return l=new dl({props:{path:"/welcome",$$slots:{default:[s_]},$$scope:{ctx:t}}}),i=new dl({props:{path:"/",$$slots:{default:[o_]},$$scope:{ctx:t}}}),o=new dl({props:{path:"/configuration",$$slots:{default:[a_]},$$scope:{ctx:t}}}),r=new dl({props:{path:"/priceconfig",$$slots:{default:[r_]},$$scope:{ctx:t}}}),m=new dl({props:{path:"/status",$$slots:{default:[f_]},$$scope:{ctx:t}}}),_=new dl({props:{path:"/mqtt-ca",$$slots:{default:[u_]},$$scope:{ctx:t}}}),w=new dl({props:{path:"/mqtt-cert",$$slots:{default:[c_]},$$scope:{ctx:t}}}),k=new dl({props:{path:"/mqtt-key",$$slots:{default:[m_]},$$scope:{ctx:t}}}),T=new dl({props:{path:"/setup",$$slots:{default:[__]},$$scope:{ctx:t}}}),O=new dl({props:{path:"/vendor",$$slots:{default:[p_]},$$scope:{ctx:t}}}),P=new dl({props:{path:"/edit-day",$$slots:{default:[d_]},$$scope:{ctx:t}}}),F=new dl({props:{path:"/edit-month",$$slots:{default:[h_]},$$scope:{ctx:t}}}),{c(){Y&&Y.c(),e=h(),Ne(l.$$.fragment),n=h(),Ne(i.$$.fragment),s=h(),Ne(o.$$.fragment),f=h(),Ne(r.$$.fragment),c=h(),Ne(m.$$.fragment),d=h(),Ne(_.$$.fragment),v=h(),Ne(w.$$.fragment),g=h(),Ne(k.$$.fragment),b=h(),Ne(T.$$.fragment),q=h(),Ne(O.$$.fragment),A=h(),Ne(P.$$.fragment),N=h(),Ne(F.$$.fragment)},m(I,B){Y&&Y.m(I,B),C(I,e,B),Me(l,I,B),C(I,n,B),Me(i,I,B),C(I,s,B),Me(o,I,B),C(I,f,B),Me(r,I,B),C(I,c,B),Me(m,I,B),C(I,d,B),Me(_,I,B),C(I,v,B),Me(w,I,B),C(I,g,B),Me(k,I,B),C(I,b,B),Me(T,I,B),C(I,q,B),Me(O,I,B),C(I,A,B),Me(P,I,B),C(I,N,B),Me(F,I,B),V=!0},p(I,B){I[9]?Y&&(wt(),ie(Y,1,1,()=>{Y=null}),St()):Y?(Y.p(I,B),B&512&&Z(Y,1)):(Y=nf(I),Y.c(),Z(Y,1),Y.m(e.parentNode,e));const X={};B&65537&&(X.$$scope={dirty:B,ctx:I}),l.$set(X);const j={};B&66046&&(j.$$scope={dirty:B,ctx:I}),i.$set(j);const G={};B&65729&&(G.$$scope={dirty:B,ctx:I}),o.$set(G);const W={};B&65537&&(W.$$scope={dirty:B,ctx:I}),r.$set(W);const U={};B&65728&&(U.$$scope={dirty:B,ctx:I}),m.$set(U);const H={};B&65536&&(H.$$scope={dirty:B,ctx:I}),_.$set(H);const x={};B&65536&&(x.$$scope={dirty:B,ctx:I}),w.$set(x);const ne={};B&65536&&(ne.$$scope={dirty:B,ctx:I}),k.$set(ne);const z={};B&65728&&(z.$$scope={dirty:B,ctx:I}),T.$set(z);const ee={};B&65665&&(ee.$$scope={dirty:B,ctx:I}),O.$set(ee);const ce={};B&65541&&(ce.$$scope={dirty:B,ctx:I}),P.$set(ce);const ae={};B&65545&&(ae.$$scope={dirty:B,ctx:I}),F.$set(ae)},i(I){V||(Z(Y),Z(l.$$.fragment,I),Z(i.$$.fragment,I),Z(o.$$.fragment,I),Z(r.$$.fragment,I),Z(m.$$.fragment,I),Z(_.$$.fragment,I),Z(w.$$.fragment,I),Z(k.$$.fragment,I),Z(T.$$.fragment,I),Z(O.$$.fragment,I),Z(P.$$.fragment,I),Z(F.$$.fragment,I),V=!0)},o(I){ie(Y),ie(l.$$.fragment,I),ie(i.$$.fragment,I),ie(o.$$.fragment,I),ie(r.$$.fragment,I),ie(m.$$.fragment,I),ie(_.$$.fragment,I),ie(w.$$.fragment,I),ie(k.$$.fragment,I),ie(T.$$.fragment,I),ie(O.$$.fragment,I),ie(P.$$.fragment,I),ie(F.$$.fragment,I),V=!1},d(I){I&&(M(e),M(n),M(s),M(f),M(c),M(d),M(v),M(g),M(b),M(q),M(A),M(N)),Y&&Y.d(I),Ce(l,I),Ce(i,I),Ce(o,I),Ce(r,I),Ce(m,I),Ce(_,I),Ce(w,I),Ce(k,I),Ce(T,I),Ce(O,I),Ce(P,I),Ce(F,I)}}}function sf(t){let e,l,n,i;const s=[g_,b_],o=[];function f(r,c){return r[7].trying?0:1}return e=f(t),l=o[e]=s[e](t),{c(){l.c(),n=el()},m(r,c){o[e].m(r,c),C(r,n,c),i=!0},p(r,c){let m=e;e=f(r),e===m?o[e].p(r,c):(wt(),ie(o[m],1,1,()=>{o[m]=null}),St(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),Z(l,1),l.m(n.parentNode,n))},i(r){i||(Z(l),i=!0)},o(r){ie(l),i=!1},d(r){r&&M(n),o[e].d(r)}}}function b_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p:Ue,i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function g_(t){let e,l;return e=new ml({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[7].trying}}),{c(){Ne(e.$$.fragment)},m(n,i){Me(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.message="Device is booting, please wait. Trying to reach it on "+n[7].trying),e.$set(s)},i(n){l||(Z(e.$$.fragment,n),l=!0)},o(n){ie(e.$$.fragment,n),l=!1},d(n){Ce(e,n)}}}function k_(t){let e,l,n,i;l=new Of({props:{basepath:t[0],$$slots:{default:[v_]},$$scope:{ctx:t}}});let s=t[7].booting&&sf(t);return{c(){e=p("div"),Ne(l.$$.fragment),n=h(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(o,f){C(o,e,f),Me(l,e,null),a(e,n),s&&s.m(e,null),i=!0},p(o,[f]){const r={};f&1&&(r.basepath=o[0]),f&66559&&(r.$$scope={dirty:f,ctx:o}),l.$set(r),o[7].booting?s?(s.p(o,f),f&128&&Z(s,1)):(s=sf(o),s.c(),Z(s,1),s.m(e,null)):s&&(wt(),ie(s,1,1,()=>{s=null}),St())},i(o){i||(Z(l.$$.fragment,o),Z(s),i=!0)},o(o){ie(l.$$.fragment,o),ie(s),i=!1},d(o){o&&M(e),Ce(l),s&&s.d()}}}function w_(t,e,l){let n,i=document.getElementsByTagName("base")[0].getAttribute("href");i||(i="/"),hi("no");let s;os.subscribe(q=>{l(1,s=q)});let o;Kf.subscribe(q=>{l(2,o=q)});let f;Vf.subscribe(q=>{l(3,f=q)});let r;Gf.subscribe(q=>{l(4,r=q)});let c={};Cl.subscribe(q=>{l(5,c=q)});let m,d={},_={},v;const w=(q="")=>{if(typeof q!="string")return"/";let O=q||"/";return i&&i!=="/"&&O.startsWith(i)&&(O=O.slice(i.length),O.startsWith("/")||(O=`/${O}`)),O.startsWith("/")||(O=`/${O}`),O.length>1&&(O=O.replace(/\/+$/,"")),O||"/"};ul.subscribe(q=>{var A;l(7,_=q);const O=(()=>typeof window>"u"?"":w(window.location.pathname??"/").replace(/^\/+/,""))();if(_.vndcfg===!1){O!=="vendor"&&wn(i+"vendor");return}if(_.usrcfg===!1){O!=="setup"&&O!=="welcome"&&wn(i+"welcome");return}_.ui.k===1?document.documentElement.classList.add("dark"):_.ui.k===0?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),_.ui.lang&&_.ui.lang!=((A=c==null?void 0:c.language)==null?void 0:A.code)&&hi(_.ui.lang),_.version&&v&&_.version!=v&&window.location.reload(),v=_.version,m&&clearTimeout(m),m=setTimeout(ki,!d||!d.u||d.u<30||_!=null&&_.upgrading?1e4:3e5)}),j0.subscribe(q=>{l(6,d=q),o1(q)});let g={};Xf.subscribe(q=>{l(8,g=q)}),Yf();let k=typeof window<"u"?w(window.location.pathname??"/"):"/";const b=(q="/")=>q==="/setup"||q==="/welcome",T=()=>{typeof window<"u"&&l(10,k=w(window.location.pathname??"/"))};return vi(()=>{T();const q=()=>T();window.addEventListener("popstate",q);const O=history.pushState,A=history.replaceState;return history.pushState=function(...P){O.apply(this,P),T()},history.replaceState=function(...P){A.apply(this,P),T()},()=>{window.removeEventListener("popstate",q),history.pushState=O,history.replaceState=A}}),bi(()=>{T()}),t.$$.update=()=>{t.$$.dirty&1024&&l(9,n=b(k))},[i,s,o,f,r,c,d,_,g,n,k]}class S_ extends At{constructor(e){super(),Et(this,e,w_,k_,Nt,{})}}new S_({target:document.getElementById("app")});
